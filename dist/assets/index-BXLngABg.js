function X1(e,t){for(var s=0;s<t.length;s++){const r=t[s];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(r,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function s(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=s(a);fetch(a.href,o)}})();function yg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var vg={exports:{}},_l={},bg={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bo=Symbol.for("react.element"),Q1=Symbol.for("react.portal"),Z1=Symbol.for("react.fragment"),J1=Symbol.for("react.strict_mode"),e2=Symbol.for("react.profiler"),t2=Symbol.for("react.provider"),s2=Symbol.for("react.context"),n2=Symbol.for("react.forward_ref"),r2=Symbol.for("react.suspense"),a2=Symbol.for("react.memo"),o2=Symbol.for("react.lazy"),Lm=Symbol.iterator;function i2(e){return e===null||typeof e!="object"?null:(e=Lm&&e[Lm]||e["@@iterator"],typeof e=="function"?e:null)}var wg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jg=Object.assign,Ng={};function Kr(e,t,s){this.props=e,this.context=t,this.refs=Ng,this.updater=s||wg}Kr.prototype.isReactComponent={};Kr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Kr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function kg(){}kg.prototype=Kr.prototype;function vf(e,t,s){this.props=e,this.context=t,this.refs=Ng,this.updater=s||wg}var bf=vf.prototype=new kg;bf.constructor=vf;jg(bf,Kr.prototype);bf.isPureReactComponent=!0;var Mm=Array.isArray,Sg=Object.prototype.hasOwnProperty,wf={current:null},Cg={key:!0,ref:!0,__self:!0,__source:!0};function Pg(e,t,s){var r,a={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)Sg.call(t,r)&&!Cg.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(l===1)a.children=s;else if(1<l){for(var d=Array(l),c=0;c<l;c++)d[c]=arguments[c+2];a.children=d}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)a[r]===void 0&&(a[r]=l[r]);return{$$typeof:bo,type:e,key:o,ref:i,props:a,_owner:wf.current}}function l2(e,t){return{$$typeof:bo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function jf(e){return typeof e=="object"&&e!==null&&e.$$typeof===bo}function c2(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var Im=/\/+/g;function Ec(e,t){return typeof e=="object"&&e!==null&&e.key!=null?c2(""+e.key):t.toString(36)}function vi(e,t,s,r,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case bo:case Q1:i=!0}}if(i)return i=e,a=a(i),e=r===""?"."+Ec(i,0):r,Mm(a)?(s="",e!=null&&(s=e.replace(Im,"$&/")+"/"),vi(a,t,s,"",function(c){return c})):a!=null&&(jf(a)&&(a=l2(a,s+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(Im,"$&/")+"/")+e)),t.push(a)),1;if(i=0,r=r===""?".":r+":",Mm(e))for(var l=0;l<e.length;l++){o=e[l];var d=r+Ec(o,l);i+=vi(o,t,s,d,a)}else if(d=i2(e),typeof d=="function")for(e=d.call(e),l=0;!(o=e.next()).done;)o=o.value,d=r+Ec(o,l++),i+=vi(o,t,s,d,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function zo(e,t,s){if(e==null)return e;var r=[],a=0;return vi(e,r,"","",function(o){return t.call(s,o,a++)}),r}function d2(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var nt={current:null},bi={transition:null},u2={ReactCurrentDispatcher:nt,ReactCurrentBatchConfig:bi,ReactCurrentOwner:wf};function Ag(){throw Error("act(...) is not supported in production builds of React.")}se.Children={map:zo,forEach:function(e,t,s){zo(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return zo(e,function(){t++}),t},toArray:function(e){return zo(e,function(t){return t})||[]},only:function(e){if(!jf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};se.Component=Kr;se.Fragment=Z1;se.Profiler=e2;se.PureComponent=vf;se.StrictMode=J1;se.Suspense=r2;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=u2;se.act=Ag;se.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=jg({},e.props),a=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=wf.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(d in t)Sg.call(t,d)&&!Cg.hasOwnProperty(d)&&(r[d]=t[d]===void 0&&l!==void 0?l[d]:t[d])}var d=arguments.length-2;if(d===1)r.children=s;else if(1<d){l=Array(d);for(var c=0;c<d;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:bo,type:e.type,key:a,ref:o,props:r,_owner:i}};se.createContext=function(e){return e={$$typeof:s2,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:t2,_context:e},e.Consumer=e};se.createElement=Pg;se.createFactory=function(e){var t=Pg.bind(null,e);return t.type=e,t};se.createRef=function(){return{current:null}};se.forwardRef=function(e){return{$$typeof:n2,render:e}};se.isValidElement=jf;se.lazy=function(e){return{$$typeof:o2,_payload:{_status:-1,_result:e},_init:d2}};se.memo=function(e,t){return{$$typeof:a2,type:e,compare:t===void 0?null:t}};se.startTransition=function(e){var t=bi.transition;bi.transition={};try{e()}finally{bi.transition=t}};se.unstable_act=Ag;se.useCallback=function(e,t){return nt.current.useCallback(e,t)};se.useContext=function(e){return nt.current.useContext(e)};se.useDebugValue=function(){};se.useDeferredValue=function(e){return nt.current.useDeferredValue(e)};se.useEffect=function(e,t){return nt.current.useEffect(e,t)};se.useId=function(){return nt.current.useId()};se.useImperativeHandle=function(e,t,s){return nt.current.useImperativeHandle(e,t,s)};se.useInsertionEffect=function(e,t){return nt.current.useInsertionEffect(e,t)};se.useLayoutEffect=function(e,t){return nt.current.useLayoutEffect(e,t)};se.useMemo=function(e,t){return nt.current.useMemo(e,t)};se.useReducer=function(e,t,s){return nt.current.useReducer(e,t,s)};se.useRef=function(e){return nt.current.useRef(e)};se.useState=function(e){return nt.current.useState(e)};se.useSyncExternalStore=function(e,t,s){return nt.current.useSyncExternalStore(e,t,s)};se.useTransition=function(){return nt.current.useTransition()};se.version="18.3.1";bg.exports=se;var y=bg.exports;const C=yg(y),Nf=X1({__proto__:null,default:C},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f2=y,p2=Symbol.for("react.element"),m2=Symbol.for("react.fragment"),h2=Object.prototype.hasOwnProperty,x2=f2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,g2={key:!0,ref:!0,__self:!0,__source:!0};function Eg(e,t,s){var r,a={},o=null,i=null;s!==void 0&&(o=""+s),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)h2.call(t,r)&&!g2.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:p2,type:e,key:o,ref:i,props:a,_owner:x2.current}}_l.Fragment=m2;_l.jsx=Eg;_l.jsxs=Eg;vg.exports=_l;var n=vg.exports,Rg={exports:{}},Nt={},Tg={exports:{}},Dg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,T){var O=R.length;R.push(T);e:for(;0<O;){var D=O-1>>>1,W=R[D];if(0<a(W,T))R[D]=T,R[O]=W,O=D;else break e}}function s(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var T=R[0],O=R.pop();if(O!==T){R[0]=O;e:for(var D=0,W=R.length,oe=W>>>1;D<oe;){var re=2*(D+1)-1,he=R[re],Ce=re+1,$e=R[Ce];if(0>a(he,O))Ce<W&&0>a($e,he)?(R[D]=$e,R[Ce]=O,D=Ce):(R[D]=he,R[re]=O,D=re);else if(Ce<W&&0>a($e,O))R[D]=$e,R[Ce]=O,D=Ce;else break e}}return T}function a(R,T){var O=R.sortIndex-T.sortIndex;return O!==0?O:R.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var d=[],c=[],u=1,f=null,m=3,g=!1,x=!1,b=!1,v=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(R){for(var T=s(c);T!==null;){if(T.callback===null)r(c);else if(T.startTime<=R)r(c),T.sortIndex=T.expirationTime,t(d,T);else break;T=s(c)}}function j(R){if(b=!1,w(R),!x)if(s(d)!==null)x=!0,U(k);else{var T=s(c);T!==null&&H(j,T.startTime-R)}}function k(R,T){x=!1,b&&(b=!1,h(S),S=-1),g=!0;var O=m;try{for(w(T),f=s(d);f!==null&&(!(f.expirationTime>T)||R&&!_());){var D=f.callback;if(typeof D=="function"){f.callback=null,m=f.priorityLevel;var W=D(f.expirationTime<=T);T=e.unstable_now(),typeof W=="function"?f.callback=W:f===s(d)&&r(d),w(T)}else r(d);f=s(d)}if(f!==null)var oe=!0;else{var re=s(c);re!==null&&H(j,re.startTime-T),oe=!1}return oe}finally{f=null,m=O,g=!1}}var E=!1,P=null,S=-1,N=5,A=-1;function _(){return!(e.unstable_now()-A<N)}function M(){if(P!==null){var R=e.unstable_now();A=R;var T=!0;try{T=P(!0,R)}finally{T?F():(E=!1,P=null)}}else E=!1}var F;if(typeof p=="function")F=function(){p(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,B=I.port2;I.port1.onmessage=M,F=function(){B.postMessage(null)}}else F=function(){v(M,0)};function U(R){P=R,E||(E=!0,F())}function H(R,T){S=v(function(){R(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){x||g||(x=!0,U(k))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return s(d)},e.unstable_next=function(R){switch(m){case 1:case 2:case 3:var T=3;break;default:T=m}var O=m;m=T;try{return R()}finally{m=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,T){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var O=m;m=R;try{return T()}finally{m=O}},e.unstable_scheduleCallback=function(R,T,O){var D=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?D+O:D):O=D,R){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=O+W,R={id:u++,callback:T,priorityLevel:R,startTime:O,expirationTime:W,sortIndex:-1},O>D?(R.sortIndex=O,t(c,R),s(d)===null&&R===s(c)&&(b?(h(S),S=-1):b=!0,H(j,O-D))):(R.sortIndex=W,t(d,R),x||g||(x=!0,U(k))),R},e.unstable_shouldYield=_,e.unstable_wrapCallback=function(R){var T=m;return function(){var O=m;m=T;try{return R.apply(this,arguments)}finally{m=O}}}})(Dg);Tg.exports=Dg;var y2=Tg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v2=y,wt=y2;function z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _g=new Set,qa={};function Kn(e,t){Tr(e,t),Tr(e+"Capture",t)}function Tr(e,t){for(qa[e]=t,e=0;e<t.length;e++)_g.add(t[e])}var vs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Od=Object.prototype.hasOwnProperty,b2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Om={},Fm={};function w2(e){return Od.call(Fm,e)?!0:Od.call(Om,e)?!1:b2.test(e)?Fm[e]=!0:(Om[e]=!0,!1)}function j2(e,t,s,r){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function N2(e,t,s,r){if(t===null||typeof t>"u"||j2(e,t,s,r))return!0;if(r)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function rt(e,t,s,r,a,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Be[e]=new rt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Be[t]=new rt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Be[e]=new rt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Be[e]=new rt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Be[e]=new rt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Be[e]=new rt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Be[e]=new rt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Be[e]=new rt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Be[e]=new rt(e,5,!1,e.toLowerCase(),null,!1,!1)});var kf=/[\-:]([a-z])/g;function Sf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(kf,Sf);Be[t]=new rt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(kf,Sf);Be[t]=new rt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(kf,Sf);Be[t]=new rt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Be[e]=new rt(e,1,!1,e.toLowerCase(),null,!1,!1)});Be.xlinkHref=new rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Be[e]=new rt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Cf(e,t,s,r){var a=Be.hasOwnProperty(t)?Be[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(N2(t,s,a,r)&&(s=null),r||a===null?w2(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):a.mustUseProperty?e[a.propertyName]=s===null?a.type===3?!1:"":s:(t=a.attributeName,r=a.attributeNamespace,s===null?e.removeAttribute(t):(a=a.type,s=a===3||a===4&&s===!0?"":""+s,r?e.setAttributeNS(r,t,s):e.setAttribute(t,s))))}var Ps=v2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bo=Symbol.for("react.element"),ar=Symbol.for("react.portal"),or=Symbol.for("react.fragment"),Pf=Symbol.for("react.strict_mode"),Fd=Symbol.for("react.profiler"),Lg=Symbol.for("react.provider"),Mg=Symbol.for("react.context"),Af=Symbol.for("react.forward_ref"),Ud=Symbol.for("react.suspense"),$d=Symbol.for("react.suspense_list"),Ef=Symbol.for("react.memo"),Is=Symbol.for("react.lazy"),Ig=Symbol.for("react.offscreen"),Um=Symbol.iterator;function la(e){return e===null||typeof e!="object"?null:(e=Um&&e[Um]||e["@@iterator"],typeof e=="function"?e:null)}var je=Object.assign,Rc;function ka(e){if(Rc===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);Rc=t&&t[1]||""}return`
`+Rc+e}var Tc=!1;function Dc(e,t){if(!e||Tc)return"";Tc=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),o=r.stack.split(`
`),i=a.length-1,l=o.length-1;1<=i&&0<=l&&a[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||a[i]!==o[l]){var d=`
`+a[i].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=i&&0<=l);break}}}finally{Tc=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?ka(e):""}function k2(e){switch(e.tag){case 5:return ka(e.type);case 16:return ka("Lazy");case 13:return ka("Suspense");case 19:return ka("SuspenseList");case 0:case 2:case 15:return e=Dc(e.type,!1),e;case 11:return e=Dc(e.type.render,!1),e;case 1:return e=Dc(e.type,!0),e;default:return""}}function Vd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case or:return"Fragment";case ar:return"Portal";case Fd:return"Profiler";case Pf:return"StrictMode";case Ud:return"Suspense";case $d:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Mg:return(e.displayName||"Context")+".Consumer";case Lg:return(e._context.displayName||"Context")+".Provider";case Af:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ef:return t=e.displayName||null,t!==null?t:Vd(e.type)||"Memo";case Is:t=e._payload,e=e._init;try{return Vd(e(t))}catch{}}return null}function S2(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vd(t);case 8:return t===Pf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function tn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Og(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function C2(e){var t=Og(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var a=s.get,o=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Wo(e){e._valueTracker||(e._valueTracker=C2(e))}function Fg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),r="";return e&&(r=Og(e)?e.checked?"true":"false":e.value),e=r,e!==s?(t.setValue(e),!0):!1}function Vi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function zd(e,t){var s=t.checked;return je({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function $m(e,t){var s=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;s=tn(t.value!=null?t.value:s),e._wrapperState={initialChecked:r,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ug(e,t){t=t.checked,t!=null&&Cf(e,"checked",t,!1)}function Bd(e,t){Ug(e,t);var s=tn(t.value),r=t.type;if(s!=null)r==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Wd(e,t.type,s):t.hasOwnProperty("defaultValue")&&Wd(e,t.type,tn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Vm(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Wd(e,t,s){(t!=="number"||Vi(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Sa=Array.isArray;function wr(e,t,s,r){if(e=e.options,t){t={};for(var a=0;a<s.length;a++)t["$"+s[a]]=!0;for(s=0;s<e.length;s++)a=t.hasOwnProperty("$"+e[s].value),e[s].selected!==a&&(e[s].selected=a),a&&r&&(e[s].defaultSelected=!0)}else{for(s=""+tn(s),t=null,a=0;a<e.length;a++){if(e[a].value===s){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function qd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(z(91));return je({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function zm(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(z(92));if(Sa(s)){if(1<s.length)throw Error(z(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:tn(s)}}function $g(e,t){var s=tn(t.value),r=tn(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),r!=null&&(e.defaultValue=""+r)}function Bm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Vg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Vg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var qo,zg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,s,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(qo=qo||document.createElement("div"),qo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=qo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ha(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var Ta={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},P2=["Webkit","ms","Moz","O"];Object.keys(Ta).forEach(function(e){P2.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ta[t]=Ta[e]})});function Bg(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||Ta.hasOwnProperty(e)&&Ta[e]?(""+t).trim():t+"px"}function Wg(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var r=s.indexOf("--")===0,a=Bg(s,t[s],r);s==="float"&&(s="cssFloat"),r?e.setProperty(s,a):e[s]=a}}var A2=je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gd(e,t){if(t){if(A2[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(z(62))}}function Kd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yd=null;function Rf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xd=null,jr=null,Nr=null;function Wm(e){if(e=No(e)){if(typeof Xd!="function")throw Error(z(280));var t=e.stateNode;t&&(t=Fl(t),Xd(e.stateNode,e.type,t))}}function qg(e){jr?Nr?Nr.push(e):Nr=[e]:jr=e}function Hg(){if(jr){var e=jr,t=Nr;if(Nr=jr=null,Wm(e),t)for(e=0;e<t.length;e++)Wm(t[e])}}function Gg(e,t){return e(t)}function Kg(){}var _c=!1;function Yg(e,t,s){if(_c)return e(t,s);_c=!0;try{return Gg(e,t,s)}finally{_c=!1,(jr!==null||Nr!==null)&&(Kg(),Hg())}}function Ga(e,t){var s=e.stateNode;if(s===null)return null;var r=Fl(s);if(r===null)return null;s=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(z(231,t,typeof s));return s}var Qd=!1;if(vs)try{var ca={};Object.defineProperty(ca,"passive",{get:function(){Qd=!0}}),window.addEventListener("test",ca,ca),window.removeEventListener("test",ca,ca)}catch{Qd=!1}function E2(e,t,s,r,a,o,i,l,d){var c=Array.prototype.slice.call(arguments,3);try{t.apply(s,c)}catch(u){this.onError(u)}}var Da=!1,zi=null,Bi=!1,Zd=null,R2={onError:function(e){Da=!0,zi=e}};function T2(e,t,s,r,a,o,i,l,d){Da=!1,zi=null,E2.apply(R2,arguments)}function D2(e,t,s,r,a,o,i,l,d){if(T2.apply(this,arguments),Da){if(Da){var c=zi;Da=!1,zi=null}else throw Error(z(198));Bi||(Bi=!0,Zd=c)}}function Yn(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function Xg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function qm(e){if(Yn(e)!==e)throw Error(z(188))}function _2(e){var t=e.alternate;if(!t){if(t=Yn(e),t===null)throw Error(z(188));return t!==e?null:e}for(var s=e,r=t;;){var a=s.return;if(a===null)break;var o=a.alternate;if(o===null){if(r=a.return,r!==null){s=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===s)return qm(a),e;if(o===r)return qm(a),t;o=o.sibling}throw Error(z(188))}if(s.return!==r.return)s=a,r=o;else{for(var i=!1,l=a.child;l;){if(l===s){i=!0,s=a,r=o;break}if(l===r){i=!0,r=a,s=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===s){i=!0,s=o,r=a;break}if(l===r){i=!0,r=o,s=a;break}l=l.sibling}if(!i)throw Error(z(189))}}if(s.alternate!==r)throw Error(z(190))}if(s.tag!==3)throw Error(z(188));return s.stateNode.current===s?e:t}function Qg(e){return e=_2(e),e!==null?Zg(e):null}function Zg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Zg(e);if(t!==null)return t;e=e.sibling}return null}var Jg=wt.unstable_scheduleCallback,Hm=wt.unstable_cancelCallback,L2=wt.unstable_shouldYield,M2=wt.unstable_requestPaint,Pe=wt.unstable_now,I2=wt.unstable_getCurrentPriorityLevel,Tf=wt.unstable_ImmediatePriority,ey=wt.unstable_UserBlockingPriority,Wi=wt.unstable_NormalPriority,O2=wt.unstable_LowPriority,ty=wt.unstable_IdlePriority,Ll=null,ts=null;function F2(e){if(ts&&typeof ts.onCommitFiberRoot=="function")try{ts.onCommitFiberRoot(Ll,e,void 0,(e.current.flags&128)===128)}catch{}}var Vt=Math.clz32?Math.clz32:V2,U2=Math.log,$2=Math.LN2;function V2(e){return e>>>=0,e===0?32:31-(U2(e)/$2|0)|0}var Ho=64,Go=4194304;function Ca(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function qi(e,t){var s=e.pendingLanes;if(s===0)return 0;var r=0,a=e.suspendedLanes,o=e.pingedLanes,i=s&268435455;if(i!==0){var l=i&~a;l!==0?r=Ca(l):(o&=i,o!==0&&(r=Ca(o)))}else i=s&~a,i!==0?r=Ca(i):o!==0&&(r=Ca(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(r&4&&(r|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)s=31-Vt(t),a=1<<s,r|=e[s],t&=~a;return r}function z2(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function B2(e,t){for(var s=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-Vt(o),l=1<<i,d=a[i];d===-1?(!(l&s)||l&r)&&(a[i]=z2(l,t)):d<=t&&(e.expiredLanes|=l),o&=~l}}function Jd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function sy(){var e=Ho;return Ho<<=1,!(Ho&4194240)&&(Ho=64),e}function Lc(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function wo(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Vt(t),e[t]=s}function W2(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<s;){var a=31-Vt(s),o=1<<a;t[a]=0,r[a]=-1,e[a]=-1,s&=~o}}function Df(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var r=31-Vt(s),a=1<<r;a&t|e[r]&t&&(e[r]|=t),s&=~a}}var le=0;function ny(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ry,_f,ay,oy,iy,eu=!1,Ko=[],qs=null,Hs=null,Gs=null,Ka=new Map,Ya=new Map,Us=[],q2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gm(e,t){switch(e){case"focusin":case"focusout":qs=null;break;case"dragenter":case"dragleave":Hs=null;break;case"mouseover":case"mouseout":Gs=null;break;case"pointerover":case"pointerout":Ka.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ya.delete(t.pointerId)}}function da(e,t,s,r,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:s,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},t!==null&&(t=No(t),t!==null&&_f(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function H2(e,t,s,r,a){switch(t){case"focusin":return qs=da(qs,e,t,s,r,a),!0;case"dragenter":return Hs=da(Hs,e,t,s,r,a),!0;case"mouseover":return Gs=da(Gs,e,t,s,r,a),!0;case"pointerover":var o=a.pointerId;return Ka.set(o,da(Ka.get(o)||null,e,t,s,r,a)),!0;case"gotpointercapture":return o=a.pointerId,Ya.set(o,da(Ya.get(o)||null,e,t,s,r,a)),!0}return!1}function ly(e){var t=kn(e.target);if(t!==null){var s=Yn(t);if(s!==null){if(t=s.tag,t===13){if(t=Xg(s),t!==null){e.blockedOn=t,iy(e.priority,function(){ay(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=tu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var r=new s.constructor(s.type,s);Yd=r,s.target.dispatchEvent(r),Yd=null}else return t=No(s),t!==null&&_f(t),e.blockedOn=s,!1;t.shift()}return!0}function Km(e,t,s){wi(e)&&s.delete(t)}function G2(){eu=!1,qs!==null&&wi(qs)&&(qs=null),Hs!==null&&wi(Hs)&&(Hs=null),Gs!==null&&wi(Gs)&&(Gs=null),Ka.forEach(Km),Ya.forEach(Km)}function ua(e,t){e.blockedOn===t&&(e.blockedOn=null,eu||(eu=!0,wt.unstable_scheduleCallback(wt.unstable_NormalPriority,G2)))}function Xa(e){function t(a){return ua(a,e)}if(0<Ko.length){ua(Ko[0],e);for(var s=1;s<Ko.length;s++){var r=Ko[s];r.blockedOn===e&&(r.blockedOn=null)}}for(qs!==null&&ua(qs,e),Hs!==null&&ua(Hs,e),Gs!==null&&ua(Gs,e),Ka.forEach(t),Ya.forEach(t),s=0;s<Us.length;s++)r=Us[s],r.blockedOn===e&&(r.blockedOn=null);for(;0<Us.length&&(s=Us[0],s.blockedOn===null);)ly(s),s.blockedOn===null&&Us.shift()}var kr=Ps.ReactCurrentBatchConfig,Hi=!0;function K2(e,t,s,r){var a=le,o=kr.transition;kr.transition=null;try{le=1,Lf(e,t,s,r)}finally{le=a,kr.transition=o}}function Y2(e,t,s,r){var a=le,o=kr.transition;kr.transition=null;try{le=4,Lf(e,t,s,r)}finally{le=a,kr.transition=o}}function Lf(e,t,s,r){if(Hi){var a=tu(e,t,s,r);if(a===null)Wc(e,t,r,Gi,s),Gm(e,r);else if(H2(a,e,t,s,r))r.stopPropagation();else if(Gm(e,r),t&4&&-1<q2.indexOf(e)){for(;a!==null;){var o=No(a);if(o!==null&&ry(o),o=tu(e,t,s,r),o===null&&Wc(e,t,r,Gi,s),o===a)break;a=o}a!==null&&r.stopPropagation()}else Wc(e,t,r,null,s)}}var Gi=null;function tu(e,t,s,r){if(Gi=null,e=Rf(r),e=kn(e),e!==null)if(t=Yn(e),t===null)e=null;else if(s=t.tag,s===13){if(e=Xg(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gi=e,null}function cy(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(I2()){case Tf:return 1;case ey:return 4;case Wi:case O2:return 16;case ty:return 536870912;default:return 16}default:return 16}}var Vs=null,Mf=null,ji=null;function dy(){if(ji)return ji;var e,t=Mf,s=t.length,r,a="value"in Vs?Vs.value:Vs.textContent,o=a.length;for(e=0;e<s&&t[e]===a[e];e++);var i=s-e;for(r=1;r<=i&&t[s-r]===a[o-r];r++);return ji=a.slice(e,1<r?1-r:void 0)}function Ni(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yo(){return!0}function Ym(){return!1}function kt(e){function t(s,r,a,o,i){this._reactName=s,this._targetInst=a,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(s=e[l],this[l]=s?s(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Yo:Ym,this.isPropagationStopped=Ym,this}return je(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Yo)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Yo)},persist:function(){},isPersistent:Yo}),t}var Yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},If=kt(Yr),jo=je({},Yr,{view:0,detail:0}),X2=kt(jo),Mc,Ic,fa,Ml=je({},jo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Of,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fa&&(fa&&e.type==="mousemove"?(Mc=e.screenX-fa.screenX,Ic=e.screenY-fa.screenY):Ic=Mc=0,fa=e),Mc)},movementY:function(e){return"movementY"in e?e.movementY:Ic}}),Xm=kt(Ml),Q2=je({},Ml,{dataTransfer:0}),Z2=kt(Q2),J2=je({},jo,{relatedTarget:0}),Oc=kt(J2),ek=je({},Yr,{animationName:0,elapsedTime:0,pseudoElement:0}),tk=kt(ek),sk=je({},Yr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),nk=kt(sk),rk=je({},Yr,{data:0}),Qm=kt(rk),ak={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ok={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ik={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lk(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ik[e])?!!t[e]:!1}function Of(){return lk}var ck=je({},jo,{key:function(e){if(e.key){var t=ak[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ni(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ok[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Of,charCode:function(e){return e.type==="keypress"?Ni(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ni(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dk=kt(ck),uk=je({},Ml,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zm=kt(uk),fk=je({},jo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Of}),pk=kt(fk),mk=je({},Yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),hk=kt(mk),xk=je({},Ml,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),gk=kt(xk),yk=[9,13,27,32],Ff=vs&&"CompositionEvent"in window,_a=null;vs&&"documentMode"in document&&(_a=document.documentMode);var vk=vs&&"TextEvent"in window&&!_a,uy=vs&&(!Ff||_a&&8<_a&&11>=_a),Jm=" ",eh=!1;function fy(e,t){switch(e){case"keyup":return yk.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function py(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ir=!1;function bk(e,t){switch(e){case"compositionend":return py(t);case"keypress":return t.which!==32?null:(eh=!0,Jm);case"textInput":return e=t.data,e===Jm&&eh?null:e;default:return null}}function wk(e,t){if(ir)return e==="compositionend"||!Ff&&fy(e,t)?(e=dy(),ji=Mf=Vs=null,ir=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return uy&&t.locale!=="ko"?null:t.data;default:return null}}var jk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function th(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!jk[e.type]:t==="textarea"}function my(e,t,s,r){qg(r),t=Ki(t,"onChange"),0<t.length&&(s=new If("onChange","change",null,s,r),e.push({event:s,listeners:t}))}var La=null,Qa=null;function Nk(e){Sy(e,0)}function Il(e){var t=dr(e);if(Fg(t))return e}function kk(e,t){if(e==="change")return t}var hy=!1;if(vs){var Fc;if(vs){var Uc="oninput"in document;if(!Uc){var sh=document.createElement("div");sh.setAttribute("oninput","return;"),Uc=typeof sh.oninput=="function"}Fc=Uc}else Fc=!1;hy=Fc&&(!document.documentMode||9<document.documentMode)}function nh(){La&&(La.detachEvent("onpropertychange",xy),Qa=La=null)}function xy(e){if(e.propertyName==="value"&&Il(Qa)){var t=[];my(t,Qa,e,Rf(e)),Yg(Nk,t)}}function Sk(e,t,s){e==="focusin"?(nh(),La=t,Qa=s,La.attachEvent("onpropertychange",xy)):e==="focusout"&&nh()}function Ck(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Il(Qa)}function Pk(e,t){if(e==="click")return Il(t)}function Ak(e,t){if(e==="input"||e==="change")return Il(t)}function Ek(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bt=typeof Object.is=="function"?Object.is:Ek;function Za(e,t){if(Bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),r=Object.keys(t);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var a=s[r];if(!Od.call(t,a)||!Bt(e[a],t[a]))return!1}return!0}function rh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ah(e,t){var s=rh(e);e=0;for(var r;s;){if(s.nodeType===3){if(r=e+s.textContent.length,e<=t&&r>=t)return{node:s,offset:t-e};e=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=rh(s)}}function gy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function yy(){for(var e=window,t=Vi();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Vi(e.document)}return t}function Uf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Rk(e){var t=yy(),s=e.focusedElem,r=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&gy(s.ownerDocument.documentElement,s)){if(r!==null&&Uf(s)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=s.textContent.length,o=Math.min(r.start,a);r=r.end===void 0?o:Math.min(r.end,a),!e.extend&&o>r&&(a=r,r=o,o=a),a=ah(s,o);var i=ah(s,r);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Tk=vs&&"documentMode"in document&&11>=document.documentMode,lr=null,su=null,Ma=null,nu=!1;function oh(e,t,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;nu||lr==null||lr!==Vi(r)||(r=lr,"selectionStart"in r&&Uf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ma&&Za(Ma,r)||(Ma=r,r=Ki(su,"onSelect"),0<r.length&&(t=new If("onSelect","select",null,t,s),e.push({event:t,listeners:r}),t.target=lr)))}function Xo(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var cr={animationend:Xo("Animation","AnimationEnd"),animationiteration:Xo("Animation","AnimationIteration"),animationstart:Xo("Animation","AnimationStart"),transitionend:Xo("Transition","TransitionEnd")},$c={},vy={};vs&&(vy=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);function Ol(e){if($c[e])return $c[e];if(!cr[e])return e;var t=cr[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in vy)return $c[e]=t[s];return e}var by=Ol("animationend"),wy=Ol("animationiteration"),jy=Ol("animationstart"),Ny=Ol("transitionend"),ky=new Map,ih="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function dn(e,t){ky.set(e,t),Kn(t,[e])}for(var Vc=0;Vc<ih.length;Vc++){var zc=ih[Vc],Dk=zc.toLowerCase(),_k=zc[0].toUpperCase()+zc.slice(1);dn(Dk,"on"+_k)}dn(by,"onAnimationEnd");dn(wy,"onAnimationIteration");dn(jy,"onAnimationStart");dn("dblclick","onDoubleClick");dn("focusin","onFocus");dn("focusout","onBlur");dn(Ny,"onTransitionEnd");Tr("onMouseEnter",["mouseout","mouseover"]);Tr("onMouseLeave",["mouseout","mouseover"]);Tr("onPointerEnter",["pointerout","pointerover"]);Tr("onPointerLeave",["pointerout","pointerover"]);Kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Kn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pa));function lh(e,t,s){var r=e.type||"unknown-event";e.currentTarget=s,D2(r,t,void 0,e),e.currentTarget=null}function Sy(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var r=e[s],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],d=l.instance,c=l.currentTarget;if(l=l.listener,d!==o&&a.isPropagationStopped())break e;lh(a,l,c),o=d}else for(i=0;i<r.length;i++){if(l=r[i],d=l.instance,c=l.currentTarget,l=l.listener,d!==o&&a.isPropagationStopped())break e;lh(a,l,c),o=d}}}if(Bi)throw e=Zd,Bi=!1,Zd=null,e}function fe(e,t){var s=t[lu];s===void 0&&(s=t[lu]=new Set);var r=e+"__bubble";s.has(r)||(Cy(t,e,2,!1),s.add(r))}function Bc(e,t,s){var r=0;t&&(r|=4),Cy(s,e,r,t)}var Qo="_reactListening"+Math.random().toString(36).slice(2);function Ja(e){if(!e[Qo]){e[Qo]=!0,_g.forEach(function(s){s!=="selectionchange"&&(Lk.has(s)||Bc(s,!1,e),Bc(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Qo]||(t[Qo]=!0,Bc("selectionchange",!1,t))}}function Cy(e,t,s,r){switch(cy(t)){case 1:var a=K2;break;case 4:a=Y2;break;default:a=Lf}s=a.bind(null,t,s,e),a=void 0,!Qd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,s,{capture:!0,passive:a}):e.addEventListener(t,s,!0):a!==void 0?e.addEventListener(t,s,{passive:a}):e.addEventListener(t,s,!1)}function Wc(e,t,s,r,a){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(i===4)for(i=r.return;i!==null;){var d=i.tag;if((d===3||d===4)&&(d=i.stateNode.containerInfo,d===a||d.nodeType===8&&d.parentNode===a))return;i=i.return}for(;l!==null;){if(i=kn(l),i===null)return;if(d=i.tag,d===5||d===6){r=o=i;continue e}l=l.parentNode}}r=r.return}Yg(function(){var c=o,u=Rf(s),f=[];e:{var m=ky.get(e);if(m!==void 0){var g=If,x=e;switch(e){case"keypress":if(Ni(s)===0)break e;case"keydown":case"keyup":g=dk;break;case"focusin":x="focus",g=Oc;break;case"focusout":x="blur",g=Oc;break;case"beforeblur":case"afterblur":g=Oc;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Xm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Z2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=pk;break;case by:case wy:case jy:g=tk;break;case Ny:g=hk;break;case"scroll":g=X2;break;case"wheel":g=gk;break;case"copy":case"cut":case"paste":g=nk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Zm}var b=(t&4)!==0,v=!b&&e==="scroll",h=b?m!==null?m+"Capture":null:m;b=[];for(var p=c,w;p!==null;){w=p;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,h!==null&&(j=Ga(p,h),j!=null&&b.push(eo(p,j,w)))),v)break;p=p.return}0<b.length&&(m=new g(m,x,null,s,u),f.push({event:m,listeners:b}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",m&&s!==Yd&&(x=s.relatedTarget||s.fromElement)&&(kn(x)||x[bs]))break e;if((g||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,g?(x=s.relatedTarget||s.toElement,g=c,x=x?kn(x):null,x!==null&&(v=Yn(x),x!==v||x.tag!==5&&x.tag!==6)&&(x=null)):(g=null,x=c),g!==x)){if(b=Xm,j="onMouseLeave",h="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(b=Zm,j="onPointerLeave",h="onPointerEnter",p="pointer"),v=g==null?m:dr(g),w=x==null?m:dr(x),m=new b(j,p+"leave",g,s,u),m.target=v,m.relatedTarget=w,j=null,kn(u)===c&&(b=new b(h,p+"enter",x,s,u),b.target=w,b.relatedTarget=v,j=b),v=j,g&&x)t:{for(b=g,h=x,p=0,w=b;w;w=er(w))p++;for(w=0,j=h;j;j=er(j))w++;for(;0<p-w;)b=er(b),p--;for(;0<w-p;)h=er(h),w--;for(;p--;){if(b===h||h!==null&&b===h.alternate)break t;b=er(b),h=er(h)}b=null}else b=null;g!==null&&ch(f,m,g,b,!1),x!==null&&v!==null&&ch(f,v,x,b,!0)}}e:{if(m=c?dr(c):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var k=kk;else if(th(m))if(hy)k=Ak;else{k=Ck;var E=Sk}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(k=Pk);if(k&&(k=k(e,c))){my(f,k,s,u);break e}E&&E(e,m,c),e==="focusout"&&(E=m._wrapperState)&&E.controlled&&m.type==="number"&&Wd(m,"number",m.value)}switch(E=c?dr(c):window,e){case"focusin":(th(E)||E.contentEditable==="true")&&(lr=E,su=c,Ma=null);break;case"focusout":Ma=su=lr=null;break;case"mousedown":nu=!0;break;case"contextmenu":case"mouseup":case"dragend":nu=!1,oh(f,s,u);break;case"selectionchange":if(Tk)break;case"keydown":case"keyup":oh(f,s,u)}var P;if(Ff)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else ir?fy(e,s)&&(S="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(S="onCompositionStart");S&&(uy&&s.locale!=="ko"&&(ir||S!=="onCompositionStart"?S==="onCompositionEnd"&&ir&&(P=dy()):(Vs=u,Mf="value"in Vs?Vs.value:Vs.textContent,ir=!0)),E=Ki(c,S),0<E.length&&(S=new Qm(S,e,null,s,u),f.push({event:S,listeners:E}),P?S.data=P:(P=py(s),P!==null&&(S.data=P)))),(P=vk?bk(e,s):wk(e,s))&&(c=Ki(c,"onBeforeInput"),0<c.length&&(u=new Qm("onBeforeInput","beforeinput",null,s,u),f.push({event:u,listeners:c}),u.data=P))}Sy(f,t)})}function eo(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Ki(e,t){for(var s=t+"Capture",r=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=Ga(e,s),o!=null&&r.unshift(eo(e,o,a)),o=Ga(e,t),o!=null&&r.push(eo(e,o,a))),e=e.return}return r}function er(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ch(e,t,s,r,a){for(var o=t._reactName,i=[];s!==null&&s!==r;){var l=s,d=l.alternate,c=l.stateNode;if(d!==null&&d===r)break;l.tag===5&&c!==null&&(l=c,a?(d=Ga(s,o),d!=null&&i.unshift(eo(s,d,l))):a||(d=Ga(s,o),d!=null&&i.push(eo(s,d,l)))),s=s.return}i.length!==0&&e.push({event:t,listeners:i})}var Mk=/\r\n?/g,Ik=/\u0000|\uFFFD/g;function dh(e){return(typeof e=="string"?e:""+e).replace(Mk,`
`).replace(Ik,"")}function Zo(e,t,s){if(t=dh(t),dh(e)!==t&&s)throw Error(z(425))}function Yi(){}var ru=null,au=null;function ou(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var iu=typeof setTimeout=="function"?setTimeout:void 0,Ok=typeof clearTimeout=="function"?clearTimeout:void 0,uh=typeof Promise=="function"?Promise:void 0,Fk=typeof queueMicrotask=="function"?queueMicrotask:typeof uh<"u"?function(e){return uh.resolve(null).then(e).catch(Uk)}:iu;function Uk(e){setTimeout(function(){throw e})}function qc(e,t){var s=t,r=0;do{var a=s.nextSibling;if(e.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(r===0){e.removeChild(a),Xa(t);return}r--}else s!=="$"&&s!=="$?"&&s!=="$!"||r++;s=a}while(s);Xa(t)}function Ks(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function fh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var Xr=Math.random().toString(36).slice(2),Jt="__reactFiber$"+Xr,to="__reactProps$"+Xr,bs="__reactContainer$"+Xr,lu="__reactEvents$"+Xr,$k="__reactListeners$"+Xr,Vk="__reactHandles$"+Xr;function kn(e){var t=e[Jt];if(t)return t;for(var s=e.parentNode;s;){if(t=s[bs]||s[Jt]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=fh(e);e!==null;){if(s=e[Jt])return s;e=fh(e)}return t}e=s,s=e.parentNode}return null}function No(e){return e=e[Jt]||e[bs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function dr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(z(33))}function Fl(e){return e[to]||null}var cu=[],ur=-1;function un(e){return{current:e}}function pe(e){0>ur||(e.current=cu[ur],cu[ur]=null,ur--)}function ce(e,t){ur++,cu[ur]=e.current,e.current=t}var sn={},Xe=un(sn),lt=un(!1),Vn=sn;function Dr(e,t){var s=e.type.contextTypes;if(!s)return sn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in s)a[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ct(e){return e=e.childContextTypes,e!=null}function Xi(){pe(lt),pe(Xe)}function ph(e,t,s){if(Xe.current!==sn)throw Error(z(168));ce(Xe,t),ce(lt,s)}function Py(e,t,s){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return s;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(z(108,S2(e)||"Unknown",a));return je({},s,r)}function Qi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||sn,Vn=Xe.current,ce(Xe,e),ce(lt,lt.current),!0}function mh(e,t,s){var r=e.stateNode;if(!r)throw Error(z(169));s?(e=Py(e,t,Vn),r.__reactInternalMemoizedMergedChildContext=e,pe(lt),pe(Xe),ce(Xe,e)):pe(lt),ce(lt,s)}var us=null,Ul=!1,Hc=!1;function Ay(e){us===null?us=[e]:us.push(e)}function zk(e){Ul=!0,Ay(e)}function fn(){if(!Hc&&us!==null){Hc=!0;var e=0,t=le;try{var s=us;for(le=1;e<s.length;e++){var r=s[e];do r=r(!0);while(r!==null)}us=null,Ul=!1}catch(a){throw us!==null&&(us=us.slice(e+1)),Jg(Tf,fn),a}finally{le=t,Hc=!1}}return null}var fr=[],pr=0,Zi=null,Ji=0,Et=[],Rt=0,zn=null,fs=1,ps="";function vn(e,t){fr[pr++]=Ji,fr[pr++]=Zi,Zi=e,Ji=t}function Ey(e,t,s){Et[Rt++]=fs,Et[Rt++]=ps,Et[Rt++]=zn,zn=e;var r=fs;e=ps;var a=32-Vt(r)-1;r&=~(1<<a),s+=1;var o=32-Vt(t)+a;if(30<o){var i=a-a%5;o=(r&(1<<i)-1).toString(32),r>>=i,a-=i,fs=1<<32-Vt(t)+a|s<<a|r,ps=o+e}else fs=1<<o|s<<a|r,ps=e}function $f(e){e.return!==null&&(vn(e,1),Ey(e,1,0))}function Vf(e){for(;e===Zi;)Zi=fr[--pr],fr[pr]=null,Ji=fr[--pr],fr[pr]=null;for(;e===zn;)zn=Et[--Rt],Et[Rt]=null,ps=Et[--Rt],Et[Rt]=null,fs=Et[--Rt],Et[Rt]=null}var vt=null,yt=null,xe=!1,$t=null;function Ry(e,t){var s=Tt(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function hh(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,vt=e,yt=Ks(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,vt=e,yt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=zn!==null?{id:fs,overflow:ps}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=Tt(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,vt=e,yt=null,!0):!1;default:return!1}}function du(e){return(e.mode&1)!==0&&(e.flags&128)===0}function uu(e){if(xe){var t=yt;if(t){var s=t;if(!hh(e,t)){if(du(e))throw Error(z(418));t=Ks(s.nextSibling);var r=vt;t&&hh(e,t)?Ry(r,s):(e.flags=e.flags&-4097|2,xe=!1,vt=e)}}else{if(du(e))throw Error(z(418));e.flags=e.flags&-4097|2,xe=!1,vt=e}}}function xh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vt=e}function Jo(e){if(e!==vt)return!1;if(!xe)return xh(e),xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ou(e.type,e.memoizedProps)),t&&(t=yt)){if(du(e))throw Ty(),Error(z(418));for(;t;)Ry(e,t),t=Ks(t.nextSibling)}if(xh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){yt=Ks(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}yt=null}}else yt=vt?Ks(e.stateNode.nextSibling):null;return!0}function Ty(){for(var e=yt;e;)e=Ks(e.nextSibling)}function _r(){yt=vt=null,xe=!1}function zf(e){$t===null?$t=[e]:$t.push(e)}var Bk=Ps.ReactCurrentBatchConfig;function pa(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(z(309));var r=s.stateNode}if(!r)throw Error(z(147,e));var a=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=a.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(z(284));if(!s._owner)throw Error(z(290,e))}return e}function ei(e,t){throw e=Object.prototype.toString.call(t),Error(z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function gh(e){var t=e._init;return t(e._payload)}function Dy(e){function t(h,p){if(e){var w=h.deletions;w===null?(h.deletions=[p],h.flags|=16):w.push(p)}}function s(h,p){if(!e)return null;for(;p!==null;)t(h,p),p=p.sibling;return null}function r(h,p){for(h=new Map;p!==null;)p.key!==null?h.set(p.key,p):h.set(p.index,p),p=p.sibling;return h}function a(h,p){return h=Zs(h,p),h.index=0,h.sibling=null,h}function o(h,p,w){return h.index=w,e?(w=h.alternate,w!==null?(w=w.index,w<p?(h.flags|=2,p):w):(h.flags|=2,p)):(h.flags|=1048576,p)}function i(h){return e&&h.alternate===null&&(h.flags|=2),h}function l(h,p,w,j){return p===null||p.tag!==6?(p=Jc(w,h.mode,j),p.return=h,p):(p=a(p,w),p.return=h,p)}function d(h,p,w,j){var k=w.type;return k===or?u(h,p,w.props.children,j,w.key):p!==null&&(p.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Is&&gh(k)===p.type)?(j=a(p,w.props),j.ref=pa(h,p,w),j.return=h,j):(j=Ri(w.type,w.key,w.props,null,h.mode,j),j.ref=pa(h,p,w),j.return=h,j)}function c(h,p,w,j){return p===null||p.tag!==4||p.stateNode.containerInfo!==w.containerInfo||p.stateNode.implementation!==w.implementation?(p=ed(w,h.mode,j),p.return=h,p):(p=a(p,w.children||[]),p.return=h,p)}function u(h,p,w,j,k){return p===null||p.tag!==7?(p=Rn(w,h.mode,j,k),p.return=h,p):(p=a(p,w),p.return=h,p)}function f(h,p,w){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Jc(""+p,h.mode,w),p.return=h,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Bo:return w=Ri(p.type,p.key,p.props,null,h.mode,w),w.ref=pa(h,null,p),w.return=h,w;case ar:return p=ed(p,h.mode,w),p.return=h,p;case Is:var j=p._init;return f(h,j(p._payload),w)}if(Sa(p)||la(p))return p=Rn(p,h.mode,w,null),p.return=h,p;ei(h,p)}return null}function m(h,p,w,j){var k=p!==null?p.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return k!==null?null:l(h,p,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Bo:return w.key===k?d(h,p,w,j):null;case ar:return w.key===k?c(h,p,w,j):null;case Is:return k=w._init,m(h,p,k(w._payload),j)}if(Sa(w)||la(w))return k!==null?null:u(h,p,w,j,null);ei(h,w)}return null}function g(h,p,w,j,k){if(typeof j=="string"&&j!==""||typeof j=="number")return h=h.get(w)||null,l(p,h,""+j,k);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Bo:return h=h.get(j.key===null?w:j.key)||null,d(p,h,j,k);case ar:return h=h.get(j.key===null?w:j.key)||null,c(p,h,j,k);case Is:var E=j._init;return g(h,p,w,E(j._payload),k)}if(Sa(j)||la(j))return h=h.get(w)||null,u(p,h,j,k,null);ei(p,j)}return null}function x(h,p,w,j){for(var k=null,E=null,P=p,S=p=0,N=null;P!==null&&S<w.length;S++){P.index>S?(N=P,P=null):N=P.sibling;var A=m(h,P,w[S],j);if(A===null){P===null&&(P=N);break}e&&P&&A.alternate===null&&t(h,P),p=o(A,p,S),E===null?k=A:E.sibling=A,E=A,P=N}if(S===w.length)return s(h,P),xe&&vn(h,S),k;if(P===null){for(;S<w.length;S++)P=f(h,w[S],j),P!==null&&(p=o(P,p,S),E===null?k=P:E.sibling=P,E=P);return xe&&vn(h,S),k}for(P=r(h,P);S<w.length;S++)N=g(P,h,S,w[S],j),N!==null&&(e&&N.alternate!==null&&P.delete(N.key===null?S:N.key),p=o(N,p,S),E===null?k=N:E.sibling=N,E=N);return e&&P.forEach(function(_){return t(h,_)}),xe&&vn(h,S),k}function b(h,p,w,j){var k=la(w);if(typeof k!="function")throw Error(z(150));if(w=k.call(w),w==null)throw Error(z(151));for(var E=k=null,P=p,S=p=0,N=null,A=w.next();P!==null&&!A.done;S++,A=w.next()){P.index>S?(N=P,P=null):N=P.sibling;var _=m(h,P,A.value,j);if(_===null){P===null&&(P=N);break}e&&P&&_.alternate===null&&t(h,P),p=o(_,p,S),E===null?k=_:E.sibling=_,E=_,P=N}if(A.done)return s(h,P),xe&&vn(h,S),k;if(P===null){for(;!A.done;S++,A=w.next())A=f(h,A.value,j),A!==null&&(p=o(A,p,S),E===null?k=A:E.sibling=A,E=A);return xe&&vn(h,S),k}for(P=r(h,P);!A.done;S++,A=w.next())A=g(P,h,S,A.value,j),A!==null&&(e&&A.alternate!==null&&P.delete(A.key===null?S:A.key),p=o(A,p,S),E===null?k=A:E.sibling=A,E=A);return e&&P.forEach(function(M){return t(h,M)}),xe&&vn(h,S),k}function v(h,p,w,j){if(typeof w=="object"&&w!==null&&w.type===or&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Bo:e:{for(var k=w.key,E=p;E!==null;){if(E.key===k){if(k=w.type,k===or){if(E.tag===7){s(h,E.sibling),p=a(E,w.props.children),p.return=h,h=p;break e}}else if(E.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Is&&gh(k)===E.type){s(h,E.sibling),p=a(E,w.props),p.ref=pa(h,E,w),p.return=h,h=p;break e}s(h,E);break}else t(h,E);E=E.sibling}w.type===or?(p=Rn(w.props.children,h.mode,j,w.key),p.return=h,h=p):(j=Ri(w.type,w.key,w.props,null,h.mode,j),j.ref=pa(h,p,w),j.return=h,h=j)}return i(h);case ar:e:{for(E=w.key;p!==null;){if(p.key===E)if(p.tag===4&&p.stateNode.containerInfo===w.containerInfo&&p.stateNode.implementation===w.implementation){s(h,p.sibling),p=a(p,w.children||[]),p.return=h,h=p;break e}else{s(h,p);break}else t(h,p);p=p.sibling}p=ed(w,h.mode,j),p.return=h,h=p}return i(h);case Is:return E=w._init,v(h,p,E(w._payload),j)}if(Sa(w))return x(h,p,w,j);if(la(w))return b(h,p,w,j);ei(h,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,p!==null&&p.tag===6?(s(h,p.sibling),p=a(p,w),p.return=h,h=p):(s(h,p),p=Jc(w,h.mode,j),p.return=h,h=p),i(h)):s(h,p)}return v}var Lr=Dy(!0),_y=Dy(!1),el=un(null),tl=null,mr=null,Bf=null;function Wf(){Bf=mr=tl=null}function qf(e){var t=el.current;pe(el),e._currentValue=t}function fu(e,t,s){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===s)break;e=e.return}}function Sr(e,t){tl=e,Bf=mr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(it=!0),e.firstContext=null)}function Lt(e){var t=e._currentValue;if(Bf!==e)if(e={context:e,memoizedValue:t,next:null},mr===null){if(tl===null)throw Error(z(308));mr=e,tl.dependencies={lanes:0,firstContext:e}}else mr=mr.next=e;return t}var Sn=null;function Hf(e){Sn===null?Sn=[e]:Sn.push(e)}function Ly(e,t,s,r){var a=t.interleaved;return a===null?(s.next=s,Hf(t)):(s.next=a.next,a.next=s),t.interleaved=s,ws(e,r)}function ws(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Os=!1;function Gf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function My(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function hs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ys(e,t,s){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ne&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,ws(e,s)}return a=r.interleaved,a===null?(t.next=t,Hf(r)):(t.next=a.next,a.next=t),r.interleaved=t,ws(e,s)}function ki(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,Df(e,s)}}function yh(e,t){var s=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var a=null,o=null;if(s=s.firstBaseUpdate,s!==null){do{var i={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};o===null?a=o=i:o=o.next=i,s=s.next}while(s!==null);o===null?a=o=t:o=o.next=t}else a=o=t;s={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function sl(e,t,s,r){var a=e.updateQueue;Os=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var d=l,c=d.next;d.next=null,i===null?o=c:i.next=c,i=d;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==i&&(l===null?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=d))}if(o!==null){var f=a.baseState;i=0,u=c=d=null,l=o;do{var m=l.lane,g=l.eventTime;if((r&m)===m){u!==null&&(u=u.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,b=l;switch(m=t,g=s,b.tag){case 1:if(x=b.payload,typeof x=="function"){f=x.call(g,f,m);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=b.payload,m=typeof x=="function"?x.call(g,f,m):x,m==null)break e;f=je({},f,m);break e;case 2:Os=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=a.effects,m===null?a.effects=[l]:m.push(l))}else g={eventTime:g,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(c=u=g,d=f):u=u.next=g,i|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(u===null&&(d=f),a.baseState=d,a.firstBaseUpdate=c,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);Wn|=i,e.lanes=i,e.memoizedState=f}}function vh(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=s,typeof a!="function")throw Error(z(191,a));a.call(r)}}}var ko={},ss=un(ko),so=un(ko),no=un(ko);function Cn(e){if(e===ko)throw Error(z(174));return e}function Kf(e,t){switch(ce(no,t),ce(so,e),ce(ss,ko),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Hd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Hd(t,e)}pe(ss),ce(ss,t)}function Mr(){pe(ss),pe(so),pe(no)}function Iy(e){Cn(no.current);var t=Cn(ss.current),s=Hd(t,e.type);t!==s&&(ce(so,e),ce(ss,s))}function Yf(e){so.current===e&&(pe(ss),pe(so))}var ge=un(0);function nl(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Gc=[];function Xf(){for(var e=0;e<Gc.length;e++)Gc[e]._workInProgressVersionPrimary=null;Gc.length=0}var Si=Ps.ReactCurrentDispatcher,Kc=Ps.ReactCurrentBatchConfig,Bn=0,be=null,Le=null,Oe=null,rl=!1,Ia=!1,ro=0,Wk=0;function qe(){throw Error(z(321))}function Qf(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Bt(e[s],t[s]))return!1;return!0}function Zf(e,t,s,r,a,o){if(Bn=o,be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Si.current=e===null||e.memoizedState===null?Kk:Yk,e=s(r,a),Ia){o=0;do{if(Ia=!1,ro=0,25<=o)throw Error(z(301));o+=1,Oe=Le=null,t.updateQueue=null,Si.current=Xk,e=s(r,a)}while(Ia)}if(Si.current=al,t=Le!==null&&Le.next!==null,Bn=0,Oe=Le=be=null,rl=!1,t)throw Error(z(300));return e}function Jf(){var e=ro!==0;return ro=0,e}function Zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?be.memoizedState=Oe=e:Oe=Oe.next=e,Oe}function Mt(){if(Le===null){var e=be.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var t=Oe===null?be.memoizedState:Oe.next;if(t!==null)Oe=t,Le=e;else{if(e===null)throw Error(z(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},Oe===null?be.memoizedState=Oe=e:Oe=Oe.next=e}return Oe}function ao(e,t){return typeof t=="function"?t(e):t}function Yc(e){var t=Mt(),s=t.queue;if(s===null)throw Error(z(311));s.lastRenderedReducer=e;var r=Le,a=r.baseQueue,o=s.pending;if(o!==null){if(a!==null){var i=a.next;a.next=o.next,o.next=i}r.baseQueue=a=o,s.pending=null}if(a!==null){o=a.next,r=r.baseState;var l=i=null,d=null,c=o;do{var u=c.lane;if((Bn&u)===u)d!==null&&(d=d.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};d===null?(l=d=f,i=r):d=d.next=f,be.lanes|=u,Wn|=u}c=c.next}while(c!==null&&c!==o);d===null?i=r:d.next=l,Bt(r,t.memoizedState)||(it=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=d,s.lastRenderedState=r}if(e=s.interleaved,e!==null){a=e;do o=a.lane,be.lanes|=o,Wn|=o,a=a.next;while(a!==e)}else a===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function Xc(e){var t=Mt(),s=t.queue;if(s===null)throw Error(z(311));s.lastRenderedReducer=e;var r=s.dispatch,a=s.pending,o=t.memoizedState;if(a!==null){s.pending=null;var i=a=a.next;do o=e(o,i.action),i=i.next;while(i!==a);Bt(o,t.memoizedState)||(it=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),s.lastRenderedState=o}return[o,r]}function Oy(){}function Fy(e,t){var s=be,r=Mt(),a=t(),o=!Bt(r.memoizedState,a);if(o&&(r.memoizedState=a,it=!0),r=r.queue,ep(Vy.bind(null,s,r,e),[e]),r.getSnapshot!==t||o||Oe!==null&&Oe.memoizedState.tag&1){if(s.flags|=2048,oo(9,$y.bind(null,s,r,a,t),void 0,null),Ue===null)throw Error(z(349));Bn&30||Uy(s,t,a)}return a}function Uy(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=be.updateQueue,t===null?(t={lastEffect:null,stores:null},be.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function $y(e,t,s,r){t.value=s,t.getSnapshot=r,zy(t)&&By(e)}function Vy(e,t,s){return s(function(){zy(t)&&By(e)})}function zy(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Bt(e,s)}catch{return!0}}function By(e){var t=ws(e,1);t!==null&&zt(t,e,1,-1)}function bh(e){var t=Zt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ao,lastRenderedState:e},t.queue=e,e=e.dispatch=Gk.bind(null,be,e),[t.memoizedState,e]}function oo(e,t,s,r){return e={tag:e,create:t,destroy:s,deps:r,next:null},t=be.updateQueue,t===null?(t={lastEffect:null,stores:null},be.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(r=s.next,s.next=e,e.next=r,t.lastEffect=e)),e}function Wy(){return Mt().memoizedState}function Ci(e,t,s,r){var a=Zt();be.flags|=e,a.memoizedState=oo(1|t,s,void 0,r===void 0?null:r)}function $l(e,t,s,r){var a=Mt();r=r===void 0?null:r;var o=void 0;if(Le!==null){var i=Le.memoizedState;if(o=i.destroy,r!==null&&Qf(r,i.deps)){a.memoizedState=oo(t,s,o,r);return}}be.flags|=e,a.memoizedState=oo(1|t,s,o,r)}function wh(e,t){return Ci(8390656,8,e,t)}function ep(e,t){return $l(2048,8,e,t)}function qy(e,t){return $l(4,2,e,t)}function Hy(e,t){return $l(4,4,e,t)}function Gy(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ky(e,t,s){return s=s!=null?s.concat([e]):null,$l(4,4,Gy.bind(null,t,e),s)}function tp(){}function Yy(e,t){var s=Mt();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&Qf(t,r[1])?r[0]:(s.memoizedState=[e,t],e)}function Xy(e,t){var s=Mt();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&Qf(t,r[1])?r[0]:(e=e(),s.memoizedState=[e,t],e)}function Qy(e,t,s){return Bn&21?(Bt(s,t)||(s=sy(),be.lanes|=s,Wn|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,it=!0),e.memoizedState=s)}function qk(e,t){var s=le;le=s!==0&&4>s?s:4,e(!0);var r=Kc.transition;Kc.transition={};try{e(!1),t()}finally{le=s,Kc.transition=r}}function Zy(){return Mt().memoizedState}function Hk(e,t,s){var r=Qs(e);if(s={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null},Jy(e))ev(t,s);else if(s=Ly(e,t,s,r),s!==null){var a=tt();zt(s,e,r,a),tv(s,t,r)}}function Gk(e,t,s){var r=Qs(e),a={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null};if(Jy(e))ev(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,s);if(a.hasEagerState=!0,a.eagerState=l,Bt(l,i)){var d=t.interleaved;d===null?(a.next=a,Hf(t)):(a.next=d.next,d.next=a),t.interleaved=a;return}}catch{}finally{}s=Ly(e,t,a,r),s!==null&&(a=tt(),zt(s,e,r,a),tv(s,t,r))}}function Jy(e){var t=e.alternate;return e===be||t!==null&&t===be}function ev(e,t){Ia=rl=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function tv(e,t,s){if(s&4194240){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,Df(e,s)}}var al={readContext:Lt,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useInsertionEffect:qe,useLayoutEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useMutableSource:qe,useSyncExternalStore:qe,useId:qe,unstable_isNewReconciler:!1},Kk={readContext:Lt,useCallback:function(e,t){return Zt().memoizedState=[e,t===void 0?null:t],e},useContext:Lt,useEffect:wh,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,Ci(4194308,4,Gy.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Ci(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ci(4,2,e,t)},useMemo:function(e,t){var s=Zt();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var r=Zt();return t=s!==void 0?s(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Hk.bind(null,be,e),[r.memoizedState,e]},useRef:function(e){var t=Zt();return e={current:e},t.memoizedState=e},useState:bh,useDebugValue:tp,useDeferredValue:function(e){return Zt().memoizedState=e},useTransition:function(){var e=bh(!1),t=e[0];return e=qk.bind(null,e[1]),Zt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var r=be,a=Zt();if(xe){if(s===void 0)throw Error(z(407));s=s()}else{if(s=t(),Ue===null)throw Error(z(349));Bn&30||Uy(r,t,s)}a.memoizedState=s;var o={value:s,getSnapshot:t};return a.queue=o,wh(Vy.bind(null,r,o,e),[e]),r.flags|=2048,oo(9,$y.bind(null,r,o,s,t),void 0,null),s},useId:function(){var e=Zt(),t=Ue.identifierPrefix;if(xe){var s=ps,r=fs;s=(r&~(1<<32-Vt(r)-1)).toString(32)+s,t=":"+t+"R"+s,s=ro++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=Wk++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Yk={readContext:Lt,useCallback:Yy,useContext:Lt,useEffect:ep,useImperativeHandle:Ky,useInsertionEffect:qy,useLayoutEffect:Hy,useMemo:Xy,useReducer:Yc,useRef:Wy,useState:function(){return Yc(ao)},useDebugValue:tp,useDeferredValue:function(e){var t=Mt();return Qy(t,Le.memoizedState,e)},useTransition:function(){var e=Yc(ao)[0],t=Mt().memoizedState;return[e,t]},useMutableSource:Oy,useSyncExternalStore:Fy,useId:Zy,unstable_isNewReconciler:!1},Xk={readContext:Lt,useCallback:Yy,useContext:Lt,useEffect:ep,useImperativeHandle:Ky,useInsertionEffect:qy,useLayoutEffect:Hy,useMemo:Xy,useReducer:Xc,useRef:Wy,useState:function(){return Xc(ao)},useDebugValue:tp,useDeferredValue:function(e){var t=Mt();return Le===null?t.memoizedState=e:Qy(t,Le.memoizedState,e)},useTransition:function(){var e=Xc(ao)[0],t=Mt().memoizedState;return[e,t]},useMutableSource:Oy,useSyncExternalStore:Fy,useId:Zy,unstable_isNewReconciler:!1};function Ft(e,t){if(e&&e.defaultProps){t=je({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function pu(e,t,s,r){t=e.memoizedState,s=s(r,t),s=s==null?t:je({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Vl={isMounted:function(e){return(e=e._reactInternals)?Yn(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var r=tt(),a=Qs(e),o=hs(r,a);o.payload=t,s!=null&&(o.callback=s),t=Ys(e,o,a),t!==null&&(zt(t,e,a,r),ki(t,e,a))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var r=tt(),a=Qs(e),o=hs(r,a);o.tag=1,o.payload=t,s!=null&&(o.callback=s),t=Ys(e,o,a),t!==null&&(zt(t,e,a,r),ki(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=tt(),r=Qs(e),a=hs(s,r);a.tag=2,t!=null&&(a.callback=t),t=Ys(e,a,r),t!==null&&(zt(t,e,r,s),ki(t,e,r))}};function jh(e,t,s,r,a,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!Za(s,r)||!Za(a,o):!0}function sv(e,t,s){var r=!1,a=sn,o=t.contextType;return typeof o=="object"&&o!==null?o=Lt(o):(a=ct(t)?Vn:Xe.current,r=t.contextTypes,o=(r=r!=null)?Dr(e,a):sn),t=new t(s,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Vl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function Nh(e,t,s,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,r),t.state!==e&&Vl.enqueueReplaceState(t,t.state,null)}function mu(e,t,s,r){var a=e.stateNode;a.props=s,a.state=e.memoizedState,a.refs={},Gf(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=Lt(o):(o=ct(t)?Vn:Xe.current,a.context=Dr(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(pu(e,t,o,s),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Vl.enqueueReplaceState(a,a.state,null),sl(e,s,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Ir(e,t){try{var s="",r=t;do s+=k2(r),r=r.return;while(r);var a=s}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function Qc(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function hu(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var Qk=typeof WeakMap=="function"?WeakMap:Map;function nv(e,t,s){s=hs(-1,s),s.tag=3,s.payload={element:null};var r=t.value;return s.callback=function(){il||(il=!0,Su=r),hu(e,t)},s}function rv(e,t,s){s=hs(-1,s),s.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;s.payload=function(){return r(a)},s.callback=function(){hu(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(s.callback=function(){hu(e,t),typeof r!="function"&&(Xs===null?Xs=new Set([this]):Xs.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),s}function kh(e,t,s){var r=e.pingCache;if(r===null){r=e.pingCache=new Qk;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(s)||(a.add(s),e=uS.bind(null,e,t,s),t.then(e,e))}function Sh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ch(e,t,s,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=hs(-1,1),t.tag=2,Ys(s,t,1))),s.lanes|=1),e)}var Zk=Ps.ReactCurrentOwner,it=!1;function et(e,t,s,r){t.child=e===null?_y(t,null,s,r):Lr(t,e.child,s,r)}function Ph(e,t,s,r,a){s=s.render;var o=t.ref;return Sr(t,a),r=Zf(e,t,s,r,o,a),s=Jf(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,js(e,t,a)):(xe&&s&&$f(t),t.flags|=1,et(e,t,r,a),t.child)}function Ah(e,t,s,r,a){if(e===null){var o=s.type;return typeof o=="function"&&!cp(o)&&o.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=o,av(e,t,o,r,a)):(e=Ri(s.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var i=o.memoizedProps;if(s=s.compare,s=s!==null?s:Za,s(i,r)&&e.ref===t.ref)return js(e,t,a)}return t.flags|=1,e=Zs(o,r),e.ref=t.ref,e.return=t,t.child=e}function av(e,t,s,r,a){if(e!==null){var o=e.memoizedProps;if(Za(o,r)&&e.ref===t.ref)if(it=!1,t.pendingProps=r=o,(e.lanes&a)!==0)e.flags&131072&&(it=!0);else return t.lanes=e.lanes,js(e,t,a)}return xu(e,t,s,r,a)}function ov(e,t,s){var r=t.pendingProps,a=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(xr,ht),ht|=s;else{if(!(s&1073741824))return e=o!==null?o.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ce(xr,ht),ht|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:s,ce(xr,ht),ht|=r}else o!==null?(r=o.baseLanes|s,t.memoizedState=null):r=s,ce(xr,ht),ht|=r;return et(e,t,a,s),t.child}function iv(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function xu(e,t,s,r,a){var o=ct(s)?Vn:Xe.current;return o=Dr(t,o),Sr(t,a),s=Zf(e,t,s,r,o,a),r=Jf(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,js(e,t,a)):(xe&&r&&$f(t),t.flags|=1,et(e,t,s,a),t.child)}function Eh(e,t,s,r,a){if(ct(s)){var o=!0;Qi(t)}else o=!1;if(Sr(t,a),t.stateNode===null)Pi(e,t),sv(t,s,r),mu(t,s,r,a),r=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var d=i.context,c=s.contextType;typeof c=="object"&&c!==null?c=Lt(c):(c=ct(s)?Vn:Xe.current,c=Dr(t,c));var u=s.getDerivedStateFromProps,f=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||d!==c)&&Nh(t,i,r,c),Os=!1;var m=t.memoizedState;i.state=m,sl(t,r,i,a),d=t.memoizedState,l!==r||m!==d||lt.current||Os?(typeof u=="function"&&(pu(t,s,u,r),d=t.memoizedState),(l=Os||jh(t,s,l,r,m,d,c))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=d),i.props=r,i.state=d,i.context=c,r=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,My(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:Ft(t.type,l),i.props=c,f=t.pendingProps,m=i.context,d=s.contextType,typeof d=="object"&&d!==null?d=Lt(d):(d=ct(s)?Vn:Xe.current,d=Dr(t,d));var g=s.getDerivedStateFromProps;(u=typeof g=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||m!==d)&&Nh(t,i,r,d),Os=!1,m=t.memoizedState,i.state=m,sl(t,r,i,a);var x=t.memoizedState;l!==f||m!==x||lt.current||Os?(typeof g=="function"&&(pu(t,s,g,r),x=t.memoizedState),(c=Os||jh(t,s,c,r,m,x,d)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,x,d),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,x,d)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),i.props=r,i.state=x,i.context=d,r=c):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return gu(e,t,s,r,o,a)}function gu(e,t,s,r,a,o){iv(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return a&&mh(t,s,!1),js(e,t,o);r=t.stateNode,Zk.current=t;var l=i&&typeof s.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Lr(t,e.child,null,o),t.child=Lr(t,null,l,o)):et(e,t,l,o),t.memoizedState=r.state,a&&mh(t,s,!0),t.child}function lv(e){var t=e.stateNode;t.pendingContext?ph(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ph(e,t.context,!1),Kf(e,t.containerInfo)}function Rh(e,t,s,r,a){return _r(),zf(a),t.flags|=256,et(e,t,s,r),t.child}var yu={dehydrated:null,treeContext:null,retryLane:0};function vu(e){return{baseLanes:e,cachePool:null,transitions:null}}function cv(e,t,s){var r=t.pendingProps,a=ge.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ce(ge,a&1),e===null)return uu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Wl(i,r,0,null),e=Rn(e,r,s,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=vu(s),t.memoizedState=yu,e):sp(t,i));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return Jk(e,t,i,r,l,a,s);if(o){o=r.fallback,i=t.mode,a=e.child,l=a.sibling;var d={mode:"hidden",children:r.children};return!(i&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=d,t.deletions=null):(r=Zs(a,d),r.subtreeFlags=a.subtreeFlags&14680064),l!==null?o=Zs(l,o):(o=Rn(o,i,s,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?vu(s):{baseLanes:i.baseLanes|s,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~s,t.memoizedState=yu,r}return o=e.child,e=o.sibling,r=Zs(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=s),r.return=t,r.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=r,t.memoizedState=null,r}function sp(e,t){return t=Wl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ti(e,t,s,r){return r!==null&&zf(r),Lr(t,e.child,null,s),e=sp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Jk(e,t,s,r,a,o,i){if(s)return t.flags&256?(t.flags&=-257,r=Qc(Error(z(422))),ti(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,a=t.mode,r=Wl({mode:"visible",children:r.children},a,0,null),o=Rn(o,a,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Lr(t,e.child,null,i),t.child.memoizedState=vu(i),t.memoizedState=yu,o);if(!(t.mode&1))return ti(e,t,i,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(z(419)),r=Qc(o,r,void 0),ti(e,t,i,r)}if(l=(i&e.childLanes)!==0,it||l){if(r=Ue,r!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|i)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,ws(e,a),zt(r,e,a,-1))}return lp(),r=Qc(Error(z(421))),ti(e,t,i,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=fS.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,yt=Ks(a.nextSibling),vt=t,xe=!0,$t=null,e!==null&&(Et[Rt++]=fs,Et[Rt++]=ps,Et[Rt++]=zn,fs=e.id,ps=e.overflow,zn=t),t=sp(t,r.children),t.flags|=4096,t)}function Th(e,t,s){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),fu(e.return,t,s)}function Zc(e,t,s,r,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=s,o.tailMode=a)}function dv(e,t,s){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(et(e,t,r.children,s),r=ge.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Th(e,s,t);else if(e.tag===19)Th(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ce(ge,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(s=t.child,a=null;s!==null;)e=s.alternate,e!==null&&nl(e)===null&&(a=s),s=s.sibling;s=a,s===null?(a=t.child,t.child=null):(a=s.sibling,s.sibling=null),Zc(t,!1,a,s,o);break;case"backwards":for(s=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&nl(e)===null){t.child=a;break}e=a.sibling,a.sibling=s,s=a,a=e}Zc(t,!0,s,null,o);break;case"together":Zc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Pi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function js(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Wn|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(z(153));if(t.child!==null){for(e=t.child,s=Zs(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=Zs(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function eS(e,t,s){switch(t.tag){case 3:lv(t),_r();break;case 5:Iy(t);break;case 1:ct(t.type)&&Qi(t);break;case 4:Kf(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;ce(el,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ce(ge,ge.current&1),t.flags|=128,null):s&t.child.childLanes?cv(e,t,s):(ce(ge,ge.current&1),e=js(e,t,s),e!==null?e.sibling:null);ce(ge,ge.current&1);break;case 19:if(r=(s&t.childLanes)!==0,e.flags&128){if(r)return dv(e,t,s);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ce(ge,ge.current),r)break;return null;case 22:case 23:return t.lanes=0,ov(e,t,s)}return js(e,t,s)}var uv,bu,fv,pv;uv=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};bu=function(){};fv=function(e,t,s,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Cn(ss.current);var o=null;switch(s){case"input":a=zd(e,a),r=zd(e,r),o=[];break;case"select":a=je({},a,{value:void 0}),r=je({},r,{value:void 0}),o=[];break;case"textarea":a=qd(e,a),r=qd(e,r),o=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Yi)}Gd(s,r);var i;s=null;for(c in a)if(!r.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var l=a[c];for(i in l)l.hasOwnProperty(i)&&(s||(s={}),s[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(qa.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var d=r[c];if(l=a!=null?a[c]:void 0,r.hasOwnProperty(c)&&d!==l&&(d!=null||l!=null))if(c==="style")if(l){for(i in l)!l.hasOwnProperty(i)||d&&d.hasOwnProperty(i)||(s||(s={}),s[i]="");for(i in d)d.hasOwnProperty(i)&&l[i]!==d[i]&&(s||(s={}),s[i]=d[i])}else s||(o||(o=[]),o.push(c,s)),s=d;else c==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,l=l?l.__html:void 0,d!=null&&l!==d&&(o=o||[]).push(c,d)):c==="children"?typeof d!="string"&&typeof d!="number"||(o=o||[]).push(c,""+d):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(qa.hasOwnProperty(c)?(d!=null&&c==="onScroll"&&fe("scroll",e),o||l===d||(o=[])):(o=o||[]).push(c,d))}s&&(o=o||[]).push("style",s);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};pv=function(e,t,s,r){s!==r&&(t.flags|=4)};function ma(e,t){if(!xe)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function He(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,r=0;if(t)for(var a=e.child;a!==null;)s|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)s|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=s,t}function tS(e,t,s){var r=t.pendingProps;switch(Vf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(t),null;case 1:return ct(t.type)&&Xi(),He(t),null;case 3:return r=t.stateNode,Mr(),pe(lt),pe(Xe),Xf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Jo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,$t!==null&&(Au($t),$t=null))),bu(e,t),He(t),null;case 5:Yf(t);var a=Cn(no.current);if(s=t.type,e!==null&&t.stateNode!=null)fv(e,t,s,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(z(166));return He(t),null}if(e=Cn(ss.current),Jo(t)){r=t.stateNode,s=t.type;var o=t.memoizedProps;switch(r[Jt]=t,r[to]=o,e=(t.mode&1)!==0,s){case"dialog":fe("cancel",r),fe("close",r);break;case"iframe":case"object":case"embed":fe("load",r);break;case"video":case"audio":for(a=0;a<Pa.length;a++)fe(Pa[a],r);break;case"source":fe("error",r);break;case"img":case"image":case"link":fe("error",r),fe("load",r);break;case"details":fe("toggle",r);break;case"input":$m(r,o),fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},fe("invalid",r);break;case"textarea":zm(r,o),fe("invalid",r)}Gd(s,o),a=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Zo(r.textContent,l,e),a=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Zo(r.textContent,l,e),a=["children",""+l]):qa.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&fe("scroll",r)}switch(s){case"input":Wo(r),Vm(r,o,!0);break;case"textarea":Wo(r),Bm(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Yi)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Vg(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(s,{is:r.is}):(e=i.createElement(s),s==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,s),e[Jt]=t,e[to]=r,uv(e,t,!1,!1),t.stateNode=e;e:{switch(i=Kd(s,r),s){case"dialog":fe("cancel",e),fe("close",e),a=r;break;case"iframe":case"object":case"embed":fe("load",e),a=r;break;case"video":case"audio":for(a=0;a<Pa.length;a++)fe(Pa[a],e);a=r;break;case"source":fe("error",e),a=r;break;case"img":case"image":case"link":fe("error",e),fe("load",e),a=r;break;case"details":fe("toggle",e),a=r;break;case"input":$m(e,r),a=zd(e,r),fe("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=je({},r,{value:void 0}),fe("invalid",e);break;case"textarea":zm(e,r),a=qd(e,r),fe("invalid",e);break;default:a=r}Gd(s,a),l=a;for(o in l)if(l.hasOwnProperty(o)){var d=l[o];o==="style"?Wg(e,d):o==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&zg(e,d)):o==="children"?typeof d=="string"?(s!=="textarea"||d!=="")&&Ha(e,d):typeof d=="number"&&Ha(e,""+d):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(qa.hasOwnProperty(o)?d!=null&&o==="onScroll"&&fe("scroll",e):d!=null&&Cf(e,o,d,i))}switch(s){case"input":Wo(e),Vm(e,r,!1);break;case"textarea":Wo(e),Bm(e);break;case"option":r.value!=null&&e.setAttribute("value",""+tn(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?wr(e,!!r.multiple,o,!1):r.defaultValue!=null&&wr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Yi)}switch(s){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return He(t),null;case 6:if(e&&t.stateNode!=null)pv(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(z(166));if(s=Cn(no.current),Cn(ss.current),Jo(t)){if(r=t.stateNode,s=t.memoizedProps,r[Jt]=t,(o=r.nodeValue!==s)&&(e=vt,e!==null))switch(e.tag){case 3:Zo(r.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zo(r.nodeValue,s,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(s.nodeType===9?s:s.ownerDocument).createTextNode(r),r[Jt]=t,t.stateNode=r}return He(t),null;case 13:if(pe(ge),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xe&&yt!==null&&t.mode&1&&!(t.flags&128))Ty(),_r(),t.flags|=98560,o=!1;else if(o=Jo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(z(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(z(317));o[Jt]=t}else _r(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;He(t),o=!1}else $t!==null&&(Au($t),$t=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ge.current&1?Me===0&&(Me=3):lp())),t.updateQueue!==null&&(t.flags|=4),He(t),null);case 4:return Mr(),bu(e,t),e===null&&Ja(t.stateNode.containerInfo),He(t),null;case 10:return qf(t.type._context),He(t),null;case 17:return ct(t.type)&&Xi(),He(t),null;case 19:if(pe(ge),o=t.memoizedState,o===null)return He(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)ma(o,!1);else{if(Me!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=nl(e),i!==null){for(t.flags|=128,ma(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=s,s=t.child;s!==null;)o=s,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return ce(ge,ge.current&1|2),t.child}e=e.sibling}o.tail!==null&&Pe()>Or&&(t.flags|=128,r=!0,ma(o,!1),t.lanes=4194304)}else{if(!r)if(e=nl(i),e!==null){if(t.flags|=128,r=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),ma(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!xe)return He(t),null}else 2*Pe()-o.renderingStartTime>Or&&s!==1073741824&&(t.flags|=128,r=!0,ma(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(s=o.last,s!==null?s.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Pe(),t.sibling=null,s=ge.current,ce(ge,r?s&1|2:s&1),t):(He(t),null);case 22:case 23:return ip(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ht&1073741824&&(He(t),t.subtreeFlags&6&&(t.flags|=8192)):He(t),null;case 24:return null;case 25:return null}throw Error(z(156,t.tag))}function sS(e,t){switch(Vf(t),t.tag){case 1:return ct(t.type)&&Xi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Mr(),pe(lt),pe(Xe),Xf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Yf(t),null;case 13:if(pe(ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(z(340));_r()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pe(ge),null;case 4:return Mr(),null;case 10:return qf(t.type._context),null;case 22:case 23:return ip(),null;case 24:return null;default:return null}}var si=!1,Ke=!1,nS=typeof WeakSet=="function"?WeakSet:Set,G=null;function hr(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(r){ke(e,t,r)}else s.current=null}function wu(e,t,s){try{s()}catch(r){ke(e,t,r)}}var Dh=!1;function rS(e,t){if(ru=Hi,e=yy(),Uf(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{s.nodeType,o.nodeType}catch{s=null;break e}var i=0,l=-1,d=-1,c=0,u=0,f=e,m=null;t:for(;;){for(var g;f!==s||a!==0&&f.nodeType!==3||(l=i+a),f!==o||r!==0&&f.nodeType!==3||(d=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(g=f.firstChild)!==null;)m=f,f=g;for(;;){if(f===e)break t;if(m===s&&++c===a&&(l=i),m===o&&++u===r&&(d=i),(g=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=g}s=l===-1||d===-1?null:{start:l,end:d}}else s=null}s=s||{start:0,end:0}}else s=null;for(au={focusedElem:e,selectionRange:s},Hi=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var b=x.memoizedProps,v=x.memoizedState,h=t.stateNode,p=h.getSnapshotBeforeUpdate(t.elementType===t.type?b:Ft(t.type,b),v);h.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(j){ke(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return x=Dh,Dh=!1,x}function Oa(e,t,s){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&wu(t,s,o)}a=a.next}while(a!==r)}}function zl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var r=s.create;s.destroy=r()}s=s.next}while(s!==t)}}function ju(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function mv(e){var t=e.alternate;t!==null&&(e.alternate=null,mv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Jt],delete t[to],delete t[lu],delete t[$k],delete t[Vk])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function hv(e){return e.tag===5||e.tag===3||e.tag===4}function _h(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||hv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nu(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=Yi));else if(r!==4&&(e=e.child,e!==null))for(Nu(e,t,s),e=e.sibling;e!==null;)Nu(e,t,s),e=e.sibling}function ku(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ku(e,t,s),e=e.sibling;e!==null;)ku(e,t,s),e=e.sibling}var Ve=null,Ut=!1;function Ts(e,t,s){for(s=s.child;s!==null;)xv(e,t,s),s=s.sibling}function xv(e,t,s){if(ts&&typeof ts.onCommitFiberUnmount=="function")try{ts.onCommitFiberUnmount(Ll,s)}catch{}switch(s.tag){case 5:Ke||hr(s,t);case 6:var r=Ve,a=Ut;Ve=null,Ts(e,t,s),Ve=r,Ut=a,Ve!==null&&(Ut?(e=Ve,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Ve.removeChild(s.stateNode));break;case 18:Ve!==null&&(Ut?(e=Ve,s=s.stateNode,e.nodeType===8?qc(e.parentNode,s):e.nodeType===1&&qc(e,s),Xa(e)):qc(Ve,s.stateNode));break;case 4:r=Ve,a=Ut,Ve=s.stateNode.containerInfo,Ut=!0,Ts(e,t,s),Ve=r,Ut=a;break;case 0:case 11:case 14:case 15:if(!Ke&&(r=s.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var o=a,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&wu(s,t,i),a=a.next}while(a!==r)}Ts(e,t,s);break;case 1:if(!Ke&&(hr(s,t),r=s.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=s.memoizedProps,r.state=s.memoizedState,r.componentWillUnmount()}catch(l){ke(s,t,l)}Ts(e,t,s);break;case 21:Ts(e,t,s);break;case 22:s.mode&1?(Ke=(r=Ke)||s.memoizedState!==null,Ts(e,t,s),Ke=r):Ts(e,t,s);break;default:Ts(e,t,s)}}function Lh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new nS),t.forEach(function(r){var a=pS.bind(null,e,r);s.has(r)||(s.add(r),r.then(a,a))})}}function Ot(e,t){var s=t.deletions;if(s!==null)for(var r=0;r<s.length;r++){var a=s[r];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:Ve=l.stateNode,Ut=!1;break e;case 3:Ve=l.stateNode.containerInfo,Ut=!0;break e;case 4:Ve=l.stateNode.containerInfo,Ut=!0;break e}l=l.return}if(Ve===null)throw Error(z(160));xv(o,i,a),Ve=null,Ut=!1;var d=a.alternate;d!==null&&(d.return=null),a.return=null}catch(c){ke(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)gv(t,e),t=t.sibling}function gv(e,t){var s=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ot(t,e),Yt(e),r&4){try{Oa(3,e,e.return),zl(3,e)}catch(b){ke(e,e.return,b)}try{Oa(5,e,e.return)}catch(b){ke(e,e.return,b)}}break;case 1:Ot(t,e),Yt(e),r&512&&s!==null&&hr(s,s.return);break;case 5:if(Ot(t,e),Yt(e),r&512&&s!==null&&hr(s,s.return),e.flags&32){var a=e.stateNode;try{Ha(a,"")}catch(b){ke(e,e.return,b)}}if(r&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,i=s!==null?s.memoizedProps:o,l=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Ug(a,o),Kd(l,i);var c=Kd(l,o);for(i=0;i<d.length;i+=2){var u=d[i],f=d[i+1];u==="style"?Wg(a,f):u==="dangerouslySetInnerHTML"?zg(a,f):u==="children"?Ha(a,f):Cf(a,u,f,c)}switch(l){case"input":Bd(a,o);break;case"textarea":$g(a,o);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?wr(a,!!o.multiple,g,!1):m!==!!o.multiple&&(o.defaultValue!=null?wr(a,!!o.multiple,o.defaultValue,!0):wr(a,!!o.multiple,o.multiple?[]:"",!1))}a[to]=o}catch(b){ke(e,e.return,b)}}break;case 6:if(Ot(t,e),Yt(e),r&4){if(e.stateNode===null)throw Error(z(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(b){ke(e,e.return,b)}}break;case 3:if(Ot(t,e),Yt(e),r&4&&s!==null&&s.memoizedState.isDehydrated)try{Xa(t.containerInfo)}catch(b){ke(e,e.return,b)}break;case 4:Ot(t,e),Yt(e);break;case 13:Ot(t,e),Yt(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(ap=Pe())),r&4&&Lh(e);break;case 22:if(u=s!==null&&s.memoizedState!==null,e.mode&1?(Ke=(c=Ke)||u,Ot(t,e),Ke=c):Ot(t,e),Yt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(G=e,u=e.child;u!==null;){for(f=G=u;G!==null;){switch(m=G,g=m.child,m.tag){case 0:case 11:case 14:case 15:Oa(4,m,m.return);break;case 1:hr(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){r=m,s=m.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(b){ke(r,s,b)}}break;case 5:hr(m,m.return);break;case 22:if(m.memoizedState!==null){Ih(f);continue}}g!==null?(g.return=m,G=g):Ih(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,c?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,d=f.memoizedProps.style,i=d!=null&&d.hasOwnProperty("display")?d.display:null,l.style.display=Bg("display",i))}catch(b){ke(e,e.return,b)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(b){ke(e,e.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ot(t,e),Yt(e),r&4&&Lh(e);break;case 21:break;default:Ot(t,e),Yt(e)}}function Yt(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(hv(s)){var r=s;break e}s=s.return}throw Error(z(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(Ha(a,""),r.flags&=-33);var o=_h(e);ku(e,o,a);break;case 3:case 4:var i=r.stateNode.containerInfo,l=_h(e);Nu(e,l,i);break;default:throw Error(z(161))}}catch(d){ke(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function aS(e,t,s){G=e,yv(e)}function yv(e,t,s){for(var r=(e.mode&1)!==0;G!==null;){var a=G,o=a.child;if(a.tag===22&&r){var i=a.memoizedState!==null||si;if(!i){var l=a.alternate,d=l!==null&&l.memoizedState!==null||Ke;l=si;var c=Ke;if(si=i,(Ke=d)&&!c)for(G=a;G!==null;)i=G,d=i.child,i.tag===22&&i.memoizedState!==null?Oh(a):d!==null?(d.return=i,G=d):Oh(a);for(;o!==null;)G=o,yv(o),o=o.sibling;G=a,si=l,Ke=c}Mh(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,G=o):Mh(e)}}function Mh(e){for(;G!==null;){var t=G;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ke||zl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ke)if(s===null)r.componentDidMount();else{var a=t.elementType===t.type?s.memoizedProps:Ft(t.type,s.memoizedProps);r.componentDidUpdate(a,s.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&vh(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}vh(t,i,s)}break;case 5:var l=t.stateNode;if(s===null&&t.flags&4){s=l;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&s.focus();break;case"img":d.src&&(s.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Xa(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Ke||t.flags&512&&ju(t)}catch(m){ke(t,t.return,m)}}if(t===e){G=null;break}if(s=t.sibling,s!==null){s.return=t.return,G=s;break}G=t.return}}function Ih(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var s=t.sibling;if(s!==null){s.return=t.return,G=s;break}G=t.return}}function Oh(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{zl(4,t)}catch(d){ke(t,s,d)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(d){ke(t,a,d)}}var o=t.return;try{ju(t)}catch(d){ke(t,o,d)}break;case 5:var i=t.return;try{ju(t)}catch(d){ke(t,i,d)}}}catch(d){ke(t,t.return,d)}if(t===e){G=null;break}var l=t.sibling;if(l!==null){l.return=t.return,G=l;break}G=t.return}}var oS=Math.ceil,ol=Ps.ReactCurrentDispatcher,np=Ps.ReactCurrentOwner,Dt=Ps.ReactCurrentBatchConfig,ne=0,Ue=null,De=null,ze=0,ht=0,xr=un(0),Me=0,io=null,Wn=0,Bl=0,rp=0,Fa=null,ot=null,ap=0,Or=1/0,ds=null,il=!1,Su=null,Xs=null,ni=!1,zs=null,ll=0,Ua=0,Cu=null,Ai=-1,Ei=0;function tt(){return ne&6?Pe():Ai!==-1?Ai:Ai=Pe()}function Qs(e){return e.mode&1?ne&2&&ze!==0?ze&-ze:Bk.transition!==null?(Ei===0&&(Ei=sy()),Ei):(e=le,e!==0||(e=window.event,e=e===void 0?16:cy(e.type)),e):1}function zt(e,t,s,r){if(50<Ua)throw Ua=0,Cu=null,Error(z(185));wo(e,s,r),(!(ne&2)||e!==Ue)&&(e===Ue&&(!(ne&2)&&(Bl|=s),Me===4&&$s(e,ze)),dt(e,r),s===1&&ne===0&&!(t.mode&1)&&(Or=Pe()+500,Ul&&fn()))}function dt(e,t){var s=e.callbackNode;B2(e,t);var r=qi(e,e===Ue?ze:0);if(r===0)s!==null&&Hm(s),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(s!=null&&Hm(s),t===1)e.tag===0?zk(Fh.bind(null,e)):Ay(Fh.bind(null,e)),Fk(function(){!(ne&6)&&fn()}),s=null;else{switch(ny(r)){case 1:s=Tf;break;case 4:s=ey;break;case 16:s=Wi;break;case 536870912:s=ty;break;default:s=Wi}s=Cv(s,vv.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function vv(e,t){if(Ai=-1,Ei=0,ne&6)throw Error(z(327));var s=e.callbackNode;if(Cr()&&e.callbackNode!==s)return null;var r=qi(e,e===Ue?ze:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=cl(e,r);else{t=r;var a=ne;ne|=2;var o=wv();(Ue!==e||ze!==t)&&(ds=null,Or=Pe()+500,En(e,t));do try{cS();break}catch(l){bv(e,l)}while(!0);Wf(),ol.current=o,ne=a,De!==null?t=0:(Ue=null,ze=0,t=Me)}if(t!==0){if(t===2&&(a=Jd(e),a!==0&&(r=a,t=Pu(e,a))),t===1)throw s=io,En(e,0),$s(e,r),dt(e,Pe()),s;if(t===6)$s(e,r);else{if(a=e.current.alternate,!(r&30)&&!iS(a)&&(t=cl(e,r),t===2&&(o=Jd(e),o!==0&&(r=o,t=Pu(e,o))),t===1))throw s=io,En(e,0),$s(e,r),dt(e,Pe()),s;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(z(345));case 2:bn(e,ot,ds);break;case 3:if($s(e,r),(r&130023424)===r&&(t=ap+500-Pe(),10<t)){if(qi(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){tt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=iu(bn.bind(null,e,ot,ds),t);break}bn(e,ot,ds);break;case 4:if($s(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var i=31-Vt(r);o=1<<i,i=t[i],i>a&&(a=i),r&=~o}if(r=a,r=Pe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*oS(r/1960))-r,10<r){e.timeoutHandle=iu(bn.bind(null,e,ot,ds),r);break}bn(e,ot,ds);break;case 5:bn(e,ot,ds);break;default:throw Error(z(329))}}}return dt(e,Pe()),e.callbackNode===s?vv.bind(null,e):null}function Pu(e,t){var s=Fa;return e.current.memoizedState.isDehydrated&&(En(e,t).flags|=256),e=cl(e,t),e!==2&&(t=ot,ot=s,t!==null&&Au(t)),e}function Au(e){ot===null?ot=e:ot.push.apply(ot,e)}function iS(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var r=0;r<s.length;r++){var a=s[r],o=a.getSnapshot;a=a.value;try{if(!Bt(o(),a))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $s(e,t){for(t&=~rp,t&=~Bl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-Vt(t),r=1<<s;e[s]=-1,t&=~r}}function Fh(e){if(ne&6)throw Error(z(327));Cr();var t=qi(e,0);if(!(t&1))return dt(e,Pe()),null;var s=cl(e,t);if(e.tag!==0&&s===2){var r=Jd(e);r!==0&&(t=r,s=Pu(e,r))}if(s===1)throw s=io,En(e,0),$s(e,t),dt(e,Pe()),s;if(s===6)throw Error(z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bn(e,ot,ds),dt(e,Pe()),null}function op(e,t){var s=ne;ne|=1;try{return e(t)}finally{ne=s,ne===0&&(Or=Pe()+500,Ul&&fn())}}function qn(e){zs!==null&&zs.tag===0&&!(ne&6)&&Cr();var t=ne;ne|=1;var s=Dt.transition,r=le;try{if(Dt.transition=null,le=1,e)return e()}finally{le=r,Dt.transition=s,ne=t,!(ne&6)&&fn()}}function ip(){ht=xr.current,pe(xr)}function En(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Ok(s)),De!==null)for(s=De.return;s!==null;){var r=s;switch(Vf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xi();break;case 3:Mr(),pe(lt),pe(Xe),Xf();break;case 5:Yf(r);break;case 4:Mr();break;case 13:pe(ge);break;case 19:pe(ge);break;case 10:qf(r.type._context);break;case 22:case 23:ip()}s=s.return}if(Ue=e,De=e=Zs(e.current,null),ze=ht=t,Me=0,io=null,rp=Bl=Wn=0,ot=Fa=null,Sn!==null){for(t=0;t<Sn.length;t++)if(s=Sn[t],r=s.interleaved,r!==null){s.interleaved=null;var a=r.next,o=s.pending;if(o!==null){var i=o.next;o.next=a,r.next=i}s.pending=r}Sn=null}return e}function bv(e,t){do{var s=De;try{if(Wf(),Si.current=al,rl){for(var r=be.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}rl=!1}if(Bn=0,Oe=Le=be=null,Ia=!1,ro=0,np.current=null,s===null||s.return===null){Me=1,io=t,De=null;break}e:{var o=e,i=s.return,l=s,d=t;if(t=ze,l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var c=d,u=l,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=Sh(i);if(g!==null){g.flags&=-257,Ch(g,i,l,o,t),g.mode&1&&kh(o,c,t),t=g,d=c;var x=t.updateQueue;if(x===null){var b=new Set;b.add(d),t.updateQueue=b}else x.add(d);break e}else{if(!(t&1)){kh(o,c,t),lp();break e}d=Error(z(426))}}else if(xe&&l.mode&1){var v=Sh(i);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Ch(v,i,l,o,t),zf(Ir(d,l));break e}}o=d=Ir(d,l),Me!==4&&(Me=2),Fa===null?Fa=[o]:Fa.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var h=nv(o,d,t);yh(o,h);break e;case 1:l=d;var p=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Xs===null||!Xs.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t;var j=rv(o,l,t);yh(o,j);break e}}o=o.return}while(o!==null)}Nv(s)}catch(k){t=k,De===s&&s!==null&&(De=s=s.return);continue}break}while(!0)}function wv(){var e=ol.current;return ol.current=al,e===null?al:e}function lp(){(Me===0||Me===3||Me===2)&&(Me=4),Ue===null||!(Wn&268435455)&&!(Bl&268435455)||$s(Ue,ze)}function cl(e,t){var s=ne;ne|=2;var r=wv();(Ue!==e||ze!==t)&&(ds=null,En(e,t));do try{lS();break}catch(a){bv(e,a)}while(!0);if(Wf(),ne=s,ol.current=r,De!==null)throw Error(z(261));return Ue=null,ze=0,Me}function lS(){for(;De!==null;)jv(De)}function cS(){for(;De!==null&&!L2();)jv(De)}function jv(e){var t=Sv(e.alternate,e,ht);e.memoizedProps=e.pendingProps,t===null?Nv(e):De=t,np.current=null}function Nv(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=sS(s,t),s!==null){s.flags&=32767,De=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Me=6,De=null;return}}else if(s=tS(s,t,ht),s!==null){De=s;return}if(t=t.sibling,t!==null){De=t;return}De=t=e}while(t!==null);Me===0&&(Me=5)}function bn(e,t,s){var r=le,a=Dt.transition;try{Dt.transition=null,le=1,dS(e,t,s,r)}finally{Dt.transition=a,le=r}return null}function dS(e,t,s,r){do Cr();while(zs!==null);if(ne&6)throw Error(z(327));s=e.finishedWork;var a=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(z(177));e.callbackNode=null,e.callbackPriority=0;var o=s.lanes|s.childLanes;if(W2(e,o),e===Ue&&(De=Ue=null,ze=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||ni||(ni=!0,Cv(Wi,function(){return Cr(),null})),o=(s.flags&15990)!==0,s.subtreeFlags&15990||o){o=Dt.transition,Dt.transition=null;var i=le;le=1;var l=ne;ne|=4,np.current=null,rS(e,s),gv(s,e),Rk(au),Hi=!!ru,au=ru=null,e.current=s,aS(s),M2(),ne=l,le=i,Dt.transition=o}else e.current=s;if(ni&&(ni=!1,zs=e,ll=a),o=e.pendingLanes,o===0&&(Xs=null),F2(s.stateNode),dt(e,Pe()),t!==null)for(r=e.onRecoverableError,s=0;s<t.length;s++)a=t[s],r(a.value,{componentStack:a.stack,digest:a.digest});if(il)throw il=!1,e=Su,Su=null,e;return ll&1&&e.tag!==0&&Cr(),o=e.pendingLanes,o&1?e===Cu?Ua++:(Ua=0,Cu=e):Ua=0,fn(),null}function Cr(){if(zs!==null){var e=ny(ll),t=Dt.transition,s=le;try{if(Dt.transition=null,le=16>e?16:e,zs===null)var r=!1;else{if(e=zs,zs=null,ll=0,ne&6)throw Error(z(331));var a=ne;for(ne|=4,G=e.current;G!==null;){var o=G,i=o.child;if(G.flags&16){var l=o.deletions;if(l!==null){for(var d=0;d<l.length;d++){var c=l[d];for(G=c;G!==null;){var u=G;switch(u.tag){case 0:case 11:case 15:Oa(8,u,o)}var f=u.child;if(f!==null)f.return=u,G=f;else for(;G!==null;){u=G;var m=u.sibling,g=u.return;if(mv(u),u===c){G=null;break}if(m!==null){m.return=g,G=m;break}G=g}}}var x=o.alternate;if(x!==null){var b=x.child;if(b!==null){x.child=null;do{var v=b.sibling;b.sibling=null,b=v}while(b!==null)}}G=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,G=i;else e:for(;G!==null;){if(o=G,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Oa(9,o,o.return)}var h=o.sibling;if(h!==null){h.return=o.return,G=h;break e}G=o.return}}var p=e.current;for(G=p;G!==null;){i=G;var w=i.child;if(i.subtreeFlags&2064&&w!==null)w.return=i,G=w;else e:for(i=p;G!==null;){if(l=G,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:zl(9,l)}}catch(k){ke(l,l.return,k)}if(l===i){G=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,G=j;break e}G=l.return}}if(ne=a,fn(),ts&&typeof ts.onPostCommitFiberRoot=="function")try{ts.onPostCommitFiberRoot(Ll,e)}catch{}r=!0}return r}finally{le=s,Dt.transition=t}}return!1}function Uh(e,t,s){t=Ir(s,t),t=nv(e,t,1),e=Ys(e,t,1),t=tt(),e!==null&&(wo(e,1,t),dt(e,t))}function ke(e,t,s){if(e.tag===3)Uh(e,e,s);else for(;t!==null;){if(t.tag===3){Uh(t,e,s);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xs===null||!Xs.has(r))){e=Ir(s,e),e=rv(t,e,1),t=Ys(t,e,1),e=tt(),t!==null&&(wo(t,1,e),dt(t,e));break}}t=t.return}}function uS(e,t,s){var r=e.pingCache;r!==null&&r.delete(t),t=tt(),e.pingedLanes|=e.suspendedLanes&s,Ue===e&&(ze&s)===s&&(Me===4||Me===3&&(ze&130023424)===ze&&500>Pe()-ap?En(e,0):rp|=s),dt(e,t)}function kv(e,t){t===0&&(e.mode&1?(t=Go,Go<<=1,!(Go&130023424)&&(Go=4194304)):t=1);var s=tt();e=ws(e,t),e!==null&&(wo(e,t,s),dt(e,s))}function fS(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),kv(e,s)}function pS(e,t){var s=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(s=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(t),kv(e,s)}var Sv;Sv=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||lt.current)it=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return it=!1,eS(e,t,s);it=!!(e.flags&131072)}else it=!1,xe&&t.flags&1048576&&Ey(t,Ji,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Pi(e,t),e=t.pendingProps;var a=Dr(t,Xe.current);Sr(t,s),a=Zf(null,t,r,e,a,s);var o=Jf();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ct(r)?(o=!0,Qi(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Gf(t),a.updater=Vl,t.stateNode=a,a._reactInternals=t,mu(t,r,e,s),t=gu(null,t,r,!0,o,s)):(t.tag=0,xe&&o&&$f(t),et(null,t,a,s),t=t.child),t;case 16:r=t.elementType;e:{switch(Pi(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=hS(r),e=Ft(r,e),a){case 0:t=xu(null,t,r,e,s);break e;case 1:t=Eh(null,t,r,e,s);break e;case 11:t=Ph(null,t,r,e,s);break e;case 14:t=Ah(null,t,r,Ft(r.type,e),s);break e}throw Error(z(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Ft(r,a),xu(e,t,r,a,s);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Ft(r,a),Eh(e,t,r,a,s);case 3:e:{if(lv(t),e===null)throw Error(z(387));r=t.pendingProps,o=t.memoizedState,a=o.element,My(e,t),sl(t,r,null,s);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=Ir(Error(z(423)),t),t=Rh(e,t,r,s,a);break e}else if(r!==a){a=Ir(Error(z(424)),t),t=Rh(e,t,r,s,a);break e}else for(yt=Ks(t.stateNode.containerInfo.firstChild),vt=t,xe=!0,$t=null,s=_y(t,null,r,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(_r(),r===a){t=js(e,t,s);break e}et(e,t,r,s)}t=t.child}return t;case 5:return Iy(t),e===null&&uu(t),r=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,i=a.children,ou(r,a)?i=null:o!==null&&ou(r,o)&&(t.flags|=32),iv(e,t),et(e,t,i,s),t.child;case 6:return e===null&&uu(t),null;case 13:return cv(e,t,s);case 4:return Kf(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Lr(t,null,r,s):et(e,t,r,s),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Ft(r,a),Ph(e,t,r,a,s);case 7:return et(e,t,t.pendingProps,s),t.child;case 8:return et(e,t,t.pendingProps.children,s),t.child;case 12:return et(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,ce(el,r._currentValue),r._currentValue=i,o!==null)if(Bt(o.value,i)){if(o.children===a.children&&!lt.current){t=js(e,t,s);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var d=l.firstContext;d!==null;){if(d.context===r){if(o.tag===1){d=hs(-1,s&-s),d.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?d.next=d:(d.next=u.next,u.next=d),c.pending=d}}o.lanes|=s,d=o.alternate,d!==null&&(d.lanes|=s),fu(o.return,s,t),l.lanes|=s;break}d=d.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(z(341));i.lanes|=s,l=i.alternate,l!==null&&(l.lanes|=s),fu(i,s,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}et(e,t,a.children,s),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Sr(t,s),a=Lt(a),r=r(a),t.flags|=1,et(e,t,r,s),t.child;case 14:return r=t.type,a=Ft(r,t.pendingProps),a=Ft(r.type,a),Ah(e,t,r,a,s);case 15:return av(e,t,t.type,t.pendingProps,s);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Ft(r,a),Pi(e,t),t.tag=1,ct(r)?(e=!0,Qi(t)):e=!1,Sr(t,s),sv(t,r,a),mu(t,r,a,s),gu(null,t,r,!0,e,s);case 19:return dv(e,t,s);case 22:return ov(e,t,s)}throw Error(z(156,t.tag))};function Cv(e,t){return Jg(e,t)}function mS(e,t,s,r){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tt(e,t,s,r){return new mS(e,t,s,r)}function cp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hS(e){if(typeof e=="function")return cp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Af)return 11;if(e===Ef)return 14}return 2}function Zs(e,t){var s=e.alternate;return s===null?(s=Tt(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Ri(e,t,s,r,a,o){var i=2;if(r=e,typeof e=="function")cp(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case or:return Rn(s.children,a,o,t);case Pf:i=8,a|=8;break;case Fd:return e=Tt(12,s,t,a|2),e.elementType=Fd,e.lanes=o,e;case Ud:return e=Tt(13,s,t,a),e.elementType=Ud,e.lanes=o,e;case $d:return e=Tt(19,s,t,a),e.elementType=$d,e.lanes=o,e;case Ig:return Wl(s,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Lg:i=10;break e;case Mg:i=9;break e;case Af:i=11;break e;case Ef:i=14;break e;case Is:i=16,r=null;break e}throw Error(z(130,e==null?e:typeof e,""))}return t=Tt(i,s,t,a),t.elementType=e,t.type=r,t.lanes=o,t}function Rn(e,t,s,r){return e=Tt(7,e,r,t),e.lanes=s,e}function Wl(e,t,s,r){return e=Tt(22,e,r,t),e.elementType=Ig,e.lanes=s,e.stateNode={isHidden:!1},e}function Jc(e,t,s){return e=Tt(6,e,null,t),e.lanes=s,e}function ed(e,t,s){return t=Tt(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function xS(e,t,s,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lc(0),this.expirationTimes=Lc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lc(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function dp(e,t,s,r,a,o,i,l,d){return e=new xS(e,t,s,l,d),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Tt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gf(o),e}function gS(e,t,s){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ar,key:r==null?null:""+r,children:e,containerInfo:t,implementation:s}}function Pv(e){if(!e)return sn;e=e._reactInternals;e:{if(Yn(e)!==e||e.tag!==1)throw Error(z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ct(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(z(171))}if(e.tag===1){var s=e.type;if(ct(s))return Py(e,s,t)}return t}function Av(e,t,s,r,a,o,i,l,d){return e=dp(s,r,!0,e,a,o,i,l,d),e.context=Pv(null),s=e.current,r=tt(),a=Qs(s),o=hs(r,a),o.callback=t??null,Ys(s,o,a),e.current.lanes=a,wo(e,a,r),dt(e,r),e}function ql(e,t,s,r){var a=t.current,o=tt(),i=Qs(a);return s=Pv(s),t.context===null?t.context=s:t.pendingContext=s,t=hs(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ys(a,t,i),e!==null&&(zt(e,a,i,o),ki(e,a,i)),i}function dl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function $h(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function up(e,t){$h(e,t),(e=e.alternate)&&$h(e,t)}function yS(){return null}var Ev=typeof reportError=="function"?reportError:function(e){console.error(e)};function fp(e){this._internalRoot=e}Hl.prototype.render=fp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(z(409));ql(e,t,null,null)};Hl.prototype.unmount=fp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;qn(function(){ql(null,e,null,null)}),t[bs]=null}};function Hl(e){this._internalRoot=e}Hl.prototype.unstable_scheduleHydration=function(e){if(e){var t=oy();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Us.length&&t!==0&&t<Us[s].priority;s++);Us.splice(s,0,e),s===0&&ly(e)}};function pp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Gl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Vh(){}function vS(e,t,s,r,a){if(a){if(typeof r=="function"){var o=r;r=function(){var c=dl(i);o.call(c)}}var i=Av(t,r,e,0,null,!1,!1,"",Vh);return e._reactRootContainer=i,e[bs]=i.current,Ja(e.nodeType===8?e.parentNode:e),qn(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var l=r;r=function(){var c=dl(d);l.call(c)}}var d=dp(e,0,!1,null,null,!1,!1,"",Vh);return e._reactRootContainer=d,e[bs]=d.current,Ja(e.nodeType===8?e.parentNode:e),qn(function(){ql(t,d,s,r)}),d}function Kl(e,t,s,r,a){var o=s._reactRootContainer;if(o){var i=o;if(typeof a=="function"){var l=a;a=function(){var d=dl(i);l.call(d)}}ql(t,i,e,a)}else i=vS(s,t,e,a,r);return dl(i)}ry=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=Ca(t.pendingLanes);s!==0&&(Df(t,s|1),dt(t,Pe()),!(ne&6)&&(Or=Pe()+500,fn()))}break;case 13:qn(function(){var r=ws(e,1);if(r!==null){var a=tt();zt(r,e,1,a)}}),up(e,1)}};_f=function(e){if(e.tag===13){var t=ws(e,134217728);if(t!==null){var s=tt();zt(t,e,134217728,s)}up(e,134217728)}};ay=function(e){if(e.tag===13){var t=Qs(e),s=ws(e,t);if(s!==null){var r=tt();zt(s,e,t,r)}up(e,t)}};oy=function(){return le};iy=function(e,t){var s=le;try{return le=e,t()}finally{le=s}};Xd=function(e,t,s){switch(t){case"input":if(Bd(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var r=s[t];if(r!==e&&r.form===e.form){var a=Fl(r);if(!a)throw Error(z(90));Fg(r),Bd(r,a)}}}break;case"textarea":$g(e,s);break;case"select":t=s.value,t!=null&&wr(e,!!s.multiple,t,!1)}};Gg=op;Kg=qn;var bS={usingClientEntryPoint:!1,Events:[No,dr,Fl,qg,Hg,op]},ha={findFiberByHostInstance:kn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wS={bundleType:ha.bundleType,version:ha.version,rendererPackageName:ha.rendererPackageName,rendererConfig:ha.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ps.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Qg(e),e===null?null:e.stateNode},findFiberByHostInstance:ha.findFiberByHostInstance||yS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ri=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ri.isDisabled&&ri.supportsFiber)try{Ll=ri.inject(wS),ts=ri}catch{}}Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bS;Nt.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pp(t))throw Error(z(200));return gS(e,t,null,s)};Nt.createRoot=function(e,t){if(!pp(e))throw Error(z(299));var s=!1,r="",a=Ev;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=dp(e,1,!1,null,null,s,!1,r,a),e[bs]=t.current,Ja(e.nodeType===8?e.parentNode:e),new fp(t)};Nt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(z(188)):(e=Object.keys(e).join(","),Error(z(268,e)));return e=Qg(t),e=e===null?null:e.stateNode,e};Nt.flushSync=function(e){return qn(e)};Nt.hydrate=function(e,t,s){if(!Gl(t))throw Error(z(200));return Kl(null,e,t,!0,s)};Nt.hydrateRoot=function(e,t,s){if(!pp(e))throw Error(z(405));var r=s!=null&&s.hydratedSources||null,a=!1,o="",i=Ev;if(s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onRecoverableError!==void 0&&(i=s.onRecoverableError)),t=Av(t,null,e,1,s??null,a,!1,o,i),e[bs]=t.current,Ja(e),r)for(e=0;e<r.length;e++)s=r[e],a=s._getVersion,a=a(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,a]:t.mutableSourceEagerHydrationData.push(s,a);return new Hl(t)};Nt.render=function(e,t,s){if(!Gl(t))throw Error(z(200));return Kl(null,e,t,!1,s)};Nt.unmountComponentAtNode=function(e){if(!Gl(e))throw Error(z(40));return e._reactRootContainer?(qn(function(){Kl(null,null,e,!1,function(){e._reactRootContainer=null,e[bs]=null})}),!0):!1};Nt.unstable_batchedUpdates=op;Nt.unstable_renderSubtreeIntoContainer=function(e,t,s,r){if(!Gl(s))throw Error(z(200));if(e==null||e._reactInternals===void 0)throw Error(z(38));return Kl(e,t,s,!1,r)};Nt.version="18.3.1-next-f1338f8080-20240426";function Rv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Rv)}catch(e){console.error(e)}}Rv(),Rg.exports=Nt;var So=Rg.exports;const jS=yg(So);var Tv,zh=So;Tv=zh.createRoot,zh.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lo(){return lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},lo.apply(this,arguments)}var Bs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Bs||(Bs={}));const Bh="popstate";function NS(e){e===void 0&&(e={});function t(r,a){let{pathname:o,search:i,hash:l}=r.location;return Eu("",{pathname:o,search:i,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function s(r,a){return typeof a=="string"?a:ul(a)}return SS(t,s,null,e)}function we(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Dv(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function kS(){return Math.random().toString(36).substr(2,8)}function Wh(e,t){return{usr:e.state,key:e.key,idx:t}}function Eu(e,t,s,r){return s===void 0&&(s=null),lo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Qr(t):t,{state:s,key:t&&t.key||r||kS()})}function ul(e){let{pathname:t="/",search:s="",hash:r=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Qr(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function SS(e,t,s,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:o=!1}=r,i=a.history,l=Bs.Pop,d=null,c=u();c==null&&(c=0,i.replaceState(lo({},i.state,{idx:c}),""));function u(){return(i.state||{idx:null}).idx}function f(){l=Bs.Pop;let v=u(),h=v==null?null:v-c;c=v,d&&d({action:l,location:b.location,delta:h})}function m(v,h){l=Bs.Push;let p=Eu(b.location,v,h);c=u()+1;let w=Wh(p,c),j=b.createHref(p);try{i.pushState(w,"",j)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;a.location.assign(j)}o&&d&&d({action:l,location:b.location,delta:1})}function g(v,h){l=Bs.Replace;let p=Eu(b.location,v,h);c=u();let w=Wh(p,c),j=b.createHref(p);i.replaceState(w,"",j),o&&d&&d({action:l,location:b.location,delta:0})}function x(v){let h=a.location.origin!=="null"?a.location.origin:a.location.href,p=typeof v=="string"?v:ul(v);return p=p.replace(/ $/,"%20"),we(h,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,h)}let b={get action(){return l},get location(){return e(a,i)},listen(v){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(Bh,f),d=v,()=>{a.removeEventListener(Bh,f),d=null}},createHref(v){return t(a,v)},createURL:x,encodeLocation(v){let h=x(v);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:m,replace:g,go(v){return i.go(v)}};return b}var qh;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(qh||(qh={}));function CS(e,t,s){return s===void 0&&(s="/"),PS(e,t,s)}function PS(e,t,s,r){let a=typeof t=="string"?Qr(t):t,o=Fr(a.pathname||"/",s);if(o==null)return null;let i=_v(e);AS(i);let l=null;for(let d=0;l==null&&d<i.length;++d){let c=US(o);l=OS(i[d],c)}return l}function _v(e,t,s,r){t===void 0&&(t=[]),s===void 0&&(s=[]),r===void 0&&(r="");let a=(o,i,l)=>{let d={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};d.relativePath.startsWith("/")&&(we(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let c=Js([r,d.relativePath]),u=s.concat(d);o.children&&o.children.length>0&&(we(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),_v(o.children,t,u,c)),!(o.path==null&&!o.index)&&t.push({path:c,score:MS(c,o.index),routesMeta:u})};return e.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))a(o,i);else for(let d of Lv(o.path))a(o,i,d)}),t}function Lv(e){let t=e.split("/");if(t.length===0)return[];let[s,...r]=t,a=s.endsWith("?"),o=s.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let i=Lv(r.join("/")),l=[];return l.push(...i.map(d=>d===""?o:[o,d].join("/"))),a&&l.push(...i),l.map(d=>e.startsWith("/")&&d===""?"/":d)}function AS(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:IS(t.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}const ES=/^:[\w-]+$/,RS=3,TS=2,DS=1,_S=10,LS=-2,Hh=e=>e==="*";function MS(e,t){let s=e.split("/"),r=s.length;return s.some(Hh)&&(r+=LS),t&&(r+=TS),s.filter(a=>!Hh(a)).reduce((a,o)=>a+(ES.test(o)?RS:o===""?DS:_S),r)}function IS(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function OS(e,t,s){let{routesMeta:r}=e,a={},o="/",i=[];for(let l=0;l<r.length;++l){let d=r[l],c=l===r.length-1,u=o==="/"?t:t.slice(o.length)||"/",f=Ru({path:d.relativePath,caseSensitive:d.caseSensitive,end:c},u),m=d.route;if(!f)return null;Object.assign(a,f.params),i.push({params:a,pathname:Js([o,f.pathname]),pathnameBase:BS(Js([o,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(o=Js([o,f.pathnameBase]))}return i}function Ru(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,r]=FS(e.path,e.caseSensitive,e.end),a=t.match(s);if(!a)return null;let o=a[0],i=o.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:r.reduce((c,u,f)=>{let{paramName:m,isOptional:g}=u;if(m==="*"){let b=l[f]||"";i=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const x=l[f];return g&&!x?c[m]=void 0:c[m]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:i,pattern:e}}function FS(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),Dv(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,d)=>(r.push({paramName:l,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function US(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Dv(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Fr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,r=e.charAt(s);return r&&r!=="/"?null:e.slice(s)||"/"}function $S(e,t){t===void 0&&(t="/");let{pathname:s,search:r="",hash:a=""}=typeof e=="string"?Qr(e):e;return{pathname:s?s.startsWith("/")?s:VS(s,t):t,search:WS(r),hash:qS(a)}}function VS(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?s.length>1&&s.pop():a!=="."&&s.push(a)}),s.length>1?s.join("/"):"/"}function td(e,t,s,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function zS(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function mp(e,t){let s=zS(e);return t?s.map((r,a)=>a===s.length-1?r.pathname:r.pathnameBase):s.map(r=>r.pathnameBase)}function hp(e,t,s,r){r===void 0&&(r=!1);let a;typeof e=="string"?a=Qr(e):(a=lo({},e),we(!a.pathname||!a.pathname.includes("?"),td("?","pathname","search",a)),we(!a.pathname||!a.pathname.includes("#"),td("#","pathname","hash",a)),we(!a.search||!a.search.includes("#"),td("#","search","hash",a)));let o=e===""||a.pathname==="",i=o?"/":a.pathname,l;if(i==null)l=s;else{let f=t.length-1;if(!r&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),f-=1;a.pathname=m.join("/")}l=f>=0?t[f]:"/"}let d=$S(a,l),c=i&&i!=="/"&&i.endsWith("/"),u=(o||i===".")&&s.endsWith("/");return!d.pathname.endsWith("/")&&(c||u)&&(d.pathname+="/"),d}const Js=e=>e.join("/").replace(/\/\/+/g,"/"),BS=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),WS=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,qS=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function HS(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Mv=["post","put","patch","delete"];new Set(Mv);const GS=["get",...Mv];new Set(GS);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function co(){return co=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},co.apply(this,arguments)}const Yl=y.createContext(null),Iv=y.createContext(null),As=y.createContext(null),Xl=y.createContext(null),os=y.createContext({outlet:null,matches:[],isDataRoute:!1}),Ov=y.createContext(null);function KS(e,t){let{relative:s}=t===void 0?{}:t;Zr()||we(!1);let{basename:r,navigator:a}=y.useContext(As),{hash:o,pathname:i,search:l}=Ql(e,{relative:s}),d=i;return r!=="/"&&(d=i==="/"?r:Js([r,i])),a.createHref({pathname:d,search:l,hash:o})}function Zr(){return y.useContext(Xl)!=null}function Es(){return Zr()||we(!1),y.useContext(Xl).location}function Fv(e){y.useContext(As).static||y.useLayoutEffect(e)}function is(){let{isDataRoute:e}=y.useContext(os);return e?dC():YS()}function YS(){Zr()||we(!1);let e=y.useContext(Yl),{basename:t,future:s,navigator:r}=y.useContext(As),{matches:a}=y.useContext(os),{pathname:o}=Es(),i=JSON.stringify(mp(a,s.v7_relativeSplatPath)),l=y.useRef(!1);return Fv(()=>{l.current=!0}),y.useCallback(function(c,u){if(u===void 0&&(u={}),!l.current)return;if(typeof c=="number"){r.go(c);return}let f=hp(c,JSON.parse(i),o,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Js([t,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[t,r,i,o,e])}const XS=y.createContext(null);function QS(e){let t=y.useContext(os).outlet;return t&&y.createElement(XS.Provider,{value:e},t)}function ZS(){let{matches:e}=y.useContext(os),t=e[e.length-1];return t?t.params:{}}function Ql(e,t){let{relative:s}=t===void 0?{}:t,{future:r}=y.useContext(As),{matches:a}=y.useContext(os),{pathname:o}=Es(),i=JSON.stringify(mp(a,r.v7_relativeSplatPath));return y.useMemo(()=>hp(e,JSON.parse(i),o,s==="path"),[e,i,o,s])}function JS(e,t){return eC(e,t)}function eC(e,t,s,r){Zr()||we(!1);let{navigator:a}=y.useContext(As),{matches:o}=y.useContext(os),i=o[o.length-1],l=i?i.params:{};i&&i.pathname;let d=i?i.pathnameBase:"/";i&&i.route;let c=Es(),u;if(t){var f;let v=typeof t=="string"?Qr(t):t;d==="/"||(f=v.pathname)!=null&&f.startsWith(d)||we(!1),u=v}else u=c;let m=u.pathname||"/",g=m;if(d!=="/"){let v=d.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(v.length).join("/")}let x=CS(e,{pathname:g}),b=aC(x&&x.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Js([d,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?d:Js([d,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),o,s,r);return t&&b?y.createElement(Xl.Provider,{value:{location:co({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Bs.Pop}},b):b}function tC(){let e=cC(),t=HS(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),s?y.createElement("pre",{style:a},s):null,null)}const sC=y.createElement(tC,null);class nC extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?y.createElement(os.Provider,{value:this.props.routeContext},y.createElement(Ov.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rC(e){let{routeContext:t,match:s,children:r}=e,a=y.useContext(Yl);return a&&a.static&&a.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=s.route.id),y.createElement(os.Provider,{value:t},r)}function aC(e,t,s,r){var a;if(t===void 0&&(t=[]),s===void 0&&(s=null),r===void 0&&(r=null),e==null){var o;if(!s)return null;if(s.errors)e=s.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let i=e,l=(a=s)==null?void 0:a.errors;if(l!=null){let u=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);u>=0||we(!1),i=i.slice(0,Math.min(i.length,u+1))}let d=!1,c=-1;if(s&&r&&r.v7_partialHydration)for(let u=0;u<i.length;u++){let f=i[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:m,errors:g}=s,x=f.route.loader&&m[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||x){d=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((u,f,m)=>{let g,x=!1,b=null,v=null;s&&(g=l&&f.route.id?l[f.route.id]:void 0,b=f.route.errorElement||sC,d&&(c<0&&m===0?(uC("route-fallback"),x=!0,v=null):c===m&&(x=!0,v=f.route.hydrateFallbackElement||null)));let h=t.concat(i.slice(0,m+1)),p=()=>{let w;return g?w=b:x?w=v:f.route.Component?w=y.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=u,y.createElement(rC,{match:f,routeContext:{outlet:u,matches:h,isDataRoute:s!=null},children:w})};return s&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?y.createElement(nC,{location:s.location,revalidation:s.revalidation,component:b,error:g,children:p(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):p()},null)}var Uv=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Uv||{}),$v=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}($v||{});function oC(e){let t=y.useContext(Yl);return t||we(!1),t}function iC(e){let t=y.useContext(Iv);return t||we(!1),t}function lC(e){let t=y.useContext(os);return t||we(!1),t}function Vv(e){let t=lC(),s=t.matches[t.matches.length-1];return s.route.id||we(!1),s.route.id}function cC(){var e;let t=y.useContext(Ov),s=iC(),r=Vv();return t!==void 0?t:(e=s.errors)==null?void 0:e[r]}function dC(){let{router:e}=oC(Uv.UseNavigateStable),t=Vv($v.UseNavigateStable),s=y.useRef(!1);return Fv(()=>{s.current=!0}),y.useCallback(function(a,o){o===void 0&&(o={}),s.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,co({fromRouteId:t},o)))},[e,t])}const Gh={};function uC(e,t,s){Gh[e]||(Gh[e]=!0)}function fC(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function nn(e){let{to:t,replace:s,state:r,relative:a}=e;Zr()||we(!1);let{future:o,static:i}=y.useContext(As),{matches:l}=y.useContext(os),{pathname:d}=Es(),c=is(),u=hp(t,mp(l,o.v7_relativeSplatPath),d,a==="path"),f=JSON.stringify(u);return y.useEffect(()=>c(JSON.parse(f),{replace:s,state:r,relative:a}),[c,f,a,s,r]),null}function pC(e){return QS(e.context)}function ee(e){we(!1)}function mC(e){let{basename:t="/",children:s=null,location:r,navigationType:a=Bs.Pop,navigator:o,static:i=!1,future:l}=e;Zr()&&we(!1);let d=t.replace(/^\/*/,"/"),c=y.useMemo(()=>({basename:d,navigator:o,static:i,future:co({v7_relativeSplatPath:!1},l)}),[d,l,o,i]);typeof r=="string"&&(r=Qr(r));let{pathname:u="/",search:f="",hash:m="",state:g=null,key:x="default"}=r,b=y.useMemo(()=>{let v=Fr(u,d);return v==null?null:{location:{pathname:v,search:f,hash:m,state:g,key:x},navigationType:a}},[d,u,f,m,g,x,a]);return b==null?null:y.createElement(As.Provider,{value:c},y.createElement(Xl.Provider,{children:s,value:b}))}function hC(e){let{children:t,location:s}=e;return JS(Tu(t),s)}new Promise(()=>{});function Tu(e,t){t===void 0&&(t=[]);let s=[];return y.Children.forEach(e,(r,a)=>{if(!y.isValidElement(r))return;let o=[...t,a];if(r.type===y.Fragment){s.push.apply(s,Tu(r.props.children,o));return}r.type!==ee&&we(!1),!r.props.index||!r.props.children||we(!1);let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=Tu(r.props.children,o)),s.push(i)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fl(){return fl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},fl.apply(this,arguments)}function zv(e,t){if(e==null)return{};var s={},r=Object.keys(e),a,o;for(o=0;o<r.length;o++)a=r[o],!(t.indexOf(a)>=0)&&(s[a]=e[a]);return s}function xC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function gC(e,t){return e.button===0&&(!t||t==="_self")&&!xC(e)}const yC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],vC=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],bC="6";try{window.__reactRouterVersion=bC}catch{}const wC=y.createContext({isTransitioning:!1}),jC="startTransition",Kh=Nf[jC];function NC(e){let{basename:t,children:s,future:r,window:a}=e,o=y.useRef();o.current==null&&(o.current=NS({window:a,v5Compat:!0}));let i=o.current,[l,d]=y.useState({action:i.action,location:i.location}),{v7_startTransition:c}=r||{},u=y.useCallback(f=>{c&&Kh?Kh(()=>d(f)):d(f)},[d,c]);return y.useLayoutEffect(()=>i.listen(u),[i,u]),y.useEffect(()=>fC(r),[r]),y.createElement(mC,{basename:t,children:s,location:l.location,navigationType:l.action,navigator:i,future:r})}const kC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",SC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ur=y.forwardRef(function(t,s){let{onClick:r,relative:a,reloadDocument:o,replace:i,state:l,target:d,to:c,preventScrollReset:u,viewTransition:f}=t,m=zv(t,yC),{basename:g}=y.useContext(As),x,b=!1;if(typeof c=="string"&&SC.test(c)&&(x=c,kC))try{let w=new URL(window.location.href),j=c.startsWith("//")?new URL(w.protocol+c):new URL(c),k=Fr(j.pathname,g);j.origin===w.origin&&k!=null?c=k+j.search+j.hash:b=!0}catch{}let v=KS(c,{relative:a}),h=PC(c,{replace:i,state:l,target:d,preventScrollReset:u,relative:a,viewTransition:f});function p(w){r&&r(w),w.defaultPrevented||h(w)}return y.createElement("a",fl({},m,{href:x||v,onClick:b||o?r:p,ref:s,target:d}))}),$r=y.forwardRef(function(t,s){let{"aria-current":r="page",caseSensitive:a=!1,className:o="",end:i=!1,style:l,to:d,viewTransition:c,children:u}=t,f=zv(t,vC),m=Ql(d,{relative:f.relative}),g=Es(),x=y.useContext(Iv),{navigator:b,basename:v}=y.useContext(As),h=x!=null&&AC(m)&&c===!0,p=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,w=g.pathname,j=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;a||(w=w.toLowerCase(),j=j?j.toLowerCase():null,p=p.toLowerCase()),j&&v&&(j=Fr(j,v)||j);const k=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let E=w===p||!i&&w.startsWith(p)&&w.charAt(k)==="/",P=j!=null&&(j===p||!i&&j.startsWith(p)&&j.charAt(p.length)==="/"),S={isActive:E,isPending:P,isTransitioning:h},N=E?r:void 0,A;typeof o=="function"?A=o(S):A=[o,E?"active":null,P?"pending":null,h?"transitioning":null].filter(Boolean).join(" ");let _=typeof l=="function"?l(S):l;return y.createElement(Ur,fl({},f,{"aria-current":N,className:A,ref:s,style:_,to:d,viewTransition:c}),typeof u=="function"?u(S):u)});var Du;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Du||(Du={}));var Yh;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Yh||(Yh={}));function CC(e){let t=y.useContext(Yl);return t||we(!1),t}function PC(e,t){let{target:s,replace:r,state:a,preventScrollReset:o,relative:i,viewTransition:l}=t===void 0?{}:t,d=is(),c=Es(),u=Ql(e,{relative:i});return y.useCallback(f=>{if(gC(f,s)){f.preventDefault();let m=r!==void 0?r:ul(c)===ul(u);d(e,{replace:m,state:a,preventScrollReset:o,relative:i,viewTransition:l})}},[c,d,u,r,a,s,e,o,i,l])}function AC(e,t){t===void 0&&(t={});let s=y.useContext(wC);s==null&&we(!1);let{basename:r}=CC(Du.useViewTransitionState),a=Ql(e,{relative:t.relative});if(!s.isTransitioning)return!1;let o=Fr(s.currentLocation.pathname,r)||s.currentLocation.pathname,i=Fr(s.nextLocation.pathname,r)||s.nextLocation.pathname;return Ru(a.pathname,i)!=null||Ru(a.pathname,o)!=null}function Bv(e){var t,s,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(s=Bv(e[t]))&&(r&&(r+=" "),r+=s)}else for(s in e)e[s]&&(r&&(r+=" "),r+=s);return r}function Wv(){for(var e,t,s=0,r="",a=arguments.length;s<a;s++)(e=arguments[s])&&(t=Bv(e))&&(r&&(r+=" "),r+=t);return r}const xp="-",EC=e=>{const t=TC(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const l=i.split(xp);return l[0]===""&&l.length!==1&&l.shift(),qv(l,t)||RC(i)},getConflictingClassGroupIds:(i,l)=>{const d=s[i]||[];return l&&r[i]?[...d,...r[i]]:d}}},qv=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const s=e[0],r=t.nextPart.get(s),a=r?qv(e.slice(1),r):void 0;if(a)return a;if(t.validators.length===0)return;const o=e.join(xp);return(i=t.validators.find(({validator:l})=>l(o)))==null?void 0:i.classGroupId},Xh=/^\[(.+)\]$/,RC=e=>{if(Xh.test(e)){const t=Xh.exec(e)[1],s=t==null?void 0:t.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},TC=e=>{const{theme:t,prefix:s}=e,r={nextPart:new Map,validators:[]};return _C(Object.entries(e.classGroups),s).forEach(([o,i])=>{_u(i,r,o,t)}),r},_u=(e,t,s,r)=>{e.forEach(a=>{if(typeof a=="string"){const o=a===""?t:Qh(t,a);o.classGroupId=s;return}if(typeof a=="function"){if(DC(a)){_u(a(r),t,s,r);return}t.validators.push({validator:a,classGroupId:s});return}Object.entries(a).forEach(([o,i])=>{_u(i,Qh(t,o),s,r)})})},Qh=(e,t)=>{let s=e;return t.split(xp).forEach(r=>{s.nextPart.has(r)||s.nextPart.set(r,{nextPart:new Map,validators:[]}),s=s.nextPart.get(r)}),s},DC=e=>e.isThemeGetter,_C=(e,t)=>t?e.map(([s,r])=>{const a=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,l])=>[t+i,l])):o);return[s,a]}):e,LC=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,r=new Map;const a=(o,i)=>{s.set(o,i),t++,t>e&&(t=0,r=s,s=new Map)};return{get(o){let i=s.get(o);if(i!==void 0)return i;if((i=r.get(o))!==void 0)return a(o,i),i},set(o,i){s.has(o)?s.set(o,i):a(o,i)}}},Hv="!",MC=e=>{const{separator:t,experimentalParseClassName:s}=e,r=t.length===1,a=t[0],o=t.length,i=l=>{const d=[];let c=0,u=0,f;for(let v=0;v<l.length;v++){let h=l[v];if(c===0){if(h===a&&(r||l.slice(v,v+o)===t)){d.push(l.slice(u,v)),u=v+o;continue}if(h==="/"){f=v;continue}}h==="["?c++:h==="]"&&c--}const m=d.length===0?l:l.substring(u),g=m.startsWith(Hv),x=g?m.substring(1):m,b=f&&f>u?f-u:void 0;return{modifiers:d,hasImportantModifier:g,baseClassName:x,maybePostfixModifierPosition:b}};return s?l=>s({className:l,parseClassName:i}):i},IC=e=>{if(e.length<=1)return e;const t=[];let s=[];return e.forEach(r=>{r[0]==="["?(t.push(...s.sort(),r),s=[]):s.push(r)}),t.push(...s.sort()),t},OC=e=>({cache:LC(e.cacheSize),parseClassName:MC(e),...EC(e)}),FC=/\s+/,UC=(e,t)=>{const{parseClassName:s,getClassGroupId:r,getConflictingClassGroupIds:a}=t,o=[],i=e.trim().split(FC);let l="";for(let d=i.length-1;d>=0;d-=1){const c=i[d],{modifiers:u,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:g}=s(c);let x=!!g,b=r(x?m.substring(0,g):m);if(!b){if(!x){l=c+(l.length>0?" "+l:l);continue}if(b=r(m),!b){l=c+(l.length>0?" "+l:l);continue}x=!1}const v=IC(u).join(":"),h=f?v+Hv:v,p=h+b;if(o.includes(p))continue;o.push(p);const w=a(b,x);for(let j=0;j<w.length;++j){const k=w[j];o.push(h+k)}l=c+(l.length>0?" "+l:l)}return l};function $C(){let e=0,t,s,r="";for(;e<arguments.length;)(t=arguments[e++])&&(s=Gv(t))&&(r&&(r+=" "),r+=s);return r}const Gv=e=>{if(typeof e=="string")return e;let t,s="";for(let r=0;r<e.length;r++)e[r]&&(t=Gv(e[r]))&&(s&&(s+=" "),s+=t);return s};function VC(e,...t){let s,r,a,o=i;function i(d){const c=t.reduce((u,f)=>f(u),e());return s=OC(c),r=s.cache.get,a=s.cache.set,o=l,l(d)}function l(d){const c=r(d);if(c)return c;const u=UC(d,s);return a(d,u),u}return function(){return o($C.apply(null,arguments))}}const ue=e=>{const t=s=>s[e]||[];return t.isThemeGetter=!0,t},Kv=/^\[(?:([a-z-]+):)?(.+)\]$/i,zC=/^\d+\/\d+$/,BC=new Set(["px","full","screen"]),WC=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,qC=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,HC=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,GC=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,KC=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,cs=e=>Pr(e)||BC.has(e)||zC.test(e),Ds=e=>Jr(e,"length",sP),Pr=e=>!!e&&!Number.isNaN(Number(e)),sd=e=>Jr(e,"number",Pr),xa=e=>!!e&&Number.isInteger(Number(e)),YC=e=>e.endsWith("%")&&Pr(e.slice(0,-1)),Z=e=>Kv.test(e),_s=e=>WC.test(e),XC=new Set(["length","size","percentage"]),QC=e=>Jr(e,XC,Yv),ZC=e=>Jr(e,"position",Yv),JC=new Set(["image","url"]),eP=e=>Jr(e,JC,rP),tP=e=>Jr(e,"",nP),ga=()=>!0,Jr=(e,t,s)=>{const r=Kv.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):s(r[2]):!1},sP=e=>qC.test(e)&&!HC.test(e),Yv=()=>!1,nP=e=>GC.test(e),rP=e=>KC.test(e),aP=()=>{const e=ue("colors"),t=ue("spacing"),s=ue("blur"),r=ue("brightness"),a=ue("borderColor"),o=ue("borderRadius"),i=ue("borderSpacing"),l=ue("borderWidth"),d=ue("contrast"),c=ue("grayscale"),u=ue("hueRotate"),f=ue("invert"),m=ue("gap"),g=ue("gradientColorStops"),x=ue("gradientColorStopPositions"),b=ue("inset"),v=ue("margin"),h=ue("opacity"),p=ue("padding"),w=ue("saturate"),j=ue("scale"),k=ue("sepia"),E=ue("skew"),P=ue("space"),S=ue("translate"),N=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],_=()=>["auto",Z,t],M=()=>[Z,t],F=()=>["",cs,Ds],I=()=>["auto",Pr,Z],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],H=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],T=()=>["","0",Z],O=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>[Pr,Z];return{cacheSize:500,separator:":",theme:{colors:[ga],spacing:[cs,Ds],blur:["none","",_s,Z],brightness:D(),borderColor:[e],borderRadius:["none","","full",_s,Z],borderSpacing:M(),borderWidth:F(),contrast:D(),grayscale:T(),hueRotate:D(),invert:T(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[YC,Ds],inset:_(),margin:_(),opacity:D(),padding:M(),saturate:D(),scale:D(),sepia:T(),skew:D(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",Z]}],container:["container"],columns:[{columns:[_s]}],"break-after":[{"break-after":O()}],"break-before":[{"break-before":O()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),Z]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",xa,Z]}],basis:[{basis:_()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Z]}],grow:[{grow:T()}],shrink:[{shrink:T()}],order:[{order:["first","last","none",xa,Z]}],"grid-cols":[{"grid-cols":[ga]}],"col-start-end":[{col:["auto",{span:["full",xa,Z]},Z]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[ga]}],"row-start-end":[{row:["auto",{span:[xa,Z]},Z]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Z]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Z]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Z,t]}],"min-w":[{"min-w":[Z,t,"min","max","fit"]}],"max-w":[{"max-w":[Z,t,"none","full","min","max","fit","prose",{screen:[_s]},_s]}],h:[{h:[Z,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Z,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Z,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Z,t,"auto","min","max","fit"]}],"font-size":[{text:["base",_s,Ds]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",sd]}],"font-family":[{font:[ga]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Z]}],"line-clamp":[{"line-clamp":["none",Pr,sd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",cs,Z]}],"list-image":[{"list-image":["none",Z]}],"list-style-type":[{list:["none","disc","decimal",Z]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[h]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[h]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",cs,Ds]}],"underline-offset":[{"underline-offset":["auto",cs,Z]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Z]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Z]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[h]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),ZC]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",QC]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},eP]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[h]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[h]}],"divide-style":[{divide:U()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[cs,Z]}],"outline-w":[{outline:[cs,Ds]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[h]}],"ring-offset-w":[{"ring-offset":[cs,Ds]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",_s,tP]}],"shadow-color":[{shadow:[ga]}],opacity:[{opacity:[h]}],"mix-blend":[{"mix-blend":[...H(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":H()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[r]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",_s,Z]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[h]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Z]}],duration:[{duration:D()}],ease:[{ease:["linear","in","out","in-out",Z]}],delay:[{delay:D()}],animate:[{animate:["none","spin","ping","pulse","bounce",Z]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[xa,Z]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Z]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Z]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Z]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[cs,Ds,sd]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},oP=VC(aP);function Q(...e){return oP(Wv(e))}function Y(e,t,{checkForDefaultPrevented:s=!0}={}){return function(a){if(e==null||e(a),s===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function Zh(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Zl(...e){return t=>{let s=!1;const r=e.map(a=>{const o=Zh(a,t);return!s&&typeof o=="function"&&(s=!0),o});if(s)return()=>{for(let a=0;a<r.length;a++){const o=r[a];typeof o=="function"?o():Zh(e[a],null)}}}}function Ie(...e){return y.useCallback(Zl(...e),e)}function pn(e,t=[]){let s=[];function r(o,i){const l=y.createContext(i),d=s.length;s=[...s,i];const c=f=>{var h;const{scope:m,children:g,...x}=f,b=((h=m==null?void 0:m[e])==null?void 0:h[d])||l,v=y.useMemo(()=>x,Object.values(x));return n.jsx(b.Provider,{value:v,children:g})};c.displayName=o+"Provider";function u(f,m){var b;const g=((b=m==null?void 0:m[e])==null?void 0:b[d])||l,x=y.useContext(g);if(x)return x;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[c,u]}const a=()=>{const o=s.map(i=>y.createContext(i));return function(l){const d=(l==null?void 0:l[e])||o;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return a.scopeName=e,[r,iP(a,...t)]}function iP(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=r.reduce((l,{useScope:d,scopeName:c})=>{const f=d(o)[`__scope${c}`];return{...l,...f}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return s.scopeName=t.scopeName,s}function uo(e){const t=cP(e),s=y.forwardRef((r,a)=>{const{children:o,...i}=r,l=y.Children.toArray(o),d=l.find(uP);if(d){const c=d.props.children,u=l.map(f=>f===d?y.Children.count(c)>1?y.Children.only(null):y.isValidElement(c)?c.props.children:null:f);return n.jsx(t,{...i,ref:a,children:y.isValidElement(c)?y.cloneElement(c,void 0,u):null})}return n.jsx(t,{...i,ref:a,children:o})});return s.displayName=`${e}.Slot`,s}var lP=uo("Slot");function cP(e){const t=y.forwardRef((s,r)=>{const{children:a,...o}=s,i=y.isValidElement(a)?pP(a):void 0,l=Ie(i,r);if(y.isValidElement(a)){const d=fP(o,a.props);return a.type!==y.Fragment&&(d.ref=l),y.cloneElement(a,d)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var dP=Symbol("radix.slottable");function uP(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===dP}function fP(e,t){const s={...t};for(const r in t){const a=e[r],o=t[r];/^on[A-Z]/.test(r)?a&&o?s[r]=(...l)=>{const d=o(...l);return a(...l),d}:a&&(s[r]=a):r==="style"?s[r]={...a,...o}:r==="className"&&(s[r]=[a,o].filter(Boolean).join(" "))}return{...e,...s}}function pP(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function gp(e){const t=e+"CollectionProvider",[s,r]=pn(t),[a,o]=s(t,{collectionRef:{current:null},itemMap:new Map}),i=b=>{const{scope:v,children:h}=b,p=C.useRef(null),w=C.useRef(new Map).current;return n.jsx(a,{scope:v,itemMap:w,collectionRef:p,children:h})};i.displayName=t;const l=e+"CollectionSlot",d=uo(l),c=C.forwardRef((b,v)=>{const{scope:h,children:p}=b,w=o(l,h),j=Ie(v,w.collectionRef);return n.jsx(d,{ref:j,children:p})});c.displayName=l;const u=e+"CollectionItemSlot",f="data-radix-collection-item",m=uo(u),g=C.forwardRef((b,v)=>{const{scope:h,children:p,...w}=b,j=C.useRef(null),k=Ie(v,j),E=o(u,h);return C.useEffect(()=>(E.itemMap.set(j,{ref:j,...w}),()=>void E.itemMap.delete(j))),n.jsx(m,{[f]:"",ref:k,children:p})});g.displayName=u;function x(b){const v=o(e+"CollectionConsumer",b);return C.useCallback(()=>{const p=v.collectionRef.current;if(!p)return[];const w=Array.from(p.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((E,P)=>w.indexOf(E.ref.current)-w.indexOf(P.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:i,Slot:c,ItemSlot:g},x,r]}var mP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],de=mP.reduce((e,t)=>{const s=uo(`Primitive.${t}`),r=y.forwardRef((a,o)=>{const{asChild:i,...l}=a,d=i?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(d,{...l,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function yp(e,t){e&&So.flushSync(()=>e.dispatchEvent(t))}function pt(e){const t=y.useRef(e);return y.useEffect(()=>{t.current=e}),y.useMemo(()=>(...s)=>{var r;return(r=t.current)==null?void 0:r.call(t,...s)},[])}function hP(e,t=globalThis==null?void 0:globalThis.document){const s=pt(e);y.useEffect(()=>{const r=a=>{a.key==="Escape"&&s(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[s,t])}var xP="DismissableLayer",Lu="dismissableLayer.update",gP="dismissableLayer.pointerDownOutside",yP="dismissableLayer.focusOutside",Jh,Xv=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),vp=y.forwardRef((e,t)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...d}=e,c=y.useContext(Xv),[u,f]=y.useState(null),m=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=y.useState({}),x=Ie(t,P=>f(P)),b=Array.from(c.layers),[v]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),h=b.indexOf(v),p=u?b.indexOf(u):-1,w=c.layersWithOutsidePointerEventsDisabled.size>0,j=p>=h,k=bP(P=>{const S=P.target,N=[...c.branches].some(A=>A.contains(S));!j||N||(a==null||a(P),i==null||i(P),P.defaultPrevented||l==null||l())},m),E=wP(P=>{const S=P.target;[...c.branches].some(A=>A.contains(S))||(o==null||o(P),i==null||i(P),P.defaultPrevented||l==null||l())},m);return hP(P=>{p===c.layers.size-1&&(r==null||r(P),!P.defaultPrevented&&l&&(P.preventDefault(),l()))},m),y.useEffect(()=>{if(u)return s&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Jh=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),ex(),()=>{s&&c.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Jh)}},[u,m,s,c]),y.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),ex())},[u,c]),y.useEffect(()=>{const P=()=>g({});return document.addEventListener(Lu,P),()=>document.removeEventListener(Lu,P)},[]),n.jsx(de.div,{...d,ref:x,style:{pointerEvents:w?j?"auto":"none":void 0,...e.style},onFocusCapture:Y(e.onFocusCapture,E.onFocusCapture),onBlurCapture:Y(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Y(e.onPointerDownCapture,k.onPointerDownCapture)})});vp.displayName=xP;var vP="DismissableLayerBranch",Qv=y.forwardRef((e,t)=>{const s=y.useContext(Xv),r=y.useRef(null),a=Ie(t,r);return y.useEffect(()=>{const o=r.current;if(o)return s.branches.add(o),()=>{s.branches.delete(o)}},[s.branches]),n.jsx(de.div,{...e,ref:a})});Qv.displayName=vP;function bP(e,t=globalThis==null?void 0:globalThis.document){const s=pt(e),r=y.useRef(!1),a=y.useRef(()=>{});return y.useEffect(()=>{const o=l=>{if(l.target&&!r.current){let d=function(){Zv(gP,s,c,{discrete:!0})};const c={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=d,t.addEventListener("click",a.current,{once:!0})):d()}else t.removeEventListener("click",a.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,s]),{onPointerDownCapture:()=>r.current=!0}}function wP(e,t=globalThis==null?void 0:globalThis.document){const s=pt(e),r=y.useRef(!1);return y.useEffect(()=>{const a=o=>{o.target&&!r.current&&Zv(yP,s,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,s]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function ex(){const e=new CustomEvent(Lu);document.dispatchEvent(e)}function Zv(e,t,s,{discrete:r}){const a=s.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&a.addEventListener(e,t,{once:!0}),r?yp(a,o):a.dispatchEvent(o)}var jP=vp,NP=Qv,It=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},kP="Portal",bp=y.forwardRef((e,t)=>{var l;const{container:s,...r}=e,[a,o]=y.useState(!1);It(()=>o(!0),[]);const i=s||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?jS.createPortal(n.jsx(de.div,{...r,ref:t}),i):null});bp.displayName=kP;function SP(e,t){return y.useReducer((s,r)=>t[s][r]??s,e)}var ea=e=>{const{present:t,children:s}=e,r=CP(t),a=typeof s=="function"?s({present:r.isPresent}):y.Children.only(s),o=Ie(r.ref,PP(a));return typeof s=="function"||r.isPresent?y.cloneElement(a,{ref:o}):null};ea.displayName="Presence";function CP(e){const[t,s]=y.useState(),r=y.useRef(null),a=y.useRef(e),o=y.useRef("none"),i=e?"mounted":"unmounted",[l,d]=SP(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const c=ai(r.current);o.current=l==="mounted"?c:"none"},[l]),It(()=>{const c=r.current,u=a.current;if(u!==e){const m=o.current,g=ai(c);e?d("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?d("UNMOUNT"):d(u&&m!==g?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,d]),It(()=>{if(t){let c;const u=t.ownerDocument.defaultView??window,f=g=>{const b=ai(r.current).includes(g.animationName);if(g.target===t&&b&&(d("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",c=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},m=g=>{g.target===t&&(o.current=ai(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(c),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:y.useCallback(c=>{r.current=c?getComputedStyle(c):null,s(c)},[])}}function ai(e){return(e==null?void 0:e.animationName)||"none"}function PP(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var AP=Nf[" useInsertionEffect ".trim().toString()]||It;function Jl({prop:e,defaultProp:t,onChange:s=()=>{},caller:r}){const[a,o,i]=EP({defaultProp:t,onChange:s}),l=e!==void 0,d=l?e:a;{const u=y.useRef(e!==void 0);y.useEffect(()=>{const f=u.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,r])}const c=y.useCallback(u=>{var f;if(l){const m=RP(u)?u(e):u;m!==e&&((f=i.current)==null||f.call(i,m))}else o(u)},[l,e,o,i]);return[d,c]}function EP({defaultProp:e,onChange:t}){const[s,r]=y.useState(e),a=y.useRef(s),o=y.useRef(t);return AP(()=>{o.current=t},[t]),y.useEffect(()=>{var i;a.current!==s&&((i=o.current)==null||i.call(o,s),a.current=s)},[s,a]),[s,r,o]}function RP(e){return typeof e=="function"}var TP=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),DP="VisuallyHidden",wp=y.forwardRef((e,t)=>n.jsx(de.span,{...e,ref:t,style:{...TP,...e.style}}));wp.displayName=DP;var jp="ToastProvider",[Np,_P,LP]=gp("Toast"),[Jv]=pn("Toast",[LP]),[MP,ec]=Jv(jp),eb=e=>{const{__scopeToast:t,label:s="Notification",duration:r=5e3,swipeDirection:a="right",swipeThreshold:o=50,children:i}=e,[l,d]=y.useState(null),[c,u]=y.useState(0),f=y.useRef(!1),m=y.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${jp}\`. Expected non-empty \`string\`.`),n.jsx(Np.Provider,{scope:t,children:n.jsx(MP,{scope:t,label:s,duration:r,swipeDirection:a,swipeThreshold:o,toastCount:c,viewport:l,onViewportChange:d,onToastAdd:y.useCallback(()=>u(g=>g+1),[]),onToastRemove:y.useCallback(()=>u(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:i})})};eb.displayName=jp;var tb="ToastViewport",IP=["F8"],Mu="toast.viewportPause",Iu="toast.viewportResume",sb=y.forwardRef((e,t)=>{const{__scopeToast:s,hotkey:r=IP,label:a="Notifications ({hotkey})",...o}=e,i=ec(tb,s),l=_P(s),d=y.useRef(null),c=y.useRef(null),u=y.useRef(null),f=y.useRef(null),m=Ie(t,f,i.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=i.toastCount>0;y.useEffect(()=>{const v=h=>{var w;r.length!==0&&r.every(j=>h[j]||h.code===j)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[r]),y.useEffect(()=>{const v=d.current,h=f.current;if(x&&v&&h){const p=()=>{if(!i.isClosePausedRef.current){const E=new CustomEvent(Mu);h.dispatchEvent(E),i.isClosePausedRef.current=!0}},w=()=>{if(i.isClosePausedRef.current){const E=new CustomEvent(Iu);h.dispatchEvent(E),i.isClosePausedRef.current=!1}},j=E=>{!v.contains(E.relatedTarget)&&w()},k=()=>{v.contains(document.activeElement)||w()};return v.addEventListener("focusin",p),v.addEventListener("focusout",j),v.addEventListener("pointermove",p),v.addEventListener("pointerleave",k),window.addEventListener("blur",p),window.addEventListener("focus",w),()=>{v.removeEventListener("focusin",p),v.removeEventListener("focusout",j),v.removeEventListener("pointermove",p),v.removeEventListener("pointerleave",k),window.removeEventListener("blur",p),window.removeEventListener("focus",w)}}},[x,i.isClosePausedRef]);const b=y.useCallback(({tabbingDirection:v})=>{const p=l().map(w=>{const j=w.ref.current,k=[j,...YP(j)];return v==="forwards"?k:k.reverse()});return(v==="forwards"?p.reverse():p).flat()},[l]);return y.useEffect(()=>{const v=f.current;if(v){const h=p=>{var k,E,P;const w=p.altKey||p.ctrlKey||p.metaKey;if(p.key==="Tab"&&!w){const S=document.activeElement,N=p.shiftKey;if(p.target===v&&N){(k=c.current)==null||k.focus();return}const M=b({tabbingDirection:N?"backwards":"forwards"}),F=M.findIndex(I=>I===S);nd(M.slice(F+1))?p.preventDefault():N?(E=c.current)==null||E.focus():(P=u.current)==null||P.focus()}};return v.addEventListener("keydown",h),()=>v.removeEventListener("keydown",h)}},[l,b]),n.jsxs(NP,{ref:d,role:"region","aria-label":a.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&n.jsx(Ou,{ref:c,onFocusFromOutsideViewport:()=>{const v=b({tabbingDirection:"forwards"});nd(v)}}),n.jsx(Np.Slot,{scope:s,children:n.jsx(de.ol,{tabIndex:-1,...o,ref:m})}),x&&n.jsx(Ou,{ref:u,onFocusFromOutsideViewport:()=>{const v=b({tabbingDirection:"backwards"});nd(v)}})]})});sb.displayName=tb;var nb="ToastFocusProxy",Ou=y.forwardRef((e,t)=>{const{__scopeToast:s,onFocusFromOutsideViewport:r,...a}=e,o=ec(nb,s);return n.jsx(wp,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:i=>{var c;const l=i.relatedTarget;!((c=o.viewport)!=null&&c.contains(l))&&r()}})});Ou.displayName=nb;var Co="Toast",OP="toast.swipeStart",FP="toast.swipeMove",UP="toast.swipeCancel",$P="toast.swipeEnd",rb=y.forwardRef((e,t)=>{const{forceMount:s,open:r,defaultOpen:a,onOpenChange:o,...i}=e,[l,d]=Jl({prop:r,defaultProp:a??!0,onChange:o,caller:Co});return n.jsx(ea,{present:s||l,children:n.jsx(BP,{open:l,...i,ref:t,onClose:()=>d(!1),onPause:pt(e.onPause),onResume:pt(e.onResume),onSwipeStart:Y(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Y(e.onSwipeMove,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Y(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Y(e.onSwipeEnd,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),d(!1)})})})});rb.displayName=Co;var[VP,zP]=Jv(Co,{onClose(){}}),BP=y.forwardRef((e,t)=>{const{__scopeToast:s,type:r="foreground",duration:a,open:o,onClose:i,onEscapeKeyDown:l,onPause:d,onResume:c,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:g,...x}=e,b=ec(Co,s),[v,h]=y.useState(null),p=Ie(t,I=>h(I)),w=y.useRef(null),j=y.useRef(null),k=a||b.duration,E=y.useRef(0),P=y.useRef(k),S=y.useRef(0),{onToastAdd:N,onToastRemove:A}=b,_=pt(()=>{var B;(v==null?void 0:v.contains(document.activeElement))&&((B=b.viewport)==null||B.focus()),i()}),M=y.useCallback(I=>{!I||I===1/0||(window.clearTimeout(S.current),E.current=new Date().getTime(),S.current=window.setTimeout(_,I))},[_]);y.useEffect(()=>{const I=b.viewport;if(I){const B=()=>{M(P.current),c==null||c()},U=()=>{const H=new Date().getTime()-E.current;P.current=P.current-H,window.clearTimeout(S.current),d==null||d()};return I.addEventListener(Mu,U),I.addEventListener(Iu,B),()=>{I.removeEventListener(Mu,U),I.removeEventListener(Iu,B)}}},[b.viewport,k,d,c,M]),y.useEffect(()=>{o&&!b.isClosePausedRef.current&&M(k)},[o,k,b.isClosePausedRef,M]),y.useEffect(()=>(N(),()=>A()),[N,A]);const F=y.useMemo(()=>v?ub(v):null,[v]);return b.viewport?n.jsxs(n.Fragment,{children:[F&&n.jsx(WP,{__scopeToast:s,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:F}),n.jsx(VP,{scope:s,onClose:_,children:So.createPortal(n.jsx(Np.ItemSlot,{scope:s,children:n.jsx(jP,{asChild:!0,onEscapeKeyDown:Y(l,()=>{b.isFocusedToastEscapeKeyDownRef.current||_(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(de.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":b.swipeDirection,...x,ref:p,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Y(e.onKeyDown,I=>{I.key==="Escape"&&(l==null||l(I.nativeEvent),I.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,_()))}),onPointerDown:Y(e.onPointerDown,I=>{I.button===0&&(w.current={x:I.clientX,y:I.clientY})}),onPointerMove:Y(e.onPointerMove,I=>{if(!w.current)return;const B=I.clientX-w.current.x,U=I.clientY-w.current.y,H=!!j.current,R=["left","right"].includes(b.swipeDirection),T=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,O=R?T(0,B):0,D=R?0:T(0,U),W=I.pointerType==="touch"?10:2,oe={x:O,y:D},re={originalEvent:I,delta:oe};H?(j.current=oe,oi(FP,f,re,{discrete:!1})):tx(oe,b.swipeDirection,W)?(j.current=oe,oi(OP,u,re,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(B)>W||Math.abs(U)>W)&&(w.current=null)}),onPointerUp:Y(e.onPointerUp,I=>{const B=j.current,U=I.target;if(U.hasPointerCapture(I.pointerId)&&U.releasePointerCapture(I.pointerId),j.current=null,w.current=null,B){const H=I.currentTarget,R={originalEvent:I,delta:B};tx(B,b.swipeDirection,b.swipeThreshold)?oi($P,g,R,{discrete:!0}):oi(UP,m,R,{discrete:!0}),H.addEventListener("click",T=>T.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),WP=e=>{const{__scopeToast:t,children:s,...r}=e,a=ec(Co,t),[o,i]=y.useState(!1),[l,d]=y.useState(!1);return GP(()=>i(!0)),y.useEffect(()=>{const c=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(c)},[]),l?null:n.jsx(bp,{asChild:!0,children:n.jsx(wp,{...r,children:o&&n.jsxs(n.Fragment,{children:[a.label," ",s]})})})},qP="ToastTitle",ab=y.forwardRef((e,t)=>{const{__scopeToast:s,...r}=e;return n.jsx(de.div,{...r,ref:t})});ab.displayName=qP;var HP="ToastDescription",ob=y.forwardRef((e,t)=>{const{__scopeToast:s,...r}=e;return n.jsx(de.div,{...r,ref:t})});ob.displayName=HP;var ib="ToastAction",lb=y.forwardRef((e,t)=>{const{altText:s,...r}=e;return s.trim()?n.jsx(db,{altText:s,asChild:!0,children:n.jsx(kp,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${ib}\`. Expected non-empty \`string\`.`),null)});lb.displayName=ib;var cb="ToastClose",kp=y.forwardRef((e,t)=>{const{__scopeToast:s,...r}=e,a=zP(cb,s);return n.jsx(db,{asChild:!0,children:n.jsx(de.button,{type:"button",...r,ref:t,onClick:Y(e.onClick,a.onClose)})})});kp.displayName=cb;var db=y.forwardRef((e,t)=>{const{__scopeToast:s,altText:r,...a}=e;return n.jsx(de.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...a,ref:t})});function ub(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),KP(r)){const a=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!a)if(o){const i=r.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...ub(r))}}),t}function oi(e,t,s,{discrete:r}){const a=s.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s});t&&a.addEventListener(e,t,{once:!0}),r?yp(a,o):a.dispatchEvent(o)}var tx=(e,t,s=0)=>{const r=Math.abs(e.x),a=Math.abs(e.y),o=r>a;return t==="left"||t==="right"?o&&r>s:!o&&a>s};function GP(e=()=>{}){const t=pt(e);It(()=>{let s=0,r=0;return s=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(r)}},[t])}function KP(e){return e.nodeType===e.ELEMENT_NODE}function YP(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function nd(e){const t=document.activeElement;return e.some(s=>s===t?!0:(s.focus(),document.activeElement!==t))}var XP=eb,fb=sb,pb=rb,mb=ab,hb=ob,xb=lb,gb=kp;const sx=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,nx=Wv,Sp=(e,t)=>s=>{var r;if((t==null?void 0:t.variants)==null)return nx(e,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:a,defaultVariants:o}=t,i=Object.keys(a).map(c=>{const u=s==null?void 0:s[c],f=o==null?void 0:o[c];if(u===null)return null;const m=sx(u)||sx(f);return a[c][m]}),l=s&&Object.entries(s).reduce((c,u)=>{let[f,m]=u;return m===void 0||(c[f]=m),c},{}),d=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:f,className:m,...g}=u;return Object.entries(g).every(x=>{let[b,v]=x;return Array.isArray(v)?v.includes({...o,...l}[b]):{...o,...l}[b]===v})?[...c,f,m]:c},[]);return nx(e,i,d,s==null?void 0:s.class,s==null?void 0:s.className)};var QP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ZP=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),q=(e,t)=>{const s=y.forwardRef(({color:r="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:i,children:l,...d},c)=>y.createElement("svg",{ref:c,...QP,width:a,height:a,stroke:r,strokeWidth:i?Number(o)*24/Number(a):o,className:`lucide lucide-${ZP(e)}`,...d},[...t.map(([u,f])=>y.createElement(u,f)),...(Array.isArray(l)?l:[l])||[]]));return s.displayName=`${e}`,s},Cp=q("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Fu=q("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),yb=q("AlertOctagon",[["polygon",{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2",key:"h1p8hx"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),mn=q("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),JP=q("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),eA=q("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Pp=q("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),vb=q("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),tA=q("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),sA=q("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),nA=q("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.25V14",key:"re2vv1"}],["path",{d:"M22 16a6 6 0 1 1-12 0 6 6 0 0 1 12 0Z",key:"ame013"}]]),rA=q("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Ap=q("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),aA=q("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),bb=q("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Ep=q("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),oA=q("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),wb=q("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),jb=q("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),Nb=q("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),iA=q("CloudCog",[["circle",{cx:"12",cy:"17",r:"3",key:"1spfwm"}],["path",{d:"M4.2 15.1A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.2",key:"zaobp"}],["path",{d:"m15.7 18.4-.9-.3",key:"4qxpbn"}],["path",{d:"m9.2 15.9-.9-.3",key:"17q7o2"}],["path",{d:"m10.6 20.7.3-.9",key:"1pf4s2"}],["path",{d:"m13.1 14.2.3-.9",key:"1mnuqm"}],["path",{d:"m13.6 20.7-.4-1",key:"1jpd1m"}],["path",{d:"m10.8 14.3-.4-1",key:"17ugyy"}],["path",{d:"m8.3 18.6 1-.4",key:"s42vdx"}],["path",{d:"m14.7 15.8 1-.4",key:"2wizun"}]]),lA=q("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]),cA=q("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),kb=q("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),dA=q("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),rx=q("DownloadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m8 17 4 4 4-4",key:"1ul180"}]]),uA=q("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Sb=q("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),Uu=q("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),$u=q("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),tc=q("FilePlus2",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7.5L14.5 2H6a2 2 0 0 0-2 2v4",key:"702lig"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M3 15h6",key:"4e2qda"}],["path",{d:"M6 12v6",key:"1u72j0"}]]),fA=q("FileSearch",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7.5L14.5 2H6a2 2 0 0 0-2 2v3",key:"am10z3"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M5 17a3 3 0 1 0 0-6 3 3 0 0 0 0 6z",key:"ychnub"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}]]),Cb=q("FileSignature",[["path",{d:"M20 19.5v.5a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8.5L18 5.5",key:"kd5d3"}],["path",{d:"M8 18h1",key:"13wk12"}],["path",{d:"M18.42 9.61a2.1 2.1 0 1 1 2.97 2.97L16.95 17 13 18l.99-3.95 4.43-4.44Z",key:"johvi5"}]]),Vr=q("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Pb=q("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Ab=q("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),pA=q("GaugeCircle",[["path",{d:"M15.6 2.7a10 10 0 1 0 5.7 5.7",key:"1e0p6d"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M13.4 10.6 19 5",key:"1kr7tw"}]]),ax=q("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]),mA=q("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),sc=q("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]),hA=q("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),xA=q("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),gA=q("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),yA=q("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]),Ns=q("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Eb=q("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),vA=q("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),bA=q("MailPlus",[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8",key:"12jkf8"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M16 19h6",key:"xwg31i"}]]),Rb=q("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),wA=q("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),jA=q("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),nc=q("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),rc=q("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),NA=q("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]),kA=q("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]),SA=q("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Rp=q("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ta=q("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),gt=q("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),CA=q("ShieldHalf",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 22V2",key:"zs6s6o"}]]),PA=q("ShieldPlus",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M8 11h8",key:"vwpz6n"}],["path",{d:"M12 15V7",key:"1ycneb"}]]),zr=q("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),Qe=q("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),AA=q("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),EA=q("UserCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),RA=q("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Tb=q("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),pl=q("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Re=q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ox=q("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),TA=XP,Db=C.forwardRef(({className:e,...t},s)=>n.jsx(fb,{ref:s,className:Q("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Db.displayName=fb.displayName;const DA=Sp("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),_b=C.forwardRef(({className:e,variant:t,...s},r)=>n.jsx(pb,{ref:r,className:Q(DA({variant:t}),e),...s}));_b.displayName=pb.displayName;const _A=C.forwardRef(({className:e,...t},s)=>n.jsx(xb,{ref:s,className:Q("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));_A.displayName=xb.displayName;const Lb=C.forwardRef(({className:e,...t},s)=>n.jsx(gb,{ref:s,className:Q("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:n.jsx(Re,{className:"h-4 w-4"})}));Lb.displayName=gb.displayName;const Mb=C.forwardRef(({className:e,...t},s)=>n.jsx(mb,{ref:s,className:Q("text-sm font-semibold",e),...t}));Mb.displayName=mb.displayName;const Ib=C.forwardRef(({className:e,...t},s)=>n.jsx(hb,{ref:s,className:Q("text-sm opacity-90",e),...t}));Ib.displayName=hb.displayName;const LA=1;let rd=0;function MA(){return rd=(rd+1)%Number.MAX_VALUE,rd.toString()}const Ze={state:{toasts:[]},listeners:[],getState:()=>Ze.state,setState:e=>{typeof e=="function"?Ze.state=e(Ze.state):Ze.state={...Ze.state,...e},Ze.listeners.forEach(t=>t(Ze.state))},subscribe:e=>(Ze.listeners.push(e),()=>{Ze.listeners=Ze.listeners.filter(t=>t!==e)})},IA=({...e})=>{const t=MA(),s=a=>Ze.setState(o=>({...o,toasts:o.toasts.map(i=>i.id===t?{...i,...a}:i)})),r=()=>Ze.setState(a=>({...a,toasts:a.toasts.filter(o=>o.id!==t)}));return Ze.setState(a=>({...a,toasts:[{...e,id:t,dismiss:r},...a.toasts].slice(0,LA)})),{id:t,dismiss:r,update:s}};function St(){const[e,t]=y.useState(Ze.getState());return y.useEffect(()=>Ze.subscribe(r=>{t(r)}),[]),y.useEffect(()=>{const s=[];return e.toasts.forEach(r=>{if(r.duration===1/0)return;const a=setTimeout(()=>{r.dismiss()},r.duration||5e3);s.push(a)}),()=>{s.forEach(r=>clearTimeout(r))}},[e.toasts]),{toast:IA,toasts:e.toasts}}function OA(){const{toasts:e}=St();return n.jsxs(TA,{children:[e.map(({id:t,title:s,description:r,action:a,...o})=>n.jsxs(_b,{...o,children:[n.jsxs("div",{className:"grid gap-1",children:[s&&n.jsx(Mb,{children:s}),r&&n.jsx(Ib,{children:r})]}),a,n.jsx(Lb,{})]},t)),n.jsx(Db,{})]})}const FA=y.createContext(),UA=({children:e})=>{const[t,s]=y.useState(()=>{const a=localStorage.getItem("aura-theme");return a||"light"});y.useEffect(()=>{localStorage.setItem("aura-theme",t),document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(t)},[t]);const r=()=>{s(a=>a==="light"?"dark":"light")};return n.jsx(FA.Provider,{value:{theme:t,toggleTheme:r},children:e})};function Ob(e,t){return function(){return e.apply(t,arguments)}}const{toString:$A}=Object.prototype,{getPrototypeOf:Tp}=Object,{iterator:ac,toStringTag:Fb}=Symbol,oc=(e=>t=>{const s=$A.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Ht=e=>(e=e.toLowerCase(),t=>oc(t)===e),ic=e=>t=>typeof t===e,{isArray:sa}=Array,Br=ic("undefined");function Po(e){return e!==null&&!Br(e)&&e.constructor!==null&&!Br(e.constructor)&&ut(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Ub=Ht("ArrayBuffer");function VA(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Ub(e.buffer),t}const zA=ic("string"),ut=ic("function"),$b=ic("number"),Ao=e=>e!==null&&typeof e=="object",BA=e=>e===!0||e===!1,Ti=e=>{if(oc(e)!=="object")return!1;const t=Tp(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Fb in e)&&!(ac in e)},WA=e=>{if(!Ao(e)||Po(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},qA=Ht("Date"),HA=Ht("File"),GA=Ht("Blob"),KA=Ht("FileList"),YA=e=>Ao(e)&&ut(e.pipe),XA=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ut(e.append)&&((t=oc(e))==="formdata"||t==="object"&&ut(e.toString)&&e.toString()==="[object FormData]"))},QA=Ht("URLSearchParams"),[ZA,JA,eE,tE]=["ReadableStream","Request","Response","Headers"].map(Ht),sE=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Eo(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let r,a;if(typeof e!="object"&&(e=[e]),sa(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{if(Po(e))return;const o=s?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let l;for(r=0;r<i;r++)l=o[r],t.call(null,e[l],l,e)}}function Vb(e,t){if(Po(e))return null;t=t.toLowerCase();const s=Object.keys(e);let r=s.length,a;for(;r-- >0;)if(a=s[r],t===a.toLowerCase())return a;return null}const Pn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,zb=e=>!Br(e)&&e!==Pn;function Vu(){const{caseless:e,skipUndefined:t}=zb(this)&&this||{},s={},r=(a,o)=>{const i=e&&Vb(s,o)||o;Ti(s[i])&&Ti(a)?s[i]=Vu(s[i],a):Ti(a)?s[i]=Vu({},a):sa(a)?s[i]=a.slice():(!t||!Br(a))&&(s[i]=a)};for(let a=0,o=arguments.length;a<o;a++)arguments[a]&&Eo(arguments[a],r);return s}const nE=(e,t,s,{allOwnKeys:r}={})=>(Eo(t,(a,o)=>{s&&ut(a)?e[o]=Ob(a,s):e[o]=a},{allOwnKeys:r}),e),rE=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),aE=(e,t,s,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},oE=(e,t,s,r)=>{let a,o,i;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),o=a.length;o-- >0;)i=a[o],(!r||r(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=s!==!1&&Tp(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},iE=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const r=e.indexOf(t,s);return r!==-1&&r===s},lE=e=>{if(!e)return null;if(sa(e))return e;let t=e.length;if(!$b(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},cE=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Tp(Uint8Array)),dE=(e,t)=>{const r=(e&&e[ac]).call(e);let a;for(;(a=r.next())&&!a.done;){const o=a.value;t.call(e,o[0],o[1])}},uE=(e,t)=>{let s;const r=[];for(;(s=e.exec(t))!==null;)r.push(s);return r},fE=Ht("HTMLFormElement"),pE=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,r,a){return r.toUpperCase()+a}),ix=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),mE=Ht("RegExp"),Bb=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),r={};Eo(s,(a,o)=>{let i;(i=t(a,o,e))!==!1&&(r[o]=i||a)}),Object.defineProperties(e,r)},hE=e=>{Bb(e,(t,s)=>{if(ut(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const r=e[s];if(ut(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},xE=(e,t)=>{const s={},r=a=>{a.forEach(o=>{s[o]=!0})};return sa(e)?r(e):r(String(e).split(t)),s},gE=()=>{},yE=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function vE(e){return!!(e&&ut(e.append)&&e[Fb]==="FormData"&&e[ac])}const bE=e=>{const t=new Array(10),s=(r,a)=>{if(Ao(r)){if(t.indexOf(r)>=0)return;if(Po(r))return r;if(!("toJSON"in r)){t[a]=r;const o=sa(r)?[]:{};return Eo(r,(i,l)=>{const d=s(i,a+1);!Br(d)&&(o[l]=d)}),t[a]=void 0,o}}return r};return s(e,0)},wE=Ht("AsyncFunction"),jE=e=>e&&(Ao(e)||ut(e))&&ut(e.then)&&ut(e.catch),Wb=((e,t)=>e?setImmediate:t?((s,r)=>(Pn.addEventListener("message",({source:a,data:o})=>{a===Pn&&o===s&&r.length&&r.shift()()},!1),a=>{r.push(a),Pn.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",ut(Pn.postMessage)),NE=typeof queueMicrotask<"u"?queueMicrotask.bind(Pn):typeof process<"u"&&process.nextTick||Wb,kE=e=>e!=null&&ut(e[ac]),L={isArray:sa,isArrayBuffer:Ub,isBuffer:Po,isFormData:XA,isArrayBufferView:VA,isString:zA,isNumber:$b,isBoolean:BA,isObject:Ao,isPlainObject:Ti,isEmptyObject:WA,isReadableStream:ZA,isRequest:JA,isResponse:eE,isHeaders:tE,isUndefined:Br,isDate:qA,isFile:HA,isBlob:GA,isRegExp:mE,isFunction:ut,isStream:YA,isURLSearchParams:QA,isTypedArray:cE,isFileList:KA,forEach:Eo,merge:Vu,extend:nE,trim:sE,stripBOM:rE,inherits:aE,toFlatObject:oE,kindOf:oc,kindOfTest:Ht,endsWith:iE,toArray:lE,forEachEntry:dE,matchAll:uE,isHTMLForm:fE,hasOwnProperty:ix,hasOwnProp:ix,reduceDescriptors:Bb,freezeMethods:hE,toObjectSet:xE,toCamelCase:pE,noop:gE,toFiniteNumber:yE,findKey:Vb,global:Pn,isContextDefined:zb,isSpecCompliantForm:vE,toJSONObject:bE,isAsyncFn:wE,isThenable:jE,setImmediate:Wb,asap:NE,isIterable:kE};function X(e,t,s,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}L.inherits(X,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:L.toJSONObject(this.config),code:this.code,status:this.status}}});const qb=X.prototype,Hb={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Hb[e]={value:e}});Object.defineProperties(X,Hb);Object.defineProperty(qb,"isAxiosError",{value:!0});X.from=(e,t,s,r,a,o)=>{const i=Object.create(qb);L.toFlatObject(e,i,function(u){return u!==Error.prototype},c=>c!=="isAxiosError");const l=e&&e.message?e.message:"Error",d=t==null&&e?e.code:t;return X.call(i,l,d,s,r,a),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",o&&Object.assign(i,o),i};const SE=null;function zu(e){return L.isPlainObject(e)||L.isArray(e)}function Gb(e){return L.endsWith(e,"[]")?e.slice(0,-2):e}function lx(e,t,s){return e?e.concat(t).map(function(a,o){return a=Gb(a),!s&&o?"["+a+"]":a}).join(s?".":""):t}function CE(e){return L.isArray(e)&&!e.some(zu)}const PE=L.toFlatObject(L,{},null,function(t){return/^is[A-Z]/.test(t)});function lc(e,t,s){if(!L.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=L.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,v){return!L.isUndefined(v[b])});const r=s.metaTokens,a=s.visitor||u,o=s.dots,i=s.indexes,d=(s.Blob||typeof Blob<"u"&&Blob)&&L.isSpecCompliantForm(t);if(!L.isFunction(a))throw new TypeError("visitor must be a function");function c(x){if(x===null)return"";if(L.isDate(x))return x.toISOString();if(L.isBoolean(x))return x.toString();if(!d&&L.isBlob(x))throw new X("Blob is not supported. Use a Buffer instead.");return L.isArrayBuffer(x)||L.isTypedArray(x)?d&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function u(x,b,v){let h=x;if(x&&!v&&typeof x=="object"){if(L.endsWith(b,"{}"))b=r?b:b.slice(0,-2),x=JSON.stringify(x);else if(L.isArray(x)&&CE(x)||(L.isFileList(x)||L.endsWith(b,"[]"))&&(h=L.toArray(x)))return b=Gb(b),h.forEach(function(w,j){!(L.isUndefined(w)||w===null)&&t.append(i===!0?lx([b],j,o):i===null?b:b+"[]",c(w))}),!1}return zu(x)?!0:(t.append(lx(v,b,o),c(x)),!1)}const f=[],m=Object.assign(PE,{defaultVisitor:u,convertValue:c,isVisitable:zu});function g(x,b){if(!L.isUndefined(x)){if(f.indexOf(x)!==-1)throw Error("Circular reference detected in "+b.join("."));f.push(x),L.forEach(x,function(h,p){(!(L.isUndefined(h)||h===null)&&a.call(t,h,L.isString(p)?p.trim():p,b,m))===!0&&g(h,b?b.concat(p):[p])}),f.pop()}}if(!L.isObject(e))throw new TypeError("data must be an object");return g(e),t}function cx(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Dp(e,t){this._pairs=[],e&&lc(e,this,t)}const Kb=Dp.prototype;Kb.append=function(t,s){this._pairs.push([t,s])};Kb.toString=function(t){const s=t?function(r){return t.call(this,r,cx)}:cx;return this._pairs.map(function(a){return s(a[0])+"="+s(a[1])},"").join("&")};function AE(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Yb(e,t,s){if(!t)return e;const r=s&&s.encode||AE;L.isFunction(s)&&(s={serialize:s});const a=s&&s.serialize;let o;if(a?o=a(t,s):o=L.isURLSearchParams(t)?t.toString():new Dp(t,s).toString(r),o){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class dx{constructor(){this.handlers=[]}use(t,s,r){return this.handlers.push({fulfilled:t,rejected:s,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){L.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Xb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},EE=typeof URLSearchParams<"u"?URLSearchParams:Dp,RE=typeof FormData<"u"?FormData:null,TE=typeof Blob<"u"?Blob:null,DE={isBrowser:!0,classes:{URLSearchParams:EE,FormData:RE,Blob:TE},protocols:["http","https","file","blob","url","data"]},_p=typeof window<"u"&&typeof document<"u",Bu=typeof navigator=="object"&&navigator||void 0,_E=_p&&(!Bu||["ReactNative","NativeScript","NS"].indexOf(Bu.product)<0),LE=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ME=_p&&window.location.href||"http://localhost",IE=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:_p,hasStandardBrowserEnv:_E,hasStandardBrowserWebWorkerEnv:LE,navigator:Bu,origin:ME},Symbol.toStringTag,{value:"Module"})),Ye={...IE,...DE};function OE(e,t){return lc(e,new Ye.classes.URLSearchParams,{visitor:function(s,r,a,o){return Ye.isNode&&L.isBuffer(s)?(this.append(r,s.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function FE(e){return L.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function UE(e){const t={},s=Object.keys(e);let r;const a=s.length;let o;for(r=0;r<a;r++)o=s[r],t[o]=e[o];return t}function Qb(e){function t(s,r,a,o){let i=s[o++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),d=o>=s.length;return i=!i&&L.isArray(a)?a.length:i,d?(L.hasOwnProp(a,i)?a[i]=[a[i],r]:a[i]=r,!l):((!a[i]||!L.isObject(a[i]))&&(a[i]=[]),t(s,r,a[i],o)&&L.isArray(a[i])&&(a[i]=UE(a[i])),!l)}if(L.isFormData(e)&&L.isFunction(e.entries)){const s={};return L.forEachEntry(e,(r,a)=>{t(FE(r),a,s,0)}),s}return null}function $E(e,t,s){if(L.isString(e))try{return(t||JSON.parse)(e),L.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(s||JSON.stringify)(e)}const Ro={transitional:Xb,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const r=s.getContentType()||"",a=r.indexOf("application/json")>-1,o=L.isObject(t);if(o&&L.isHTMLForm(t)&&(t=new FormData(t)),L.isFormData(t))return a?JSON.stringify(Qb(t)):t;if(L.isArrayBuffer(t)||L.isBuffer(t)||L.isStream(t)||L.isFile(t)||L.isBlob(t)||L.isReadableStream(t))return t;if(L.isArrayBufferView(t))return t.buffer;if(L.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return OE(t,this.formSerializer).toString();if((l=L.isFileList(t))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return lc(l?{"files[]":t}:t,d&&new d,this.formSerializer)}}return o||a?(s.setContentType("application/json",!1),$E(t)):t}],transformResponse:[function(t){const s=this.transitional||Ro.transitional,r=s&&s.forcedJSONParsing,a=this.responseType==="json";if(L.isResponse(t)||L.isReadableStream(t))return t;if(t&&L.isString(t)&&(r&&!this.responseType||a)){const i=!(s&&s.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(i)throw l.name==="SyntaxError"?X.from(l,X.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ye.classes.FormData,Blob:Ye.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};L.forEach(["delete","get","head","post","put","patch"],e=>{Ro.headers[e]={}});const VE=L.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),zE=e=>{const t={};let s,r,a;return e&&e.split(`
`).forEach(function(i){a=i.indexOf(":"),s=i.substring(0,a).trim().toLowerCase(),r=i.substring(a+1).trim(),!(!s||t[s]&&VE[s])&&(s==="set-cookie"?t[s]?t[s].push(r):t[s]=[r]:t[s]=t[s]?t[s]+", "+r:r)}),t},ux=Symbol("internals");function ya(e){return e&&String(e).trim().toLowerCase()}function Di(e){return e===!1||e==null?e:L.isArray(e)?e.map(Di):String(e)}function BE(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=s.exec(e);)t[r[1]]=r[2];return t}const WE=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ad(e,t,s,r,a){if(L.isFunction(r))return r.call(this,t,s);if(a&&(t=s),!!L.isString(t)){if(L.isString(r))return t.indexOf(r)!==-1;if(L.isRegExp(r))return r.test(t)}}function qE(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,r)=>s.toUpperCase()+r)}function HE(e,t){const s=L.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+s,{value:function(a,o,i){return this[r].call(this,t,a,o,i)},configurable:!0})})}let ft=class{constructor(t){t&&this.set(t)}set(t,s,r){const a=this;function o(l,d,c){const u=ya(d);if(!u)throw new Error("header name must be a non-empty string");const f=L.findKey(a,u);(!f||a[f]===void 0||c===!0||c===void 0&&a[f]!==!1)&&(a[f||d]=Di(l))}const i=(l,d)=>L.forEach(l,(c,u)=>o(c,u,d));if(L.isPlainObject(t)||t instanceof this.constructor)i(t,s);else if(L.isString(t)&&(t=t.trim())&&!WE(t))i(zE(t),s);else if(L.isObject(t)&&L.isIterable(t)){let l={},d,c;for(const u of t){if(!L.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[c=u[0]]=(d=l[c])?L.isArray(d)?[...d,u[1]]:[d,u[1]]:u[1]}i(l,s)}else t!=null&&o(s,t,r);return this}get(t,s){if(t=ya(t),t){const r=L.findKey(this,t);if(r){const a=this[r];if(!s)return a;if(s===!0)return BE(a);if(L.isFunction(s))return s.call(this,a,r);if(L.isRegExp(s))return s.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=ya(t),t){const r=L.findKey(this,t);return!!(r&&this[r]!==void 0&&(!s||ad(this,this[r],r,s)))}return!1}delete(t,s){const r=this;let a=!1;function o(i){if(i=ya(i),i){const l=L.findKey(r,i);l&&(!s||ad(r,r[l],l,s))&&(delete r[l],a=!0)}}return L.isArray(t)?t.forEach(o):o(t),a}clear(t){const s=Object.keys(this);let r=s.length,a=!1;for(;r--;){const o=s[r];(!t||ad(this,this[o],o,t,!0))&&(delete this[o],a=!0)}return a}normalize(t){const s=this,r={};return L.forEach(this,(a,o)=>{const i=L.findKey(r,o);if(i){s[i]=Di(a),delete s[o];return}const l=t?qE(o):String(o).trim();l!==o&&delete s[o],s[l]=Di(a),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return L.forEach(this,(r,a)=>{r!=null&&r!==!1&&(s[a]=t&&L.isArray(r)?r.join(", "):r)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const r=new this(t);return s.forEach(a=>r.set(a)),r}static accessor(t){const r=(this[ux]=this[ux]={accessors:{}}).accessors,a=this.prototype;function o(i){const l=ya(i);r[l]||(HE(a,i),r[l]=!0)}return L.isArray(t)?t.forEach(o):o(t),this}};ft.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);L.reduceDescriptors(ft.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[s]=r}}});L.freezeMethods(ft);function od(e,t){const s=this||Ro,r=t||s,a=ft.from(r.headers);let o=r.data;return L.forEach(e,function(l){o=l.call(s,o,a.normalize(),t?t.status:void 0)}),a.normalize(),o}function Zb(e){return!!(e&&e.__CANCEL__)}function na(e,t,s){X.call(this,e??"canceled",X.ERR_CANCELED,t,s),this.name="CanceledError"}L.inherits(na,X,{__CANCEL__:!0});function Jb(e,t,s){const r=s.config.validateStatus;!s.status||!r||r(s.status)?e(s):t(new X("Request failed with status code "+s.status,[X.ERR_BAD_REQUEST,X.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function GE(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function KE(e,t){e=e||10;const s=new Array(e),r=new Array(e);let a=0,o=0,i;return t=t!==void 0?t:1e3,function(d){const c=Date.now(),u=r[o];i||(i=c),s[a]=d,r[a]=c;let f=o,m=0;for(;f!==a;)m+=s[f++],f=f%e;if(a=(a+1)%e,a===o&&(o=(o+1)%e),c-i<t)return;const g=u&&c-u;return g?Math.round(m*1e3/g):void 0}}function YE(e,t){let s=0,r=1e3/t,a,o;const i=(c,u=Date.now())=>{s=u,a=null,o&&(clearTimeout(o),o=null),e(...c)};return[(...c)=>{const u=Date.now(),f=u-s;f>=r?i(c,u):(a=c,o||(o=setTimeout(()=>{o=null,i(a)},r-f)))},()=>a&&i(a)]}const ml=(e,t,s=3)=>{let r=0;const a=KE(50,250);return YE(o=>{const i=o.loaded,l=o.lengthComputable?o.total:void 0,d=i-r,c=a(d),u=i<=l;r=i;const f={loaded:i,total:l,progress:l?i/l:void 0,bytes:d,rate:c||void 0,estimated:c&&l&&u?(l-i)/c:void 0,event:o,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},s)},fx=(e,t)=>{const s=e!=null;return[r=>t[0]({lengthComputable:s,total:e,loaded:r}),t[1]]},px=e=>(...t)=>L.asap(()=>e(...t)),XE=Ye.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,Ye.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(Ye.origin),Ye.navigator&&/(msie|trident)/i.test(Ye.navigator.userAgent)):()=>!0,QE=Ye.hasStandardBrowserEnv?{write(e,t,s,r,a,o,i){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];L.isNumber(s)&&l.push(`expires=${new Date(s).toUTCString()}`),L.isString(r)&&l.push(`path=${r}`),L.isString(a)&&l.push(`domain=${a}`),o===!0&&l.push("secure"),L.isString(i)&&l.push(`SameSite=${i}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function ZE(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function JE(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function ew(e,t,s){let r=!ZE(t);return e&&(r||s==!1)?JE(e,t):t}const mx=e=>e instanceof ft?{...e}:e;function Hn(e,t){t=t||{};const s={};function r(c,u,f,m){return L.isPlainObject(c)&&L.isPlainObject(u)?L.merge.call({caseless:m},c,u):L.isPlainObject(u)?L.merge({},u):L.isArray(u)?u.slice():u}function a(c,u,f,m){if(L.isUndefined(u)){if(!L.isUndefined(c))return r(void 0,c,f,m)}else return r(c,u,f,m)}function o(c,u){if(!L.isUndefined(u))return r(void 0,u)}function i(c,u){if(L.isUndefined(u)){if(!L.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function l(c,u,f){if(f in t)return r(c,u);if(f in e)return r(void 0,c)}const d={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(c,u,f)=>a(mx(c),mx(u),f,!0)};return L.forEach(Object.keys({...e,...t}),function(u){const f=d[u]||a,m=f(e[u],t[u],u);L.isUndefined(m)&&f!==l||(s[u]=m)}),s}const tw=e=>{const t=Hn({},e);let{data:s,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:o,headers:i,auth:l}=t;if(t.headers=i=ft.from(i),t.url=Yb(ew(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),L.isFormData(s)){if(Ye.hasStandardBrowserEnv||Ye.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(L.isFunction(s.getHeaders)){const d=s.getHeaders(),c=["content-type","content-length"];Object.entries(d).forEach(([u,f])=>{c.includes(u.toLowerCase())&&i.set(u,f)})}}if(Ye.hasStandardBrowserEnv&&(r&&L.isFunction(r)&&(r=r(t)),r||r!==!1&&XE(t.url))){const d=a&&o&&QE.read(o);d&&i.set(a,d)}return t},eR=typeof XMLHttpRequest<"u",tR=eR&&function(e){return new Promise(function(s,r){const a=tw(e);let o=a.data;const i=ft.from(a.headers).normalize();let{responseType:l,onUploadProgress:d,onDownloadProgress:c}=a,u,f,m,g,x;function b(){g&&g(),x&&x(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let v=new XMLHttpRequest;v.open(a.method.toUpperCase(),a.url,!0),v.timeout=a.timeout;function h(){if(!v)return;const w=ft.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),k={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:w,config:e,request:v};Jb(function(P){s(P),b()},function(P){r(P),b()},k),v=null}"onloadend"in v?v.onloadend=h:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(h)},v.onabort=function(){v&&(r(new X("Request aborted",X.ECONNABORTED,e,v)),v=null)},v.onerror=function(j){const k=j&&j.message?j.message:"Network Error",E=new X(k,X.ERR_NETWORK,e,v);E.event=j||null,r(E),v=null},v.ontimeout=function(){let j=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const k=a.transitional||Xb;a.timeoutErrorMessage&&(j=a.timeoutErrorMessage),r(new X(j,k.clarifyTimeoutError?X.ETIMEDOUT:X.ECONNABORTED,e,v)),v=null},o===void 0&&i.setContentType(null),"setRequestHeader"in v&&L.forEach(i.toJSON(),function(j,k){v.setRequestHeader(k,j)}),L.isUndefined(a.withCredentials)||(v.withCredentials=!!a.withCredentials),l&&l!=="json"&&(v.responseType=a.responseType),c&&([m,x]=ml(c,!0),v.addEventListener("progress",m)),d&&v.upload&&([f,g]=ml(d),v.upload.addEventListener("progress",f),v.upload.addEventListener("loadend",g)),(a.cancelToken||a.signal)&&(u=w=>{v&&(r(!w||w.type?new na(null,e,v):w),v.abort(),v=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const p=GE(a.url);if(p&&Ye.protocols.indexOf(p)===-1){r(new X("Unsupported protocol "+p+":",X.ERR_BAD_REQUEST,e));return}v.send(o||null)})},sR=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let r=new AbortController,a;const o=function(c){if(!a){a=!0,l();const u=c instanceof Error?c:this.reason;r.abort(u instanceof X?u:new na(u instanceof Error?u.message:u))}};let i=t&&setTimeout(()=>{i=null,o(new X(`timeout ${t} of ms exceeded`,X.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener("abort",o)}),e=null)};e.forEach(c=>c.addEventListener("abort",o));const{signal:d}=r;return d.unsubscribe=()=>L.asap(l),d}},nR=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let r=0,a;for(;r<s;)a=r+t,yield e.slice(r,a),r=a},rR=async function*(e,t){for await(const s of aR(e))yield*nR(s,t)},aR=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:r}=await t.read();if(s)break;yield r}}finally{await t.cancel()}},hx=(e,t,s,r)=>{const a=rR(e,t);let o=0,i,l=d=>{i||(i=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:c,value:u}=await a.next();if(c){l(),d.close();return}let f=u.byteLength;if(s){let m=o+=f;s(m)}d.enqueue(new Uint8Array(u))}catch(c){throw l(c),c}},cancel(d){return l(d),a.return()}},{highWaterMark:2})},xx=64*1024,{isFunction:ii}=L,oR=(({Request:e,Response:t})=>({Request:e,Response:t}))(L.global),{ReadableStream:gx,TextEncoder:yx}=L.global,vx=(e,...t)=>{try{return!!e(...t)}catch{return!1}},iR=e=>{e=L.merge.call({skipUndefined:!0},oR,e);const{fetch:t,Request:s,Response:r}=e,a=t?ii(t):typeof fetch=="function",o=ii(s),i=ii(r);if(!a)return!1;const l=a&&ii(gx),d=a&&(typeof yx=="function"?(x=>b=>x.encode(b))(new yx):async x=>new Uint8Array(await new s(x).arrayBuffer())),c=o&&l&&vx(()=>{let x=!1;const b=new s(Ye.origin,{body:new gx,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!b}),u=i&&l&&vx(()=>L.isReadableStream(new r("").body)),f={stream:u&&(x=>x.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!f[x]&&(f[x]=(b,v)=>{let h=b&&b[x];if(h)return h.call(b);throw new X(`Response type '${x}' is not supported`,X.ERR_NOT_SUPPORT,v)})});const m=async x=>{if(x==null)return 0;if(L.isBlob(x))return x.size;if(L.isSpecCompliantForm(x))return(await new s(Ye.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(L.isArrayBufferView(x)||L.isArrayBuffer(x))return x.byteLength;if(L.isURLSearchParams(x)&&(x=x+""),L.isString(x))return(await d(x)).byteLength},g=async(x,b)=>{const v=L.toFiniteNumber(x.getContentLength());return v??m(b)};return async x=>{let{url:b,method:v,data:h,signal:p,cancelToken:w,timeout:j,onDownloadProgress:k,onUploadProgress:E,responseType:P,headers:S,withCredentials:N="same-origin",fetchOptions:A}=tw(x),_=t||fetch;P=P?(P+"").toLowerCase():"text";let M=sR([p,w&&w.toAbortSignal()],j),F=null;const I=M&&M.unsubscribe&&(()=>{M.unsubscribe()});let B;try{if(E&&c&&v!=="get"&&v!=="head"&&(B=await g(S,h))!==0){let D=new s(b,{method:"POST",body:h,duplex:"half"}),W;if(L.isFormData(h)&&(W=D.headers.get("content-type"))&&S.setContentType(W),D.body){const[oe,re]=fx(B,ml(px(E)));h=hx(D.body,xx,oe,re)}}L.isString(N)||(N=N?"include":"omit");const U=o&&"credentials"in s.prototype,H={...A,signal:M,method:v.toUpperCase(),headers:S.normalize().toJSON(),body:h,duplex:"half",credentials:U?N:void 0};F=o&&new s(b,H);let R=await(o?_(F,A):_(b,H));const T=u&&(P==="stream"||P==="response");if(u&&(k||T&&I)){const D={};["status","statusText","headers"].forEach(he=>{D[he]=R[he]});const W=L.toFiniteNumber(R.headers.get("content-length")),[oe,re]=k&&fx(W,ml(px(k),!0))||[];R=new r(hx(R.body,xx,oe,()=>{re&&re(),I&&I()}),D)}P=P||"text";let O=await f[L.findKey(f,P)||"text"](R,x);return!T&&I&&I(),await new Promise((D,W)=>{Jb(D,W,{data:O,headers:ft.from(R.headers),status:R.status,statusText:R.statusText,config:x,request:F})})}catch(U){throw I&&I(),U&&U.name==="TypeError"&&/Load failed|fetch/i.test(U.message)?Object.assign(new X("Network Error",X.ERR_NETWORK,x,F),{cause:U.cause||U}):X.from(U,U&&U.code,x,F)}}},lR=new Map,sw=e=>{let t=e&&e.env||{};const{fetch:s,Request:r,Response:a}=t,o=[r,a,s];let i=o.length,l=i,d,c,u=lR;for(;l--;)d=o[l],c=u.get(d),c===void 0&&u.set(d,c=l?new Map:iR(t)),u=c;return c};sw();const Lp={http:SE,xhr:tR,fetch:{get:sw}};L.forEach(Lp,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const bx=e=>`- ${e}`,cR=e=>L.isFunction(e)||e===null||e===!1;function dR(e,t){e=L.isArray(e)?e:[e];const{length:s}=e;let r,a;const o={};for(let i=0;i<s;i++){r=e[i];let l;if(a=r,!cR(r)&&(a=Lp[(l=String(r)).toLowerCase()],a===void 0))throw new X(`Unknown adapter '${l}'`);if(a&&(L.isFunction(a)||(a=a.get(t))))break;o[l||"#"+i]=a}if(!a){const i=Object.entries(o).map(([d,c])=>`adapter ${d} `+(c===!1?"is not supported by the environment":"is not available in the build"));let l=s?i.length>1?`since :
`+i.map(bx).join(`
`):" "+bx(i[0]):"as no adapter specified";throw new X("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const nw={getAdapter:dR,adapters:Lp};function id(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new na(null,e)}function wx(e){return id(e),e.headers=ft.from(e.headers),e.data=od.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),nw.getAdapter(e.adapter||Ro.adapter,e)(e).then(function(r){return id(e),r.data=od.call(e,e.transformResponse,r),r.headers=ft.from(r.headers),r},function(r){return Zb(r)||(id(e),r&&r.response&&(r.response.data=od.call(e,e.transformResponse,r.response),r.response.headers=ft.from(r.response.headers))),Promise.reject(r)})}const rw="1.13.2",cc={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{cc[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const jx={};cc.transitional=function(t,s,r){function a(o,i){return"[Axios v"+rw+"] Transitional option '"+o+"'"+i+(r?". "+r:"")}return(o,i,l)=>{if(t===!1)throw new X(a(i," has been removed"+(s?" in "+s:"")),X.ERR_DEPRECATED);return s&&!jx[i]&&(jx[i]=!0,console.warn(a(i," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(o,i,l):!0}};cc.spelling=function(t){return(s,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function uR(e,t,s){if(typeof e!="object")throw new X("options must be an object",X.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const o=r[a],i=t[o];if(i){const l=e[o],d=l===void 0||i(l,o,e);if(d!==!0)throw new X("option "+o+" must be "+d,X.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new X("Unknown option "+o,X.ERR_BAD_OPTION)}}const _i={assertOptions:uR,validators:cc},Xt=_i.validators;let Tn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new dx,response:new dx}}async request(t,s){try{return await this._request(t,s)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const o=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=Hn(this.defaults,s);const{transitional:r,paramsSerializer:a,headers:o}=s;r!==void 0&&_i.assertOptions(r,{silentJSONParsing:Xt.transitional(Xt.boolean),forcedJSONParsing:Xt.transitional(Xt.boolean),clarifyTimeoutError:Xt.transitional(Xt.boolean)},!1),a!=null&&(L.isFunction(a)?s.paramsSerializer={serialize:a}:_i.assertOptions(a,{encode:Xt.function,serialize:Xt.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),_i.assertOptions(s,{baseUrl:Xt.spelling("baseURL"),withXsrfToken:Xt.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let i=o&&L.merge(o.common,o[s.method]);o&&L.forEach(["delete","get","head","post","put","patch","common"],x=>{delete o[x]}),s.headers=ft.concat(i,o);const l=[];let d=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(s)===!1||(d=d&&b.synchronous,l.unshift(b.fulfilled,b.rejected))});const c=[];this.interceptors.response.forEach(function(b){c.push(b.fulfilled,b.rejected)});let u,f=0,m;if(!d){const x=[wx.bind(this),void 0];for(x.unshift(...l),x.push(...c),m=x.length,u=Promise.resolve(s);f<m;)u=u.then(x[f++],x[f++]);return u}m=l.length;let g=s;for(;f<m;){const x=l[f++],b=l[f++];try{g=x(g)}catch(v){b.call(this,v);break}}try{u=wx.call(this,g)}catch(x){return Promise.reject(x)}for(f=0,m=c.length;f<m;)u=u.then(c[f++],c[f++]);return u}getUri(t){t=Hn(this.defaults,t);const s=ew(t.baseURL,t.url,t.allowAbsoluteUrls);return Yb(s,t.params,t.paramsSerializer)}};L.forEach(["delete","get","head","options"],function(t){Tn.prototype[t]=function(s,r){return this.request(Hn(r||{},{method:t,url:s,data:(r||{}).data}))}});L.forEach(["post","put","patch"],function(t){function s(r){return function(o,i,l){return this.request(Hn(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}Tn.prototype[t]=s(),Tn.prototype[t+"Form"]=s(!0)});let fR=class aw{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(o){s=o});const r=this;this.promise.then(a=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](a);r._listeners=null}),this.promise.then=a=>{let o;const i=new Promise(l=>{r.subscribe(l),o=l}).then(a);return i.cancel=function(){r.unsubscribe(o)},i},t(function(o,i,l){r.reason||(r.reason=new na(o,i,l),s(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=r=>{t.abort(r)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new aw(function(a){t=a}),cancel:t}}};function pR(e){return function(s){return e.apply(null,s)}}function mR(e){return L.isObject(e)&&e.isAxiosError===!0}const Wu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Wu).forEach(([e,t])=>{Wu[t]=e});function ow(e){const t=new Tn(e),s=Ob(Tn.prototype.request,t);return L.extend(s,Tn.prototype,t,{allOwnKeys:!0}),L.extend(s,t,null,{allOwnKeys:!0}),s.create=function(a){return ow(Hn(e,a))},s}const Ne=ow(Ro);Ne.Axios=Tn;Ne.CanceledError=na;Ne.CancelToken=fR;Ne.isCancel=Zb;Ne.VERSION=rw;Ne.toFormData=lc;Ne.AxiosError=X;Ne.Cancel=Ne.CanceledError;Ne.all=function(t){return Promise.all(t)};Ne.spread=pR;Ne.isAxiosError=mR;Ne.mergeConfig=Hn;Ne.AxiosHeaders=ft;Ne.formToJSON=e=>Qb(L.isHTMLForm(e)?new FormData(e):e);Ne.getAdapter=nw.getAdapter;Ne.HttpStatusCode=Wu;Ne.default=Ne;const{Axios:u$,AxiosError:f$,CanceledError:p$,isCancel:m$,CancelToken:h$,VERSION:x$,all:g$,Cancel:y$,isAxiosError:v$,spread:b$,toFormData:w$,AxiosHeaders:j$,HttpStatusCode:N$,formToJSON:k$,getAdapter:S$,mergeConfig:C$}=Ne,Mp="aura-access-token",Ip="aura-refresh-token",Op="aura-user",iw=()=>localStorage.getItem(Mp),qu=()=>localStorage.getItem(Ip),Fp=(e,t)=>{localStorage.setItem(Mp,e),localStorage.setItem(Ip,t)},Up=()=>{localStorage.removeItem(Mp),localStorage.removeItem(Ip)},hl=e=>{localStorage.setItem(Op,JSON.stringify(e))},Hu=()=>{const e=localStorage.getItem(Op);if(!e)return null;try{return JSON.parse(e)}catch{return null}},$p=()=>{localStorage.removeItem(Op)};let Gu=null;const hR=e=>{Gu=e},Ku=()=>{Up(),$p(),Gu?Gu():window.location.replace("/login")},Li=e=>({tokens:{accessToken:e.access_token,refreshToken:e.refresh_token},user:e.user}),lw=async e=>(await V.post("/auth/refresh",{refresh_token:e})).data,Nx=(e,t)=>{if(Fp(e.accessToken,e.refreshToken),t)hl(t);else{const s=Hu();s&&hl(s)}},cw="/api".trim().length>0?"/api".trim():"/api",xR=e=>!e||/^https?:\/\//i.test(e)||e.startsWith("/")?e:`/${e}`,V=Ne.create({baseURL:cw,headers:{"Content-Type":"application/json"},timeout:1e4});V.interceptors.request.use(e=>{const t=iw();return e.url&&(e.url=xR(e.url)),t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e});let li=!1,Yu=[];const kx=e=>{Yu.forEach(t=>t(e)),Yu=[]};V.interceptors.response.use(e=>e,async e=>{var o,i,l,d;const t=e.config??{},s=(o=e==null?void 0:e.response)==null?void 0:o.status;if(s===401&&!t._retry){if(t._retry=!0,li)return new Promise(u=>{Yu.push(f=>{f&&t.headers&&(t.headers.Authorization=`Bearer ${f}`),u(V(t))})});li=!0;const c=qu();if(!c)return Ku(),Promise.reject(e);try{const u=await lw(c),{tokens:f}=Li(u);return Fp(f.accessToken,f.refreshToken),li=!1,kx(f.accessToken),t.headers&&(t.headers.Authorization=`Bearer ${f.accessToken}`),V(t)}catch(u){return li=!1,kx(null),Up(),$p(),Ku(),Promise.reject(u)}}const r=((l=(i=e==null?void 0:e.response)==null?void 0:i.data)==null?void 0:l.message)??(e==null?void 0:e.message)??"Unknown error",a=new Error(r);return a.status=s,a.data=(d=e==null?void 0:e.response)==null?void 0:d.data,a.response=e==null?void 0:e.response,Promise.reject(a)});const dw=y.createContext(void 0),gR=({children:e})=>{const t=is(),{toast:s}=St(),[r,a]=y.useState(null),[o,i]=y.useState(null),[l,d]=y.useState(!1),c=y.useCallback((v,h)=>{Fp(v.accessToken,v.refreshToken),h&&(hl(h),a(h)),i(v.accessToken),d(!0)},[]),u=y.useCallback(async()=>{const v=await V.get("/auth/me");if(!v.data)throw new Error("Failed to load user");return hl(v.data),a(v.data),v.data},[]),f=y.useCallback(()=>{Up(),$p(),a(null),i(null),d(!1),t("/login",{replace:!0})},[t]);y.useEffect(()=>{hR(f)},[f]);const m=y.useCallback(async()=>{const v=qu();if(!v)return;const h=Hu();try{const p=await lw(v),{tokens:w,user:j}=Li(p);Nx(w,j??h??void 0),c(w,j??h??void 0),await u()}catch{f(),s({variant:"destructive",title:"Session expired",description:"Please sign in again."})}},[u,f,c,s]);y.useEffect(()=>{(async()=>{const h=iw(),p=qu(),w=Hu();if(h&&p){i(h),w&&a(w),d(!0);try{await u(),await m()}catch{f()}}})()},[u,f,m]);const g=y.useCallback(async(v,h)=>{const p=await V.post("/auth/login",{email:v,password:h}),{tokens:w,user:j}=Li(p.data);return Nx(w,j),i(w.accessToken),d(!0),a(j??null),s({title:"Login Successful",description:"Welcome back!"}),t("/app/dashboard",{replace:!0}),j??null},[t,s]),x=y.useCallback(async(v,h)=>{const p=await V.post("/auth/register",{email:v,password:h}),{tokens:w}=Li(p.data);c(w);try{const j=await u();return s({title:"Registration Successful",description:"Your account has been created."}),t("/app/dashboard",{replace:!0}),j}catch(j){throw f(),j}},[u,f,t,c,s]),b=y.useCallback(()=>{Ku()},[]);return n.jsx(dw.Provider,{value:{user:r,accessToken:o,isAuthenticated:l,login:g,register:x,logout:b},children:e})},Ct=()=>{const e=y.useContext(dw);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},uw=y.createContext(void 0),Sx=null,Cx=null,yR=({children:e})=>{const t=Es(),{isAuthenticated:s}=Ct(),[r,a]=y.useState(Sx),[o,i]=y.useState(!1),[l,d]=y.useState(Cx),[c,u]=y.useState(!1),[f,m]=y.useState(!1),[g,x]=y.useState(typeof navigator<"u"?!navigator.onLine:!1),b=y.useMemo(()=>{const w=new URLSearchParams(t.search).get("demo")==="1",j=t.pathname.startsWith("/demo");return w||j||!1},[t.pathname,t.search]),v=y.useCallback(async()=>{if(s){i(!0);try{const p=await V.get("/system/version");a(p.data)}catch{a(w=>w)}finally{i(!1)}}},[s]),h=y.useCallback(async()=>{var p,w;if(s){m(!0);try{const j=await V.get("/api/system/tenant-status"),k=((p=j.data)==null?void 0:p.plan)??null,E=!!((w=j.data)!=null&&w.is_test_tenant);d(k),u(E)}catch{d(k=>k),u(k=>k)}finally{m(!1)}}},[s]);return y.useEffect(()=>{const p=()=>x(!1),w=()=>x(!0);return window.addEventListener("online",p),window.addEventListener("offline",w),()=>{window.removeEventListener("online",p),window.removeEventListener("offline",w)}},[]),y.useEffect(()=>{s?(v(),h()):(a(Sx),d(Cx),u(!1))},[s,h,v]),n.jsx(uw.Provider,{value:{versionInfo:r,isVersionLoading:o,refreshVersion:v,demoMode:b,isOffline:g,tenantPlan:l,isTestTenant:c,isTenantStatusLoading:f,refreshTenantStatus:h},children:e})},Rs=()=>{const e=y.useContext(uw);if(!e)throw new Error("useSystemStatus must be used within a SystemProvider");return e},ld={completed:!0},fw=y.createContext(void 0),vR=({children:e})=>{const{isAuthenticated:t}=Ct(),[s,r]=y.useState(ld),[a,o]=y.useState(t),i=y.useCallback(async()=>{if(t){o(!0);try{const c=(await V.get("/onboarding/state")).data??ld;r({completed:!!c.completed,currentStep:c.currentStep})}catch{r(c=>c)}finally{o(!1)}}},[t]),l=y.useCallback(async()=>{await V.patch("/onboarding/state",{completed:!0}),r(d=>({...d,completed:!0}))},[]);return y.useEffect(()=>{t?(o(!0),i()):(r(ld),o(!1))},[t,i]),n.jsx(fw.Provider,{value:{state:s,loading:a,refresh:i,completeOnboarding:l},children:e})},pw=()=>{const e=y.useContext(fw);if(!e)throw new Error("useOnboarding must be used within an OnboardingProvider");return e},Px={organizationDetails:!1,firstDsr:!1,policyGenerated:!1,dpiaCreated:!1,ropaAdded:!1,tomConfigured:!1,aiAuditRun:!1},mw=y.createContext(void 0),bR=({children:e})=>{const{isAuthenticated:t}=Ct(),[s,r]=y.useState(Px),[a,o]=y.useState(!1),[i,l]=y.useState(null),d=y.useCallback(async()=>{if(t){o(!0),l(null);try{const u=await V.get("/user-progress");r(f=>({...f,...u.data??{}}))}catch(u){const f=u instanceof Error?u.message:"Failed to load progress.";l(f)}finally{o(!1)}}},[t]),c=y.useCallback(async u=>{r(f=>({...f,[u]:!0}));try{await V.patch("/user-progress",{[u]:!0})}catch(f){throw r(m=>({...m,[u]:!1})),f}},[]);return y.useEffect(()=>{t?d():(r(Px),l(null))},[t,d]),n.jsx(mw.Provider,{value:{progress:s,loading:a,error:i,refresh:d,markComplete:c},children:e})},Vp=()=>{const e=y.useContext(mw);if(!e)throw new Error("useUserProgress must be used within a UserProgressProvider");return e},wR=e=>["dsr_deadline","policy_expiring","dpia_required","incident_alert","ai_recommendation","system_health"].includes(e)?e:"system_health",jR=e=>["info","warning","critical"].includes(e)?e:"info",cd=e=>({id:(e==null?void 0:e.id)??(e==null?void 0:e._id)??"",type:wR(e==null?void 0:e.type),title:(e==null?void 0:e.title)??"",description:(e==null?void 0:e.description)??"",createdAt:(e==null?void 0:e.createdAt)??(e==null?void 0:e.created_at)??"",read:!!(e!=null&&e.read),severity:jR(e==null?void 0:e.severity),link:(e==null?void 0:e.link)??(e==null?void 0:e.url)??void 0}),NR=e=>{if(Array.isArray(e))return e.map(cd);const t=e;return Array.isArray(t==null?void 0:t.items)?t.items.map(cd):Array.isArray(t==null?void 0:t.notifications)?t.notifications.map(cd):[]};async function kR(){const e=await V.get("/notifications");return NR(e.data)}async function SR(e){await V.patch(`/notifications/${e}/read`)}async function CR(){await V.post("/notifications/mark-all-read")}const hw=C.createContext(void 0),PR=({children:e})=>{const[t,s]=C.useState([]),[r,a]=C.useState(!1),[o,i]=C.useState(!1),l=C.useCallback(async()=>{a(!0),i(!1);try{const f=await kR();s(f)}catch{i(!0)}finally{a(!1)}},[]);C.useEffect(()=>{l()},[l]);const d=C.useCallback(async f=>{s(m=>m.map(g=>g.id===f?{...g,read:!0}:g));try{await SR(f)}catch{i(!0)}},[]),c=C.useCallback(async()=>{s(f=>f.map(m=>({...m,read:!0})));try{await CR()}catch{i(!0)}},[]),u=C.useMemo(()=>({notifications:t,unreadCount:t.filter(f=>!f.read).length,markAsRead:d,markAllAsRead:c,isLoading:r,isError:o}),[t,c,d,o,r]);return n.jsx(hw.Provider,{value:u,children:e})},AR=Sp("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),$=C.forwardRef(({className:e,variant:t,size:s,asChild:r=!1,...a},o)=>{const i=r?lP:"button";return n.jsx(i,{className:Q(AR({variant:t,size:s,className:e})),ref:o,...a})});$.displayName="Button";const Se=C.forwardRef(({className:e,type:t,...s},r)=>n.jsx("input",{type:t,className:Q("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...s}));Se.displayName="Input";var ER="Label",xw=y.forwardRef((e,t)=>n.jsx(de.label,{...e,ref:t,onMouseDown:s=>{var a;s.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));xw.displayName=ER;var gw=xw;const RR=Sp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Fe=C.forwardRef(({className:e,...t},s)=>n.jsx(gw,{ref:s,className:Q(RR(),e),...t}));Fe.displayName=gw.displayName;const J=C.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:Q("rounded-xl border bg-card text-card-foreground shadow-sm",e),...t}));J.displayName="Card";const ae=C.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:Q("flex flex-col space-y-1.5 p-6",e),...t}));ae.displayName="CardHeader";const ie=C.forwardRef(({className:e,...t},s)=>n.jsx("h3",{ref:s,className:Q("text-2xl font-semibold leading-none tracking-tight",e),...t}));ie.displayName="CardTitle";const st=C.forwardRef(({className:e,...t},s)=>n.jsx("p",{ref:s,className:Q("text-sm text-muted-foreground",e),...t}));st.displayName="CardDescription";const te=C.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:Q("p-6 pt-0",e),...t}));te.displayName="CardContent";const zp=C.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:Q("flex items-center p-6 pt-0",e),...t}));zp.displayName="CardFooter";const yw=y.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),dc=y.createContext({}),Bp=y.createContext(null),uc=typeof document<"u",TR=uc?y.useLayoutEffect:y.useEffect,vw=y.createContext({strict:!1}),Wp=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),DR="framerAppearId",bw="data-"+Wp(DR);function _R(e,t,s,r){const{visualElement:a}=y.useContext(dc),o=y.useContext(vw),i=y.useContext(Bp),l=y.useContext(yw).reducedMotion,d=y.useRef();r=r||o.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:a,props:s,presenceContext:i,blockInitialAnimation:i?i.initial===!1:!1,reducedMotionConfig:l}));const c=d.current;y.useInsertionEffect(()=>{c&&c.update(s,i)});const u=y.useRef(!!(s[bw]&&!window.HandoffComplete));return TR(()=>{c&&(c.render(),u.current&&c.animationState&&c.animationState.animateChanges())}),y.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),c}function gr(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function LR(e,t,s){return y.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),s&&(typeof s=="function"?s(r):gr(s)&&(s.current=r))},[t])}function fo(e){return typeof e=="string"||Array.isArray(e)}function fc(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const qp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Hp=["initial",...qp];function pc(e){return fc(e.animate)||Hp.some(t=>fo(e[t]))}function ww(e){return!!(pc(e)||e.variants)}function MR(e,t){if(pc(e)){const{initial:s,animate:r}=e;return{initial:s===!1||fo(s)?s:void 0,animate:fo(r)?r:void 0}}return e.inherit!==!1?t:{}}function IR(e){const{initial:t,animate:s}=MR(e,y.useContext(dc));return y.useMemo(()=>({initial:t,animate:s}),[Ax(t),Ax(s)])}function Ax(e){return Array.isArray(e)?e.join(" "):e}const Ex={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},po={};for(const e in Ex)po[e]={isEnabled:t=>Ex[e].some(s=>!!t[s])};function OR(e){for(const t in e)po[t]={...po[t],...e[t]}}const jw=y.createContext({}),Nw=y.createContext({}),FR=Symbol.for("motionComponentSymbol");function UR({preloadedFeatures:e,createVisualElement:t,useRender:s,useVisualState:r,Component:a}){e&&OR(e);function o(l,d){let c;const u={...y.useContext(yw),...l,layoutId:$R(l)},{isStatic:f}=u,m=IR(l),g=r(l,f);if(!f&&uc){m.visualElement=_R(a,g,u,t);const x=y.useContext(Nw),b=y.useContext(vw).strict;m.visualElement&&(c=m.visualElement.loadFeatures(u,b,e,x))}return y.createElement(dc.Provider,{value:m},c&&m.visualElement?y.createElement(c,{visualElement:m.visualElement,...u}):null,s(a,l,LR(g,m.visualElement,d),g,f,m.visualElement))}const i=y.forwardRef(o);return i[FR]=a,i}function $R({layoutId:e}){const t=y.useContext(jw).id;return t&&e!==void 0?t+"-"+e:e}function VR(e){function t(r,a={}){return UR(e(r,a))}if(typeof Proxy>"u")return t;const s=new Map;return new Proxy(t,{get:(r,a)=>(s.has(a)||s.set(a,t(a)),s.get(a))})}const zR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Gp(e){return typeof e!="string"||e.includes("-")?!1:!!(zR.indexOf(e)>-1||/[A-Z]/.test(e))}const xl={};function BR(e){Object.assign(xl,e)}const To=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Xn=new Set(To);function kw(e,{layout:t,layoutId:s}){return Xn.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!xl[e]||e==="opacity")}const mt=e=>!!(e&&e.getVelocity),WR={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},qR=To.length;function HR(e,{enableHardwareAcceleration:t=!0,allowTransformNone:s=!0},r,a){let o="";for(let i=0;i<qR;i++){const l=To[i];if(e[l]!==void 0){const d=WR[l]||l;o+=`${d}(${e[l]}) `}}return t&&!e.z&&(o+="translateZ(0)"),o=o.trim(),a?o=a(e,r?"":o):s&&r&&(o="none"),o}const Sw=e=>t=>typeof t=="string"&&t.startsWith(e),Cw=Sw("--"),Xu=Sw("var(--"),GR=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,KR=(e,t)=>t&&typeof e=="number"?t.transform(e):e,rn=(e,t,s)=>Math.min(Math.max(s,e),t),Qn={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},$a={...Qn,transform:e=>rn(0,1,e)},ci={...Qn,default:1},Va=e=>Math.round(e*1e5)/1e5,mc=/(-)?([\d]*\.?[\d])+/g,Pw=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,YR=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Do(e){return typeof e=="string"}const _o=e=>({test:t=>Do(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ls=_o("deg"),ns=_o("%"),K=_o("px"),XR=_o("vh"),QR=_o("vw"),Rx={...ns,parse:e=>ns.parse(e)/100,transform:e=>ns.transform(e*100)},Tx={...Qn,transform:Math.round},Aw={borderWidth:K,borderTopWidth:K,borderRightWidth:K,borderBottomWidth:K,borderLeftWidth:K,borderRadius:K,radius:K,borderTopLeftRadius:K,borderTopRightRadius:K,borderBottomRightRadius:K,borderBottomLeftRadius:K,width:K,maxWidth:K,height:K,maxHeight:K,size:K,top:K,right:K,bottom:K,left:K,padding:K,paddingTop:K,paddingRight:K,paddingBottom:K,paddingLeft:K,margin:K,marginTop:K,marginRight:K,marginBottom:K,marginLeft:K,rotate:Ls,rotateX:Ls,rotateY:Ls,rotateZ:Ls,scale:ci,scaleX:ci,scaleY:ci,scaleZ:ci,skew:Ls,skewX:Ls,skewY:Ls,distance:K,translateX:K,translateY:K,translateZ:K,x:K,y:K,z:K,perspective:K,transformPerspective:K,opacity:$a,originX:Rx,originY:Rx,originZ:K,zIndex:Tx,fillOpacity:$a,strokeOpacity:$a,numOctaves:Tx};function Kp(e,t,s,r){const{style:a,vars:o,transform:i,transformOrigin:l}=e;let d=!1,c=!1,u=!0;for(const f in t){const m=t[f];if(Cw(f)){o[f]=m;continue}const g=Aw[f],x=KR(m,g);if(Xn.has(f)){if(d=!0,i[f]=x,!u)continue;m!==(g.default||0)&&(u=!1)}else f.startsWith("origin")?(c=!0,l[f]=x):a[f]=x}if(t.transform||(d||r?a.transform=HR(e.transform,s,u,r):a.transform&&(a.transform="none")),c){const{originX:f="50%",originY:m="50%",originZ:g=0}=l;a.transformOrigin=`${f} ${m} ${g}`}}const Yp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Ew(e,t,s){for(const r in t)!mt(t[r])&&!kw(r,s)&&(e[r]=t[r])}function ZR({transformTemplate:e},t,s){return y.useMemo(()=>{const r=Yp();return Kp(r,t,{enableHardwareAcceleration:!s},e),Object.assign({},r.vars,r.style)},[t])}function JR(e,t,s){const r=e.style||{},a={};return Ew(a,r,e),Object.assign(a,ZR(e,t,s)),e.transformValues?e.transformValues(a):a}function eT(e,t,s){const r={},a=JR(e,t,s);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=a,r}const tT=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function gl(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||tT.has(e)}let Rw=e=>!gl(e);function sT(e){e&&(Rw=t=>t.startsWith("on")?!gl(t):e(t))}try{sT(require("@emotion/is-prop-valid").default)}catch{}function nT(e,t,s){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(Rw(a)||s===!0&&gl(a)||!t&&!gl(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}function Dx(e,t,s){return typeof e=="string"?e:K.transform(t+s*e)}function rT(e,t,s){const r=Dx(t,e.x,e.width),a=Dx(s,e.y,e.height);return`${r} ${a}`}const aT={offset:"stroke-dashoffset",array:"stroke-dasharray"},oT={offset:"strokeDashoffset",array:"strokeDasharray"};function iT(e,t,s=1,r=0,a=!0){e.pathLength=1;const o=a?aT:oT;e[o.offset]=K.transform(-r);const i=K.transform(t),l=K.transform(s);e[o.array]=`${i} ${l}`}function Xp(e,{attrX:t,attrY:s,attrScale:r,originX:a,originY:o,pathLength:i,pathSpacing:l=1,pathOffset:d=0,...c},u,f,m){if(Kp(e,c,u,m),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:x,dimensions:b}=e;g.transform&&(b&&(x.transform=g.transform),delete g.transform),b&&(a!==void 0||o!==void 0||x.transform)&&(x.transformOrigin=rT(b,a!==void 0?a:.5,o!==void 0?o:.5)),t!==void 0&&(g.x=t),s!==void 0&&(g.y=s),r!==void 0&&(g.scale=r),i!==void 0&&iT(g,i,l,d,!1)}const Tw=()=>({...Yp(),attrs:{}}),Qp=e=>typeof e=="string"&&e.toLowerCase()==="svg";function lT(e,t,s,r){const a=y.useMemo(()=>{const o=Tw();return Xp(o,t,{enableHardwareAcceleration:!1},Qp(r),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};Ew(o,e.style,e),a.style={...o,...a.style}}return a}function cT(e=!1){return(s,r,a,{latestValues:o},i)=>{const d=(Gp(s)?lT:eT)(r,o,i,s),u={...nT(r,typeof s=="string",e),...d,ref:a},{children:f}=r,m=y.useMemo(()=>mt(f)?f.get():f,[f]);return y.createElement(s,{...u,children:m})}}function Dw(e,{style:t,vars:s},r,a){Object.assign(e.style,t,a&&a.getProjectionStyles(r));for(const o in s)e.style.setProperty(o,s[o])}const _w=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Lw(e,t,s,r){Dw(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(_w.has(a)?a:Wp(a),t.attrs[a])}function Zp(e,t){const{style:s}=e,r={};for(const a in s)(mt(s[a])||t.style&&mt(t.style[a])||kw(a,e))&&(r[a]=s[a]);return r}function Mw(e,t){const s=Zp(e,t);for(const r in e)if(mt(e[r])||mt(t[r])){const a=To.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;s[a]=e[r]}return s}function Jp(e,t,s,r={},a={}){return typeof t=="function"&&(t=t(s!==void 0?s:e.custom,r,a)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(s!==void 0?s:e.custom,r,a)),t}function dT(e){const t=y.useRef(null);return t.current===null&&(t.current=e()),t.current}const yl=e=>Array.isArray(e),uT=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),fT=e=>yl(e)?e[e.length-1]||0:e;function Mi(e){const t=mt(e)?e.get():e;return uT(t)?t.toValue():t}function pT({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:s},r,a,o){const i={latestValues:mT(r,a,o,e),renderState:t()};return s&&(i.mount=l=>s(r,l,i)),i}const Iw=e=>(t,s)=>{const r=y.useContext(dc),a=y.useContext(Bp),o=()=>pT(e,t,r,a);return s?o():dT(o)};function mT(e,t,s,r){const a={},o=r(e,{});for(const m in o)a[m]=Mi(o[m]);let{initial:i,animate:l}=e;const d=pc(e),c=ww(e);t&&c&&!d&&e.inherit!==!1&&(i===void 0&&(i=t.initial),l===void 0&&(l=t.animate));let u=s?s.initial===!1:!1;u=u||i===!1;const f=u?l:i;return f&&typeof f!="boolean"&&!fc(f)&&(Array.isArray(f)?f:[f]).forEach(g=>{const x=Jp(e,g);if(!x)return;const{transitionEnd:b,transition:v,...h}=x;for(const p in h){let w=h[p];if(Array.isArray(w)){const j=u?w.length-1:0;w=w[j]}w!==null&&(a[p]=w)}for(const p in b)a[p]=b[p]}),a}const Ae=e=>e;class _x{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const s=this.order.indexOf(t);s!==-1&&(this.order.splice(s,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function hT(e){let t=new _x,s=new _x,r=0,a=!1,o=!1;const i=new WeakSet,l={schedule:(d,c=!1,u=!1)=>{const f=u&&a,m=f?t:s;return c&&i.add(d),m.add(d)&&f&&a&&(r=t.order.length),d},cancel:d=>{s.remove(d),i.delete(d)},process:d=>{if(a){o=!0;return}if(a=!0,[t,s]=[s,t],s.clear(),r=t.order.length,r)for(let c=0;c<r;c++){const u=t.order[c];u(d),i.has(u)&&(l.schedule(u),e())}a=!1,o&&(o=!1,l.process(d))}};return l}const di=["prepare","read","update","preRender","render","postRender"],xT=40;function gT(e,t){let s=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=di.reduce((f,m)=>(f[m]=hT(()=>s=!0),f),{}),i=f=>o[f].process(a),l=()=>{const f=performance.now();s=!1,a.delta=r?1e3/60:Math.max(Math.min(f-a.timestamp,xT),1),a.timestamp=f,a.isProcessing=!0,di.forEach(i),a.isProcessing=!1,s&&t&&(r=!1,e(l))},d=()=>{s=!0,r=!0,a.isProcessing||e(l)};return{schedule:di.reduce((f,m)=>{const g=o[m];return f[m]=(x,b=!1,v=!1)=>(s||d(),g.schedule(x,b,v)),f},{}),cancel:f=>di.forEach(m=>o[m].cancel(f)),state:a,steps:o}}const{schedule:me,cancel:ks,state:Ge,steps:dd}=gT(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ae,!0),yT={useVisualState:Iw({scrapeMotionValuesFromProps:Mw,createRenderState:Tw,onMount:(e,t,{renderState:s,latestValues:r})=>{me.read(()=>{try{s.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{s.dimensions={x:0,y:0,width:0,height:0}}}),me.render(()=>{Xp(s,r,{enableHardwareAcceleration:!1},Qp(t.tagName),e.transformTemplate),Lw(t,s)})}})},vT={useVisualState:Iw({scrapeMotionValuesFromProps:Zp,createRenderState:Yp})};function bT(e,{forwardMotionProps:t=!1},s,r){return{...Gp(e)?yT:vT,preloadedFeatures:s,useRender:cT(t),createVisualElement:r,Component:e}}function ms(e,t,s,r={passive:!0}){return e.addEventListener(t,s,r),()=>e.removeEventListener(t,s)}const Ow=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function hc(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const wT=e=>t=>Ow(t)&&e(t,hc(t));function xs(e,t,s,r){return ms(e,t,wT(s),r)}const jT=(e,t)=>s=>t(e(s)),en=(...e)=>e.reduce(jT);function Fw(e){let t=null;return()=>{const s=()=>{t=null};return t===null?(t=e,s):!1}}const Lx=Fw("dragHorizontal"),Mx=Fw("dragVertical");function Uw(e){let t=!1;if(e==="y")t=Mx();else if(e==="x")t=Lx();else{const s=Lx(),r=Mx();s&&r?t=()=>{s(),r()}:(s&&s(),r&&r())}return t}function $w(){const e=Uw(!0);return e?(e(),!1):!0}class hn{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Ix(e,t){const s="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),a=(o,i)=>{if(o.pointerType==="touch"||$w())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[r]&&me.update(()=>l[r](o,i))};return xs(e.current,s,a,{passive:!e.getProps()[r]})}class NT extends hn{mount(){this.unmount=en(Ix(this.node,!0),Ix(this.node,!1))}unmount(){}}class kT extends hn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=en(ms(this.node.current,"focus",()=>this.onFocus()),ms(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Vw=(e,t)=>t?e===t?!0:Vw(e,t.parentElement):!1;function ud(e,t){if(!t)return;const s=new PointerEvent("pointer"+e);t(s,hc(s))}class ST extends hn{constructor(){super(...arguments),this.removeStartListeners=Ae,this.removeEndListeners=Ae,this.removeAccessibleListeners=Ae,this.startPointerPress=(t,s)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=xs(window,"pointerup",(l,d)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:f}=this.node.getProps();me.update(()=>{!f&&!Vw(this.node.current,l.target)?u&&u(l,d):c&&c(l,d)})},{passive:!(r.onTap||r.onPointerUp)}),i=xs(window,"pointercancel",(l,d)=>this.cancelPress(l,d),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=en(o,i),this.startPress(t,s)},this.startAccessiblePress=()=>{const t=o=>{if(o.key!=="Enter"||this.isPressing)return;const i=l=>{l.key!=="Enter"||!this.checkPressEnd()||ud("up",(d,c)=>{const{onTap:u}=this.node.getProps();u&&me.update(()=>u(d,c))})};this.removeEndListeners(),this.removeEndListeners=ms(this.node.current,"keyup",i),ud("down",(l,d)=>{this.startPress(l,d)})},s=ms(this.node.current,"keydown",t),r=()=>{this.isPressing&&ud("cancel",(o,i)=>this.cancelPress(o,i))},a=ms(this.node.current,"blur",r);this.removeAccessibleListeners=en(s,a)}}startPress(t,s){this.isPressing=!0;const{onTapStart:r,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&me.update(()=>r(t,s))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!$w()}cancelPress(t,s){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&me.update(()=>r(t,s))}mount(){const t=this.node.getProps(),s=xs(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=ms(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=en(s,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Qu=new WeakMap,fd=new WeakMap,CT=e=>{const t=Qu.get(e.target);t&&t(e)},PT=e=>{e.forEach(CT)};function AT({root:e,...t}){const s=e||document;fd.has(s)||fd.set(s,{});const r=fd.get(s),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(PT,{root:e,...t})),r[a]}function ET(e,t,s){const r=AT(t);return Qu.set(e,s),r.observe(e),()=>{Qu.delete(e),r.unobserve(e)}}const RT={some:0,all:1};class TT extends hn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:r,amount:a="some",once:o}=t,i={root:s?s.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:RT[a]},l=d=>{const{isIntersecting:c}=d;if(this.isInView===c||(this.isInView=c,o&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),m=c?u:f;m&&m(d)};return ET(this.node.current,i,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(DT(t,s))&&this.startObserver()}unmount(){}}function DT({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const _T={inView:{Feature:TT},tap:{Feature:ST},focus:{Feature:kT},hover:{Feature:NT}};function zw(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let r=0;r<s;r++)if(t[r]!==e[r])return!1;return!0}function LT(e){const t={};return e.values.forEach((s,r)=>t[r]=s.get()),t}function MT(e){const t={};return e.values.forEach((s,r)=>t[r]=s.getVelocity()),t}function xc(e,t,s){const r=e.getProps();return Jp(r,t,s!==void 0?s:r.custom,LT(e),MT(e))}let em=Ae;const Dn=e=>e*1e3,gs=e=>e/1e3,IT={current:!1},Bw=e=>Array.isArray(e)&&typeof e[0]=="number";function Ww(e){return!!(!e||typeof e=="string"&&qw[e]||Bw(e)||Array.isArray(e)&&e.every(Ww))}const Aa=([e,t,s,r])=>`cubic-bezier(${e}, ${t}, ${s}, ${r})`,qw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Aa([0,.65,.55,1]),circOut:Aa([.55,0,1,.45]),backIn:Aa([.31,.01,.66,-.59]),backOut:Aa([.33,1.53,.69,.99])};function Hw(e){if(e)return Bw(e)?Aa(e):Array.isArray(e)?e.map(Hw):qw[e]}function OT(e,t,s,{delay:r=0,duration:a,repeat:o=0,repeatType:i="loop",ease:l,times:d}={}){const c={[t]:s};d&&(c.offset=d);const u=Hw(l);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:r,duration:a,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:o+1,direction:i==="reverse"?"alternate":"normal"})}function FT(e,{repeat:t,repeatType:s="loop"}){const r=t&&s!=="loop"&&t%2===1?0:e.length-1;return e[r]}const Gw=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,UT=1e-7,$T=12;function VT(e,t,s,r,a){let o,i,l=0;do i=t+(s-t)/2,o=Gw(i,r,a)-e,o>0?s=i:t=i;while(Math.abs(o)>UT&&++l<$T);return i}function Lo(e,t,s,r){if(e===t&&s===r)return Ae;const a=o=>VT(o,0,1,e,s);return o=>o===0||o===1?o:Gw(a(o),t,r)}const zT=Lo(.42,0,1,1),BT=Lo(0,0,.58,1),Kw=Lo(.42,0,.58,1),WT=e=>Array.isArray(e)&&typeof e[0]!="number",Yw=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Xw=e=>t=>1-e(1-t),tm=e=>1-Math.sin(Math.acos(e)),Qw=Xw(tm),qT=Yw(tm),Zw=Lo(.33,1.53,.69,.99),sm=Xw(Zw),HT=Yw(sm),GT=e=>(e*=2)<1?.5*sm(e):.5*(2-Math.pow(2,-10*(e-1))),KT={linear:Ae,easeIn:zT,easeInOut:Kw,easeOut:BT,circIn:tm,circInOut:qT,circOut:Qw,backIn:sm,backInOut:HT,backOut:Zw,anticipate:GT},Ox=e=>{if(Array.isArray(e)){em(e.length===4);const[t,s,r,a]=e;return Lo(t,s,r,a)}else if(typeof e=="string")return KT[e];return e},nm=(e,t)=>s=>!!(Do(s)&&YR.test(s)&&s.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(s,t)),Jw=(e,t,s)=>r=>{if(!Do(r))return r;const[a,o,i,l]=r.match(mc);return{[e]:parseFloat(a),[t]:parseFloat(o),[s]:parseFloat(i),alpha:l!==void 0?parseFloat(l):1}},YT=e=>rn(0,255,e),pd={...Qn,transform:e=>Math.round(YT(e))},An={test:nm("rgb","red"),parse:Jw("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:r=1})=>"rgba("+pd.transform(e)+", "+pd.transform(t)+", "+pd.transform(s)+", "+Va($a.transform(r))+")"};function XT(e){let t="",s="",r="",a="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,s+=s,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const Zu={test:nm("#"),parse:XT,transform:An.transform},yr={test:nm("hsl","hue"),parse:Jw("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:r=1})=>"hsla("+Math.round(e)+", "+ns.transform(Va(t))+", "+ns.transform(Va(s))+", "+Va($a.transform(r))+")"},Je={test:e=>An.test(e)||Zu.test(e)||yr.test(e),parse:e=>An.test(e)?An.parse(e):yr.test(e)?yr.parse(e):Zu.parse(e),transform:e=>Do(e)?e:e.hasOwnProperty("red")?An.transform(e):yr.transform(e)},ve=(e,t,s)=>-s*e+s*t+e;function md(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function QT({hue:e,saturation:t,lightness:s,alpha:r}){e/=360,t/=100,s/=100;let a=0,o=0,i=0;if(!t)a=o=i=s;else{const l=s<.5?s*(1+t):s+t-s*t,d=2*s-l;a=md(d,l,e+1/3),o=md(d,l,e),i=md(d,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(i*255),alpha:r}}const hd=(e,t,s)=>{const r=e*e;return Math.sqrt(Math.max(0,s*(t*t-r)+r))},ZT=[Zu,An,yr],JT=e=>ZT.find(t=>t.test(e));function Fx(e){const t=JT(e);let s=t.parse(e);return t===yr&&(s=QT(s)),s}const ej=(e,t)=>{const s=Fx(e),r=Fx(t),a={...s};return o=>(a.red=hd(s.red,r.red,o),a.green=hd(s.green,r.green,o),a.blue=hd(s.blue,r.blue,o),a.alpha=ve(s.alpha,r.alpha,o),An.transform(a))};function e4(e){var t,s;return isNaN(e)&&Do(e)&&(((t=e.match(mc))===null||t===void 0?void 0:t.length)||0)+(((s=e.match(Pw))===null||s===void 0?void 0:s.length)||0)>0}const tj={regex:GR,countKey:"Vars",token:"${v}",parse:Ae},sj={regex:Pw,countKey:"Colors",token:"${c}",parse:Je.parse},nj={regex:mc,countKey:"Numbers",token:"${n}",parse:Qn.parse};function xd(e,{regex:t,countKey:s,token:r,parse:a}){const o=e.tokenised.match(t);o&&(e["num"+s]=o.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...o.map(a)))}function vl(e){const t=e.toString(),s={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return s.value.includes("var(--")&&xd(s,tj),xd(s,sj),xd(s,nj),s}function rj(e){return vl(e).values}function aj(e){const{values:t,numColors:s,numVars:r,tokenised:a}=vl(e),o=t.length;return i=>{let l=a;for(let d=0;d<o;d++)d<r?l=l.replace(tj.token,i[d]):d<r+s?l=l.replace(sj.token,Je.transform(i[d])):l=l.replace(nj.token,Va(i[d]));return l}}const t4=e=>typeof e=="number"?0:e;function s4(e){const t=rj(e);return aj(e)(t.map(t4))}const an={test:e4,parse:rj,createTransformer:aj,getAnimatableNone:s4},oj=(e,t)=>s=>`${s>0?t:e}`;function ij(e,t){return typeof e=="number"?s=>ve(e,t,s):Je.test(e)?ej(e,t):e.startsWith("var(")?oj(e,t):cj(e,t)}const lj=(e,t)=>{const s=[...e],r=s.length,a=e.map((o,i)=>ij(o,t[i]));return o=>{for(let i=0;i<r;i++)s[i]=a[i](o);return s}},n4=(e,t)=>{const s={...e,...t},r={};for(const a in s)e[a]!==void 0&&t[a]!==void 0&&(r[a]=ij(e[a],t[a]));return a=>{for(const o in r)s[o]=r[o](a);return s}},cj=(e,t)=>{const s=an.createTransformer(t),r=vl(e),a=vl(t);return r.numVars===a.numVars&&r.numColors===a.numColors&&r.numNumbers>=a.numNumbers?en(lj(r.values,a.values),s):oj(e,t)},mo=(e,t,s)=>{const r=t-e;return r===0?1:(s-e)/r},Ux=(e,t)=>s=>ve(e,t,s);function r4(e){return typeof e=="number"?Ux:typeof e=="string"?Je.test(e)?ej:cj:Array.isArray(e)?lj:typeof e=="object"?n4:Ux}function a4(e,t,s){const r=[],a=s||r4(e[0]),o=e.length-1;for(let i=0;i<o;i++){let l=a(e[i],e[i+1]);if(t){const d=Array.isArray(t)?t[i]||Ae:t;l=en(d,l)}r.push(l)}return r}function dj(e,t,{clamp:s=!0,ease:r,mixer:a}={}){const o=e.length;if(em(o===t.length),o===1)return()=>t[0];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const i=a4(t,r,a),l=i.length,d=c=>{let u=0;if(l>1)for(;u<e.length-2&&!(c<e[u+1]);u++);const f=mo(e[u],e[u+1],c);return i[u](f)};return s?c=>d(rn(e[0],e[o-1],c)):d}function o4(e,t){const s=e[e.length-1];for(let r=1;r<=t;r++){const a=mo(0,t,r);e.push(ve(s,1,a))}}function i4(e){const t=[0];return o4(t,e.length-1),t}function l4(e,t){return e.map(s=>s*t)}function c4(e,t){return e.map(()=>t||Kw).splice(0,e.length-1)}function bl({duration:e=300,keyframes:t,times:s,ease:r="easeInOut"}){const a=WT(r)?r.map(Ox):Ox(r),o={done:!1,value:t[0]},i=l4(s&&s.length===t.length?s:i4(t),e),l=dj(i,t,{ease:Array.isArray(a)?a:c4(t,a)});return{calculatedDuration:e,next:d=>(o.value=l(d),o.done=d>=e,o)}}function uj(e,t){return t?e*(1e3/t):0}const d4=5;function fj(e,t,s){const r=Math.max(t-d4,0);return uj(s-e(r),t-r)}const gd=.001,u4=.01,f4=10,p4=.05,m4=1;function h4({duration:e=800,bounce:t=.25,velocity:s=0,mass:r=1}){let a,o,i=1-t;i=rn(p4,m4,i),e=rn(u4,f4,gs(e)),i<1?(a=c=>{const u=c*i,f=u*e,m=u-s,g=Ju(c,i),x=Math.exp(-f);return gd-m/g*x},o=c=>{const f=c*i*e,m=f*s+s,g=Math.pow(i,2)*Math.pow(c,2)*e,x=Math.exp(-f),b=Ju(Math.pow(c,2),i);return(-a(c)+gd>0?-1:1)*((m-g)*x)/b}):(a=c=>{const u=Math.exp(-c*e),f=(c-s)*e+1;return-gd+u*f},o=c=>{const u=Math.exp(-c*e),f=(s-c)*(e*e);return u*f});const l=5/e,d=g4(a,o,l);if(e=Dn(e),isNaN(d))return{stiffness:100,damping:10,duration:e};{const c=Math.pow(d,2)*r;return{stiffness:c,damping:i*2*Math.sqrt(r*c),duration:e}}}const x4=12;function g4(e,t,s){let r=s;for(let a=1;a<x4;a++)r=r-e(r)/t(r);return r}function Ju(e,t){return e*Math.sqrt(1-t*t)}const y4=["duration","bounce"],v4=["stiffness","damping","mass"];function $x(e,t){return t.some(s=>e[s]!==void 0)}function b4(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!$x(e,v4)&&$x(e,y4)){const s=h4(e);t={...t,...s,mass:1},t.isResolvedFromDuration=!0}return t}function pj({keyframes:e,restDelta:t,restSpeed:s,...r}){const a=e[0],o=e[e.length-1],i={done:!1,value:a},{stiffness:l,damping:d,mass:c,duration:u,velocity:f,isResolvedFromDuration:m}=b4({...r,velocity:-gs(r.velocity||0)}),g=f||0,x=d/(2*Math.sqrt(l*c)),b=o-a,v=gs(Math.sqrt(l/c)),h=Math.abs(b)<5;s||(s=h?.01:2),t||(t=h?.005:.5);let p;if(x<1){const w=Ju(v,x);p=j=>{const k=Math.exp(-x*v*j);return o-k*((g+x*v*b)/w*Math.sin(w*j)+b*Math.cos(w*j))}}else if(x===1)p=w=>o-Math.exp(-v*w)*(b+(g+v*b)*w);else{const w=v*Math.sqrt(x*x-1);p=j=>{const k=Math.exp(-x*v*j),E=Math.min(w*j,300);return o-k*((g+x*v*b)*Math.sinh(E)+w*b*Math.cosh(E))/w}}return{calculatedDuration:m&&u||null,next:w=>{const j=p(w);if(m)i.done=w>=u;else{let k=g;w!==0&&(x<1?k=fj(p,w,j):k=0);const E=Math.abs(k)<=s,P=Math.abs(o-j)<=t;i.done=E&&P}return i.value=i.done?o:j,i}}}function Vx({keyframes:e,velocity:t=0,power:s=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:i,min:l,max:d,restDelta:c=.5,restSpeed:u}){const f=e[0],m={done:!1,value:f},g=S=>l!==void 0&&S<l||d!==void 0&&S>d,x=S=>l===void 0?d:d===void 0||Math.abs(l-S)<Math.abs(d-S)?l:d;let b=s*t;const v=f+b,h=i===void 0?v:i(v);h!==v&&(b=h-f);const p=S=>-b*Math.exp(-S/r),w=S=>h+p(S),j=S=>{const N=p(S),A=w(S);m.done=Math.abs(N)<=c,m.value=m.done?h:A};let k,E;const P=S=>{g(m.value)&&(k=S,E=pj({keyframes:[m.value,x(m.value)],velocity:fj(w,S,m.value),damping:a,stiffness:o,restDelta:c,restSpeed:u}))};return P(0),{calculatedDuration:null,next:S=>{let N=!1;return!E&&k===void 0&&(N=!0,j(S),P(S)),k!==void 0&&S>k?E.next(S-k):(!N&&j(S),m)}}}const w4=e=>{const t=({timestamp:s})=>e(s);return{start:()=>me.update(t,!0),stop:()=>ks(t),now:()=>Ge.isProcessing?Ge.timestamp:performance.now()}},zx=2e4;function Bx(e){let t=0;const s=50;let r=e.next(t);for(;!r.done&&t<zx;)t+=s,r=e.next(t);return t>=zx?1/0:t}const j4={decay:Vx,inertia:Vx,tween:bl,keyframes:bl,spring:pj};function wl({autoplay:e=!0,delay:t=0,driver:s=w4,keyframes:r,type:a="keyframes",repeat:o=0,repeatDelay:i=0,repeatType:l="loop",onPlay:d,onStop:c,onComplete:u,onUpdate:f,...m}){let g=1,x=!1,b,v;const h=()=>{v=new Promise(D=>{b=D})};h();let p;const w=j4[a]||bl;let j;w!==bl&&typeof r[0]!="number"&&(j=dj([0,100],r,{clamp:!1}),r=[0,100]);const k=w({...m,keyframes:r});let E;l==="mirror"&&(E=w({...m,keyframes:[...r].reverse(),velocity:-(m.velocity||0)}));let P="idle",S=null,N=null,A=null;k.calculatedDuration===null&&o&&(k.calculatedDuration=Bx(k));const{calculatedDuration:_}=k;let M=1/0,F=1/0;_!==null&&(M=_+i,F=M*(o+1)-i);let I=0;const B=D=>{if(N===null)return;g>0&&(N=Math.min(N,D)),g<0&&(N=Math.min(D-F/g,N)),S!==null?I=S:I=Math.round(D-N)*g;const W=I-t*(g>=0?1:-1),oe=g>=0?W<0:W>F;I=Math.max(W,0),P==="finished"&&S===null&&(I=F);let re=I,he=k;if(o){const We=Math.min(I,F)/M;let Gt=Math.floor(We),Kt=We%1;!Kt&&We>=1&&(Kt=1),Kt===1&&Gt--,Gt=Math.min(Gt,o+1),!!(Gt%2)&&(l==="reverse"?(Kt=1-Kt,i&&(Kt-=i/M)):l==="mirror"&&(he=E)),re=rn(0,1,Kt)*M}const Ce=oe?{done:!1,value:r[0]}:he.next(re);j&&(Ce.value=j(Ce.value));let{done:$e}=Ce;!oe&&_!==null&&($e=g>=0?I>=F:I<=0);const gn=S===null&&(P==="finished"||P==="running"&&$e);return f&&f(Ce.value),gn&&R(),Ce},U=()=>{p&&p.stop(),p=void 0},H=()=>{P="idle",U(),b(),h(),N=A=null},R=()=>{P="finished",u&&u(),U(),b()},T=()=>{if(x)return;p||(p=s(B));const D=p.now();d&&d(),S!==null?N=D-S:(!N||P==="finished")&&(N=D),P==="finished"&&h(),A=N,S=null,P="running",p.start()};e&&T();const O={then(D,W){return v.then(D,W)},get time(){return gs(I)},set time(D){D=Dn(D),I=D,S!==null||!p||g===0?S=D:N=p.now()-D/g},get duration(){const D=k.calculatedDuration===null?Bx(k):k.calculatedDuration;return gs(D)},get speed(){return g},set speed(D){D===g||!p||(g=D,O.time=gs(I))},get state(){return P},play:T,pause:()=>{P="paused",S=I},stop:()=>{x=!0,P!=="idle"&&(P="idle",c&&c(),H())},cancel:()=>{A!==null&&B(A),H()},complete:()=>{P="finished"},sample:D=>(N=0,B(D))};return O}function N4(e){let t;return()=>(t===void 0&&(t=e()),t)}const k4=N4(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),S4=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),ui=10,C4=2e4,P4=(e,t)=>t.type==="spring"||e==="backgroundColor"||!Ww(t.ease);function A4(e,t,{onUpdate:s,onComplete:r,...a}){if(!(k4()&&S4.has(t)&&!a.repeatDelay&&a.repeatType!=="mirror"&&a.damping!==0&&a.type!=="inertia"))return!1;let i=!1,l,d,c=!1;const u=()=>{d=new Promise(w=>{l=w})};u();let{keyframes:f,duration:m=300,ease:g,times:x}=a;if(P4(t,a)){const w=wl({...a,repeat:0,delay:0});let j={done:!1,value:f[0]};const k=[];let E=0;for(;!j.done&&E<C4;)j=w.sample(E),k.push(j.value),E+=ui;x=void 0,f=k,m=E-ui,g="linear"}const b=OT(e.owner.current,t,f,{...a,duration:m,ease:g,times:x}),v=()=>{c=!1,b.cancel()},h=()=>{c=!0,me.update(v),l(),u()};return b.onfinish=()=>{c||(e.set(FT(f,a)),r&&r(),h())},{then(w,j){return d.then(w,j)},attachTimeline(w){return b.timeline=w,b.onfinish=null,Ae},get time(){return gs(b.currentTime||0)},set time(w){b.currentTime=Dn(w)},get speed(){return b.playbackRate},set speed(w){b.playbackRate=w},get duration(){return gs(m)},play:()=>{i||(b.play(),ks(v))},pause:()=>b.pause(),stop:()=>{if(i=!0,b.playState==="idle")return;const{currentTime:w}=b;if(w){const j=wl({...a,autoplay:!1});e.setWithVelocity(j.sample(w-ui).value,j.sample(w).value,ui)}h()},complete:()=>{c||b.finish()},cancel:h}}function E4({keyframes:e,delay:t,onUpdate:s,onComplete:r}){const a=()=>(s&&s(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Ae,pause:Ae,stop:Ae,then:o=>(o(),Promise.resolve()),cancel:Ae,complete:Ae});return t?wl({keyframes:[0,1],duration:0,delay:t,onComplete:a}):a()}const R4={type:"spring",stiffness:500,damping:25,restSpeed:10},T4=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),D4={type:"keyframes",duration:.8},_4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},L4=(e,{keyframes:t})=>t.length>2?D4:Xn.has(e)?e.startsWith("scale")?T4(t[1]):R4:_4,ef=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(an.test(t)||t==="0")&&!t.startsWith("url(")),M4=new Set(["brightness","contrast","saturate","opacity"]);function I4(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=s.match(mc)||[];if(!r)return e;const a=s.replace(r,"");let o=M4.has(t)?1:0;return r!==s&&(o*=100),t+"("+o+a+")"}const O4=/([a-z-]*)\(.*?\)/g,tf={...an,getAnimatableNone:e=>{const t=e.match(O4);return t?t.map(I4).join(" "):e}},F4={...Aw,color:Je,backgroundColor:Je,outlineColor:Je,fill:Je,stroke:Je,borderColor:Je,borderTopColor:Je,borderRightColor:Je,borderBottomColor:Je,borderLeftColor:Je,filter:tf,WebkitFilter:tf},rm=e=>F4[e];function mj(e,t){let s=rm(e);return s!==tf&&(s=an),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const hj=e=>/^0[^.\s]+$/.test(e);function U4(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||hj(e)}function $4(e,t,s,r){const a=ef(t,s);let o;Array.isArray(s)?o=[...s]:o=[null,s];const i=r.from!==void 0?r.from:e.get();let l;const d=[];for(let c=0;c<o.length;c++)o[c]===null&&(o[c]=c===0?i:o[c-1]),U4(o[c])&&d.push(c),typeof o[c]=="string"&&o[c]!=="none"&&o[c]!=="0"&&(l=o[c]);if(a&&d.length&&l)for(let c=0;c<d.length;c++){const u=d[c];o[u]=mj(t,l)}return o}function V4({when:e,delay:t,delayChildren:s,staggerChildren:r,staggerDirection:a,repeat:o,repeatType:i,repeatDelay:l,from:d,elapsed:c,...u}){return!!Object.keys(u).length}function am(e,t){return e[t]||e.default||e}const z4={skipAnimations:!1},om=(e,t,s,r={})=>a=>{const o=am(r,e)||{},i=o.delay||r.delay||0;let{elapsed:l=0}=r;l=l-Dn(i);const d=$4(t,e,s,o),c=d[0],u=d[d.length-1],f=ef(e,c),m=ef(e,u);let g={keyframes:d,velocity:t.getVelocity(),ease:"easeOut",...o,delay:-l,onUpdate:x=>{t.set(x),o.onUpdate&&o.onUpdate(x)},onComplete:()=>{a(),o.onComplete&&o.onComplete()}};if(V4(o)||(g={...g,...L4(e,g)}),g.duration&&(g.duration=Dn(g.duration)),g.repeatDelay&&(g.repeatDelay=Dn(g.repeatDelay)),!f||!m||IT.current||o.type===!1||z4.skipAnimations)return E4(g);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const x=A4(t,e,g);if(x)return x}return wl(g)};function jl(e){return!!(mt(e)&&e.add)}const xj=e=>/^\-?\d*\.?\d+$/.test(e);function im(e,t){e.indexOf(t)===-1&&e.push(t)}function lm(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}class cm{constructor(){this.subscriptions=[]}add(t){return im(this.subscriptions,t),()=>lm(this.subscriptions,t)}notify(t,s,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,s,r);else for(let o=0;o<a;o++){const i=this.subscriptions[o];i&&i(t,s,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const B4=e=>!isNaN(parseFloat(e));class W4{constructor(t,s={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,a=!0)=>{this.prev=this.current,this.current=r;const{delta:o,timestamp:i}=Ge;this.lastUpdated!==i&&(this.timeDelta=o,this.lastUpdated=i,me.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>me.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=B4(this.current),this.owner=s.owner}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new cm);const r=this.events[t].add(s);return t==="change"?()=>{r(),me.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t,s=!0){!s||!this.passiveEffect?this.updateAndNotify(t,s):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,s,r){this.set(s),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?uj(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Wr(e,t){return new W4(e,t)}const gj=e=>t=>t.test(e),q4={test:e=>e==="auto",parse:e=>e},yj=[Qn,K,ns,Ls,QR,XR,q4],va=e=>yj.find(gj(e)),H4=[...yj,Je,an],G4=e=>H4.find(gj(e));function K4(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,Wr(s))}function Y4(e,t){const s=xc(e,t);let{transitionEnd:r={},transition:a={},...o}=s?e.makeTargetAnimatable(s,!1):{};o={...o,...r};for(const i in o){const l=fT(o[i]);K4(e,i,l)}}function X4(e,t,s){var r,a;const o=Object.keys(t).filter(l=>!e.hasValue(l)),i=o.length;if(i)for(let l=0;l<i;l++){const d=o[l],c=t[d];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(a=(r=s[d])!==null&&r!==void 0?r:e.readValue(d))!==null&&a!==void 0?a:t[d]),u!=null&&(typeof u=="string"&&(xj(u)||hj(u))?u=parseFloat(u):!G4(u)&&an.test(c)&&(u=mj(d,c)),e.addValue(d,Wr(u,{owner:e})),s[d]===void 0&&(s[d]=u),u!==null&&e.setBaseTarget(d,u))}}function Q4(e,t){return t?(t[e]||t.default||t).from:void 0}function Z4(e,t,s){const r={};for(const a in e){const o=Q4(a,t);if(o!==void 0)r[a]=o;else{const i=s.getValue(a);i&&(r[a]=i.get())}}return r}function J4({protectedKeys:e,needsAnimating:t},s){const r=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,r}function eD(e,t){const s=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==s)return!0}else return s!==t}function vj(e,t,{delay:s=0,transitionOverride:r,type:a}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:i,...l}=e.makeTargetAnimatable(t);const d=e.getValue("willChange");r&&(o=r);const c=[],u=a&&e.animationState&&e.animationState.getState()[a];for(const f in l){const m=e.getValue(f),g=l[f];if(!m||g===void 0||u&&J4(u,f))continue;const x={delay:s,elapsed:0,...am(o||{},f)};if(window.HandoffAppearAnimations){const h=e.getProps()[bw];if(h){const p=window.HandoffAppearAnimations(h,f,m,me);p!==null&&(x.elapsed=p,x.isHandoff=!0)}}let b=!x.isHandoff&&!eD(m,g);if(x.type==="spring"&&(m.getVelocity()||x.velocity)&&(b=!1),m.animation&&(b=!1),b)continue;m.start(om(f,m,g,e.shouldReduceMotion&&Xn.has(f)?{type:!1}:x));const v=m.animation;jl(d)&&(d.add(f),v.then(()=>d.remove(f))),c.push(v)}return i&&Promise.all(c).then(()=>{i&&Y4(e,i)}),c}function sf(e,t,s={}){const r=xc(e,t,s.custom);let{transition:a=e.getDefaultTransition()||{}}=r||{};s.transitionOverride&&(a=s.transitionOverride);const o=r?()=>Promise.all(vj(e,r,s)):()=>Promise.resolve(),i=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:f}=a;return tD(e,t,c+d,u,f,s)}:()=>Promise.resolve(),{when:l}=a;if(l){const[d,c]=l==="beforeChildren"?[o,i]:[i,o];return d().then(()=>c())}else return Promise.all([o(),i(s.delay)])}function tD(e,t,s=0,r=0,a=1,o){const i=[],l=(e.variantChildren.size-1)*r,d=a===1?(c=0)=>c*r:(c=0)=>l-c*r;return Array.from(e.variantChildren).sort(sD).forEach((c,u)=>{c.notify("AnimationStart",t),i.push(sf(c,t,{...o,delay:s+d(u)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(i)}function sD(e,t){return e.sortNodePosition(t)}function nD(e,t,s={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(o=>sf(e,o,s));r=Promise.all(a)}else if(typeof t=="string")r=sf(e,t,s);else{const a=typeof t=="function"?xc(e,t,s.custom):t;r=Promise.all(vj(e,a,s))}return r.then(()=>e.notify("AnimationComplete",t))}const rD=[...qp].reverse(),aD=qp.length;function oD(e){return t=>Promise.all(t.map(({animation:s,options:r})=>nD(e,s,r)))}function iD(e){let t=oD(e);const s=cD();let r=!0;const a=(d,c)=>{const u=xc(e,c);if(u){const{transition:f,transitionEnd:m,...g}=u;d={...d,...g,...m}}return d};function o(d){t=d(e)}function i(d,c){const u=e.getProps(),f=e.getVariantContext(!0)||{},m=[],g=new Set;let x={},b=1/0;for(let h=0;h<aD;h++){const p=rD[h],w=s[p],j=u[p]!==void 0?u[p]:f[p],k=fo(j),E=p===c?w.isActive:null;E===!1&&(b=h);let P=j===f[p]&&j!==u[p]&&k;if(P&&r&&e.manuallyAnimateOnMount&&(P=!1),w.protectedKeys={...x},!w.isActive&&E===null||!j&&!w.prevProp||fc(j)||typeof j=="boolean")continue;let N=lD(w.prevProp,j)||p===c&&w.isActive&&!P&&k||h>b&&k,A=!1;const _=Array.isArray(j)?j:[j];let M=_.reduce(a,{});E===!1&&(M={});const{prevResolvedValues:F={}}=w,I={...F,...M},B=U=>{N=!0,g.has(U)&&(A=!0,g.delete(U)),w.needsAnimating[U]=!0};for(const U in I){const H=M[U],R=F[U];if(x.hasOwnProperty(U))continue;let T=!1;yl(H)&&yl(R)?T=!zw(H,R):T=H!==R,T?H!==void 0?B(U):g.add(U):H!==void 0&&g.has(U)?B(U):w.protectedKeys[U]=!0}w.prevProp=j,w.prevResolvedValues=M,w.isActive&&(x={...x,...M}),r&&e.blockInitialAnimation&&(N=!1),N&&(!P||A)&&m.push(..._.map(U=>({animation:U,options:{type:p,...d}})))}if(g.size){const h={};g.forEach(p=>{const w=e.getBaseTarget(p);w!==void 0&&(h[p]=w)}),m.push({animation:h})}let v=!!m.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(v=!1),r=!1,v?t(m):Promise.resolve()}function l(d,c,u){var f;if(s[d].isActive===c)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(g=>{var x;return(x=g.animationState)===null||x===void 0?void 0:x.setActive(d,c)}),s[d].isActive=c;const m=i(u,d);for(const g in s)s[g].protectedKeys={};return m}return{animateChanges:i,setActive:l,setAnimateFunction:o,getState:()=>s}}function lD(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!zw(t,e):!1}function yn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function cD(){return{animate:yn(!0),whileInView:yn(),whileHover:yn(),whileTap:yn(),whileDrag:yn(),whileFocus:yn(),exit:yn()}}class dD extends hn{constructor(t){super(t),t.animationState||(t.animationState=iD(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),fc(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){}}let uD=0;class fD extends hn{constructor(){super(...arguments),this.id=uD++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s,custom:r}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const o=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});s&&!t&&o.then(()=>s(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const pD={animation:{Feature:dD},exit:{Feature:fD}},Wx=(e,t)=>Math.abs(e-t);function mD(e,t){const s=Wx(e.x,t.x),r=Wx(e.y,t.y);return Math.sqrt(s**2+r**2)}class bj{constructor(t,s,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=vd(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,g=mD(f.offset,{x:0,y:0})>=3;if(!m&&!g)return;const{point:x}=f,{timestamp:b}=Ge;this.history.push({...x,timestamp:b});const{onStart:v,onMove:h}=this.handlers;m||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),h&&h(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=yd(m,this.transformPagePoint),me.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:g,onSessionEnd:x,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=vd(f.type==="pointercancel"?this.lastMoveEventInfo:yd(m,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,v),x&&x(f,v)},!Ow(t))return;this.dragSnapToOrigin=o,this.handlers=s,this.transformPagePoint=r,this.contextWindow=a||window;const i=hc(t),l=yd(i,this.transformPagePoint),{point:d}=l,{timestamp:c}=Ge;this.history=[{...d,timestamp:c}];const{onSessionStart:u}=s;u&&u(t,vd(l,this.history)),this.removeListeners=en(xs(this.contextWindow,"pointermove",this.handlePointerMove),xs(this.contextWindow,"pointerup",this.handlePointerUp),xs(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ks(this.updatePoint)}}function yd(e,t){return t?{point:t(e.point)}:e}function qx(e,t){return{x:e.x-t.x,y:e.y-t.y}}function vd({point:e},t){return{point:e,delta:qx(e,wj(t)),offset:qx(e,hD(t)),velocity:xD(t,.1)}}function hD(e){return e[0]}function wj(e){return e[e.length-1]}function xD(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,r=null;const a=wj(e);for(;s>=0&&(r=e[s],!(a.timestamp-r.timestamp>Dn(t)));)s--;if(!r)return{x:0,y:0};const o=gs(a.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const i={x:(a.x-r.x)/o,y:(a.y-r.y)/o};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function jt(e){return e.max-e.min}function nf(e,t=0,s=.01){return Math.abs(e-t)<=s}function Hx(e,t,s,r=.5){e.origin=r,e.originPoint=ve(t.min,t.max,e.origin),e.scale=jt(s)/jt(t),(nf(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=ve(s.min,s.max,e.origin)-e.originPoint,(nf(e.translate)||isNaN(e.translate))&&(e.translate=0)}function za(e,t,s,r){Hx(e.x,t.x,s.x,r?r.originX:void 0),Hx(e.y,t.y,s.y,r?r.originY:void 0)}function Gx(e,t,s){e.min=s.min+t.min,e.max=e.min+jt(t)}function gD(e,t,s){Gx(e.x,t.x,s.x),Gx(e.y,t.y,s.y)}function Kx(e,t,s){e.min=t.min-s.min,e.max=e.min+jt(t)}function Ba(e,t,s){Kx(e.x,t.x,s.x),Kx(e.y,t.y,s.y)}function yD(e,{min:t,max:s},r){return t!==void 0&&e<t?e=r?ve(t,e,r.min):Math.max(e,t):s!==void 0&&e>s&&(e=r?ve(s,e,r.max):Math.min(e,s)),e}function Yx(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function vD(e,{top:t,left:s,bottom:r,right:a}){return{x:Yx(e.x,s,a),y:Yx(e.y,t,r)}}function Xx(e,t){let s=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,r]=[r,s]),{min:s,max:r}}function bD(e,t){return{x:Xx(e.x,t.x),y:Xx(e.y,t.y)}}function wD(e,t){let s=.5;const r=jt(e),a=jt(t);return a>r?s=mo(t.min,t.max-r,e.min):r>a&&(s=mo(e.min,e.max-a,t.min)),rn(0,1,s)}function jD(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const rf=.35;function ND(e=rf){return e===!1?e=0:e===!0&&(e=rf),{x:Qx(e,"left","right"),y:Qx(e,"top","bottom")}}function Qx(e,t,s){return{min:Zx(e,t),max:Zx(e,s)}}function Zx(e,t){return typeof e=="number"?e:e[t]||0}const Jx=()=>({translate:0,scale:1,origin:0,originPoint:0}),vr=()=>({x:Jx(),y:Jx()}),e0=()=>({min:0,max:0}),Te=()=>({x:e0(),y:e0()});function At(e){return[e("x"),e("y")]}function jj({top:e,left:t,right:s,bottom:r}){return{x:{min:t,max:s},y:{min:e,max:r}}}function kD({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function SD(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:r.y,right:r.x}}function bd(e){return e===void 0||e===1}function af({scale:e,scaleX:t,scaleY:s}){return!bd(e)||!bd(t)||!bd(s)}function wn(e){return af(e)||Nj(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Nj(e){return t0(e.x)||t0(e.y)}function t0(e){return e&&e!=="0%"}function Nl(e,t,s){const r=e-s,a=t*r;return s+a}function s0(e,t,s,r,a){return a!==void 0&&(e=Nl(e,a,r)),Nl(e,s,r)+t}function of(e,t=0,s=1,r,a){e.min=s0(e.min,t,s,r,a),e.max=s0(e.max,t,s,r,a)}function kj(e,{x:t,y:s}){of(e.x,t.translate,t.scale,t.originPoint),of(e.y,s.translate,s.scale,s.originPoint)}function CD(e,t,s,r=!1){const a=s.length;if(!a)return;t.x=t.y=1;let o,i;for(let l=0;l<a;l++){o=s[l],i=o.projectionDelta;const d=o.instance;d&&d.style&&d.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&br(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,kj(e,i)),r&&wn(o.latestValues)&&br(e,o.latestValues))}t.x=n0(t.x),t.y=n0(t.y)}function n0(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Fs(e,t){e.min=e.min+t,e.max=e.max+t}function r0(e,t,[s,r,a]){const o=t[a]!==void 0?t[a]:.5,i=ve(e.min,e.max,o);of(e,t[s],t[r],i,t.scale)}const PD=["x","scaleX","originX"],AD=["y","scaleY","originY"];function br(e,t){r0(e.x,t,PD),r0(e.y,t,AD)}function Sj(e,t){return jj(SD(e.getBoundingClientRect(),t))}function ED(e,t,s){const r=Sj(e,s),{scroll:a}=t;return a&&(Fs(r.x,a.offset.x),Fs(r.y,a.offset.y)),r}const Cj=({current:e})=>e?e.ownerDocument.defaultView:null,RD=new WeakMap;class TD{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Te(),this.visualElement=t}start(t,{snapToCursor:s=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(hc(u,"page").point)},o=(u,f)=>{const{drag:m,dragPropagation:g,onDragStart:x}=this.getProps();if(m&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Uw(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),At(v=>{let h=this.getAxisMotionValue(v).get()||0;if(ns.test(h)){const{projection:p}=this.visualElement;if(p&&p.layout){const w=p.layout.layoutBox[v];w&&(h=jt(w)*(parseFloat(h)/100))}}this.originPoint[v]=h}),x&&me.update(()=>x(u,f),!1,!0);const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},i=(u,f)=>{const{dragPropagation:m,dragDirectionLock:g,onDirectionLock:x,onDrag:b}=this.getProps();if(!m&&!this.openGlobalLock)return;const{offset:v}=f;if(g&&this.currentDirection===null){this.currentDirection=DD(v),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),b&&b(u,f)},l=(u,f)=>this.stop(u,f),d=()=>At(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new bj(t,{onSessionStart:a,onStart:o,onMove:i,onSessionEnd:l,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:Cj(this.visualElement)})}stop(t,s){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&me.update(()=>o(t,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,r){const{drag:a}=this.getProps();if(!r||!fi(t,a,this.currentDirection))return;const o=this.getAxisMotionValue(t);let i=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(i=yD(i,this.constraints[t],this.elastic[t])),o.set(i)}resolveConstraints(){var t;const{dragConstraints:s,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;s&&gr(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&a?this.constraints=vD(a.layoutBox,s):this.constraints=!1,this.elastic=ND(r),o!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&At(i=>{this.getAxisMotionValue(i)&&(this.constraints[i]=jD(a.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!gr(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=ED(r,a.root,this.visualElement.getTransformPagePoint());let i=bD(a.layout.layoutBox,o);if(s){const l=s(kD(i));this.hasMutatedConstraints=!!l,l&&(i=jj(l))}return i}startAnimation(t){const{drag:s,dragMomentum:r,dragElastic:a,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:l}=this.getProps(),d=this.constraints||{},c=At(u=>{if(!fi(u,s,this.currentDirection))return;let f=d&&d[u]||{};i&&(f={min:0,max:0});const m=a?200:1e6,g=a?40:1e7,x={type:"inertia",velocity:r?t[u]:0,bounceStiffness:m,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(u,x)});return Promise.all(c).then(l)}startAxisValueAnimation(t,s){const r=this.getAxisMotionValue(t);return r.start(om(t,r,0,s))}stopAnimation(){At(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){At(t=>{var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(t){const s="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),a=r[s];return a||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){At(s=>{const{drag:r}=this.getProps();if(!fi(s,r,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(s);if(a&&a.layout){const{min:i,max:l}=a.layout.layoutBox[s];o.set(t[s]-ve(i,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:r}=this.visualElement;if(!gr(s)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};At(i=>{const l=this.getAxisMotionValue(i);if(l){const d=l.get();a[i]=wD({min:d,max:d},this.constraints[i])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),At(i=>{if(!fi(i,t,null))return;const l=this.getAxisMotionValue(i),{min:d,max:c}=this.constraints[i];l.set(ve(d,c,a[i]))})}addListeners(){if(!this.visualElement.current)return;RD.set(this.visualElement,this);const t=this.visualElement.current,s=xs(t,"pointerdown",d=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();gr(d)&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),r();const i=ms(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:d,hasLayoutChanged:c})=>{this.isDragging&&c&&(At(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=d[u].translate,f.set(f.get()+d[u].translate))}),this.visualElement.render())});return()=>{i(),s(),o(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:i=rf,dragMomentum:l=!0}=t;return{...t,drag:s,dragDirectionLock:r,dragPropagation:a,dragConstraints:o,dragElastic:i,dragMomentum:l}}}function fi(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function DD(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class _D extends hn{constructor(t){super(t),this.removeGroupControls=Ae,this.removeListeners=Ae,this.controls=new TD(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ae}unmount(){this.removeGroupControls(),this.removeListeners()}}const a0=e=>(t,s)=>{e&&me.update(()=>e(t,s))};class LD extends hn{constructor(){super(...arguments),this.removePointerDownListener=Ae}onPointerDown(t){this.session=new bj(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Cj(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:a0(t),onStart:a0(s),onMove:r,onEnd:(o,i)=>{delete this.session,a&&me.update(()=>a(o,i))}}}mount(){this.removePointerDownListener=xs(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function MD(){const e=y.useContext(Bp);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:s,register:r}=e,a=y.useId();return y.useEffect(()=>r(a),[]),!t&&s?[!1,()=>s&&s(a)]:[!0]}const Ii={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function o0(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ba={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(K.test(e))e=parseFloat(e);else return e;const s=o0(e,t.target.x),r=o0(e,t.target.y);return`${s}% ${r}%`}},ID={correct:(e,{treeScale:t,projectionDelta:s})=>{const r=e,a=an.parse(e);if(a.length>5)return r;const o=an.createTransformer(e),i=typeof a[0]!="number"?1:0,l=s.x.scale*t.x,d=s.y.scale*t.y;a[0+i]/=l,a[1+i]/=d;const c=ve(l,d,.5);return typeof a[2+i]=="number"&&(a[2+i]/=c),typeof a[3+i]=="number"&&(a[3+i]/=c),o(a)}};class OD extends C.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:r,layoutId:a}=this.props,{projection:o}=t;BR(FD),o&&(s.group&&s.group.add(o),r&&r.register&&a&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Ii.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:r,drag:a,isPresent:o}=this.props,i=r.projection;return i&&(i.isPresent=o,a||t.layoutDependency!==s||s===void 0?i.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?i.promote():i.relegate()||me.postRender(()=>{const l=i.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:r}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Pj(e){const[t,s]=MD(),r=y.useContext(jw);return C.createElement(OD,{...e,layoutGroup:r,switchLayoutGroup:y.useContext(Nw),isPresent:t,safeToRemove:s})}const FD={borderRadius:{...ba,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ba,borderTopRightRadius:ba,borderBottomLeftRadius:ba,borderBottomRightRadius:ba,boxShadow:ID},Aj=["TopLeft","TopRight","BottomLeft","BottomRight"],UD=Aj.length,i0=e=>typeof e=="string"?parseFloat(e):e,l0=e=>typeof e=="number"||K.test(e);function $D(e,t,s,r,a,o){a?(e.opacity=ve(0,s.opacity!==void 0?s.opacity:1,VD(r)),e.opacityExit=ve(t.opacity!==void 0?t.opacity:1,0,zD(r))):o&&(e.opacity=ve(t.opacity!==void 0?t.opacity:1,s.opacity!==void 0?s.opacity:1,r));for(let i=0;i<UD;i++){const l=`border${Aj[i]}Radius`;let d=c0(t,l),c=c0(s,l);if(d===void 0&&c===void 0)continue;d||(d=0),c||(c=0),d===0||c===0||l0(d)===l0(c)?(e[l]=Math.max(ve(i0(d),i0(c),r),0),(ns.test(c)||ns.test(d))&&(e[l]+="%")):e[l]=c}(t.rotate||s.rotate)&&(e.rotate=ve(t.rotate||0,s.rotate||0,r))}function c0(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const VD=Ej(0,.5,Qw),zD=Ej(.5,.95,Ae);function Ej(e,t,s){return r=>r<e?0:r>t?1:s(mo(e,t,r))}function d0(e,t){e.min=t.min,e.max=t.max}function Pt(e,t){d0(e.x,t.x),d0(e.y,t.y)}function u0(e,t,s,r,a){return e-=t,e=Nl(e,1/s,r),a!==void 0&&(e=Nl(e,1/a,r)),e}function BD(e,t=0,s=1,r=.5,a,o=e,i=e){if(ns.test(t)&&(t=parseFloat(t),t=ve(i.min,i.max,t/100)-i.min),typeof t!="number")return;let l=ve(o.min,o.max,r);e===o&&(l-=t),e.min=u0(e.min,t,s,l,a),e.max=u0(e.max,t,s,l,a)}function f0(e,t,[s,r,a],o,i){BD(e,t[s],t[r],t[a],t.scale,o,i)}const WD=["x","scaleX","originX"],qD=["y","scaleY","originY"];function p0(e,t,s,r){f0(e.x,t,WD,s?s.x:void 0,r?r.x:void 0),f0(e.y,t,qD,s?s.y:void 0,r?r.y:void 0)}function m0(e){return e.translate===0&&e.scale===1}function Rj(e){return m0(e.x)&&m0(e.y)}function HD(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Tj(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function h0(e){return jt(e.x)/jt(e.y)}class GD{constructor(){this.members=[]}add(t){im(this.members,t),t.scheduleRender()}remove(t){if(lm(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(a=>t===a);if(s===0)return!1;let r;for(let a=s;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,s){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,s&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:r}=t;s.onExitComplete&&s.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function x0(e,t,s){let r="";const a=e.x.translate/t.x,o=e.y.translate/t.y;if((a||o)&&(r=`translate3d(${a}px, ${o}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),s){const{rotate:d,rotateX:c,rotateY:u}=s;d&&(r+=`rotate(${d}deg) `),c&&(r+=`rotateX(${c}deg) `),u&&(r+=`rotateY(${u}deg) `)}const i=e.x.scale*t.x,l=e.y.scale*t.y;return(i!==1||l!==1)&&(r+=`scale(${i}, ${l})`),r||"none"}const KD=(e,t)=>e.depth-t.depth;class YD{constructor(){this.children=[],this.isDirty=!1}add(t){im(this.children,t),this.isDirty=!0}remove(t){lm(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(KD),this.isDirty=!1,this.children.forEach(t)}}function XD(e,t){const s=performance.now(),r=({timestamp:a})=>{const o=a-s;o>=t&&(ks(r),e(o-t))};return me.read(r,!0),()=>ks(r)}function QD(e){window.MotionDebug&&window.MotionDebug.record(e)}function ZD(e){return e instanceof SVGElement&&e.tagName!=="svg"}function JD(e,t,s){const r=mt(e)?e:Wr(e);return r.start(om("",r,t,s)),r.animation}const g0=["","X","Y","Z"],e3={visibility:"hidden"},y0=1e3;let t3=0;const jn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Dj({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(i={},l=t==null?void 0:t()){this.id=t3++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,jn.totalNodes=jn.resolvedTargetDeltas=jn.recalculatedProjection=0,this.nodes.forEach(r3),this.nodes.forEach(c3),this.nodes.forEach(d3),this.nodes.forEach(a3),QD(jn)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new YD)}addEventListener(i,l){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new cm),this.eventHandlers.get(i).add(l)}notifyListeners(i,...l){const d=this.eventHandlers.get(i);d&&d.notify(...l)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=ZD(i),this.instance=i;const{layoutId:d,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(c||d)&&(this.isLayoutDirty=!0),e){let f;const m=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=XD(m,250),Ii.hasAnimatedSinceResize&&(Ii.hasAnimatedSinceResize=!1,this.nodes.forEach(b0))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&u&&(d||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeTargetChanged:g,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||u.getDefaultTransition()||h3,{onLayoutAnimationStart:v,onLayoutAnimationComplete:h}=u.getProps(),p=!this.targetLayout||!Tj(this.targetLayout,x)||g,w=!m&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||m&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const j={...am(b,"layout"),onPlay:v,onComplete:h};(u.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else m||b0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ks(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(u3),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:d}=this.options;if(l===void 0&&!d)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(v0);return}this.isUpdating||this.nodes.forEach(i3),this.isUpdating=!1,this.nodes.forEach(l3),this.nodes.forEach(s3),this.nodes.forEach(n3),this.clearAllSnapshots();const l=performance.now();Ge.delta=rn(0,1e3/60,l-Ge.timestamp),Ge.timestamp=l,Ge.isProcessing=!0,dd.update.process(Ge),dd.preRender.process(Ge),dd.render.process(Ge),Ge.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(o3),this.sharedNodes.forEach(f3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,me.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){me.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Te(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:i,isRoot:r(this.instance),offset:s(this.instance)})}resetTransform(){if(!a)return;const i=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!Rj(this.projectionDelta),d=this.getTransformTemplate(),c=d?d(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;i&&(l||wn(this.latestValues)||u)&&(a(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const l=this.measurePageBox();let d=this.removeElementScroll(l);return i&&(d=this.removeTransform(d)),x3(d),{animationId:this.root.animationId,measuredBox:l,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:i}=this.options;if(!i)return Te();const l=i.measureViewportBox(),{scroll:d}=this.root;return d&&(Fs(l.x,d.offset.x),Fs(l.y,d.offset.y)),l}removeElementScroll(i){const l=Te();Pt(l,i);for(let d=0;d<this.path.length;d++){const c=this.path[d],{scroll:u,options:f}=c;if(c!==this.root&&u&&f.layoutScroll){if(u.isRoot){Pt(l,i);const{scroll:m}=this.root;m&&(Fs(l.x,-m.offset.x),Fs(l.y,-m.offset.y))}Fs(l.x,u.offset.x),Fs(l.y,u.offset.y)}}return l}applyTransform(i,l=!1){const d=Te();Pt(d,i);for(let c=0;c<this.path.length;c++){const u=this.path[c];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&br(d,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),wn(u.latestValues)&&br(d,u.latestValues)}return wn(this.latestValues)&&br(d,this.latestValues),d}removeTransform(i){const l=Te();Pt(l,i);for(let d=0;d<this.path.length;d++){const c=this.path[d];if(!c.instance||!wn(c.latestValues))continue;af(c.latestValues)&&c.updateSnapshot();const u=Te(),f=c.measurePageBox();Pt(u,f),p0(l,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return wn(this.latestValues)&&p0(l,this.latestValues),l}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ge.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var l;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==d;if(!(i||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:m}=this.options;if(!(!this.layout||!(f||m))){if(this.resolvedRelativeTargetAt=Ge.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Te(),this.relativeTargetOrigin=Te(),Ba(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Pt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Te(),this.targetWithTransforms=Te()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),gD(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Pt(this.target,this.layout.layoutBox),kj(this.target,this.targetDelta)):Pt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Te(),this.relativeTargetOrigin=Te(),Ba(this.relativeTargetOrigin,this.target,g.target),Pt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}jn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||af(this.parent.latestValues)||Nj(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const l=this.getLead(),d=!!this.resumingFrom||this!==l;let c=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(c=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ge.timestamp&&(c=!1),c)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;Pt(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,g=this.treeScale.y;CD(this.layoutCorrected,this.treeScale,this.path,d),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:x}=l;if(!x){this.projectionTransform&&(this.projectionDelta=vr(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=vr(),this.projectionDeltaWithTransform=vr());const b=this.projectionTransform;za(this.projectionDelta,this.layoutCorrected,x,this.latestValues),this.projectionTransform=x0(this.projectionDelta,this.treeScale),(this.projectionTransform!==b||this.treeScale.x!==m||this.treeScale.y!==g)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),jn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),i){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(i,l=!1){const d=this.snapshot,c=d?d.latestValues:{},u={...this.latestValues},f=vr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=Te(),g=d?d.source:void 0,x=this.layout?this.layout.source:void 0,b=g!==x,v=this.getStack(),h=!v||v.members.length<=1,p=!!(b&&!h&&this.options.crossfade===!0&&!this.path.some(m3));this.animationProgress=0;let w;this.mixTargetDelta=j=>{const k=j/1e3;w0(f.x,i.x,k),w0(f.y,i.y,k),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ba(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),p3(this.relativeTarget,this.relativeTargetOrigin,m,k),w&&HD(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Te()),Pt(w,this.relativeTarget)),b&&(this.animationValues=u,$D(u,c,this.latestValues,k,p,h)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ks(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=me.update(()=>{Ii.hasAnimatedSinceResize=!0,this.currentAnimation=JD(0,y0,{...i,onUpdate:l=>{this.mixTargetDelta(l),i.onUpdate&&i.onUpdate(l)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(y0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:l,target:d,layout:c,latestValues:u}=i;if(!(!l||!d||!c)){if(this!==i&&this.layout&&c&&_j(this.options.animationType,this.layout.layoutBox,c.layoutBox)){d=this.target||Te();const f=jt(this.layout.layoutBox.x);d.x.min=i.target.x.min,d.x.max=d.x.min+f;const m=jt(this.layout.layoutBox.y);d.y.min=i.target.y.min,d.y.max=d.y.min+m}Pt(l,d),br(l,u),za(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(i,l){this.sharedNodes.has(i)||this.sharedNodes.set(i,new GD),this.sharedNodes.get(i).add(l);const c=l.options.initialPromotionConfig;l.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(l):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:l}=this.options;return l?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:l}=this.options;return l?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:l,preserveFollowOpacity:d}={}){const c=this.getStack();c&&c.promote(this,d),i&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetRotation(){const{visualElement:i}=this.options;if(!i)return;let l=!1;const{latestValues:d}=i;if((d.rotate||d.rotateX||d.rotateY||d.rotateZ)&&(l=!0),!l)return;const c={};for(let u=0;u<g0.length;u++){const f="rotate"+g0[u];d[f]&&(c[f]=d[f],i.setStaticValue(f,0))}i.render();for(const u in c)i.setStaticValue(u,c[u]);i.scheduleRender()}getProjectionStyles(i){var l,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return e3;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Mi(i==null?void 0:i.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=Mi(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!wn(this.latestValues)&&(b.transform=u?u({},""):"none",this.hasProjected=!1),b}const m=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=x0(this.projectionDeltaWithTransform,this.treeScale,m),u&&(c.transform=u(m,c.transform));const{x:g,y:x}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${x.origin*100}% 0`,f.animationValues?c.opacity=f===this?(d=(l=m.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:c.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const b in xl){if(m[b]===void 0)continue;const{correct:v,applyTo:h}=xl[b],p=c.transform==="none"?m[b]:v(m[b],f);if(h){const w=h.length;for(let j=0;j<w;j++)c[h[j]]=p}else c[b]=p}return this.options.layoutId&&(c.pointerEvents=f===this?Mi(i==null?void 0:i.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var l;return(l=i.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(v0),this.root.sharedNodes.clear()}}}function s3(e){e.updateLayout()}function n3(e){var t;const s=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&s&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=e.layout,{animationType:o}=e.options,i=s.source!==e.layout.source;o==="size"?At(f=>{const m=i?s.measuredBox[f]:s.layoutBox[f],g=jt(m);m.min=r[f].min,m.max=m.min+g}):_j(o,s.layoutBox,r)&&At(f=>{const m=i?s.measuredBox[f]:s.layoutBox[f],g=jt(r[f]);m.max=m.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+g)});const l=vr();za(l,r,s.layoutBox);const d=vr();i?za(d,e.applyTransform(a,!0),s.measuredBox):za(d,r,s.layoutBox);const c=!Rj(l);let u=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:g}=f;if(m&&g){const x=Te();Ba(x,s.layoutBox,m.layoutBox);const b=Te();Ba(b,r,g.layoutBox),Tj(x,b)||(u=!0),f.options.layoutRoot&&(e.relativeTarget=b,e.relativeTargetOrigin=x,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:s,delta:d,layoutDelta:l,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function r3(e){jn.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function a3(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function o3(e){e.clearSnapshot()}function v0(e){e.clearMeasurements()}function i3(e){e.isLayoutDirty=!1}function l3(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function b0(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function c3(e){e.resolveTargetDelta()}function d3(e){e.calcProjection()}function u3(e){e.resetRotation()}function f3(e){e.removeLeadSnapshot()}function w0(e,t,s){e.translate=ve(t.translate,0,s),e.scale=ve(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function j0(e,t,s,r){e.min=ve(t.min,s.min,r),e.max=ve(t.max,s.max,r)}function p3(e,t,s,r){j0(e.x,t.x,s.x,r),j0(e.y,t.y,s.y,r)}function m3(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const h3={duration:.45,ease:[.4,0,.1,1]},N0=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),k0=N0("applewebkit/")&&!N0("chrome/")?Math.round:Ae;function S0(e){e.min=k0(e.min),e.max=k0(e.max)}function x3(e){S0(e.x),S0(e.y)}function _j(e,t,s){return e==="position"||e==="preserve-aspect"&&!nf(h0(t),h0(s),.2)}const g3=Dj({attachResizeListener:(e,t)=>ms(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),wd={current:void 0},Lj=Dj({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!wd.current){const e=new g3({});e.mount(window),e.setOptions({layoutScroll:!0}),wd.current=e}return wd.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),y3={pan:{Feature:LD},drag:{Feature:_D,ProjectionNode:Lj,MeasureLayout:Pj}},v3=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function b3(e){const t=v3.exec(e);if(!t)return[,];const[,s,r]=t;return[s,r]}function lf(e,t,s=1){const[r,a]=b3(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const i=o.trim();return xj(i)?parseFloat(i):i}else return Xu(a)?lf(a,t,s+1):a}function w3(e,{...t},s){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:s};s&&(s={...s}),e.values.forEach(a=>{const o=a.get();if(!Xu(o))return;const i=lf(o,r);i&&a.set(i)});for(const a in t){const o=t[a];if(!Xu(o))continue;const i=lf(o,r);i&&(t[a]=i,s||(s={}),s[a]===void 0&&(s[a]=o))}return{target:t,transitionEnd:s}}const j3=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Mj=e=>j3.has(e),N3=e=>Object.keys(e).some(Mj),C0=e=>e===Qn||e===K,P0=(e,t)=>parseFloat(e.split(", ")[t]),A0=(e,t)=>(s,{transform:r})=>{if(r==="none"||!r)return 0;const a=r.match(/^matrix3d\((.+)\)$/);if(a)return P0(a[1],t);{const o=r.match(/^matrix\((.+)\)$/);return o?P0(o[1],e):0}},k3=new Set(["x","y","z"]),S3=To.filter(e=>!k3.has(e));function C3(e){const t=[];return S3.forEach(s=>{const r=e.getValue(s);r!==void 0&&(t.push([s,r.get()]),r.set(s.startsWith("scale")?1:0))}),t.length&&e.render(),t}const qr={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:A0(4,13),y:A0(5,14)};qr.translateX=qr.x;qr.translateY=qr.y;const P3=(e,t,s)=>{const r=t.measureViewportBox(),a=t.current,o=getComputedStyle(a),{display:i}=o,l={};i==="none"&&t.setStaticValue("display",e.display||"block"),s.forEach(c=>{l[c]=qr[c](r,o)}),t.render();const d=t.measureViewportBox();return s.forEach(c=>{const u=t.getValue(c);u&&u.jump(l[c]),e[c]=qr[c](d,o)}),e},A3=(e,t,s={},r={})=>{t={...t},r={...r};const a=Object.keys(t).filter(Mj);let o=[],i=!1;const l=[];if(a.forEach(d=>{const c=e.getValue(d);if(!e.hasValue(d))return;let u=s[d],f=va(u);const m=t[d];let g;if(yl(m)){const x=m.length,b=m[0]===null?1:0;u=m[b],f=va(u);for(let v=b;v<x&&m[v]!==null;v++)g?em(va(m[v])===g):g=va(m[v])}else g=va(m);if(f!==g)if(C0(f)&&C0(g)){const x=c.get();typeof x=="string"&&c.set(parseFloat(x)),typeof m=="string"?t[d]=parseFloat(m):Array.isArray(m)&&g===K&&(t[d]=m.map(parseFloat))}else f!=null&&f.transform&&(g!=null&&g.transform)&&(u===0||m===0)?u===0?c.set(g.transform(u)):t[d]=f.transform(m):(i||(o=C3(e),i=!0),l.push(d),r[d]=r[d]!==void 0?r[d]:t[d],c.jump(m))}),l.length){const d=l.indexOf("height")>=0?window.pageYOffset:null,c=P3(t,e,l);return o.length&&o.forEach(([u,f])=>{e.getValue(u).set(f)}),e.render(),uc&&d!==null&&window.scrollTo({top:d}),{target:c,transitionEnd:r}}else return{target:t,transitionEnd:r}};function E3(e,t,s,r){return N3(t)?A3(e,t,s,r):{target:t,transitionEnd:r}}const R3=(e,t,s,r)=>{const a=w3(e,t,r);return t=a.target,r=a.transitionEnd,E3(e,t,s,r)},cf={current:null},Ij={current:!1};function T3(){if(Ij.current=!0,!!uc)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>cf.current=e.matches;e.addListener(t),t()}else cf.current=!1}function D3(e,t,s){const{willChange:r}=t;for(const a in t){const o=t[a],i=s[a];if(mt(o))e.addValue(a,o),jl(r)&&r.add(a);else if(mt(i))e.addValue(a,Wr(o,{owner:e})),jl(r)&&r.remove(a);else if(i!==o)if(e.hasValue(a)){const l=e.getValue(a);!l.hasAnimated&&l.set(o)}else{const l=e.getStaticValue(a);e.addValue(a,Wr(l!==void 0?l:o,{owner:e}))}}for(const a in s)t[a]===void 0&&e.removeValue(a);return t}const E0=new WeakMap,Oj=Object.keys(po),_3=Oj.length,R0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],L3=Hp.length;class M3{constructor({parent:t,props:s,presenceContext:r,reducedMotionConfig:a,visualState:o},i={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>me.render(this.render,!1,!0);const{latestValues:l,renderState:d}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=s.initial?{...l}:{},this.renderState=d,this.parent=t,this.props=s,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=i,this.isControllingVariants=pc(s),this.isVariantNode=ww(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(s,{});for(const f in u){const m=u[f];l[f]!==void 0&&mt(m)&&(m.set(l[f],!1),jl(c)&&c.add(f))}}scrapeMotionValuesFromProps(t,s){return{}}mount(t){this.current=t,E0.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,r)=>this.bindToMotionValue(r,s)),Ij.current||T3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:cf.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){E0.delete(this.current),this.projection&&this.projection.unmount(),ks(this.notifyUpdate),ks(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,s){const r=Xn.has(t),a=s.on("change",i=>{this.latestValues[t]=i,this.props.onUpdate&&me.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=s.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{a(),o()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...s},r,a,o){let i,l;for(let d=0;d<_3;d++){const c=Oj[d],{isEnabled:u,Feature:f,ProjectionNode:m,MeasureLayout:g}=po[c];m&&(i=m),u(s)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),g&&(l=g))}if((this.type==="html"||this.type==="svg")&&!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);const{layoutId:d,layout:c,drag:u,dragConstraints:f,layoutScroll:m,layoutRoot:g}=s;this.projection.setOptions({layoutId:d,layout:c,alwaysMeasureLayout:!!u||f&&gr(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:o,layoutScroll:m,layoutRoot:g})}return l}updateFeatures(){for(const t in this.features){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Te()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}makeTargetAnimatable(t,s=!0){return this.makeTargetAnimatableFromInstance(t,this.props,s)}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let r=0;r<R0.length;r++){const a=R0[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o=t["on"+a];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=D3(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const s={};for(let r=0;r<L3;r++){const a=Hp[r],o=this.props[a];(fo(o)||o===!1)&&(s[a]=o)}return s}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){s!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,s)),this.values.set(t,s),this.latestValues[t]=s.get()}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&s!==void 0&&(r=Wr(s,{owner:this}),this.addValue(t,r)),r}readValue(t){var s;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(s=this.getBaseTargetFromProps(this.props,t))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var s;const{initial:r}=this.props,a=typeof r=="string"||typeof r=="object"?(s=Jp(this.props,r))===null||s===void 0?void 0:s[t]:void 0;if(r&&a!==void 0)return a;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!mt(o)?o:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new cm),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}}class Fj extends M3{sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:r}){delete s[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:s,...r},{transformValues:a},o){let i=Z4(r,t||{},this);if(a&&(s&&(s=a(s)),r&&(r=a(r)),i&&(i=a(i))),o){X4(this,r,i);const l=R3(this,r,i,s);s=l.transitionEnd,r=l.target}return{transition:t,transitionEnd:s,...r}}}function I3(e){return window.getComputedStyle(e)}class O3 extends Fj{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,s){if(Xn.has(s)){const r=rm(s);return r&&r.default||0}else{const r=I3(t),a=(Cw(s)?r.getPropertyValue(s):r[s])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:s}){return Sj(t,s)}build(t,s,r,a){Kp(t,s,r,a.transformTemplate)}scrapeMotionValuesFromProps(t,s){return Zp(t,s)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;mt(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}renderInstance(t,s,r,a){Dw(t,s,r,a)}}class F3 extends Fj{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(Xn.has(s)){const r=rm(s);return r&&r.default||0}return s=_w.has(s)?s:Wp(s),t.getAttribute(s)}measureInstanceViewportBox(){return Te()}scrapeMotionValuesFromProps(t,s){return Mw(t,s)}build(t,s,r,a){Xp(t,s,r,this.isSVGTag,a.transformTemplate)}renderInstance(t,s,r,a){Lw(t,s,r,a)}mount(t){this.isSVGTag=Qp(t.tagName),super.mount(t)}}const U3=(e,t)=>Gp(e)?new F3(t,{enableHardwareAcceleration:!1}):new O3(t,{enableHardwareAcceleration:!0}),$3={layout:{ProjectionNode:Lj,MeasureLayout:Pj}},V3={...pD,..._T,...y3,...$3},_e=VR((e,t)=>bT(e,t,V3,U3)),z3=()=>{const[e,t]=y.useState(""),[s,r]=y.useState(""),[a,o]=y.useState(!1),[i,l]=y.useState(!1),{login:d}=Ct(),{toast:c}=St(),u=async f=>{f.preventDefault(),l(!0);try{await d(e,s)}catch(m){c({variant:"destructive",title:"Login Failed",description:(m==null?void 0:m.message)??"Unable to sign in. Please try again."})}finally{l(!1)}};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-sky-900 to-purple-900 p-4",children:n.jsx(_e.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},children:n.jsxs(J,{className:"w-full max-w-md shadow-2xl bg-slate-800/70 backdrop-blur-lg border-slate-700",children:[n.jsxs(ae,{className:"text-center",children:[n.jsx(gt,{className:"mx-auto h-16 w-16 text-sky-400 mb-4"}),n.jsx(ie,{className:"text-3xl font-bold text-slate-100",children:"Welcome to AURA GDPR"}),n.jsx(st,{className:"text-slate-400",children:"Sign in to access your compliance dashboard."})]}),n.jsx(te,{children:n.jsxs("form",{onSubmit:u,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"email",className:"text-slate-300",children:"Email"}),n.jsx(Se,{id:"email",type:"email",placeholder:"you@example.com",value:e,onChange:f=>t(f.target.value),required:!0,className:"bg-slate-700 border-slate-600 text-slate-100 placeholder-slate-400 focus:ring-sky-500 focus:border-sky-500"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"password",className:"text-slate-300",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(Se,{id:"password",type:a?"text":"password",placeholder:"********",value:s,onChange:f=>r(f.target.value),required:!0,className:"bg-slate-700 border-slate-600 text-slate-100 placeholder-slate-400 focus:ring-sky-500 focus:border-sky-500 pr-10"}),n.jsx($,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 text-slate-400 hover:text-sky-400",onClick:()=>o(!a),children:a?n.jsx(Uu,{className:"h-4 w-4"}):n.jsx($u,{className:"h-4 w-4"})})]})]}),n.jsx($,{type:"submit",className:"w-full bg-gradient-to-r from-sky-500 to-purple-600 hover:from-sky-600 hover:to-purple-700 text-white font-semibold py-3 text-base",disabled:i,children:i?"Signing In...":"Sign In"})]})}),n.jsxs(zp,{className:"flex flex-col items-center space-y-2",children:[n.jsx(Ur,{to:"/forgot-password",className:"text-sm text-sky-400 hover:underline",children:"Forgot password?"}),n.jsxs("p",{className:"text-sm text-slate-400",children:["Don't have an account?"," ",n.jsx(Ur,{to:"/register",className:"font-medium text-sky-400 hover:underline",children:"Sign up"})]})]})]})})})},B3=()=>{const[e,t]=y.useState(""),[s,r]=y.useState(""),[a,o]=y.useState(""),[i,l]=y.useState(!1),[d,c]=y.useState(!1),[u,f]=y.useState(!1),m=is(),{register:g}=Ct(),{toast:x}=St(),b=async v=>{if(v.preventDefault(),s!==a){x({variant:"destructive",title:"Registration Error",description:"Passwords do not match."});return}f(!0);try{await g(e,s),m("/app/dashboard")}catch(h){x({variant:"destructive",title:"Registration Failed",description:(h==null?void 0:h.message)??"Could not create your account. Please try again."})}finally{f(!1)}};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-sky-900 to-purple-900 p-4",children:n.jsx(_e.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},children:n.jsxs(J,{className:"w-full max-w-md shadow-2xl bg-slate-800/70 backdrop-blur-lg border-slate-700",children:[n.jsxs(ae,{className:"text-center",children:[n.jsx(RA,{className:"mx-auto h-16 w-16 text-sky-400 mb-4"}),n.jsx(ie,{className:"text-3xl font-bold text-slate-100",children:"Create your AURA Account"}),n.jsx(st,{className:"text-slate-400",children:"Join us to simplify your GDPR compliance."})]}),n.jsx(te,{children:n.jsxs("form",{onSubmit:b,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"email-register",className:"text-slate-300",children:"Email"}),n.jsx(Se,{id:"email-register",type:"email",placeholder:"you@example.com",value:e,onChange:v=>t(v.target.value),required:!0,className:"bg-slate-700 border-slate-600 text-slate-100 placeholder-slate-400 focus:ring-sky-500 focus:border-sky-500"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"password-register",className:"text-slate-300",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(Se,{id:"password-register",type:i?"text":"password",placeholder:"********",value:s,onChange:v=>r(v.target.value),required:!0,className:"bg-slate-700 border-slate-600 text-slate-100 placeholder-slate-400 focus:ring-sky-500 focus:border-sky-500 pr-10"}),n.jsx($,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 text-slate-400 hover:text-sky-400",onClick:()=>l(!i),children:i?n.jsx(Uu,{className:"h-4 w-4"}):n.jsx($u,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"confirm-password",className:"text-slate-300",children:"Confirm Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(Se,{id:"confirm-password",type:d?"text":"password",placeholder:"********",value:a,onChange:v=>o(v.target.value),required:!0,className:"bg-slate-700 border-slate-600 text-slate-100 placeholder-slate-400 focus:ring-sky-500 focus:border-sky-500 pr-10"}),n.jsx($,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 text-slate-400 hover:text-sky-400",onClick:()=>c(!d),children:d?n.jsx(Uu,{className:"h-4 w-4"}):n.jsx($u,{className:"h-4 w-4"})})]})]}),n.jsx($,{type:"submit",className:"w-full bg-gradient-to-r from-sky-500 to-purple-600 hover:from-sky-600 hover:to-purple-700 text-white font-semibold py-3 text-base",disabled:u,children:u?"Creating Account...":"Sign Up"})]})}),n.jsx(zp,{className:"flex justify-center",children:n.jsxs("p",{className:"text-sm text-slate-400",children:["Already have an account?"," ",n.jsx(Ur,{to:"/login",className:"font-medium text-sky-400 hover:underline",children:"Sign in"})]})})]})})})},gc=C.forwardRef(({className:e,...t},s)=>n.jsx("textarea",{className:Q("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...t}));gc.displayName="Textarea";async function W3(e){try{return(await V.post("/ai/answer",{question:e})).data}catch{throw new Error("Failed to get answer from AURA AI")}}function q3(){const[e,t]=y.useState(""),[s,r]=y.useState(null),[a,o]=y.useState([]),[i,l]=y.useState(!1),[d,c]=y.useState(null),u=y.useCallback(async m=>{const g=(m??e).trim();if(!g){c("Please enter a question.");return}l(!0),c(null);try{const x=await W3(g);t(g),r(x.answer),o(x.sources??[])}catch(x){c((x==null?void 0:x.message)??"Failed to get answer from AURA AI")}finally{l(!1)}},[e]),f=y.useCallback(()=>{t(""),r(null),o([]),c(null)},[]);return{question:e,setQuestion:t,answer:s,sources:a,isLoading:i,error:d,submit:u,reset:f}}const H3=({isOpen:e,onClose:t})=>{const{question:s,setQuestion:r,answer:a,sources:o,isLoading:i,error:l,submit:d}=q3(),c=C.useRef(null);if(C.useEffect(()=>{if(!e)return;const m=x=>{x.key==="Escape"&&t()};window.addEventListener("keydown",m);const g=window.setTimeout(()=>{var x;return(x=c.current)==null?void 0:x.focus()},50);return()=>{window.removeEventListener("keydown",m),window.clearTimeout(g)}},[e,t]),!e)return null;const u=async m=>{m==null||m.preventDefault(),await d(s)},f=()=>i?n.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[n.jsx(Ns,{className:"h-4 w-4 animate-spin text-sky-600"}),"Generating answer with AURA"]}):a?a.split(`
`).filter(m=>m.trim().length>0).map((m,g)=>n.jsx("p",{className:"text-sm text-slate-800",children:m.trim()},g)):n.jsx("p",{className:"text-sm text-slate-500",children:"Ask a question about your GDPR data, policies, or activities."});return n.jsxs("div",{className:"fixed inset-0 z-50 flex",children:[n.jsx("div",{className:"flex-1 bg-slate-900/40 backdrop-blur-sm",onClick:t,"aria-hidden":!0}),n.jsxs("div",{className:"relative flex h-full w-full max-w-xl flex-col bg-white shadow-2xl",children:[n.jsxs("header",{className:"flex items-start justify-between border-b border-slate-200 px-5 py-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 text-slate-900",children:[n.jsx(Qe,{className:"h-5 w-5 text-sky-600"}),n.jsx("h2",{className:"text-lg font-semibold",children:"Ask AURA"})]}),n.jsx("p",{className:"text-sm text-slate-600",children:"Ask a question about your GDPR data, policies or activities."})]}),n.jsx("button",{type:"button",onClick:t,className:"rounded-full p-2 text-slate-500 transition hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close assistant",children:n.jsx(Re,{className:"h-5 w-5"})})]}),n.jsxs("div",{className:"flex-1 space-y-4 overflow-y-auto px-5 py-4",children:[n.jsxs("form",{onSubmit:u,className:"space-y-3",children:[n.jsx(gc,{ref:c,value:s,onChange:m=>r(m.target.value),placeholder:"Ask a question (e.g., Do we have a retention policy for HR data?)",disabled:i,className:"min-h-[100px]"}),n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsx("p",{className:"text-xs text-slate-500",children:"AURA uses your data to return grounded answers."}),n.jsxs($,{type:"submit",disabled:i,children:[i&&n.jsx(Ns,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":!0}),i?"Thinking":"Ask"]})]}),l&&n.jsx("p",{className:"text-xs text-rose-600",children:l})]}),n.jsxs("div",{className:"space-y-2 rounded-lg border border-slate-200 bg-slate-50 p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-slate-900",children:[n.jsx(vb,{className:"h-4 w-4 text-sky-600"}),"Answer"]}),n.jsx("div",{className:"space-y-2",children:f()})]}),n.jsxs("div",{className:"space-y-2 rounded-lg border border-slate-200 bg-white p-4 shadow-sm",children:[n.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"Sources"}),o.length===0&&n.jsx("p",{className:"text-sm text-slate-500",children:"No specific sources were returned for this answer."}),o.map(m=>n.jsxs("div",{className:"rounded-md border border-slate-200 p-3",children:[n.jsx("p",{className:"text-sm font-semibold text-slate-900",children:m.title}),n.jsx("p",{className:"text-sm text-slate-600",children:m.snippet})]},m.id))]})]})]})]})},G3=[{title:"Overview",items:[{label:"Dashboard",path:"/app/dashboard",icon:xA}]},{title:"Compliance",items:[{label:"Documents",path:"/app/documents",icon:Vr},{label:"Policies",path:"/app/policies",icon:gt},{label:"Data Subject Requests",path:"/app/dsr",icon:sc},{label:"DPIA",path:"/app/dpia",icon:Cb},{label:"ROPA",path:"/app/ropa",icon:dA},{label:"Cookies",path:"/app/cookies",icon:lA},{label:"TOMs",path:"/app/toms",icon:zr},{label:"Incidents",path:"/app/incidents",icon:mn}]},{title:"Governance",items:[{label:"Tasks",path:"/app/tasks",icon:aA},{label:"Projects",path:"/app/projects",icon:tA},{label:"Risk Matrix",path:"/app/risk-matrix",icon:Cp},{label:"Audit Log",path:"/app/audit",icon:jb},{label:"Notifications",path:"/app/notifications",icon:Pp},{label:"Admin",path:"/app/admin",icon:gt,adminOnly:!0},{label:"Users & Roles",path:"/app/admin/workspace/users",icon:gt,adminOnly:!0}]},{title:"AI Tools",items:[{label:"AI Assistant",path:"/app/ai-assistant",icon:Qe},{label:"AI Policy Generator",icon:Vr,disabled:!0},{label:"AI Audit Engine",path:"/app/ai-audit",icon:ax},{label:"AI Audit v2",path:"/app/ai/audit-v2",icon:ax}]},{title:"Account",items:[{label:"Billing",path:"/app/billing",icon:kb},{label:"Settings",path:"/app/settings",icon:Rp},{label:"IAM",path:"/app/iam",icon:gt},{label:"Security health",path:"/app/security-health",icon:ta}]},{title:"Platform",items:[{label:"Platform Admin",path:"/app/platform-admin",icon:gt,platformAdminOnly:!0}]}],K3=({isOpen:e,onClose:t})=>{var f,m;const{user:s}=Ct(),{tenantPlan:r,isTestTenant:a}=Rs(),o=(f=s==null?void 0:s.role)==null?void 0:f.toString().toLowerCase(),i=o==="admin"||o==="owner",l=((m=s==null?void 0:s.email)==null?void 0:m.toLowerCase())==="admin@aura-gdpr.se",d=a||r==="pro",c=C.useMemo(()=>G3.map(g=>{const x=g.items.map(b=>b.label==="AI Policy Generator"&&d?{...b,disabled:!1,path:"/app/policies"}:b);return{...g,items:x.filter(b=>b.platformAdminOnly?l:b.adminOnly?i:!0)}}).filter(g=>g.items.length>0),[d,i,l]),u=g=>!g.path||g.disabled?n.jsxs("div",{className:"flex items-center gap-3 rounded-md border-l-2 border-transparent bg-white/50 px-3 py-2 text-sm font-medium text-slate-400",children:[n.jsx(g.icon,{className:"h-5 w-5"}),n.jsx("span",{children:g.label})]},g.label):n.jsxs($r,{to:g.path,onClick:t,className:({isActive:x})=>Q("group flex items-center gap-3 rounded-md border-l-2 px-3 py-2 text-sm font-medium transition-all",x?"border-sky-500 bg-white shadow-sm text-slate-900":"border-transparent text-slate-600 hover:border-slate-200 hover:bg-white/80"),children:[n.jsx(g.icon,{className:"h-5 w-5 text-slate-500 group-hover:text-slate-800"}),n.jsx("span",{children:g.label})]},g.label);return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:Q("fixed inset-0 z-30 bg-slate-900/40 backdrop-blur-sm transition-opacity lg:hidden",e?"opacity-100":"pointer-events-none opacity-0"),onClick:t}),n.jsxs("aside",{className:Q("fixed inset-y-0 left-0 z-40 w-72 transform border-r border-slate-200 bg-white/90 backdrop-blur shadow-xl transition-transform duration-200 lg:static lg:z-auto lg:flex lg:w-72 lg:translate-x-0 lg:flex-col lg:shadow-none",e?"translate-x-0":"-translate-x-full"),children:[n.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-slate-200 bg-white/70 backdrop-blur",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Workspace"}),n.jsx("p",{className:"text-lg font-semibold text-slate-900",children:"AURA-GDPR"})]}),n.jsx($,{variant:"ghost",size:"icon",className:"lg:hidden text-slate-500 hover:text-slate-900",onClick:t,"aria-label":"Close navigation",children:n.jsx(Re,{className:"h-5 w-5"})})]}),n.jsx("nav",{className:"flex-1 space-y-6 overflow-y-auto px-4 py-4",children:c.map(g=>n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"px-3 text-xs font-semibold uppercase tracking-wide text-slate-500",children:g.title}),n.jsx("div",{className:"space-y-1",children:g.items.map(x=>u(x))})]},g.title))})]})]})};var Uj={exports:{}},$j={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hr=y;function Y3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var X3=typeof Object.is=="function"?Object.is:Y3,Q3=Hr.useState,Z3=Hr.useEffect,J3=Hr.useLayoutEffect,e5=Hr.useDebugValue;function t5(e,t){var s=t(),r=Q3({inst:{value:s,getSnapshot:t}}),a=r[0].inst,o=r[1];return J3(function(){a.value=s,a.getSnapshot=t,jd(a)&&o({inst:a})},[e,s,t]),Z3(function(){return jd(a)&&o({inst:a}),e(function(){jd(a)&&o({inst:a})})},[e]),e5(s),s}function jd(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!X3(e,s)}catch{return!0}}function s5(e,t){return t()}var n5=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?s5:t5;$j.useSyncExternalStore=Hr.useSyncExternalStore!==void 0?Hr.useSyncExternalStore:n5;Uj.exports=$j;var r5=Uj.exports;function a5(){return r5.useSyncExternalStore(o5,()=>!0,()=>!1)}function o5(){return()=>{}}var dm="Avatar",[i5]=pn(dm),[l5,Vj]=i5(dm),zj=y.forwardRef((e,t)=>{const{__scopeAvatar:s,...r}=e,[a,o]=y.useState("idle");return n.jsx(l5,{scope:s,imageLoadingStatus:a,onImageLoadingStatusChange:o,children:n.jsx(de.span,{...r,ref:t})})});zj.displayName=dm;var Bj="AvatarImage",Wj=y.forwardRef((e,t)=>{const{__scopeAvatar:s,src:r,onLoadingStatusChange:a=()=>{},...o}=e,i=Vj(Bj,s),l=c5(r,o),d=pt(c=>{a(c),i.onImageLoadingStatusChange(c)});return It(()=>{l!=="idle"&&d(l)},[l,d]),l==="loaded"?n.jsx(de.img,{...o,ref:t,src:r}):null});Wj.displayName=Bj;var qj="AvatarFallback",Hj=y.forwardRef((e,t)=>{const{__scopeAvatar:s,delayMs:r,...a}=e,o=Vj(qj,s),[i,l]=y.useState(r===void 0);return y.useEffect(()=>{if(r!==void 0){const d=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(d)}},[r]),i&&o.imageLoadingStatus!=="loaded"?n.jsx(de.span,{...a,ref:t}):null});Hj.displayName=qj;function T0(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function c5(e,{referrerPolicy:t,crossOrigin:s}){const r=a5(),a=y.useRef(null),o=r?(a.current||(a.current=new window.Image),a.current):null,[i,l]=y.useState(()=>T0(o,e));return It(()=>{l(T0(o,e))},[o,e]),It(()=>{const d=f=>()=>{l(f)};if(!o)return;const c=d("loaded"),u=d("error");return o.addEventListener("load",c),o.addEventListener("error",u),t&&(o.referrerPolicy=t),typeof s=="string"&&(o.crossOrigin=s),()=>{o.removeEventListener("load",c),o.removeEventListener("error",u)}},[o,s,t]),i}var Gj=zj,Kj=Wj,Yj=Hj;const um=C.forwardRef(({className:e,...t},s)=>n.jsx(Gj,{ref:s,className:Q("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));um.displayName=Gj.displayName;const fm=C.forwardRef(({className:e,...t},s)=>n.jsx(Kj,{ref:s,className:Q("aspect-square h-full w-full",e),...t}));fm.displayName=Kj.displayName;const pm=C.forwardRef(({className:e,...t},s)=>n.jsx(Yj,{ref:s,className:Q("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));pm.displayName=Yj.displayName;const d5={default:"bg-primary text-primary-foreground",secondary:"bg-secondary text-secondary-foreground",outline:"border border-border text-foreground"},on=y.forwardRef(({className:e,variant:t="default",...s},r)=>n.jsx("div",{ref:r,className:Q("inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold",d5[t],e),...s}));on.displayName="Badge";var u5=y.createContext(void 0);function Xj(e){const t=y.useContext(u5);return e||t||"ltr"}var Nd=0;function f5(){y.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??D0()),document.body.insertAdjacentElement("beforeend",e[1]??D0()),Nd++,()=>{Nd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Nd--}},[])}function D0(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var kd="focusScope.autoFocusOnMount",Sd="focusScope.autoFocusOnUnmount",_0={bubbles:!1,cancelable:!0},p5="FocusScope",Qj=y.forwardRef((e,t)=>{const{loop:s=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...i}=e,[l,d]=y.useState(null),c=pt(a),u=pt(o),f=y.useRef(null),m=Ie(t,b=>d(b)),g=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let b=function(w){if(g.paused||!l)return;const j=w.target;l.contains(j)?f.current=j:Ms(f.current,{select:!0})},v=function(w){if(g.paused||!l)return;const j=w.relatedTarget;j!==null&&(l.contains(j)||Ms(f.current,{select:!0}))},h=function(w){if(document.activeElement===document.body)for(const k of w)k.removedNodes.length>0&&Ms(l)};document.addEventListener("focusin",b),document.addEventListener("focusout",v);const p=new MutationObserver(h);return l&&p.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",v),p.disconnect()}}},[r,l,g.paused]),y.useEffect(()=>{if(l){M0.add(g);const b=document.activeElement;if(!l.contains(b)){const h=new CustomEvent(kd,_0);l.addEventListener(kd,c),l.dispatchEvent(h),h.defaultPrevented||(m5(v5(Zj(l)),{select:!0}),document.activeElement===b&&Ms(l))}return()=>{l.removeEventListener(kd,c),setTimeout(()=>{const h=new CustomEvent(Sd,_0);l.addEventListener(Sd,u),l.dispatchEvent(h),h.defaultPrevented||Ms(b??document.body,{select:!0}),l.removeEventListener(Sd,u),M0.remove(g)},0)}}},[l,c,u,g]);const x=y.useCallback(b=>{if(!s&&!r||g.paused)return;const v=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,h=document.activeElement;if(v&&h){const p=b.currentTarget,[w,j]=h5(p);w&&j?!b.shiftKey&&h===j?(b.preventDefault(),s&&Ms(w,{select:!0})):b.shiftKey&&h===w&&(b.preventDefault(),s&&Ms(j,{select:!0})):h===p&&b.preventDefault()}},[s,r,g.paused]);return n.jsx(de.div,{tabIndex:-1,...i,ref:m,onKeyDown:x})});Qj.displayName=p5;function m5(e,{select:t=!1}={}){const s=document.activeElement;for(const r of e)if(Ms(r,{select:t}),document.activeElement!==s)return}function h5(e){const t=Zj(e),s=L0(t,e),r=L0(t.reverse(),e);return[s,r]}function Zj(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function L0(e,t){for(const s of e)if(!x5(s,{upTo:t}))return s}function x5(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function g5(e){return e instanceof HTMLInputElement&&"select"in e}function Ms(e,{select:t=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&g5(e)&&t&&e.select()}}var M0=y5();function y5(){let e=[];return{add(t){const s=e[0];t!==s&&(s==null||s.pause()),e=I0(e,t),e.unshift(t)},remove(t){var s;e=I0(e,t),(s=e[0])==null||s.resume()}}}function I0(e,t){const s=[...e],r=s.indexOf(t);return r!==-1&&s.splice(r,1),s}function v5(e){return e.filter(t=>t.tagName!=="A")}var b5=Nf[" useId ".trim().toString()]||(()=>{}),w5=0;function df(e){const[t,s]=y.useState(b5());return It(()=>{s(r=>r??String(w5++))},[e]),t?`radix-${t}`:""}const j5=["top","right","bottom","left"],ln=Math.min,xt=Math.max,kl=Math.round,pi=Math.floor,rs=e=>({x:e,y:e}),N5={left:"right",right:"left",bottom:"top",top:"bottom"},k5={start:"end",end:"start"};function uf(e,t,s){return xt(e,ln(t,s))}function Ss(e,t){return typeof e=="function"?e(t):e}function Cs(e){return e.split("-")[0]}function ra(e){return e.split("-")[1]}function mm(e){return e==="x"?"y":"x"}function hm(e){return e==="y"?"height":"width"}function ys(e){return["top","bottom"].includes(Cs(e))?"y":"x"}function xm(e){return mm(ys(e))}function S5(e,t,s){s===void 0&&(s=!1);const r=ra(e),a=xm(e),o=hm(a);let i=a==="x"?r===(s?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=Sl(i)),[i,Sl(i)]}function C5(e){const t=Sl(e);return[ff(e),t,ff(t)]}function ff(e){return e.replace(/start|end/g,t=>k5[t])}function P5(e,t,s){const r=["left","right"],a=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return s?t?a:r:t?r:a;case"left":case"right":return t?o:i;default:return[]}}function A5(e,t,s,r){const a=ra(e);let o=P5(Cs(e),s==="start",r);return a&&(o=o.map(i=>i+"-"+a),t&&(o=o.concat(o.map(ff)))),o}function Sl(e){return e.replace(/left|right|bottom|top/g,t=>N5[t])}function E5(e){return{top:0,right:0,bottom:0,left:0,...e}}function Jj(e){return typeof e!="number"?E5(e):{top:e,right:e,bottom:e,left:e}}function Cl(e){const{x:t,y:s,width:r,height:a}=e;return{width:r,height:a,top:s,left:t,right:t+r,bottom:s+a,x:t,y:s}}function O0(e,t,s){let{reference:r,floating:a}=e;const o=ys(t),i=xm(t),l=hm(i),d=Cs(t),c=o==="y",u=r.x+r.width/2-a.width/2,f=r.y+r.height/2-a.height/2,m=r[l]/2-a[l]/2;let g;switch(d){case"top":g={x:u,y:r.y-a.height};break;case"bottom":g={x:u,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-a.width,y:f};break;default:g={x:r.x,y:r.y}}switch(ra(t)){case"start":g[i]-=m*(s&&c?-1:1);break;case"end":g[i]+=m*(s&&c?-1:1);break}return g}const R5=async(e,t,s)=>{const{placement:r="bottom",strategy:a="absolute",middleware:o=[],platform:i}=s,l=o.filter(Boolean),d=await(i.isRTL==null?void 0:i.isRTL(t));let c=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:f}=O0(c,r,d),m=r,g={},x=0;for(let b=0;b<l.length;b++){const{name:v,fn:h}=l[b],{x:p,y:w,data:j,reset:k}=await h({x:u,y:f,initialPlacement:r,placement:m,strategy:a,middlewareData:g,rects:c,platform:i,elements:{reference:e,floating:t}});u=p??u,f=w??f,g={...g,[v]:{...g[v],...j}},k&&x<=50&&(x++,typeof k=="object"&&(k.placement&&(m=k.placement),k.rects&&(c=k.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:a}):k.rects),{x:u,y:f}=O0(c,m,d)),b=-1)}return{x:u,y:f,placement:m,strategy:a,middlewareData:g}};async function ho(e,t){var s;t===void 0&&(t={});const{x:r,y:a,platform:o,rects:i,elements:l,strategy:d}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:m=!1,padding:g=0}=Ss(t,e),x=Jj(g),v=l[m?f==="floating"?"reference":"floating":f],h=Cl(await o.getClippingRect({element:(s=await(o.isElement==null?void 0:o.isElement(v)))==null||s?v:v.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:c,rootBoundary:u,strategy:d})),p=f==="floating"?{x:r,y:a,width:i.floating.width,height:i.floating.height}:i.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),j=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},k=Cl(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:p,offsetParent:w,strategy:d}):p);return{top:(h.top-k.top+x.top)/j.y,bottom:(k.bottom-h.bottom+x.bottom)/j.y,left:(h.left-k.left+x.left)/j.x,right:(k.right-h.right+x.right)/j.x}}const T5=e=>({name:"arrow",options:e,async fn(t){const{x:s,y:r,placement:a,rects:o,platform:i,elements:l,middlewareData:d}=t,{element:c,padding:u=0}=Ss(e,t)||{};if(c==null)return{};const f=Jj(u),m={x:s,y:r},g=xm(a),x=hm(g),b=await i.getDimensions(c),v=g==="y",h=v?"top":"left",p=v?"bottom":"right",w=v?"clientHeight":"clientWidth",j=o.reference[x]+o.reference[g]-m[g]-o.floating[x],k=m[g]-o.reference[g],E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let P=E?E[w]:0;(!P||!await(i.isElement==null?void 0:i.isElement(E)))&&(P=l.floating[w]||o.floating[x]);const S=j/2-k/2,N=P/2-b[x]/2-1,A=ln(f[h],N),_=ln(f[p],N),M=A,F=P-b[x]-_,I=P/2-b[x]/2+S,B=uf(M,I,F),U=!d.arrow&&ra(a)!=null&&I!==B&&o.reference[x]/2-(I<M?A:_)-b[x]/2<0,H=U?I<M?I-M:I-F:0;return{[g]:m[g]+H,data:{[g]:B,centerOffset:I-B-H,...U&&{alignmentOffset:H}},reset:U}}}),D5=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var s,r;const{placement:a,middlewareData:o,rects:i,initialPlacement:l,platform:d,elements:c}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:b=!0,...v}=Ss(e,t);if((s=o.arrow)!=null&&s.alignmentOffset)return{};const h=Cs(a),p=ys(l),w=Cs(l)===l,j=await(d.isRTL==null?void 0:d.isRTL(c.floating)),k=m||(w||!b?[Sl(l)]:C5(l)),E=x!=="none";!m&&E&&k.push(...A5(l,b,x,j));const P=[l,...k],S=await ho(t,v),N=[];let A=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&N.push(S[h]),f){const B=S5(a,i,j);N.push(S[B[0]],S[B[1]])}if(A=[...A,{placement:a,overflows:N}],!N.every(B=>B<=0)){var _,M;const B=(((_=o.flip)==null?void 0:_.index)||0)+1,U=P[B];if(U){var F;const R=f==="alignment"?p!==ys(U):!1,T=((F=A[0])==null?void 0:F.overflows[0])>0;if(!R||T)return{data:{index:B,overflows:A},reset:{placement:U}}}let H=(M=A.filter(R=>R.overflows[0]<=0).sort((R,T)=>R.overflows[1]-T.overflows[1])[0])==null?void 0:M.placement;if(!H)switch(g){case"bestFit":{var I;const R=(I=A.filter(T=>{if(E){const O=ys(T.placement);return O===p||O==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(O=>O>0).reduce((O,D)=>O+D,0)]).sort((T,O)=>T[1]-O[1])[0])==null?void 0:I[0];R&&(H=R);break}case"initialPlacement":H=l;break}if(a!==H)return{reset:{placement:H}}}return{}}}};function F0(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function U0(e){return j5.some(t=>e[t]>=0)}const _5=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:s}=t,{strategy:r="referenceHidden",...a}=Ss(e,t);switch(r){case"referenceHidden":{const o=await ho(t,{...a,elementContext:"reference"}),i=F0(o,s.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:U0(i)}}}case"escaped":{const o=await ho(t,{...a,altBoundary:!0}),i=F0(o,s.floating);return{data:{escapedOffsets:i,escaped:U0(i)}}}default:return{}}}}};async function L5(e,t){const{placement:s,platform:r,elements:a}=e,o=await(r.isRTL==null?void 0:r.isRTL(a.floating)),i=Cs(s),l=ra(s),d=ys(s)==="y",c=["left","top"].includes(i)?-1:1,u=o&&d?-1:1,f=Ss(t,e);let{mainAxis:m,crossAxis:g,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof x=="number"&&(g=l==="end"?x*-1:x),d?{x:g*u,y:m*c}:{x:m*c,y:g*u}}const M5=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var s,r;const{x:a,y:o,placement:i,middlewareData:l}=t,d=await L5(t,e);return i===((s=l.offset)==null?void 0:s.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:a+d.x,y:o+d.y,data:{...d,placement:i}}}}},I5=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:s,y:r,placement:a}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:v=>{let{x:h,y:p}=v;return{x:h,y:p}}},...d}=Ss(e,t),c={x:s,y:r},u=await ho(t,d),f=ys(Cs(a)),m=mm(f);let g=c[m],x=c[f];if(o){const v=m==="y"?"top":"left",h=m==="y"?"bottom":"right",p=g+u[v],w=g-u[h];g=uf(p,g,w)}if(i){const v=f==="y"?"top":"left",h=f==="y"?"bottom":"right",p=x+u[v],w=x-u[h];x=uf(p,x,w)}const b=l.fn({...t,[m]:g,[f]:x});return{...b,data:{x:b.x-s,y:b.y-r,enabled:{[m]:o,[f]:i}}}}}},O5=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:s,y:r,placement:a,rects:o,middlewareData:i}=t,{offset:l=0,mainAxis:d=!0,crossAxis:c=!0}=Ss(e,t),u={x:s,y:r},f=ys(a),m=mm(f);let g=u[m],x=u[f];const b=Ss(l,t),v=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(d){const w=m==="y"?"height":"width",j=o.reference[m]-o.floating[w]+v.mainAxis,k=o.reference[m]+o.reference[w]-v.mainAxis;g<j?g=j:g>k&&(g=k)}if(c){var h,p;const w=m==="y"?"width":"height",j=["top","left"].includes(Cs(a)),k=o.reference[f]-o.floating[w]+(j&&((h=i.offset)==null?void 0:h[f])||0)+(j?0:v.crossAxis),E=o.reference[f]+o.reference[w]+(j?0:((p=i.offset)==null?void 0:p[f])||0)-(j?v.crossAxis:0);x<k?x=k:x>E&&(x=E)}return{[m]:g,[f]:x}}}},F5=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var s,r;const{placement:a,rects:o,platform:i,elements:l}=t,{apply:d=()=>{},...c}=Ss(e,t),u=await ho(t,c),f=Cs(a),m=ra(a),g=ys(a)==="y",{width:x,height:b}=o.floating;let v,h;f==="top"||f==="bottom"?(v=f,h=m===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(h=f,v=m==="end"?"top":"bottom");const p=b-u.top-u.bottom,w=x-u.left-u.right,j=ln(b-u[v],p),k=ln(x-u[h],w),E=!t.middlewareData.shift;let P=j,S=k;if((s=t.middlewareData.shift)!=null&&s.enabled.x&&(S=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(P=p),E&&!m){const A=xt(u.left,0),_=xt(u.right,0),M=xt(u.top,0),F=xt(u.bottom,0);g?S=x-2*(A!==0||_!==0?A+_:xt(u.left,u.right)):P=b-2*(M!==0||F!==0?M+F:xt(u.top,u.bottom))}await d({...t,availableWidth:S,availableHeight:P});const N=await i.getDimensions(l.floating);return x!==N.width||b!==N.height?{reset:{rects:!0}}:{}}}};function yc(){return typeof window<"u"}function aa(e){return eN(e)?(e.nodeName||"").toLowerCase():"#document"}function bt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ls(e){var t;return(t=(eN(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function eN(e){return yc()?e instanceof Node||e instanceof bt(e).Node:!1}function Wt(e){return yc()?e instanceof Element||e instanceof bt(e).Element:!1}function as(e){return yc()?e instanceof HTMLElement||e instanceof bt(e).HTMLElement:!1}function $0(e){return!yc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof bt(e).ShadowRoot}function Mo(e){const{overflow:t,overflowX:s,overflowY:r,display:a}=qt(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+s)&&!["inline","contents"].includes(a)}function U5(e){return["table","td","th"].includes(aa(e))}function vc(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function gm(e){const t=ym(),s=Wt(e)?qt(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>s[r]?s[r]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!t&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!t&&(s.filter?s.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(s.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(s.contain||"").includes(r))}function $5(e){let t=cn(e);for(;as(t)&&!Gr(t);){if(gm(t))return t;if(vc(t))return null;t=cn(t)}return null}function ym(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Gr(e){return["html","body","#document"].includes(aa(e))}function qt(e){return bt(e).getComputedStyle(e)}function bc(e){return Wt(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function cn(e){if(aa(e)==="html")return e;const t=e.assignedSlot||e.parentNode||$0(e)&&e.host||ls(e);return $0(t)?t.host:t}function tN(e){const t=cn(e);return Gr(t)?e.ownerDocument?e.ownerDocument.body:e.body:as(t)&&Mo(t)?t:tN(t)}function xo(e,t,s){var r;t===void 0&&(t=[]),s===void 0&&(s=!0);const a=tN(e),o=a===((r=e.ownerDocument)==null?void 0:r.body),i=bt(a);if(o){const l=pf(i);return t.concat(i,i.visualViewport||[],Mo(a)?a:[],l&&s?xo(l):[])}return t.concat(a,xo(a,[],s))}function pf(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function sN(e){const t=qt(e);let s=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=as(e),o=a?e.offsetWidth:s,i=a?e.offsetHeight:r,l=kl(s)!==o||kl(r)!==i;return l&&(s=o,r=i),{width:s,height:r,$:l}}function vm(e){return Wt(e)?e:e.contextElement}function Ar(e){const t=vm(e);if(!as(t))return rs(1);const s=t.getBoundingClientRect(),{width:r,height:a,$:o}=sN(t);let i=(o?kl(s.width):s.width)/r,l=(o?kl(s.height):s.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const V5=rs(0);function nN(e){const t=bt(e);return!ym()||!t.visualViewport?V5:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function z5(e,t,s){return t===void 0&&(t=!1),!s||t&&s!==bt(e)?!1:t}function Gn(e,t,s,r){t===void 0&&(t=!1),s===void 0&&(s=!1);const a=e.getBoundingClientRect(),o=vm(e);let i=rs(1);t&&(r?Wt(r)&&(i=Ar(r)):i=Ar(e));const l=z5(o,s,r)?nN(o):rs(0);let d=(a.left+l.x)/i.x,c=(a.top+l.y)/i.y,u=a.width/i.x,f=a.height/i.y;if(o){const m=bt(o),g=r&&Wt(r)?bt(r):r;let x=m,b=pf(x);for(;b&&r&&g!==x;){const v=Ar(b),h=b.getBoundingClientRect(),p=qt(b),w=h.left+(b.clientLeft+parseFloat(p.paddingLeft))*v.x,j=h.top+(b.clientTop+parseFloat(p.paddingTop))*v.y;d*=v.x,c*=v.y,u*=v.x,f*=v.y,d+=w,c+=j,x=bt(b),b=pf(x)}}return Cl({width:u,height:f,x:d,y:c})}function bm(e,t){const s=bc(e).scrollLeft;return t?t.left+s:Gn(ls(e)).left+s}function rN(e,t,s){s===void 0&&(s=!1);const r=e.getBoundingClientRect(),a=r.left+t.scrollLeft-(s?0:bm(e,r)),o=r.top+t.scrollTop;return{x:a,y:o}}function B5(e){let{elements:t,rect:s,offsetParent:r,strategy:a}=e;const o=a==="fixed",i=ls(r),l=t?vc(t.floating):!1;if(r===i||l&&o)return s;let d={scrollLeft:0,scrollTop:0},c=rs(1);const u=rs(0),f=as(r);if((f||!f&&!o)&&((aa(r)!=="body"||Mo(i))&&(d=bc(r)),as(r))){const g=Gn(r);c=Ar(r),u.x=g.x+r.clientLeft,u.y=g.y+r.clientTop}const m=i&&!f&&!o?rN(i,d,!0):rs(0);return{width:s.width*c.x,height:s.height*c.y,x:s.x*c.x-d.scrollLeft*c.x+u.x+m.x,y:s.y*c.y-d.scrollTop*c.y+u.y+m.y}}function W5(e){return Array.from(e.getClientRects())}function q5(e){const t=ls(e),s=bc(e),r=e.ownerDocument.body,a=xt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=xt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-s.scrollLeft+bm(e);const l=-s.scrollTop;return qt(r).direction==="rtl"&&(i+=xt(t.clientWidth,r.clientWidth)-a),{width:a,height:o,x:i,y:l}}function H5(e,t){const s=bt(e),r=ls(e),a=s.visualViewport;let o=r.clientWidth,i=r.clientHeight,l=0,d=0;if(a){o=a.width,i=a.height;const c=ym();(!c||c&&t==="fixed")&&(l=a.offsetLeft,d=a.offsetTop)}return{width:o,height:i,x:l,y:d}}function G5(e,t){const s=Gn(e,!0,t==="fixed"),r=s.top+e.clientTop,a=s.left+e.clientLeft,o=as(e)?Ar(e):rs(1),i=e.clientWidth*o.x,l=e.clientHeight*o.y,d=a*o.x,c=r*o.y;return{width:i,height:l,x:d,y:c}}function V0(e,t,s){let r;if(t==="viewport")r=H5(e,s);else if(t==="document")r=q5(ls(e));else if(Wt(t))r=G5(t,s);else{const a=nN(e);r={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Cl(r)}function aN(e,t){const s=cn(e);return s===t||!Wt(s)||Gr(s)?!1:qt(s).position==="fixed"||aN(s,t)}function K5(e,t){const s=t.get(e);if(s)return s;let r=xo(e,[],!1).filter(l=>Wt(l)&&aa(l)!=="body"),a=null;const o=qt(e).position==="fixed";let i=o?cn(e):e;for(;Wt(i)&&!Gr(i);){const l=qt(i),d=gm(i);!d&&l.position==="fixed"&&(a=null),(o?!d&&!a:!d&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Mo(i)&&!d&&aN(e,i))?r=r.filter(u=>u!==i):a=l,i=cn(i)}return t.set(e,r),r}function Y5(e){let{element:t,boundary:s,rootBoundary:r,strategy:a}=e;const i=[...s==="clippingAncestors"?vc(t)?[]:K5(t,this._c):[].concat(s),r],l=i[0],d=i.reduce((c,u)=>{const f=V0(t,u,a);return c.top=xt(f.top,c.top),c.right=ln(f.right,c.right),c.bottom=ln(f.bottom,c.bottom),c.left=xt(f.left,c.left),c},V0(t,l,a));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function X5(e){const{width:t,height:s}=sN(e);return{width:t,height:s}}function Q5(e,t,s){const r=as(t),a=ls(t),o=s==="fixed",i=Gn(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const d=rs(0);function c(){d.x=bm(a)}if(r||!r&&!o)if((aa(t)!=="body"||Mo(a))&&(l=bc(t)),r){const g=Gn(t,!0,o,t);d.x=g.x+t.clientLeft,d.y=g.y+t.clientTop}else a&&c();o&&!r&&a&&c();const u=a&&!r&&!o?rN(a,l):rs(0),f=i.left+l.scrollLeft-d.x-u.x,m=i.top+l.scrollTop-d.y-u.y;return{x:f,y:m,width:i.width,height:i.height}}function Cd(e){return qt(e).position==="static"}function z0(e,t){if(!as(e)||qt(e).position==="fixed")return null;if(t)return t(e);let s=e.offsetParent;return ls(e)===s&&(s=s.ownerDocument.body),s}function oN(e,t){const s=bt(e);if(vc(e))return s;if(!as(e)){let a=cn(e);for(;a&&!Gr(a);){if(Wt(a)&&!Cd(a))return a;a=cn(a)}return s}let r=z0(e,t);for(;r&&U5(r)&&Cd(r);)r=z0(r,t);return r&&Gr(r)&&Cd(r)&&!gm(r)?s:r||$5(e)||s}const Z5=async function(e){const t=this.getOffsetParent||oN,s=this.getDimensions,r=await s(e.floating);return{reference:Q5(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function J5(e){return qt(e).direction==="rtl"}const e_={convertOffsetParentRelativeRectToViewportRelativeRect:B5,getDocumentElement:ls,getClippingRect:Y5,getOffsetParent:oN,getElementRects:Z5,getClientRects:W5,getDimensions:X5,getScale:Ar,isElement:Wt,isRTL:J5};function iN(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function t_(e,t){let s=null,r;const a=ls(e);function o(){var l;clearTimeout(r),(l=s)==null||l.disconnect(),s=null}function i(l,d){l===void 0&&(l=!1),d===void 0&&(d=1),o();const c=e.getBoundingClientRect(),{left:u,top:f,width:m,height:g}=c;if(l||t(),!m||!g)return;const x=pi(f),b=pi(a.clientWidth-(u+m)),v=pi(a.clientHeight-(f+g)),h=pi(u),w={rootMargin:-x+"px "+-b+"px "+-v+"px "+-h+"px",threshold:xt(0,ln(1,d))||1};let j=!0;function k(E){const P=E[0].intersectionRatio;if(P!==d){if(!j)return i();P?i(!1,P):r=setTimeout(()=>{i(!1,1e-7)},1e3)}P===1&&!iN(c,e.getBoundingClientRect())&&i(),j=!1}try{s=new IntersectionObserver(k,{...w,root:a.ownerDocument})}catch{s=new IntersectionObserver(k,w)}s.observe(e)}return i(!0),o}function s_(e,t,s,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,c=vm(e),u=a||o?[...c?xo(c):[],...xo(t)]:[];u.forEach(h=>{a&&h.addEventListener("scroll",s,{passive:!0}),o&&h.addEventListener("resize",s)});const f=c&&l?t_(c,s):null;let m=-1,g=null;i&&(g=new ResizeObserver(h=>{let[p]=h;p&&p.target===c&&g&&(g.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var w;(w=g)==null||w.observe(t)})),s()}),c&&!d&&g.observe(c),g.observe(t));let x,b=d?Gn(e):null;d&&v();function v(){const h=Gn(e);b&&!iN(b,h)&&s(),b=h,x=requestAnimationFrame(v)}return s(),()=>{var h;u.forEach(p=>{a&&p.removeEventListener("scroll",s),o&&p.removeEventListener("resize",s)}),f==null||f(),(h=g)==null||h.disconnect(),g=null,d&&cancelAnimationFrame(x)}}const n_=M5,r_=I5,a_=D5,o_=F5,i_=_5,B0=T5,l_=O5,c_=(e,t,s)=>{const r=new Map,a={platform:e_,...s},o={...a.platform,_c:r};return R5(e,t,{...a,platform:o})};var Oi=typeof document<"u"?y.useLayoutEffect:y.useEffect;function Pl(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let s,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(s=e.length,s!==t.length)return!1;for(r=s;r--!==0;)if(!Pl(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),s=a.length,s!==Object.keys(t).length)return!1;for(r=s;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=s;r--!==0;){const o=a[r];if(!(o==="_owner"&&e.$$typeof)&&!Pl(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function lN(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function W0(e,t){const s=lN(e);return Math.round(t*s)/s}function Pd(e){const t=y.useRef(e);return Oi(()=>{t.current=e}),t}function d_(e){e===void 0&&(e={});const{placement:t="bottom",strategy:s="absolute",middleware:r=[],platform:a,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:d,open:c}=e,[u,f]=y.useState({x:0,y:0,strategy:s,placement:t,middlewareData:{},isPositioned:!1}),[m,g]=y.useState(r);Pl(m,r)||g(r);const[x,b]=y.useState(null),[v,h]=y.useState(null),p=y.useCallback(R=>{R!==E.current&&(E.current=R,b(R))},[]),w=y.useCallback(R=>{R!==P.current&&(P.current=R,h(R))},[]),j=o||x,k=i||v,E=y.useRef(null),P=y.useRef(null),S=y.useRef(u),N=d!=null,A=Pd(d),_=Pd(a),M=Pd(c),F=y.useCallback(()=>{if(!E.current||!P.current)return;const R={placement:t,strategy:s,middleware:m};_.current&&(R.platform=_.current),c_(E.current,P.current,R).then(T=>{const O={...T,isPositioned:M.current!==!1};I.current&&!Pl(S.current,O)&&(S.current=O,So.flushSync(()=>{f(O)}))})},[m,t,s,_,M]);Oi(()=>{c===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,f(R=>({...R,isPositioned:!1})))},[c]);const I=y.useRef(!1);Oi(()=>(I.current=!0,()=>{I.current=!1}),[]),Oi(()=>{if(j&&(E.current=j),k&&(P.current=k),j&&k){if(A.current)return A.current(j,k,F);F()}},[j,k,F,A,N]);const B=y.useMemo(()=>({reference:E,floating:P,setReference:p,setFloating:w}),[p,w]),U=y.useMemo(()=>({reference:j,floating:k}),[j,k]),H=y.useMemo(()=>{const R={position:s,left:0,top:0};if(!U.floating)return R;const T=W0(U.floating,u.x),O=W0(U.floating,u.y);return l?{...R,transform:"translate("+T+"px, "+O+"px)",...lN(U.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:T,top:O}},[s,l,U.floating,u.x,u.y]);return y.useMemo(()=>({...u,update:F,refs:B,elements:U,floatingStyles:H}),[u,F,B,U,H])}const u_=e=>{function t(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:e,fn(s){const{element:r,padding:a}=typeof e=="function"?e(s):e;return r&&t(r)?r.current!=null?B0({element:r.current,padding:a}).fn(s):{}:r?B0({element:r,padding:a}).fn(s):{}}}},f_=(e,t)=>({...n_(e),options:[e,t]}),p_=(e,t)=>({...r_(e),options:[e,t]}),m_=(e,t)=>({...l_(e),options:[e,t]}),h_=(e,t)=>({...a_(e),options:[e,t]}),x_=(e,t)=>({...o_(e),options:[e,t]}),g_=(e,t)=>({...i_(e),options:[e,t]}),y_=(e,t)=>({...u_(e),options:[e,t]});var v_="Arrow",cN=y.forwardRef((e,t)=>{const{children:s,width:r=10,height:a=5,...o}=e;return n.jsx(de.svg,{...o,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?s:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});cN.displayName=v_;var b_=cN;function dN(e){const[t,s]=y.useState(void 0);return It(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let i,l;if("borderBoxSize"in o){const d=o.borderBoxSize,c=Array.isArray(d)?d[0]:d;i=c.inlineSize,l=c.blockSize}else i=e.offsetWidth,l=e.offsetHeight;s({width:i,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else s(void 0)},[e]),t}var wm="Popper",[uN,fN]=pn(wm),[w_,pN]=uN(wm),mN=e=>{const{__scopePopper:t,children:s}=e,[r,a]=y.useState(null);return n.jsx(w_,{scope:t,anchor:r,onAnchorChange:a,children:s})};mN.displayName=wm;var hN="PopperAnchor",xN=y.forwardRef((e,t)=>{const{__scopePopper:s,virtualRef:r,...a}=e,o=pN(hN,s),i=y.useRef(null),l=Ie(t,i);return y.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:n.jsx(de.div,{...a,ref:l})});xN.displayName=hN;var jm="PopperContent",[j_,N_]=uN(jm),gN=y.forwardRef((e,t)=>{var $e,gn,We,Gt,Kt,Ac;const{__scopePopper:s,side:r="bottom",sideOffset:a=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:d=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:x,...b}=e,v=pN(jm,s),[h,p]=y.useState(null),w=Ie(t,ia=>p(ia)),[j,k]=y.useState(null),E=dN(j),P=(E==null?void 0:E.width)??0,S=(E==null?void 0:E.height)??0,N=r+(o!=="center"?"-"+o:""),A=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},_=Array.isArray(c)?c:[c],M=_.length>0,F={padding:A,boundary:_.filter(S_),altBoundary:M},{refs:I,floatingStyles:B,placement:U,isPositioned:H,middlewareData:R}=d_({strategy:"fixed",placement:N,whileElementsMounted:(...ia)=>s_(...ia,{animationFrame:g==="always"}),elements:{reference:v.anchor},middleware:[f_({mainAxis:a+S,alignmentAxis:i}),d&&p_({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?m_():void 0,...F}),d&&h_({...F}),x_({...F,apply:({elements:ia,rects:_m,availableWidth:H1,availableHeight:G1})=>{const{width:K1,height:Y1}=_m.reference,Vo=ia.floating.style;Vo.setProperty("--radix-popper-available-width",`${H1}px`),Vo.setProperty("--radix-popper-available-height",`${G1}px`),Vo.setProperty("--radix-popper-anchor-width",`${K1}px`),Vo.setProperty("--radix-popper-anchor-height",`${Y1}px`)}}),j&&y_({element:j,padding:l}),C_({arrowWidth:P,arrowHeight:S}),m&&g_({strategy:"referenceHidden",...F})]}),[T,O]=bN(U),D=pt(x);It(()=>{H&&(D==null||D())},[H,D]);const W=($e=R.arrow)==null?void 0:$e.x,oe=(gn=R.arrow)==null?void 0:gn.y,re=((We=R.arrow)==null?void 0:We.centerOffset)!==0,[he,Ce]=y.useState();return It(()=>{h&&Ce(window.getComputedStyle(h).zIndex)},[h]),n.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:H?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:he,"--radix-popper-transform-origin":[(Gt=R.transformOrigin)==null?void 0:Gt.x,(Kt=R.transformOrigin)==null?void 0:Kt.y].join(" "),...((Ac=R.hide)==null?void 0:Ac.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(j_,{scope:s,placedSide:T,onArrowChange:k,arrowX:W,arrowY:oe,shouldHideArrow:re,children:n.jsx(de.div,{"data-side":T,"data-align":O,...b,ref:w,style:{...b.style,animation:H?void 0:"none"}})})})});gN.displayName=jm;var yN="PopperArrow",k_={top:"bottom",right:"left",bottom:"top",left:"right"},vN=y.forwardRef(function(t,s){const{__scopePopper:r,...a}=t,o=N_(yN,r),i=k_[o.placedSide];return n.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:n.jsx(b_,{...a,ref:s,style:{...a.style,display:"block"}})})});vN.displayName=yN;function S_(e){return e!==null}var C_=e=>({name:"transformOrigin",options:e,fn(t){var v,h,p;const{placement:s,rects:r,middlewareData:a}=t,i=((v=a.arrow)==null?void 0:v.centerOffset)!==0,l=i?0:e.arrowWidth,d=i?0:e.arrowHeight,[c,u]=bN(s),f={start:"0%",center:"50%",end:"100%"}[u],m=(((h=a.arrow)==null?void 0:h.x)??0)+l/2,g=(((p=a.arrow)==null?void 0:p.y)??0)+d/2;let x="",b="";return c==="bottom"?(x=i?f:`${m}px`,b=`${-d}px`):c==="top"?(x=i?f:`${m}px`,b=`${r.floating.height+d}px`):c==="right"?(x=`${-d}px`,b=i?f:`${g}px`):c==="left"&&(x=`${r.floating.width+d}px`,b=i?f:`${g}px`),{data:{x,y:b}}}});function bN(e){const[t,s="center"]=e.split("-");return[t,s]}var P_=mN,A_=xN,E_=gN,R_=vN,Ad="rovingFocusGroup.onEntryFocus",T_={bubbles:!1,cancelable:!0},Io="RovingFocusGroup",[mf,wN,D_]=gp(Io),[__,jN]=pn(Io,[D_]),[L_,M_]=__(Io),NN=y.forwardRef((e,t)=>n.jsx(mf.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(mf.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(I_,{...e,ref:t})})}));NN.displayName=Io;var I_=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,orientation:r,loop:a=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:d,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...f}=e,m=y.useRef(null),g=Ie(t,m),x=Xj(o),[b,v]=Jl({prop:i,defaultProp:l??null,onChange:d,caller:Io}),[h,p]=y.useState(!1),w=pt(c),j=wN(s),k=y.useRef(!1),[E,P]=y.useState(0);return y.useEffect(()=>{const S=m.current;if(S)return S.addEventListener(Ad,w),()=>S.removeEventListener(Ad,w)},[w]),n.jsx(L_,{scope:s,orientation:r,dir:x,loop:a,currentTabStopId:b,onItemFocus:y.useCallback(S=>v(S),[v]),onItemShiftTab:y.useCallback(()=>p(!0),[]),onFocusableItemAdd:y.useCallback(()=>P(S=>S+1),[]),onFocusableItemRemove:y.useCallback(()=>P(S=>S-1),[]),children:n.jsx(de.div,{tabIndex:h||E===0?-1:0,"data-orientation":r,...f,ref:g,style:{outline:"none",...e.style},onMouseDown:Y(e.onMouseDown,()=>{k.current=!0}),onFocus:Y(e.onFocus,S=>{const N=!k.current;if(S.target===S.currentTarget&&N&&!h){const A=new CustomEvent(Ad,T_);if(S.currentTarget.dispatchEvent(A),!A.defaultPrevented){const _=j().filter(U=>U.focusable),M=_.find(U=>U.active),F=_.find(U=>U.id===b),B=[M,F,..._].filter(Boolean).map(U=>U.ref.current);CN(B,u)}}k.current=!1}),onBlur:Y(e.onBlur,()=>p(!1))})})}),kN="RovingFocusGroupItem",SN=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,focusable:r=!0,active:a=!1,tabStopId:o,children:i,...l}=e,d=df(),c=o||d,u=M_(kN,s),f=u.currentTabStopId===c,m=wN(s),{onFocusableItemAdd:g,onFocusableItemRemove:x,currentTabStopId:b}=u;return y.useEffect(()=>{if(r)return g(),()=>x()},[r,g,x]),n.jsx(mf.ItemSlot,{scope:s,id:c,focusable:r,active:a,children:n.jsx(de.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...l,ref:t,onMouseDown:Y(e.onMouseDown,v=>{r?u.onItemFocus(c):v.preventDefault()}),onFocus:Y(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:Y(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const h=U_(v,u.orientation,u.dir);if(h!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let w=m().filter(j=>j.focusable).map(j=>j.ref.current);if(h==="last")w.reverse();else if(h==="prev"||h==="next"){h==="prev"&&w.reverse();const j=w.indexOf(v.currentTarget);w=u.loop?$_(w,j+1):w.slice(j+1)}setTimeout(()=>CN(w))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:b!=null}):i})})});SN.displayName=kN;var O_={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function F_(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function U_(e,t,s){const r=F_(e.key,s);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return O_[r]}function CN(e,t=!1){const s=document.activeElement;for(const r of e)if(r===s||(r.focus({preventScroll:t}),document.activeElement!==s))return}function $_(e,t){return e.map((s,r)=>e[(t+r)%e.length])}var V_=NN,z_=SN,B_=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},tr=new WeakMap,mi=new WeakMap,hi={},Ed=0,PN=function(e){return e&&(e.host||PN(e.parentNode))},W_=function(e,t){return t.map(function(s){if(e.contains(s))return s;var r=PN(s);return r&&e.contains(r)?r:(console.error("aria-hidden",s,"in not contained inside",e,". Doing nothing"),null)}).filter(function(s){return!!s})},q_=function(e,t,s,r){var a=W_(t,Array.isArray(e)?e:[e]);hi[s]||(hi[s]=new WeakMap);var o=hi[s],i=[],l=new Set,d=new Set(a),c=function(f){!f||l.has(f)||(l.add(f),c(f.parentNode))};a.forEach(c);var u=function(f){!f||d.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))u(m);else try{var g=m.getAttribute(r),x=g!==null&&g!=="false",b=(tr.get(m)||0)+1,v=(o.get(m)||0)+1;tr.set(m,b),o.set(m,v),i.push(m),b===1&&x&&mi.set(m,!0),v===1&&m.setAttribute(s,"true"),x||m.setAttribute(r,"true")}catch(h){console.error("aria-hidden: cannot operate on ",m,h)}})};return u(t),l.clear(),Ed++,function(){i.forEach(function(f){var m=tr.get(f)-1,g=o.get(f)-1;tr.set(f,m),o.set(f,g),m||(mi.has(f)||f.removeAttribute(r),mi.delete(f)),g||f.removeAttribute(s)}),Ed--,Ed||(tr=new WeakMap,tr=new WeakMap,mi=new WeakMap,hi={})}},H_=function(e,t,s){s===void 0&&(s="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=B_(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live]"))),q_(r,a,s,"aria-hidden")):function(){return null}},es=function(){return es=Object.assign||function(t){for(var s,r=1,a=arguments.length;r<a;r++){s=arguments[r];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o])}return t},es.apply(this,arguments)};function AN(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(s[r[a]]=e[r[a]]);return s}function G_(e,t,s){if(s||arguments.length===2)for(var r=0,a=t.length,o;r<a;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Fi="right-scroll-bar-position",Ui="width-before-scroll-bar",K_="with-scroll-bars-hidden",Y_="--removed-body-scroll-bar-size";function Rd(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function X_(e,t){var s=y.useState(function(){return{value:e,callback:t,facade:{get current(){return s.value},set current(r){var a=s.value;a!==r&&(s.value=r,s.callback(r,a))}}}})[0];return s.callback=t,s.facade}var Q_=typeof window<"u"?y.useLayoutEffect:y.useEffect,q0=new WeakMap;function Z_(e,t){var s=X_(null,function(r){return e.forEach(function(a){return Rd(a,r)})});return Q_(function(){var r=q0.get(s);if(r){var a=new Set(r),o=new Set(e),i=s.current;a.forEach(function(l){o.has(l)||Rd(l,null)}),o.forEach(function(l){a.has(l)||Rd(l,i)})}q0.set(s,e)},[e]),s}function J_(e){return e}function eL(e,t){t===void 0&&(t=J_);var s=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:e},useMedium:function(o){var i=t(o,r);return s.push(i),function(){s=s.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(r=!0;s.length;){var i=s;s=[],i.forEach(o)}s={push:function(l){return o(l)},filter:function(){return s}}},assignMedium:function(o){r=!0;var i=[];if(s.length){var l=s;s=[],l.forEach(o),i=s}var d=function(){var u=i;i=[],u.forEach(o)},c=function(){return Promise.resolve().then(d)};c(),s={push:function(u){i.push(u),c()},filter:function(u){return i=i.filter(u),s}}}};return a}function tL(e){e===void 0&&(e={});var t=eL(null);return t.options=es({async:!0,ssr:!1},e),t}var EN=function(e){var t=e.sideCar,s=AN(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,es({},s))};EN.isSideCarExport=!0;function sL(e,t){return e.useMedium(t),EN}var RN=tL(),Td=function(){},wc=y.forwardRef(function(e,t){var s=y.useRef(null),r=y.useState({onScrollCapture:Td,onWheelCapture:Td,onTouchMoveCapture:Td}),a=r[0],o=r[1],i=e.forwardProps,l=e.children,d=e.className,c=e.removeScrollBar,u=e.enabled,f=e.shards,m=e.sideCar,g=e.noIsolation,x=e.inert,b=e.allowPinchZoom,v=e.as,h=v===void 0?"div":v,p=e.gapMode,w=AN(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=m,k=Z_([s,t]),E=es(es({},w),a);return y.createElement(y.Fragment,null,u&&y.createElement(j,{sideCar:RN,removeScrollBar:c,shards:f,noIsolation:g,inert:x,setCallbacks:o,allowPinchZoom:!!b,lockRef:s,gapMode:p}),i?y.cloneElement(y.Children.only(l),es(es({},E),{ref:k})):y.createElement(h,es({},E,{className:d,ref:k}),l))});wc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};wc.classNames={fullWidth:Ui,zeroRight:Fi};var nL=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function rL(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=nL();return t&&e.setAttribute("nonce",t),e}function aL(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function oL(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var iL=function(){var e=0,t=null;return{add:function(s){e==0&&(t=rL())&&(aL(t,s),oL(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},lL=function(){var e=iL();return function(t,s){y.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&s])}},TN=function(){var e=lL(),t=function(s){var r=s.styles,a=s.dynamic;return e(r,a),null};return t},cL={left:0,top:0,right:0,gap:0},Dd=function(e){return parseInt(e||"",10)||0},dL=function(e){var t=window.getComputedStyle(document.body),s=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Dd(s),Dd(r),Dd(a)]},uL=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return cL;var t=dL(e),s=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-s+t[2]-t[0])}},fL=TN(),Er="data-scroll-locked",pL=function(e,t,s,r){var a=e.left,o=e.top,i=e.right,l=e.gap;return s===void 0&&(s="margin"),`
  .`.concat(K_,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Er,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),s==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),s==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Fi,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Ui,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Fi," .").concat(Fi,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ui," .").concat(Ui,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Er,`] {
    `).concat(Y_,": ").concat(l,`px;
  }
`)},H0=function(){var e=parseInt(document.body.getAttribute(Er)||"0",10);return isFinite(e)?e:0},mL=function(){y.useEffect(function(){return document.body.setAttribute(Er,(H0()+1).toString()),function(){var e=H0()-1;e<=0?document.body.removeAttribute(Er):document.body.setAttribute(Er,e.toString())}},[])},hL=function(e){var t=e.noRelative,s=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;mL();var o=y.useMemo(function(){return uL(a)},[a]);return y.createElement(fL,{styles:pL(o,!t,a,s?"":"!important")})},hf=!1;if(typeof window<"u")try{var xi=Object.defineProperty({},"passive",{get:function(){return hf=!0,!0}});window.addEventListener("test",xi,xi),window.removeEventListener("test",xi,xi)}catch{hf=!1}var sr=hf?{passive:!1}:!1,xL=function(e){return e.tagName==="TEXTAREA"},DN=function(e,t){if(!(e instanceof Element))return!1;var s=window.getComputedStyle(e);return s[t]!=="hidden"&&!(s.overflowY===s.overflowX&&!xL(e)&&s[t]==="visible")},gL=function(e){return DN(e,"overflowY")},yL=function(e){return DN(e,"overflowX")},G0=function(e,t){var s=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=_N(e,r);if(a){var o=LN(e,r),i=o[1],l=o[2];if(i>l)return!0}r=r.parentNode}while(r&&r!==s.body);return!1},vL=function(e){var t=e.scrollTop,s=e.scrollHeight,r=e.clientHeight;return[t,s,r]},bL=function(e){var t=e.scrollLeft,s=e.scrollWidth,r=e.clientWidth;return[t,s,r]},_N=function(e,t){return e==="v"?gL(t):yL(t)},LN=function(e,t){return e==="v"?vL(t):bL(t)},wL=function(e,t){return e==="h"&&t==="rtl"?-1:1},jL=function(e,t,s,r,a){var o=wL(e,window.getComputedStyle(t).direction),i=o*r,l=s.target,d=t.contains(l),c=!1,u=i>0,f=0,m=0;do{var g=LN(e,l),x=g[0],b=g[1],v=g[2],h=b-v-o*x;(x||h)&&_N(e,l)&&(f+=h,m+=x),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!d&&l!==document.body||d&&(t.contains(l)||t===l));return(u&&Math.abs(f)<1||!u&&Math.abs(m)<1)&&(c=!0),c},gi=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},K0=function(e){return[e.deltaX,e.deltaY]},Y0=function(e){return e&&"current"in e?e.current:e},NL=function(e,t){return e[0]===t[0]&&e[1]===t[1]},kL=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},SL=0,nr=[];function CL(e){var t=y.useRef([]),s=y.useRef([0,0]),r=y.useRef(),a=y.useState(SL++)[0],o=y.useState(TN)[0],i=y.useRef(e);y.useEffect(function(){i.current=e},[e]),y.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var b=G_([e.lockRef.current],(e.shards||[]).map(Y0),!0).filter(Boolean);return b.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),b.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=y.useCallback(function(b,v){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!i.current.allowPinchZoom;var h=gi(b),p=s.current,w="deltaX"in b?b.deltaX:p[0]-h[0],j="deltaY"in b?b.deltaY:p[1]-h[1],k,E=b.target,P=Math.abs(w)>Math.abs(j)?"h":"v";if("touches"in b&&P==="h"&&E.type==="range")return!1;var S=G0(P,E);if(!S)return!0;if(S?k=P:(k=P==="v"?"h":"v",S=G0(P,E)),!S)return!1;if(!r.current&&"changedTouches"in b&&(w||j)&&(r.current=k),!k)return!0;var N=r.current||k;return jL(N,v,b,N==="h"?w:j)},[]),d=y.useCallback(function(b){var v=b;if(!(!nr.length||nr[nr.length-1]!==o)){var h="deltaY"in v?K0(v):gi(v),p=t.current.filter(function(k){return k.name===v.type&&(k.target===v.target||v.target===k.shadowParent)&&NL(k.delta,h)})[0];if(p&&p.should){v.cancelable&&v.preventDefault();return}if(!p){var w=(i.current.shards||[]).map(Y0).filter(Boolean).filter(function(k){return k.contains(v.target)}),j=w.length>0?l(v,w[0]):!i.current.noIsolation;j&&v.cancelable&&v.preventDefault()}}},[]),c=y.useCallback(function(b,v,h,p){var w={name:b,delta:v,target:h,should:p,shadowParent:PL(h)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(j){return j!==w})},1)},[]),u=y.useCallback(function(b){s.current=gi(b),r.current=void 0},[]),f=y.useCallback(function(b){c(b.type,K0(b),b.target,l(b,e.lockRef.current))},[]),m=y.useCallback(function(b){c(b.type,gi(b),b.target,l(b,e.lockRef.current))},[]);y.useEffect(function(){return nr.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",d,sr),document.addEventListener("touchmove",d,sr),document.addEventListener("touchstart",u,sr),function(){nr=nr.filter(function(b){return b!==o}),document.removeEventListener("wheel",d,sr),document.removeEventListener("touchmove",d,sr),document.removeEventListener("touchstart",u,sr)}},[]);var g=e.removeScrollBar,x=e.inert;return y.createElement(y.Fragment,null,x?y.createElement(o,{styles:kL(a)}):null,g?y.createElement(hL,{gapMode:e.gapMode}):null)}function PL(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const AL=sL(RN,CL);var MN=y.forwardRef(function(e,t){return y.createElement(wc,es({},e,{ref:t,sideCar:AL}))});MN.classNames=wc.classNames;var xf=["Enter"," "],EL=["ArrowDown","PageUp","Home"],IN=["ArrowUp","PageDown","End"],RL=[...EL,...IN],TL={ltr:[...xf,"ArrowRight"],rtl:[...xf,"ArrowLeft"]},DL={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Oo="Menu",[go,_L,LL]=gp(Oo),[Zn,ON]=pn(Oo,[LL,fN,jN]),jc=fN(),FN=jN(),[ML,Jn]=Zn(Oo),[IL,Fo]=Zn(Oo),UN=e=>{const{__scopeMenu:t,open:s=!1,children:r,dir:a,onOpenChange:o,modal:i=!0}=e,l=jc(t),[d,c]=y.useState(null),u=y.useRef(!1),f=pt(o),m=Xj(a);return y.useEffect(()=>{const g=()=>{u.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>u.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),n.jsx(P_,{...l,children:n.jsx(ML,{scope:t,open:s,onOpenChange:f,content:d,onContentChange:c,children:n.jsx(IL,{scope:t,onClose:y.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:u,dir:m,modal:i,children:r})})})};UN.displayName=Oo;var OL="MenuAnchor",Nm=y.forwardRef((e,t)=>{const{__scopeMenu:s,...r}=e,a=jc(s);return n.jsx(A_,{...a,...r,ref:t})});Nm.displayName=OL;var km="MenuPortal",[FL,$N]=Zn(km,{forceMount:void 0}),VN=e=>{const{__scopeMenu:t,forceMount:s,children:r,container:a}=e,o=Jn(km,t);return n.jsx(FL,{scope:t,forceMount:s,children:n.jsx(ea,{present:s||o.open,children:n.jsx(bp,{asChild:!0,container:a,children:r})})})};VN.displayName=km;var _t="MenuContent",[UL,Sm]=Zn(_t),zN=y.forwardRef((e,t)=>{const s=$N(_t,e.__scopeMenu),{forceMount:r=s.forceMount,...a}=e,o=Jn(_t,e.__scopeMenu),i=Fo(_t,e.__scopeMenu);return n.jsx(go.Provider,{scope:e.__scopeMenu,children:n.jsx(ea,{present:r||o.open,children:n.jsx(go.Slot,{scope:e.__scopeMenu,children:i.modal?n.jsx($L,{...a,ref:t}):n.jsx(VL,{...a,ref:t})})})})}),$L=y.forwardRef((e,t)=>{const s=Jn(_t,e.__scopeMenu),r=y.useRef(null),a=Ie(t,r);return y.useEffect(()=>{const o=r.current;if(o)return H_(o)},[]),n.jsx(Cm,{...e,ref:a,trapFocus:s.open,disableOutsidePointerEvents:s.open,disableOutsideScroll:!0,onFocusOutside:Y(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>s.onOpenChange(!1)})}),VL=y.forwardRef((e,t)=>{const s=Jn(_t,e.__scopeMenu);return n.jsx(Cm,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>s.onOpenChange(!1)})}),zL=uo("MenuContent.ScrollLock"),Cm=y.forwardRef((e,t)=>{const{__scopeMenu:s,loop:r=!1,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:d,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:m,onDismiss:g,disableOutsideScroll:x,...b}=e,v=Jn(_t,s),h=Fo(_t,s),p=jc(s),w=FN(s),j=_L(s),[k,E]=y.useState(null),P=y.useRef(null),S=Ie(t,P,v.onContentChange),N=y.useRef(0),A=y.useRef(""),_=y.useRef(0),M=y.useRef(null),F=y.useRef("right"),I=y.useRef(0),B=x?MN:y.Fragment,U=x?{as:zL,allowPinchZoom:!0}:void 0,H=T=>{var $e,gn;const O=A.current+T,D=j().filter(We=>!We.disabled),W=document.activeElement,oe=($e=D.find(We=>We.ref.current===W))==null?void 0:$e.textValue,re=D.map(We=>We.textValue),he=eM(re,O,oe),Ce=(gn=D.find(We=>We.textValue===he))==null?void 0:gn.ref.current;(function We(Gt){A.current=Gt,window.clearTimeout(N.current),Gt!==""&&(N.current=window.setTimeout(()=>We(""),1e3))})(O),Ce&&setTimeout(()=>Ce.focus())};y.useEffect(()=>()=>window.clearTimeout(N.current),[]),f5();const R=y.useCallback(T=>{var D,W;return F.current===((D=M.current)==null?void 0:D.side)&&sM(T,(W=M.current)==null?void 0:W.area)},[]);return n.jsx(UL,{scope:s,searchRef:A,onItemEnter:y.useCallback(T=>{R(T)&&T.preventDefault()},[R]),onItemLeave:y.useCallback(T=>{var O;R(T)||((O=P.current)==null||O.focus(),E(null))},[R]),onTriggerLeave:y.useCallback(T=>{R(T)&&T.preventDefault()},[R]),pointerGraceTimerRef:_,onPointerGraceIntentChange:y.useCallback(T=>{M.current=T},[]),children:n.jsx(B,{...U,children:n.jsx(Qj,{asChild:!0,trapped:a,onMountAutoFocus:Y(o,T=>{var O;T.preventDefault(),(O=P.current)==null||O.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:n.jsx(vp,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:m,onDismiss:g,children:n.jsx(V_,{asChild:!0,...w,dir:h.dir,orientation:"vertical",loop:r,currentTabStopId:k,onCurrentTabStopIdChange:E,onEntryFocus:Y(d,T=>{h.isUsingKeyboardRef.current||T.preventDefault()}),preventScrollOnEntryFocus:!0,children:n.jsx(E_,{role:"menu","aria-orientation":"vertical","data-state":r1(v.open),"data-radix-menu-content":"",dir:h.dir,...p,...b,ref:S,style:{outline:"none",...b.style},onKeyDown:Y(b.onKeyDown,T=>{const D=T.target.closest("[data-radix-menu-content]")===T.currentTarget,W=T.ctrlKey||T.altKey||T.metaKey,oe=T.key.length===1;D&&(T.key==="Tab"&&T.preventDefault(),!W&&oe&&H(T.key));const re=P.current;if(T.target!==re||!RL.includes(T.key))return;T.preventDefault();const Ce=j().filter($e=>!$e.disabled).map($e=>$e.ref.current);IN.includes(T.key)&&Ce.reverse(),ZL(Ce)}),onBlur:Y(e.onBlur,T=>{T.currentTarget.contains(T.target)||(window.clearTimeout(N.current),A.current="")}),onPointerMove:Y(e.onPointerMove,yo(T=>{const O=T.target,D=I.current!==T.clientX;if(T.currentTarget.contains(O)&&D){const W=T.clientX>I.current?"right":"left";F.current=W,I.current=T.clientX}}))})})})})})})});zN.displayName=_t;var BL="MenuGroup",Pm=y.forwardRef((e,t)=>{const{__scopeMenu:s,...r}=e;return n.jsx(de.div,{role:"group",...r,ref:t})});Pm.displayName=BL;var WL="MenuLabel",BN=y.forwardRef((e,t)=>{const{__scopeMenu:s,...r}=e;return n.jsx(de.div,{...r,ref:t})});BN.displayName=WL;var Al="MenuItem",X0="menu.itemSelect",Nc=y.forwardRef((e,t)=>{const{disabled:s=!1,onSelect:r,...a}=e,o=y.useRef(null),i=Fo(Al,e.__scopeMenu),l=Sm(Al,e.__scopeMenu),d=Ie(t,o),c=y.useRef(!1),u=()=>{const f=o.current;if(!s&&f){const m=new CustomEvent(X0,{bubbles:!0,cancelable:!0});f.addEventListener(X0,g=>r==null?void 0:r(g),{once:!0}),yp(f,m),m.defaultPrevented?c.current=!1:i.onClose()}};return n.jsx(WN,{...a,ref:d,disabled:s,onClick:Y(e.onClick,u),onPointerDown:f=>{var m;(m=e.onPointerDown)==null||m.call(e,f),c.current=!0},onPointerUp:Y(e.onPointerUp,f=>{var m;c.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:Y(e.onKeyDown,f=>{const m=l.searchRef.current!=="";s||m&&f.key===" "||xf.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Nc.displayName=Al;var WN=y.forwardRef((e,t)=>{const{__scopeMenu:s,disabled:r=!1,textValue:a,...o}=e,i=Sm(Al,s),l=FN(s),d=y.useRef(null),c=Ie(t,d),[u,f]=y.useState(!1),[m,g]=y.useState("");return y.useEffect(()=>{const x=d.current;x&&g((x.textContent??"").trim())},[o.children]),n.jsx(go.ItemSlot,{scope:s,disabled:r,textValue:a??m,children:n.jsx(z_,{asChild:!0,...l,focusable:!r,children:n.jsx(de.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:c,onPointerMove:Y(e.onPointerMove,yo(x=>{r?i.onItemLeave(x):(i.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Y(e.onPointerLeave,yo(x=>i.onItemLeave(x))),onFocus:Y(e.onFocus,()=>f(!0)),onBlur:Y(e.onBlur,()=>f(!1))})})})}),qL="MenuCheckboxItem",qN=y.forwardRef((e,t)=>{const{checked:s=!1,onCheckedChange:r,...a}=e;return n.jsx(XN,{scope:e.__scopeMenu,checked:s,children:n.jsx(Nc,{role:"menuitemcheckbox","aria-checked":El(s)?"mixed":s,...a,ref:t,"data-state":Em(s),onSelect:Y(a.onSelect,()=>r==null?void 0:r(El(s)?!0:!s),{checkForDefaultPrevented:!1})})})});qN.displayName=qL;var HN="MenuRadioGroup",[HL,GL]=Zn(HN,{value:void 0,onValueChange:()=>{}}),GN=y.forwardRef((e,t)=>{const{value:s,onValueChange:r,...a}=e,o=pt(r);return n.jsx(HL,{scope:e.__scopeMenu,value:s,onValueChange:o,children:n.jsx(Pm,{...a,ref:t})})});GN.displayName=HN;var KN="MenuRadioItem",YN=y.forwardRef((e,t)=>{const{value:s,...r}=e,a=GL(KN,e.__scopeMenu),o=s===a.value;return n.jsx(XN,{scope:e.__scopeMenu,checked:o,children:n.jsx(Nc,{role:"menuitemradio","aria-checked":o,...r,ref:t,"data-state":Em(o),onSelect:Y(r.onSelect,()=>{var i;return(i=a.onValueChange)==null?void 0:i.call(a,s)},{checkForDefaultPrevented:!1})})})});YN.displayName=KN;var Am="MenuItemIndicator",[XN,KL]=Zn(Am,{checked:!1}),QN=y.forwardRef((e,t)=>{const{__scopeMenu:s,forceMount:r,...a}=e,o=KL(Am,s);return n.jsx(ea,{present:r||El(o.checked)||o.checked===!0,children:n.jsx(de.span,{...a,ref:t,"data-state":Em(o.checked)})})});QN.displayName=Am;var YL="MenuSeparator",ZN=y.forwardRef((e,t)=>{const{__scopeMenu:s,...r}=e;return n.jsx(de.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});ZN.displayName=YL;var XL="MenuArrow",JN=y.forwardRef((e,t)=>{const{__scopeMenu:s,...r}=e,a=jc(s);return n.jsx(R_,{...a,...r,ref:t})});JN.displayName=XL;var QL="MenuSub",[A$,e1]=Zn(QL),Ea="MenuSubTrigger",t1=y.forwardRef((e,t)=>{const s=Jn(Ea,e.__scopeMenu),r=Fo(Ea,e.__scopeMenu),a=e1(Ea,e.__scopeMenu),o=Sm(Ea,e.__scopeMenu),i=y.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:d}=o,c={__scopeMenu:e.__scopeMenu},u=y.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return y.useEffect(()=>u,[u]),y.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),d(null)}},[l,d]),n.jsx(Nm,{asChild:!0,...c,children:n.jsx(WN,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":a.contentId,"data-state":r1(s.open),...e,ref:Zl(t,a.onTriggerChange),onClick:f=>{var m;(m=e.onClick)==null||m.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),s.open||s.onOpenChange(!0))},onPointerMove:Y(e.onPointerMove,yo(f=>{o.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!s.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{s.onOpenChange(!0),u()},100))})),onPointerLeave:Y(e.onPointerLeave,yo(f=>{var g,x;u();const m=(g=s.content)==null?void 0:g.getBoundingClientRect();if(m){const b=(x=s.content)==null?void 0:x.dataset.side,v=b==="right",h=v?-5:5,p=m[v?"left":"right"],w=m[v?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+h,y:f.clientY},{x:p,y:m.top},{x:w,y:m.top},{x:w,y:m.bottom},{x:p,y:m.bottom}],side:b}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:Y(e.onKeyDown,f=>{var g;const m=o.searchRef.current!=="";e.disabled||m&&f.key===" "||TL[r.dir].includes(f.key)&&(s.onOpenChange(!0),(g=s.content)==null||g.focus(),f.preventDefault())})})})});t1.displayName=Ea;var s1="MenuSubContent",n1=y.forwardRef((e,t)=>{const s=$N(_t,e.__scopeMenu),{forceMount:r=s.forceMount,...a}=e,o=Jn(_t,e.__scopeMenu),i=Fo(_t,e.__scopeMenu),l=e1(s1,e.__scopeMenu),d=y.useRef(null),c=Ie(t,d);return n.jsx(go.Provider,{scope:e.__scopeMenu,children:n.jsx(ea,{present:r||o.open,children:n.jsx(go.Slot,{scope:e.__scopeMenu,children:n.jsx(Cm,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:c,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var f;i.isUsingKeyboardRef.current&&((f=d.current)==null||f.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:Y(e.onFocusOutside,u=>{u.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:Y(e.onEscapeKeyDown,u=>{i.onClose(),u.preventDefault()}),onKeyDown:Y(e.onKeyDown,u=>{var g;const f=u.currentTarget.contains(u.target),m=DL[i.dir].includes(u.key);f&&m&&(o.onOpenChange(!1),(g=l.trigger)==null||g.focus(),u.preventDefault())})})})})})});n1.displayName=s1;function r1(e){return e?"open":"closed"}function El(e){return e==="indeterminate"}function Em(e){return El(e)?"indeterminate":e?"checked":"unchecked"}function ZL(e){const t=document.activeElement;for(const s of e)if(s===t||(s.focus(),document.activeElement!==t))return}function JL(e,t){return e.map((s,r)=>e[(t+r)%e.length])}function eM(e,t,s){const a=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,o=s?e.indexOf(s):-1;let i=JL(e,Math.max(o,0));a.length===1&&(i=i.filter(c=>c!==s));const d=i.find(c=>c.toLowerCase().startsWith(a.toLowerCase()));return d!==s?d:void 0}function tM(e,t){const{x:s,y:r}=e;let a=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o],d=t[i],c=l.x,u=l.y,f=d.x,m=d.y;u>r!=m>r&&s<(f-c)*(r-u)/(m-u)+c&&(a=!a)}return a}function sM(e,t){if(!t)return!1;const s={x:e.clientX,y:e.clientY};return tM(s,t)}function yo(e){return t=>t.pointerType==="mouse"?e(t):void 0}var nM=UN,rM=Nm,aM=VN,oM=zN,iM=Pm,lM=BN,cM=Nc,dM=qN,uM=GN,fM=YN,pM=QN,mM=ZN,hM=JN,xM=t1,gM=n1,kc="DropdownMenu",[yM]=pn(kc,[ON]),at=ON(),[vM,a1]=yM(kc),o1=e=>{const{__scopeDropdownMenu:t,children:s,dir:r,open:a,defaultOpen:o,onOpenChange:i,modal:l=!0}=e,d=at(t),c=y.useRef(null),[u,f]=Jl({prop:a,defaultProp:o??!1,onChange:i,caller:kc});return n.jsx(vM,{scope:t,triggerId:df(),triggerRef:c,contentId:df(),open:u,onOpenChange:f,onOpenToggle:y.useCallback(()=>f(m=>!m),[f]),modal:l,children:n.jsx(nM,{...d,open:u,onOpenChange:f,dir:r,modal:l,children:s})})};o1.displayName=kc;var i1="DropdownMenuTrigger",l1=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,disabled:r=!1,...a}=e,o=a1(i1,s),i=at(s);return n.jsx(rM,{asChild:!0,...i,children:n.jsx(de.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:Zl(t,o.triggerRef),onPointerDown:Y(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:Y(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});l1.displayName=i1;var bM="DropdownMenuPortal",c1=e=>{const{__scopeDropdownMenu:t,...s}=e,r=at(t);return n.jsx(aM,{...r,...s})};c1.displayName=bM;var d1="DropdownMenuContent",u1=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=a1(d1,s),o=at(s),i=y.useRef(!1);return n.jsx(oM,{id:a.contentId,"aria-labelledby":a.triggerId,...o,...r,ref:t,onCloseAutoFocus:Y(e.onCloseAutoFocus,l=>{var d;i.current||(d=a.triggerRef.current)==null||d.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:Y(e.onInteractOutside,l=>{const d=l.detail.originalEvent,c=d.button===0&&d.ctrlKey===!0,u=d.button===2||c;(!a.modal||u)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});u1.displayName=d1;var wM="DropdownMenuGroup",jM=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=at(s);return n.jsx(iM,{...a,...r,ref:t})});jM.displayName=wM;var NM="DropdownMenuLabel",f1=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=at(s);return n.jsx(lM,{...a,...r,ref:t})});f1.displayName=NM;var kM="DropdownMenuItem",p1=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=at(s);return n.jsx(cM,{...a,...r,ref:t})});p1.displayName=kM;var SM="DropdownMenuCheckboxItem",m1=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=at(s);return n.jsx(dM,{...a,...r,ref:t})});m1.displayName=SM;var CM="DropdownMenuRadioGroup",PM=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=at(s);return n.jsx(uM,{...a,...r,ref:t})});PM.displayName=CM;var AM="DropdownMenuRadioItem",h1=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=at(s);return n.jsx(fM,{...a,...r,ref:t})});h1.displayName=AM;var EM="DropdownMenuItemIndicator",x1=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=at(s);return n.jsx(pM,{...a,...r,ref:t})});x1.displayName=EM;var RM="DropdownMenuSeparator",g1=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=at(s);return n.jsx(mM,{...a,...r,ref:t})});g1.displayName=RM;var TM="DropdownMenuArrow",DM=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=at(s);return n.jsx(hM,{...a,...r,ref:t})});DM.displayName=TM;var _M="DropdownMenuSubTrigger",y1=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=at(s);return n.jsx(xM,{...a,...r,ref:t})});y1.displayName=_M;var LM="DropdownMenuSubContent",v1=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=at(s);return n.jsx(gM,{...a,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});v1.displayName=LM;var MM=o1,IM=l1,OM=c1,b1=u1,w1=f1,j1=p1,N1=m1,k1=h1,S1=x1,C1=g1,P1=y1,A1=v1;const Q0=MM,Z0=IM,FM=C.forwardRef(({className:e,inset:t,children:s,...r},a)=>n.jsxs(P1,{ref:a,className:Q("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[s,n.jsx(oA,{className:"ml-auto h-4 w-4"})]}));FM.displayName=P1.displayName;const UM=C.forwardRef(({className:e,...t},s)=>n.jsx(A1,{ref:s,className:Q("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));UM.displayName=A1.displayName;const gf=C.forwardRef(({className:e,sideOffset:t=4,...s},r)=>n.jsx(OM,{children:n.jsx(b1,{ref:r,sideOffset:t,className:Q("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));gf.displayName=b1.displayName;const Nn=C.forwardRef(({className:e,inset:t,...s},r)=>n.jsx(j1,{ref:r,className:Q("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...s}));Nn.displayName=j1.displayName;const $M=C.forwardRef(({className:e,children:t,checked:s,...r},a)=>n.jsxs(N1,{ref:a,className:Q("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:s,...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(S1,{children:n.jsx(bb,{className:"h-4 w-4"})})}),t]}));$M.displayName=N1.displayName;const VM=C.forwardRef(({className:e,children:t,...s},r)=>n.jsxs(k1,{ref:r,className:Q("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(S1,{children:n.jsx(wb,{className:"h-2 w-2 fill-current"})})}),t]}));VM.displayName=k1.displayName;const $i=C.forwardRef(({className:e,inset:t,...s},r)=>n.jsx(w1,{ref:r,className:Q("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...s}));$i.displayName=w1.displayName;const Ra=C.forwardRef(({className:e,...t},s)=>n.jsx(C1,{ref:s,className:Q("-mx-1 my-1 h-px bg-muted",e),...t}));Ra.displayName=C1.displayName;const Sc=()=>{const e=C.useContext(hw);if(!e)throw new Error("useNotifications must be used within NotificationsProvider");return e},zM={"/app/dashboard":"Dashboard","/app/documents":"Documents","/app/ai-assistant":"AI Assistant","/app/tasks":"Tasks","/app/projects":"Projects","/app/audit":"Audit Log","/app/risk-matrix":"Risk Matrix","/app/dsr":"Data Subject Requests","/app/dpia":"DPIA","/app/policies":"Policies","/app/incidents":"Incidents","/app/billing":"Billing","/app/settings":"Settings","/app/settings/notifications":"Notification Settings","/app/admin":"Admin","/app/admin/workspace/users":"Workspace Users & Roles","/app/platform-admin":"Platform Admin","/app/admin/dsr-portal":"DSR Portal Admin","/app/notifications":"Notifications"},BM=e=>{const t=e.trim().split(" ");return t.length===1?t[0].slice(0,2).toUpperCase():`${t[0][0].toUpperCase()}${t[t.length-1][0].toUpperCase()}`},WM=({onMenuClick:e,onAskAura:t})=>{const{user:s,logout:r}=Ct(),{notifications:a,unreadCount:o,markAsRead:i}=Sc(),{tenantPlan:l,isTestTenant:d}=Rs(),c=is(),u=Es(),f=(s==null?void 0:s.name)||(s==null?void 0:s.email)||"AURA User",m=s!=null&&s.role?s.role:"",g=(s==null?void 0:s.tenantName)||"Acme Privacy Ltd.",x=l?`${l.charAt(0).toUpperCase()}${l.slice(1)} plan`:"Workspace plan",b=zM[u.pathname]??"Dashboard",v=()=>{r()};return n.jsx("header",{className:"sticky top-0 z-30 border-b border-slate-200 bg-white/80 backdrop-blur",children:n.jsxs("div",{className:"flex h-16 items-center gap-3 px-4 lg:px-8",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx($,{variant:"ghost",size:"icon",className:"lg:hidden text-slate-600 hover:text-slate-900",onClick:e,"aria-label":"Open navigation",children:n.jsx(wA,{className:"h-5 w-5"})}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-gradient-to-br from-sky-500 to-indigo-500 text-sm font-semibold text-white shadow-sm",children:"AG"}),n.jsxs("div",{className:"leading-tight",children:[n.jsx("p",{className:"text-xs text-slate-500",children:"AURA-GDPR"}),n.jsx("p",{className:"text-sm font-semibold text-slate-900",children:g})]})]})]}),n.jsxs("div",{className:"hidden flex-1 items-center md:flex",children:[n.jsx("div",{className:"mx-6 h-10 w-px bg-slate-200"}),n.jsx("p",{className:"text-sm font-medium text-slate-700",children:b})]}),n.jsxs("div",{className:"flex flex-1 items-center justify-end gap-2 sm:gap-3 md:flex-none",children:[n.jsxs("div",{className:"hidden items-center gap-2 sm:flex",children:[n.jsxs(on,{className:"inline-flex items-center gap-2 border border-sky-100 bg-sky-50 text-sky-700 shadow-sm",children:[n.jsx(Ap,{className:"h-4 w-4"}),x]}),d&&n.jsxs(on,{className:"inline-flex items-center gap-2 border border-indigo-100 bg-indigo-50 text-indigo-700 shadow-sm",children:[n.jsx(Qe,{className:"h-4 w-4"}),"Test mode: AI unlocked"]})]}),n.jsxs($,{size:"sm",className:"hidden sm:inline-flex items-center gap-2 bg-sky-600 text-white hover:bg-sky-700",onClick:()=>t==null?void 0:t(),children:[n.jsx(Qe,{className:"h-4 w-4"}),"Ask AURA"]}),n.jsxs(Q0,{children:[n.jsx(Z0,{asChild:!0,children:n.jsxs($,{variant:"ghost",size:"icon",className:"relative text-slate-600 hover:text-slate-900","aria-label":"Notifications",children:[n.jsx(Pp,{className:"h-5 w-5"}),o>0&&n.jsx("span",{className:"absolute -right-1 -top-1 flex h-5 w-5 items-center justify-center rounded-full bg-amber-500 text-[10px] font-semibold text-white",children:o})]})}),n.jsxs(gf,{align:"end",className:"w-80 p-2",children:[n.jsx($i,{className:"text-xs uppercase text-slate-500",children:"Notifications"}),n.jsx(Ra,{}),n.jsxs("div",{className:"max-h-80 space-y-1 overflow-y-auto",children:[a.slice(0,5).map(h=>n.jsxs(Nn,{className:"items-start gap-3 px-2 py-2",onSelect:async p=>{p.preventDefault(),await i(h.id),h.link&&c(h.link)},children:[n.jsx("span",{className:Q("mt-1 h-2.5 w-2.5 rounded-full",h.severity==="info"?"bg-sky-500":h.severity==="warning"?"bg-amber-500":"bg-rose-500"),"aria-hidden":!0}),n.jsxs("div",{className:"space-y-0.5",children:[n.jsx("p",{className:"text-sm font-semibold text-slate-900",children:h.title}),n.jsx("p",{className:"text-xs text-slate-600 line-clamp-2",children:h.description})]})]},h.id)),a.length===0&&n.jsx("div",{className:"px-2 py-3 text-sm text-slate-500",children:"No notifications yet."})]}),n.jsx(Ra,{}),n.jsx(Nn,{className:"justify-center text-sm font-semibold text-sky-700",onSelect:h=>{h.preventDefault(),c("/app/notifications")},children:"View all notifications"})]})]}),n.jsxs(Q0,{children:[n.jsx(Z0,{asChild:!0,children:n.jsxs($,{variant:"ghost",className:"flex items-center gap-3 px-2",children:[n.jsxs("div",{className:"hidden text-right sm:block",children:[n.jsx("div",{className:"text-sm font-semibold text-slate-900",children:f}),n.jsx("div",{className:"text-xs text-slate-500",children:m})]}),n.jsxs(um,{className:"h-10 w-10 border border-slate-200",children:[n.jsx(fm,{src:s==null?void 0:s.avatarUrl,alt:f}),n.jsx(pm,{className:"bg-slate-100 text-slate-600",children:BM(f)})]})]})}),n.jsxs(gf,{align:"end",className:"w-56",children:[n.jsx($i,{className:"text-sm font-semibold text-slate-900",children:f}),n.jsx($i,{className:"text-xs font-normal text-slate-500",children:g}),n.jsx(Ra,{}),n.jsxs(Nn,{onSelect:()=>c("/app/settings"),className:"gap-2",children:[n.jsx(Tb,{className:"h-4 w-4 text-slate-500"}),n.jsx("span",{children:"Profile"})]}),n.jsxs(Nn,{onSelect:()=>c("/app/billing"),className:"gap-2",children:[n.jsx(kb,{className:"h-4 w-4 text-slate-500"}),n.jsx("span",{children:"Billing"})]}),n.jsxs(Nn,{onSelect:()=>c("/app/settings/notifications"),className:"gap-2",children:[n.jsx(Rp,{className:"h-4 w-4 text-slate-500"}),n.jsx("span",{children:"Settings"})]}),n.jsx(Ra,{}),n.jsxs(Nn,{onSelect:v,className:"gap-2 text-red-600 focus:text-red-600",children:[n.jsx(vA,{className:"h-4 w-4"}),n.jsx("span",{children:"Sign out"})]})]})]})]})]})})},qM=()=>{const[e,t]=C.useState(!1),[s,r]=C.useState(!1),{demoMode:a,isOffline:o,versionInfo:i,isTestTenant:l,tenantPlan:d}=Rs(),c=i!=null&&i.version&&i.version.length>0?`AURA-GDPR v${i.version}${i.build?` (build ${i.build})`:""}`:"AURA-GDPR";return n.jsxs("div",{className:"flex min-h-screen bg-slate-50 text-slate-900",children:[n.jsx(K3,{isOpen:e,onClose:()=>t(!1)}),n.jsxs("div",{className:"relative flex min-h-screen flex-1 flex-col",children:[n.jsxs("div",{className:"sticky top-0 z-30",children:[a&&n.jsx("div",{className:"flex items-center justify-center border-b border-amber-200 bg-amber-50 px-4 py-2 text-xs font-semibold text-amber-800",children:"Demo mode  all data is simulated and read-only."}),o&&n.jsx("div",{className:"flex items-center justify-center border-b border-rose-200 bg-rose-50 px-4 py-2 text-xs font-semibold text-rose-700",children:"You are offline. Changes may not be saved until connectivity returns."}),l&&n.jsx("div",{className:"flex items-center justify-center border-b border-indigo-200 bg-indigo-50 px-4 py-2 text-xs font-semibold text-indigo-700",children:"Test mode: All AI features are enabled for this tenant."}),n.jsx(WM,{onMenuClick:()=>t(!0),onAskAura:()=>r(!0)})]}),n.jsx("main",{className:"flex-1 overflow-y-auto bg-slate-50 px-4 py-6 lg:px-8",children:n.jsx("div",{className:"mx-auto max-w-6xl",children:n.jsx(pC,{})})}),n.jsx("footer",{className:"border-t border-slate-200 bg-white/80",children:n.jsx("div",{className:"mx-auto max-w-6xl px-6 py-3 text-sm text-slate-600",children:c})}),n.jsxs($,{className:"fixed bottom-6 right-6 z-40 shadow-lg",size:"lg",onClick:()=>r(!0),children:[n.jsx(Qe,{className:"mr-2 h-4 w-4"}),"Ask AURA"]}),n.jsx(H3,{isOpen:s,onClose:()=>r(!1)})]})]})},HM=()=>y.useMemo(()=>({summary:{complianceScore:78,openDsrs:3,policiesExpiringSoon:2,ongoingDpiaCount:4,activeIncidents:1,overallRiskLevel:"medium"},deadlines:[{id:"dl-1",type:"DSR",title:"Respond to DSR: Jane Doe",dueDate:"2025-12-08T10:00:00Z",status:"in_progress"},{id:"dl-2",type:"Policy",title:"Review Data Retention Policy",dueDate:"2025-12-18T09:00:00Z",status:"open"},{id:"dl-3",type:"DPIA",title:"DPIA for AI Chatbot",dueDate:"2026-01-05T12:00:00Z",status:"open"}],activities:[{id:"act-1",timestamp:"2025-12-01T09:14:00Z",actor:"System",action:"Closed DSR request for John Doe.",resourceType:"DSR",resourceName:"DSR-4412"},{id:"act-2",timestamp:"2025-11-30T15:22:00Z",actor:"Admin user",action:"Approved DPIA for Customer Analytics.",resourceType:"DPIA",resourceName:"DPIA-103"},{id:"act-3",timestamp:"2025-11-30T11:08:00Z",actor:"System",action:"Flagged Policy update overdue by 7 days.",resourceType:"Policy",resourceName:"Access Control Policy"},{id:"act-4",timestamp:"2025-11-29T18:45:00Z",actor:"Privacy Officer",action:"Opened new incident: Vendor outage.",resourceType:"Incident",resourceName:"INC-208"}],aiInsights:[{id:"ai-1",title:"High-risk processing without DPIA",description:"You have 3 high-risk processing activities without a completed DPIA.",severity:"critical"},{id:"ai-2",title:"Policies overdue for review",description:"Two policies have not been reviewed in over 18 months.",severity:"warning"},{id:"ai-3",title:"DSR response time healthy",description:"Average DSR response time is 4.2 days, within SLA.",severity:"info"}],riskOverview:{overallRiskLevel:"medium",highRiskSystems:["Marketing Automation","Data Lake"],openIncidents:1,dpiaRequiredCount:3}}),[]),GM={blue:"text-sky-600 bg-sky-50 border-sky-100",amber:"text-amber-600 bg-amber-50 border-amber-100",emerald:"text-emerald-600 bg-emerald-50 border-emerald-100",red:"text-rose-600 bg-rose-50 border-rose-100",slate:"text-slate-600 bg-slate-50 border-slate-100"},rr=({label:e,value:t,icon:s,hint:r,accent:a="slate",progress:o})=>n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm transition hover:-translate-y-0.5 hover:shadow-md",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:e}),n.jsxs("div",{className:"mt-2 flex items-baseline gap-2",children:[n.jsx("span",{className:"text-2xl font-semibold text-slate-900",children:t}),r&&n.jsx("span",{className:"text-xs text-slate-500",children:r})]})]}),n.jsx("div",{className:Q("flex h-10 w-10 items-center justify-center rounded-lg border",GM[a]),children:s})]}),typeof o=="number"&&n.jsxs("div",{className:"mt-3",children:[n.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[n.jsx("span",{children:"Progress"}),n.jsxs("span",{children:[o,"%"]})]}),n.jsx("div",{className:"mt-1 h-2 w-full rounded-full bg-slate-100",children:n.jsx("div",{className:Q("h-2 rounded-full bg-sky-500 transition-all"),style:{width:`${Math.min(Math.max(o,0),100)}%`}})})]})]}),KM={low:"Low",medium:"Medium",high:"High"},YM=({summary:e})=>n.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-3",children:[n.jsx(rr,{label:"Compliance Score",value:`${e.complianceScore}%`,icon:n.jsx(gt,{className:"h-5 w-5"}),accent:"blue",progress:e.complianceScore}),n.jsx(rr,{label:"Open Data Subject Requests",value:e.openDsrs,icon:n.jsx(sc,{className:"h-5 w-5"}),hint:"Within SLA",accent:"emerald"}),n.jsx(rr,{label:"Policies Expiring Soon",value:e.policiesExpiringSoon,icon:n.jsx(Vr,{className:"h-5 w-5"}),hint:"Next 30 days",accent:"amber"}),n.jsx(rr,{label:"Ongoing DPIAs",value:e.ongoingDpiaCount,icon:n.jsx(PA,{className:"h-5 w-5"}),hint:"Includes AI projects",accent:"slate"}),n.jsx(rr,{label:"Active Incidents",value:e.activeIncidents,icon:n.jsx(mn,{className:"h-5 w-5"}),hint:"Across all systems",accent:"red"}),n.jsx(rr,{label:"Overall Risk Level",value:KM[e.overallRiskLevel],icon:n.jsx(CA,{className:"h-5 w-5"}),hint:"Last updated 24h",accent:"blue"})]}),XM={DSR:n.jsx(sc,{className:"h-4 w-4"}),Policy:n.jsx(Vr,{className:"h-4 w-4"}),DPIA:n.jsx(gt,{className:"h-4 w-4"})},QM={open:"bg-amber-50 text-amber-700 border-amber-100",in_progress:"bg-sky-50 text-sky-700 border-sky-100",done:"bg-emerald-50 text-emerald-700 border-emerald-100"},ZM=e=>new Date(e).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"}),JM=({deadlines:e})=>{const t=[...e].sort((s,r)=>new Date(s.dueDate).getTime()-new Date(r.dueDate).getTime());return n.jsxs(J,{className:"h-full",children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0",children:[n.jsxs("div",{children:[n.jsx(ie,{className:"text-lg",children:"Upcoming deadlines"}),n.jsx("p",{className:"text-sm text-slate-500",children:"Stay ahead of DSR, DPIA, and policy commitments."})]}),n.jsx(nA,{className:"h-5 w-5 text-slate-400"})]}),n.jsxs(te,{className:"space-y-3",children:[t.length===0&&n.jsx("div",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50 px-4 py-6 text-center text-sm text-slate-500",children:"No upcoming deadlines. You are all caught up."}),t.map(s=>n.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-200 bg-white px-3 py-3 shadow-sm",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-md bg-slate-100 text-slate-700",children:XM[s.type]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-slate-900",children:s.title}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[n.jsx("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-100 px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide text-slate-700",children:s.type}),n.jsx("span",{children:ZM(s.dueDate)})]})]})]}),n.jsx("span",{className:Q("rounded-full border px-3 py-1 text-xs font-semibold capitalize",QM[s.status]),children:s.status==="in_progress"?"In progress":s.status})]},s.id))]})]})},eI={info:"bg-sky-50 text-sky-700 border-sky-100",warning:"bg-amber-50 text-amber-700 border-amber-100",critical:"bg-rose-50 text-rose-700 border-rose-100"},tI=({insights:e})=>n.jsxs(J,{className:"h-full",children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0",children:[n.jsxs("div",{children:[n.jsx(ie,{className:"text-lg",children:"AI insights"}),n.jsx("p",{className:"text-sm text-slate-500",children:"Recommendations to improve your GDPR posture."})]}),n.jsx(Qe,{className:"h-5 w-5 text-amber-500"})]}),n.jsx(te,{className:"space-y-3",children:e.map(t=>n.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-3 shadow-sm hover:border-slate-300",children:[n.jsxs("div",{className:"flex items-center justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-md bg-slate-100 text-slate-700",children:n.jsx(gA,{className:"h-4 w-4"})}),n.jsx("p",{className:"text-sm font-semibold text-slate-900",children:t.title})]}),n.jsx("span",{className:Q("rounded-full border px-2.5 py-1 text-xs font-semibold capitalize",eI[t.severity]),children:t.severity})]}),n.jsx("p",{className:"mt-2 text-sm text-slate-600",children:t.description})]},t.id))})]}),sI=e=>new Date(e).toLocaleString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),nI=({activities:e})=>n.jsxs(J,{className:"h-full",children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0",children:[n.jsxs("div",{children:[n.jsx(ie,{className:"text-lg",children:"Recent activity"}),n.jsx("p",{className:"text-sm text-slate-500",children:"Latest actions across your workspace."})]}),n.jsx(Nb,{className:"h-5 w-5 text-slate-400"})]}),n.jsx(te,{className:"space-y-4",children:n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute left-4 top-0 h-full w-px bg-slate-200"}),n.jsx("div",{className:"space-y-4",children:e.map((t,s)=>n.jsxs("div",{className:"relative pl-10",children:[n.jsx("div",{className:Q("absolute left-2.5 top-1.5 flex h-4 w-4 items-center justify-center rounded-full border-2 border-white bg-sky-500 shadow-sm",s===0&&"ring-2 ring-sky-200")}),n.jsxs("div",{className:"flex items-center justify-between gap-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-slate-900",children:t.action}),n.jsxs("div",{className:"mt-1 flex items-center gap-2 text-xs text-slate-500",children:[n.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-100 px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide text-slate-700",children:[n.jsx(Cp,{className:"h-3 w-3"}),t.resourceType]}),n.jsx("span",{children:t.resourceName}),n.jsx("span",{children:""}),n.jsx("span",{children:t.actor})]})]}),n.jsx("span",{className:"text-xs text-slate-500",children:sI(t.timestamp)})]})]},t.id))})]})})]}),rI={low:{label:"Low",bg:"bg-emerald-50 text-emerald-700 border-emerald-100",icon:n.jsx(gt,{className:"h-4 w-4"})},medium:{label:"Medium",bg:"bg-amber-50 text-amber-700 border-amber-100",icon:n.jsx(zr,{className:"h-4 w-4"})},high:{label:"High",bg:"bg-rose-50 text-rose-700 border-rose-100",icon:n.jsx(mn,{className:"h-4 w-4"})}},aI=({risk:e})=>{const t=rI[e.overallRiskLevel];return n.jsxs(J,{className:"h-full",children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0",children:[n.jsxs("div",{children:[n.jsx(ie,{className:"text-lg",children:"Risk & incidents"}),n.jsx("p",{className:"text-sm text-slate-500",children:"High-level posture across systems."})]}),n.jsx(ta,{className:"h-5 w-5 text-rose-500"})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3 rounded-lg border border-slate-200 bg-white px-3 py-3 shadow-sm",children:[n.jsxs("span",{className:Q("inline-flex items-center gap-2 rounded-full border px-3 py-1 text-xs font-semibold",t.bg),children:[t.icon,t.label," risk"]}),n.jsx("p",{className:"text-sm text-slate-600",children:"Overall assessment updated daily."})]}),n.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[n.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-3 shadow-sm",children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"High-risk systems"}),n.jsx("p",{className:"mt-2 text-2xl font-semibold text-slate-900",children:e.highRiskSystems.length}),n.jsxs("p",{className:"mt-1 text-sm text-slate-600",children:["Key systems: ",e.highRiskSystems.join(", ")]})]}),n.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-3 shadow-sm",children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Open incidents"}),n.jsx("p",{className:"mt-2 text-2xl font-semibold text-slate-900",children:e.openIncidents}),n.jsx("p",{className:"mt-1 text-sm text-slate-600",children:"Tracked across vendors and assets."})]}),n.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-3 shadow-sm sm:col-span-2",children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Processing activities needing DPIA"}),n.jsx("p",{className:"mt-2 text-2xl font-semibold text-slate-900",children:e.dpiaRequiredCount}),n.jsx("p",{className:"mt-1 text-sm text-slate-600",children:"Prioritize assessments for AI-related automations and marketing data flows."})]})]})]})]})},oI=[{key:"organizationDetails",label:"Add your organization details",description:"Company name, contact email, and tenant basics.",path:"/app/settings"},{key:"firstDsr",label:"Create your first data subject request",description:"Open your first request and track SLA deadlines.",path:"/app/dsr"},{key:"policyGenerated",label:"Generate your first policy with AI",description:"Draft a baseline security or privacy policy.",path:"/app/policies"},{key:"dpiaCreated",label:"Create a DPIA",description:"Assess high-risk processing activities.",path:"/app/dpia"},{key:"ropaAdded",label:"Add a record of processing (ROPA)",description:"Document processing activities, systems, and purposes.",path:"/app/ropa"},{key:"tomConfigured",label:"Configure at least one TOM",description:"Capture technical and organizational measures.",path:"/app/toms"},{key:"aiAuditRun",label:"Run an AI audit",description:"Generate findings and recommendations automatically.",path:"/app/ai-audit"}],iI=()=>{const{progress:e,markComplete:t,loading:s}=Vp(),{demoMode:r}=Rs(),{toast:a}=St(),o=is(),i=d=>d instanceof Error?d.message:"Please try again.",l=async d=>{try{await t(d),a({title:"Marked as done",description:"Progress updated."})}catch(c){a({variant:"destructive",title:"Unable to update progress",description:i(c)})}};return n.jsxs(J,{className:"border-sky-100 shadow-sm",children:[n.jsx(ae,{children:n.jsx(ie,{className:"text-base text-slate-800",children:"Getting started with AURA-GDPR"})}),n.jsx(te,{className:"space-y-3",children:oI.map(d=>{const c=e[d.key];return n.jsxs("div",{className:"flex flex-col gap-2 rounded-lg border border-slate-200 bg-white/80 p-3 shadow-sm",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[c?n.jsx(Ap,{className:"mt-0.5 h-5 w-5 text-emerald-600","aria-label":"Completed"}):n.jsx(wb,{className:"mt-0.5 h-5 w-5 text-slate-400","aria-label":"Incomplete"}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-semibold text-slate-900",children:d.label}),n.jsx("p",{className:"text-xs text-slate-600",children:d.description})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2 pl-8",children:[n.jsxs($,{variant:c?"outline":"default",size:"sm",onClick:()=>o(d.path),disabled:r,children:["Go to module",n.jsx(Sb,{className:"ml-2 h-4 w-4"})]}),!c&&n.jsx($,{variant:"ghost",size:"sm",onClick:()=>l(d.key),disabled:s||r,children:"Mark done"})]})]},d.key)})})]})},lI=e=>{const t=typeof e=="string"?e.toLowerCase():"";return t==="low"||t==="medium"||t==="high"?t:"medium"},wa=(e,t=0)=>{const s=Number(e);return Number.isFinite(s)?s:t},cI=e=>{const t=(e==null?void 0:e.overallRiskLevel)??(e==null?void 0:e.riskLevel)??(e==null?void 0:e.risk)??(e==null?void 0:e.overall_risk_level)??(e==null?void 0:e.risk_level);return{complianceScore:wa((e==null?void 0:e.complianceScore)??(e==null?void 0:e.compliance_score)??(e==null?void 0:e.compliance)??(e==null?void 0:e.compliance_score_pct)),openDsrs:wa((e==null?void 0:e.openDsrs)??(e==null?void 0:e.open_dsr)??(e==null?void 0:e.open_dsr_count)??(e==null?void 0:e.dsr_open)??(e==null?void 0:e.dsr_count)),policiesExpiringSoon:wa((e==null?void 0:e.policiesExpiringSoon)??(e==null?void 0:e.policies_expiring_soon)??(e==null?void 0:e.policies_due)??(e==null?void 0:e.policy_expiring)??(e==null?void 0:e.policy_count_due)),ongoingDpiaCount:wa((e==null?void 0:e.ongoingDpiaCount)??(e==null?void 0:e.dpia_count)??(e==null?void 0:e.ongoing_dpia_count)??(e==null?void 0:e.dpia_open)),activeIncidents:wa((e==null?void 0:e.activeIncidents)??(e==null?void 0:e.incident_count)??(e==null?void 0:e.incidents)??(e==null?void 0:e.active_incidents)),overallRiskLevel:lI(t)}},dI=()=>{const[e,t]=y.useState(null),[s,r]=y.useState(!0),[a,o]=y.useState(null),i=y.useCallback(async()=>{try{r(!0),o(null);const l=await V.get("/dashboard/summary");t(cI(l.data??{}))}catch(l){o((l==null?void 0:l.message)??"Unable to load dashboard"),t(null)}finally{r(!1)}},[]);return y.useEffect(()=>{i()},[i]),{data:e,loading:s,error:a,reload:i}},uI={complianceScore:0,openDsrs:0,policiesExpiringSoon:0,ongoingDpiaCount:0,activeIncidents:0,overallRiskLevel:"medium"},fI=()=>{const{demoMode:e}=Rs(),t=HM(),{data:s,loading:r,error:a,reload:o}=dI(),i=e,l=i?t.summary:s??uI,d=i?t.riskOverview:{overallRiskLevel:l.overallRiskLevel,highRiskSystems:[],openIncidents:l.activeIncidents,dpiaRequiredCount:l.ongoingDpiaCount},c=i?t.deadlines:[],u=i?t.activities:[],f=i?t.aiInsights:[];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between rounded-xl border border-slate-200 bg-white/95 p-6 shadow-sm",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:"Dashboard"}),n.jsx("p",{className:"text-sm text-slate-600",children:"This is your GDPR control center."}),n.jsx("p",{className:"text-sm text-slate-600",children:"See open risks, ongoing requests, and key compliance indicators at a glance."})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs($,{variant:"outline",size:"sm",onClick:o,disabled:r||i,children:[n.jsx(rc,{className:"mr-2 h-4 w-4"}),"Refresh"]}),n.jsxs($,{size:"sm",children:[n.jsx(uA,{className:"mr-2 h-4 w-4"}),"Export"]})]})]}),i&&n.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-amber-200 bg-amber-50 px-3 py-2 text-sm text-amber-700",children:[n.jsx(Fu,{className:"h-4 w-4"}),"Demo mode is active. Showing sample dashboard data."]}),n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white/95 p-6 shadow-sm",children:[n.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Dashboard guidance"}),n.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-4 text-sm text-slate-700",children:[n.jsx("li",{children:"Global GDPR overview shows live posture across all modules."}),n.jsx("li",{children:"Compliance score explains how close you are to meeting baseline controls."}),n.jsx("li",{children:"Open tasks highlight the next actions to reduce risk."}),n.jsx("li",{children:"Deadlines overview surfaces upcoming due dates for DSRs, DPIAs, and reviews."}),n.jsx("li",{children:"Modules live in the left navigation: DSRs, Documents, ROPA, DPIA, Incidents, Policies, Settings."})]})]}),!i&&a&&n.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-sm text-rose-700",children:[n.jsx(Fu,{className:"h-4 w-4"}),a]}),n.jsx("section",{"aria-label":"Key metrics and onboarding",className:"rounded-xl border border-slate-200 bg-white/95 p-6 shadow-sm",children:n.jsxs("div",{className:"grid gap-4 lg:grid-cols-3",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsx(YM,{summary:l})}),n.jsx(iI,{})]})}),n.jsx("section",{"aria-label":"Deadlines and AI insights",className:"rounded-xl border border-slate-200 bg-white/95 p-6 shadow-sm",children:n.jsxs("div",{className:"grid gap-4 lg:grid-cols-3",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsx(JM,{deadlines:c})}),n.jsx(tI,{insights:f})]})}),n.jsx("section",{"aria-label":"Activity and risk",className:"rounded-xl border border-slate-200 bg-white/95 p-6 shadow-sm",children:n.jsxs("div",{className:"grid gap-4 lg:grid-cols-3",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsx(nI,{activities:u})}),n.jsx(aI,{risk:d})]})})]})},Cc=({title:e,description:t})=>n.jsxs("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded",children:[n.jsx("h2",{className:"font-semibold text-blue-900",children:e}),n.jsx("p",{className:"text-sm text-blue-700 mt-1",children:t})]}),_n=e=>({...e,id:(e==null?void 0:e.id)??(e==null?void 0:e._id)??(e==null?void 0:e.document_id)??"",lastUpdated:(e==null?void 0:e.lastUpdated)??(e==null?void 0:e.last_updated)??(e==null?void 0:e.updated_at)??(e==null?void 0:e.updatedAt)??"",createdAt:(e==null?void 0:e.createdAt)??(e==null?void 0:e.created_at)??"",tags:(e==null?void 0:e.tags)??[]}),pI=e=>{if(Array.isArray(e))return e.map(_n);const t=e;return Array.isArray(t==null?void 0:t.items)?t.items.map(_n):Array.isArray(t==null?void 0:t.documents)?t.documents.map(_n):[]};async function mI(){try{const e=await V.get("/api/documents");return pI(e.data)}catch(e){if((e==null?void 0:e.status)===404)return[];throw e}}async function hI(e){const t=await V.get(`/api/documents/${e}`);return _n(t.data)}async function xI(e){const t=await V.post("/api/documents",e);return _n(t.data)}async function gI(e,t){const s=await V.put(`/api/documents/${e}`,t);return _n(s.data)}async function yI(e,t){const s=await V.patch(`/api/documents/${e}`,t);return _n(s.data)}const vI="Something went wrong while loading data. Please try again.";function bI(){const[e,t]=y.useState([]),[s,r]=y.useState(!1),[a,o]=y.useState(!1),[i,l]=y.useState(!1),[d,c]=y.useState(null),u=y.useRef(!0);y.useEffect(()=>()=>{u.current=!1},[]);const f=y.useCallback(async()=>{r(!0),c(null);try{const v=await mI();u.current&&t(v)}catch(v){u.current&&((v==null?void 0:v.status)===404?(t([]),c(null)):c(vI))}finally{u.current&&r(!1)}},[]);y.useEffect(()=>{f()},[f]);const m=y.useCallback(async v=>{o(!0);try{const h=await hI(v);return u.current&&t(p=>p.map(w=>w.id===h.id?h:w)),h}finally{u.current&&o(!1)}},[]),g=y.useCallback(async v=>{l(!0);try{const h=await xI(v);return u.current&&t(p=>[h,...p]),h}finally{u.current&&l(!1)}},[]),x=y.useCallback(async(v,h)=>{l(!0);try{const p=await gI(v,h);return u.current&&t(w=>w.map(j=>j.id===p.id?p:j)),p}finally{u.current&&l(!1)}},[]),b=y.useCallback(async(v,h)=>{const p=await yI(v,h);return u.current&&t(w=>w.map(j=>j.id===p.id?p:j)),p},[]);return{documents:e,loading:s,detailLoading:a,saving:i,error:d,refresh:f,fetchOne:m,create:g,update:x,patch:b}}const Rl={draft:"Draft",in_review:"In review",approved:"Approved",published:"Published",archived:"Archived"},Tl={privacy_policy:"Privacy Policy",cookie_policy:"Cookie Policy",data_processing_agreement:"Data Processing Agreement",security_policy:"Information Security Policy",internal_guideline:"Internal Guideline",other:"Other"},wI=({search:e,status:t,type:s,onSearch:r,onStatusChange:a,onTypeChange:o})=>n.jsxs("div",{className:"flex flex-col gap-3 rounded-xl border border-slate-200 bg-white p-4 shadow-sm md:flex-row md:items-center md:justify-between",children:[n.jsx("div",{className:"flex flex-1 items-center gap-3",children:n.jsx("input",{type:"text",value:e,onChange:i=>r(i.target.value),placeholder:"Search documents...",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100"})}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[n.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:t,onChange:i=>a(i.target.value),children:[n.jsx("option",{value:"all",children:"All statuses"}),Object.keys(Rl).map(i=>n.jsx("option",{value:i,children:Rl[i]},i))]}),n.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:s,onChange:i=>o(i.target.value),children:[n.jsx("option",{value:"all",children:"All types"}),Object.keys(Tl).map(i=>n.jsx("option",{value:i,children:Tl[i]},i))]})]})]}),Ee=({title:e,description:t,actionLabel:s,onAction:r,className:a})=>n.jsxs(J,{className:Q("border-dashed border-slate-200 bg-slate-50",a),children:[n.jsxs(ae,{children:[n.jsx(ie,{className:"text-lg text-slate-900",children:e}),n.jsx(st,{className:"text-slate-600",children:t})]}),s?n.jsx(te,{children:n.jsx($,{size:"sm",onClick:r,children:s})}):null]}),jI={draft:"bg-slate-100 text-slate-700 border-slate-200",in_review:"bg-amber-50 text-amber-700 border-amber-200",approved:"bg-sky-50 text-sky-700 border-sky-200",published:"bg-emerald-50 text-emerald-700 border-emerald-200",archived:"bg-slate-50 text-slate-500 border-slate-200"},E1=({status:e})=>n.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-semibold ${jI[e]}`,children:Rl[e]}),NI=e=>{const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},kI=({document:e,onClick:t})=>n.jsxs("tr",{className:"cursor-pointer border-b last:border-0 hover:bg-slate-50 focus-within:bg-slate-50",tabIndex:0,role:"button",onClick:t,onKeyDown:s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),t())},children:[n.jsx("td",{className:"py-3 pr-4 font-semibold text-foreground",children:e.name}),n.jsx("td",{className:"py-3 pr-4 text-foreground capitalize",children:e.type.replaceAll("_"," ")}),n.jsx("td",{className:"py-3 pr-4",children:n.jsx(E1,{status:e.status})}),n.jsx("td",{className:"py-3 pr-4 text-foreground",children:e.owner}),n.jsx("td",{className:"py-3 pr-4 text-foreground",children:NI(e.lastUpdated)})]}),SI=({documents:e,onSelect:t,isLoading:s,isError:r,errorMessage:a,onRetry:o,hasDocuments:i,onCreate:l})=>s?n.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading documents..."}):r?n.jsx(Ee,{title:"Unable to load documents",description:a||"Something went wrong while loading data. Please try again.",actionLabel:o?"Retry":void 0,onAction:o,className:"bg-rose-50 border-rose-200"}):e.length===0?i?n.jsx(Ee,{title:"No documents match these filters",description:"Try adjusting filters or create a new document.",actionLabel:"New document",onAction:l}):n.jsx(Ee,{title:"No documents yet",description:"Start by creating your first GDPR document. Draft data processing agreements, privacy notices, and more.",actionLabel:"New document",onAction:l}):n.jsx("div",{className:"overflow-auto rounded-lg border border-slate-200 bg-white shadow-sm",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b bg-slate-50 text-left text-slate-500",children:[n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Name"}),n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Type"}),n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Status"}),n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Owner"}),n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Last updated"})]})}),n.jsx("tbody",{children:e.map(d=>n.jsx(kI,{document:d,onClick:()=>t(d)},d.id))})]})});async function CI(e){console.log("PDF export stub called with payload:",e),await new Promise(t=>setTimeout(t,1200))}function PI(e){const[t,s]=y.useState(!1);return{isExporting:t,exportPdf:async(a,o)=>{s(!0);try{await CI({resourceType:a,resourceId:o}),e!=null&&e.onSuccess||alert("PDF export completed. In a future update this will download the generated PDF.")}catch(i){console.error("Failed to export PDF",i),alert("Failed to export PDF. Please try again.")}finally{s(!1)}}}}const oa=({resourceType:e,resourceId:t,className:s})=>{const{isExporting:r,exportPdf:a}=PI(),o=()=>{a(e,t)};return n.jsx("button",{type:"button",onClick:o,disabled:r,className:s??"inline-flex items-center rounded-md border border-slate-200 px-3 py-1.5 text-sm font-medium text-slate-700 shadow-sm hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-60",children:r?"Exporting":"Export to PDF"})},AI=["draft","in_review","approved","published","archived"],EI=["privacy_policy","cookie_policy","data_processing_agreement","security_policy","internal_guideline","other"],J0=e=>{if(!e)return"N/A";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},RI=({document:e,isOpen:t,onClose:s,onSave:r,mode:a,isLoading:o=!1,isSaving:i=!1})=>{var p;const[l,d]=C.useState(e),[c,u]=C.useState(null),{tenantPlan:f,isTestTenant:m}=Rs(),g=m||f==="pro";if(C.useEffect(()=>{t&&(d(e),u(null))},[e,t]),C.useEffect(()=>{if(!t)return;const w=j=>{j.key==="Escape"&&s()};return e.addEventListener("keydown",w),()=>e.removeEventListener("keydown",w)},[t,s]),!t||!l)return null;const x=a==="create",b=(w,j)=>{d(k=>k&&{...k,[w]:j})},v=()=>{b("description","This document was generated as a placeholder. Replace with your organization-specific policy language."),u("AI generation preview placeholder. Replace with real content later.")},h=()=>{l.name.trim()&&r(l)};return n.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/30 backdrop-blur-sm",children:n.jsxs("div",{className:"flex h-full w-full max-w-xl flex-col overflow-y-auto bg-white shadow-2xl",children:[n.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-5 py-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:l.name||"Untitled document"}),n.jsx(E1,{status:l.status})]}),n.jsx("p",{className:"text-sm text-slate-600 capitalize",children:Tl[l.type]})]}),n.jsx("button",{type:"button",onClick:s,className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:n.jsx(Re,{className:"h-5 w-5"})})]}),n.jsxs("div",{className:"space-y-4 p-5",children:[o&&n.jsx("p",{className:"text-sm text-slate-500",children:"Loading document details..."}),n.jsxs("div",{className:"space-y-3 rounded-lg border border-slate-200 bg-white p-4",children:[n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Name"}),n.jsx("input",{type:"text",value:l.name,onChange:w=>b("name",w.target.value),disabled:!x||i,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Type"}),n.jsx("select",{value:l.type,onChange:w=>b("type",w.target.value),disabled:!x||i,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:EI.map(w=>n.jsx("option",{value:w,children:Tl[w]},w))})]}),n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Status"}),n.jsx("select",{value:l.status,onChange:w=>b("status",w.target.value),disabled:!x||i,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:AI.map(w=>n.jsx("option",{value:w,children:Rl[w]},w))})]})]}),n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Owner"}),n.jsx("input",{type:"text",value:l.owner,onChange:w=>b("owner",w.target.value),disabled:!x||i,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Tags (comma separated)"}),n.jsx("input",{type:"text",value:((p=l.tags)==null?void 0:p.join(", "))||"",onChange:w=>b("tags",w.target.value.split(",").map(j=>j.trim()).filter(Boolean)),disabled:!x||i,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Description"}),n.jsx("textarea",{value:l.description||"",onChange:w=>b("description",w.target.value),disabled:!x||i,className:"min-h-[120px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",placeholder:"Summary or key points for this document."})]}),n.jsxs("button",{type:"button",disabled:!g,onClick:v,className:"inline-flex items-center gap-2 text-sm text-sky-600 disabled:cursor-not-allowed",title:g?"Generate a first draft with AI assistance.":"AI generation requires an upgraded tenant.",children:[n.jsx(Qe,{className:"h-4 w-4"}),g?"Generate with AI":"Generate with AI (locked)"]}),c&&n.jsx("p",{className:"text-xs text-slate-500",children:c})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-3 rounded-lg border border-slate-200 bg-slate-50 p-4 text-sm text-slate-700 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-slate-800",children:"Created"}),n.jsx("p",{children:J0(l.createdAt)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-slate-800",children:"Last updated"}),n.jsx("p",{children:J0(l.lastUpdated)})]})]})]}),n.jsx("div",{className:"sticky bottom-0 border-t border-slate-200 bg-white p-4",children:n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[!x&&l.id&&n.jsx(oa,{resourceType:"document",resourceId:l.id}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx($,{variant:"outline",onClick:s,children:"Cancel"}),x?n.jsx($,{onClick:h,disabled:i,children:i?"Saving...":"Create document"}):n.jsx($,{variant:"outline",onClick:s,children:"Close"})]})]})})]})})},TI=[{name:"Privacy Policy",type:"privacy_policy",description:"Standard privacy policy template."},{name:"Cookie Policy",type:"cookie_policy",description:"Covers cookie usage and consent."},{name:"Data Processing Agreement",type:"data_processing_agreement",description:"DPA for processors."},{name:"Information Security Policy",type:"security_policy",description:"Outlines security controls."}],DI=({onNewBlank:e,onTemplateSelect:t})=>{const[s,r]=C.useState(!1);return n.jsxs("div",{className:"relative",children:[n.jsxs($,{className:"inline-flex items-center gap-2",onClick:()=>r(a=>!a),children:[n.jsx(tc,{className:"h-4 w-4"}),"New document",n.jsx(Ep,{className:"h-4 w-4"})]}),s&&n.jsxs("div",{className:"absolute right-0 z-20 mt-2 w-64 rounded-lg border border-slate-200 bg-white shadow-lg",children:[n.jsxs("button",{type:"button",className:"flex w-full items-start gap-2 px-4 py-3 text-left text-sm text-slate-800 hover:bg-slate-50",onClick:()=>{e(),r(!1)},children:[n.jsx("span",{className:"font-semibold",children:"Blank document"}),n.jsx("span",{className:"text-xs text-slate-500",children:"Start from scratch"})]}),n.jsxs("div",{className:"border-t border-slate-200",children:[n.jsx("p",{className:"px-4 py-2 text-xs font-semibold uppercase tracking-wide text-slate-500",children:"From template"}),TI.map(a=>n.jsxs("button",{type:"button",className:"flex w-full flex-col items-start px-4 py-3 text-left text-sm text-slate-800 hover:bg-slate-50",onClick:()=>{t(a),r(!1)},children:[n.jsx("span",{className:"font-semibold",children:a.name}),n.jsx("span",{className:"text-xs text-slate-500",children:a.description})]},a.name))]})]})]})},_I=()=>{const{documents:e,loading:t,detailLoading:s,saving:r,error:a,refresh:o,create:i,update:l,fetchOne:d}=bI(),[c,u]=C.useState(""),[f,m]=C.useState("all"),[g,x]=C.useState("all"),[b,v]=C.useState(null),[h,p]=C.useState("view"),w=e.length>0,j=C.useMemo(()=>e.filter(N=>{const A=N.name.toLowerCase().includes(c.toLowerCase())||(N.tags||[]).some(F=>F.toLowerCase().includes(c.toLowerCase())),_=f==="all"?!0:N.status===f,M=g==="all"?!0:N.type===g;return A&&_&&M}),[e,c,f,g]),k=N=>{v(N),p("view"),N.id&&d(N.id).then(A=>v(A)).catch(()=>{})},E=()=>{const N=new Date().toISOString();v({id:"",name:"New document",type:"other",status:"draft",owner:"",lastUpdated:N,createdAt:N,description:"",tags:[]}),p("create")},P=N=>{const A=new Date().toISOString();v({id:"",name:N.name,type:N.type,status:"draft",owner:"",lastUpdated:A,createdAt:A,description:N.description??"",tags:["template"]}),p("create")},S=async N=>{if(h==="create"){const{id:A,..._}=N;await i(_)}else N.id&&await l(N.id,N);await o(),v(null),p("view")};return n.jsxs("div",{className:"space-y-6 p-6",children:[n.jsx("div",{className:"rounded-xl border border-slate-200 bg-white/95 p-6 shadow-sm",children:n.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-slate-900",children:"Documents"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Store and manage all GDPR-related documents in one place."}),n.jsx("p",{className:"text-sm text-slate-600",children:"Upload existing documents or generate new ones with AI (depending on your plan)."})]}),n.jsx(DI,{onNewBlank:E,onTemplateSelect:P})]})}),n.jsx(Cc,{title:"Document center",description:"Centralize policies, agreements, and guidelines. Future AI assistance will help you draft, review, and publish faster."}),n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white/95 p-6 shadow-sm",children:[n.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Documents guidance"}),n.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-4 text-sm text-slate-700",children:[n.jsx("li",{children:"Use this space to store GDPR evidence, templates, and signed agreements."}),n.jsx("li",{children:"Every file keeps version history so you can track who changed what."}),n.jsx("li",{children:"AI-assisted generation drafts policies and notices faster."}),n.jsx("li",{children:"Upload rules: PDF and DOCX are supported for storage and review."})]})]}),n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white/95 p-6 shadow-sm space-y-4",children:[n.jsx(wI,{search:c,status:f,type:g,onSearch:u,onStatusChange:m,onTypeChange:x}),n.jsx(SI,{documents:j,onSelect:k,isLoading:t,isError:!!a,errorMessage:a,onRetry:o,hasDocuments:w,onCreate:E})]}),n.jsx("div",{className:"rounded-xl border border-dashed border-slate-300 bg-slate-50 p-4 text-sm text-slate-600",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(Qe,{className:"mt-0.5 h-4 w-4 text-sky-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-slate-800",children:"AI document workflows (coming soon)"}),n.jsx("p",{children:"Generate drafts, review for GDPR gaps, and keep your templates up to date with AI assistance. This UI is ready for future integration."})]})]})}),n.jsx(RI,{document:b,isOpen:!!b,onClose:()=>v(null),onSave:S,mode:h,isLoading:s,isSaving:r})]})},LI=()=>{const{user:e}=Ct();return(e==null?void 0:e.role)==="Pro"||(e==null?void 0:e.role)==="Admin"?n.jsxs("div",{className:"space-y-6",children:[n.jsxs(_e.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight text-foreground",children:"AI Compliance Assistant"}),n.jsx("p",{className:"text-md text-muted-foreground",children:"Leverage AI to analyze documents and identify GDPR compliance gaps."})]}),n.jsx(_e.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.5},children:n.jsxs(J,{className:"bg-card/70 dark:bg-slate-800/70 backdrop-blur-sm border-border/50 shadow-lg",children:[n.jsxs(ae,{children:[n.jsxs(ie,{className:"flex items-center text-xl",children:[n.jsx(fA,{className:"mr-2 h-6 w-6 text-sky-500"}),"Analyze Document"]}),n.jsx(st,{children:"Select a document to begin AI analysis. Ensure it's a PDF."})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Select a document from your library:"}),n.jsxs("select",{className:"w-full p-2 border rounded-md bg-input text-foreground border-border focus:ring-primary focus:border-primary",children:[n.jsx("option",{children:"Privacy Policy v2.1.pdf"}),n.jsx("option",{children:"Data Processing Agreement - VendorX.pdf"})]})]}),n.jsxs($,{className:"w-full bg-gradient-to-r from-sky-500 to-purple-600 hover:from-sky-600 hover:to-purple-700 text-white",children:[n.jsx(ox,{className:"mr-2 h-4 w-4"})," Analyze with AI"]}),n.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:[n.jsx(gt,{className:"inline h-3 w-3 mr-1 text-green-500"}),"AI analysis is performed in an isolated environment. Your data remains secure."]})]})]})}),n.jsxs(_e.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4,duration:.5},className:"mt-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-foreground mb-4",children:"Analysis Results"}),n.jsx(J,{className:"bg-card/70 dark:bg-slate-800/70 backdrop-blur-sm border-border/50 shadow-md",children:n.jsx(te,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col items-center justify-center text-center text-muted-foreground h-40",children:[n.jsx(yb,{className:"h-12 w-12 mb-2"}),n.jsx("p",{children:'No analysis performed yet. Select a document and click "Analyze with AI".'})]})})})]})]}):n.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col items-center justify-center h-full text-center p-8",children:[n.jsx(ox,{className:"h-24 w-24 text-yellow-400 mb-6"}),n.jsx("h1",{className:"text-4xl font-bold text-foreground mb-3",children:"Unlock AI Compliance Assistant"}),n.jsx("p",{className:"text-lg text-muted-foreground mb-8 max-w-md",children:"Upgrade to Pro to access automated document analysis, risk flagging, and GDPR insights powered by our isolated AI."}),n.jsx($,{size:"lg",className:"bg-gradient-to-r from-yellow-400 to-orange-500 hover:from-yellow-500 hover:to-orange-600 text-white text-lg px-8 py-3",asChild:!0,children:n.jsx(Ur,{to:"/app/billing",children:"Upgrade to Pro"})}),n.jsx("p",{className:"text-sm text-muted-foreground mt-4",children:"Your privacy is paramount. Our AI operates in an isolated environment."})]})},MI=(e,t)=>new Intl.NumberFormat(void 0,{style:"currency",currency:t}).format(e),II=({plan:e,isLoading:t,onManageBilling:s})=>{const r=()=>{alert("Plan changes will be managed in a future update.")},a=()=>{alert("Plan changes will be managed in a future update.")},o=()=>{s==null||s()};return t||!e?n.jsx("div",{className:"rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:n.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading current plan..."})}):n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:[n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Current plan"}),n.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:e.name}),n.jsx("p",{className:"text-sm text-slate-600",children:e.isTrial&&e.trialDaysLeft&&e.trialDaysLeft>0?`Free trial - ${e.trialDaysLeft} days left`:`${MI(e.pricePerMonth,e.currency)} / month`})]}),n.jsx("span",{className:"rounded-full bg-sky-50 px-3 py-1 text-xs font-semibold text-sky-700",children:e.type})]}),n.jsx("ul",{className:"mt-4 space-y-2 text-sm text-slate-700",children:e.features.map(i=>n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"mt-1 h-1.5 w-1.5 rounded-full bg-sky-500"}),n.jsx("span",{children:i})]},i))}),n.jsxs("div",{className:"mt-5 flex flex-wrap gap-2",children:[n.jsx($,{onClick:r,children:"Upgrade plan"}),n.jsx($,{variant:"outline",onClick:a,children:"Downgrade or cancel"}),n.jsx($,{variant:"ghost",onClick:o,children:"Manage billing"})]})]})},OI=({usage:e,isLoading:t})=>{if(t||!e)return n.jsx("div",{className:"rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:n.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading usage data..."})});const r=((a,o)=>!o||o===0?0:Math.min(100,Math.round(a/o*100)))(e.aiCallsThisMonth,e.maxAiCallsPerMonth);return n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Usage this month"}),n.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Usage overview"})]})}),n.jsxs("div",{className:"mt-4 space-y-3 text-sm text-slate-700",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Data subject requests"}),n.jsx("span",{className:"font-semibold text-slate-900",children:e.dsrCountThisMonth})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Documents"}),n.jsx("span",{className:"font-semibold text-slate-900",children:e.documentsCount})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Policies"}),n.jsx("span",{className:"font-semibold text-slate-900",children:e.policiesCount})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"AI calls"}),n.jsxs("span",{className:"font-semibold text-slate-900",children:[e.aiCallsThisMonth,e.maxAiCallsPerMonth?` / ${e.maxAiCallsPerMonth}`:""]})]}),e.maxAiCallsPerMonth&&n.jsx("div",{className:"h-2 w-full rounded-full bg-slate-100",children:n.jsx("div",{className:"h-2 rounded-full bg-sky-500",style:{width:`${r}%`}})})]})]})]})},FI={paid:"bg-emerald-50 text-emerald-700 border-emerald-200",pending:"bg-amber-50 text-amber-700 border-amber-200",failed:"bg-rose-50 text-rose-700 border-rose-200"},UI=e=>{const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},$I=(e,t)=>new Intl.NumberFormat(void 0,{style:"currency",currency:t}).format(e),VI=({history:e})=>e.length===0?n.jsx("p",{className:"text-sm text-muted-foreground",children:"No invoices found yet."}):n.jsx("div",{className:"overflow-auto rounded-xl border border-slate-200 bg-white shadow-sm",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b bg-slate-50 text-left text-slate-500",children:[n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Date"}),n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Description"}),n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Amount"}),n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Status"}),n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Actions"})]})}),n.jsx("tbody",{children:e.map(t=>n.jsxs("tr",{className:"border-b last:border-0",children:[n.jsx("td",{className:"py-3 pr-4 text-foreground",children:UI(t.date)}),n.jsx("td",{className:"py-3 pr-4 text-foreground",children:t.description}),n.jsx("td",{className:"py-3 pr-4 text-foreground",children:$I(t.amount,t.currency)}),n.jsx("td",{className:"py-3 pr-4",children:n.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-semibold ${FI[t.status]}`,children:t.status})}),n.jsx("td",{className:"py-3 pr-4",children:t.invoiceUrl?n.jsx("a",{href:t.invoiceUrl,className:"text-sky-600 hover:underline",target:"_blank",rel:"noreferrer",children:"Download invoice"}):n.jsx("span",{className:"text-slate-400",children:"Not available"})})]},t.id))})]})}),zI=e=>({type:(e==null?void 0:e.type)??"free",name:(e==null?void 0:e.name)??"Plan",pricePerMonth:(e==null?void 0:e.pricePerMonth)??(e==null?void 0:e.price_per_month)??0,currency:(e==null?void 0:e.currency)??"EUR",isTrial:!!((e==null?void 0:e.isTrial)??(e==null?void 0:e.is_trial)??!1),trialDaysLeft:(e==null?void 0:e.trialDaysLeft)??(e==null?void 0:e.trial_days_left)??void 0,features:(e==null?void 0:e.features)??[]}),BI=e=>({dsrCountThisMonth:(e==null?void 0:e.dsrCountThisMonth)??(e==null?void 0:e.dsr_count_this_month)??0,documentsCount:(e==null?void 0:e.documentsCount)??(e==null?void 0:e.documents_count)??0,policiesCount:(e==null?void 0:e.policiesCount)??(e==null?void 0:e.policies_count)??0,aiCallsThisMonth:(e==null?void 0:e.aiCallsThisMonth)??(e==null?void 0:e.ai_calls_this_month)??0,maxDsrsPerMonth:(e==null?void 0:e.maxDsrsPerMonth)??(e==null?void 0:e.max_dsrs_per_month)??void 0,maxAiCallsPerMonth:(e==null?void 0:e.maxAiCallsPerMonth)??(e==null?void 0:e.max_ai_calls_per_month)??void 0}),_d=e=>({id:(e==null?void 0:e.id)??(e==null?void 0:e._id)??"",date:(e==null?void 0:e.date)??(e==null?void 0:e.created_at)??"",amount:(e==null?void 0:e.amount)??0,currency:(e==null?void 0:e.currency)??"EUR",description:(e==null?void 0:e.description)??"",status:(e==null?void 0:e.status)??"paid",invoiceUrl:(e==null?void 0:e.invoiceUrl)??(e==null?void 0:e.invoice_url)??void 0}),WI=e=>{if(Array.isArray(e))return e.map(_d);const t=e;return Array.isArray(t==null?void 0:t.items)?t.items.map(_d):Array.isArray(t==null?void 0:t.invoices)?t.invoices.map(_d):[]};async function qI(){const e=await V.get("/billing/plan");return zI(e.data)}async function HI(){const e=await V.get("/billing/usage");return BI(e.data)}async function GI(){const e=await V.get("/billing/invoices");return WI(e.data)}async function KI(){var s;const e=await V.post("/billing/portal"),t=(s=e==null?void 0:e.data)==null?void 0:s.url;if(t)window.open(t,"_blank");else throw new Error("Billing portal URL not available.")}function YI(){const[e,t]=y.useState(null),[s,r]=y.useState(null),[a,o]=y.useState([]),[i,l]=y.useState(!1),[d,c]=y.useState(!1),u=y.useRef(!0);y.useEffect(()=>()=>{u.current=!1},[]);const f=y.useCallback(async()=>{l(!0),c(!1);try{const[g,x,b]=await Promise.all([qI(),HI(),GI()]);if(!u.current)return;t(g),r(x),o(b)}catch{u.current&&c(!0)}finally{u.current&&l(!1)}},[]);y.useEffect(()=>{f()},[f]);const m=y.useCallback(async()=>{await KI()},[]);return{currentPlan:e,usage:s,history:a,isLoading:i,isError:d,openPortal:m,refresh:f}}const XI=()=>{const{currentPlan:e,usage:t,history:s,isLoading:r,isError:a,openPortal:o}=YI(),i=async()=>{try{await o()}catch{alert("Unable to open billing portal right now.")}};return n.jsxs("div",{className:"space-y-6 p-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-slate-900",children:"Billing & subscription"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Manage your plan, usage, and invoices."})]}),n.jsx(Cc,{title:"Billing overview",description:"Review your current plan, usage, and invoice history. PayPal/checkout integration will be added later."}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsx(II,{plan:e,isLoading:r,onManageBilling:i}),n.jsx(OI,{usage:t,isLoading:r})]}),a&&n.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 p-4 text-sm text-rose-700",children:"Failed to load billing data. Please try again."}),n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:[n.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Billing history"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Invoices and payment status."}),n.jsxs("div",{className:"mt-3",children:[r&&n.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading billing history..."}),a&&n.jsx("p",{className:"text-sm text-red-600",children:"Failed to load billing history."}),!r&&!a&&n.jsx(VI,{history:s})]})]})]})},QI=()=>{const{user:e,logout:t}=Ct(),{toast:s}=St(),[r,a]=y.useState((e==null?void 0:e.name)??""),[o,i]=y.useState((e==null?void 0:e.email)??""),[l,d]=y.useState(""),[c,u]=y.useState(""),[f,m]=y.useState(""),g=w=>{w.preventDefault(),s({title:"Profile Updated",description:"Your profile information has been saved."})},x=w=>{if(w.preventDefault(),c!==f){s({variant:"destructive",title:"Error",description:"New passwords do not match."});return}s({title:"Password Changed",description:"Your password has been updated successfully."}),d(""),u(""),m("")},b=()=>{s({title:"Data Export Requested",description:"Your data export will be prepared and sent to your email."})},v=()=>{window.confirm("Are you sure you want to delete your account? This action cannot be undone.")&&(s({variant:"destructive",title:"Account Deletion Initiated",description:"Your account deletion process has started."}),t())},h=w=>{if(!w)return"AU";const j=w.split(" ");return j.length===1?j[0].substring(0,2).toUpperCase():`${j[0][0].toUpperCase()}${j[j.length-1][0].toUpperCase()}`},p={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}};return n.jsxs("div",{className:"space-y-8",children:[n.jsxs(_e.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight text-foreground",children:"Account Settings"}),n.jsx("p",{className:"text-md text-muted-foreground",children:"Manage your profile, password, and data preferences."})]}),n.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4 shadow-sm",children:[n.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Settings guidance"}),n.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-4 text-sm text-slate-700",children:[n.jsx("li",{children:"Tenant settings control workspace name, locale, and branding."}),n.jsx("li",{children:"User management adds or removes teammates and assigns roles."}),n.jsx("li",{children:"Subscription and billing (upcoming) will manage plan and invoices."}),n.jsx("li",{children:"API keys let you integrate AURA GDPR with other systems."})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx($r,{to:"/app/settings",className:({isActive:w})=>`px-3 py-2 rounded-md text-sm ${w?"bg-slate-200 dark:bg-slate-700 font-semibold":"text-muted-foreground"}`,children:"Profile"}),n.jsx($r,{to:"/app/settings/notifications",className:({isActive:w})=>`px-3 py-2 rounded-md text-sm ${w?"bg-slate-200 dark:bg-slate-700 font-semibold":"text-muted-foreground"}`,children:"Notifications"})]}),n.jsx(_e.div,{variants:p,initial:"hidden",animate:"visible",children:n.jsxs(J,{className:"bg-card/70 dark:bg-slate-800/70 backdrop-blur-sm border-border/50 shadow-lg",children:[n.jsxs(ae,{children:[n.jsxs(ie,{className:"flex items-center text-xl",children:[n.jsx(EA,{className:"mr-2 h-6 w-6 text-sky-500"}),"Profile Information"]}),n.jsx(st,{children:"Update your personal details."})]}),n.jsx(te,{children:n.jsxs("form",{onSubmit:g,className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[n.jsxs(um,{className:"h-20 w-20 border-4 border-primary/30",children:[n.jsx(fm,{src:e==null?void 0:e.avatarUrl,alt:e==null?void 0:e.name}),n.jsx(pm,{className:"text-2xl bg-gradient-to-br from-sky-400 to-purple-500 text-white font-semibold",children:h(e==null?void 0:e.name)})]}),n.jsxs($,{variant:"outline",className:"border-sky-500 text-sky-500 hover:bg-sky-500 hover:text-white",children:[n.jsx(jA,{className:"mr-2 h-4 w-4"})," Change Avatar"]})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"name",children:"Full Name"}),n.jsx(Se,{id:"name",value:r,onChange:w=>a(w.target.value),className:"bg-input"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"email",children:"Email Address"}),n.jsx(Se,{id:"email",type:"email",value:o,onChange:w=>i(w.target.value),className:"bg-input"})]})]}),n.jsx($,{type:"submit",className:"bg-gradient-to-r from-sky-500 to-purple-600 hover:from-sky-600 hover:to-purple-700 text-white",children:"Save Profile Changes"})]})})]})}),n.jsx(_e.div,{variants:p,initial:"hidden",animate:"visible",children:n.jsxs(J,{className:"bg-card/70 dark:bg-slate-800/70 backdrop-blur-sm border-border/50 shadow-lg",children:[n.jsxs(ae,{children:[n.jsxs(ie,{className:"flex items-center text-xl",children:[n.jsx(Eb,{className:"mr-2 h-6 w-6 text-sky-500"}),"Change Password"]}),n.jsx(st,{children:"Update your account password for better security."})]}),n.jsx(te,{children:n.jsxs("form",{onSubmit:x,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"current-password",children:"Current Password"}),n.jsx(Se,{id:"current-password",type:"password",value:l,onChange:w=>d(w.target.value),className:"bg-input"})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"new-password",children:"New Password"}),n.jsx(Se,{id:"new-password",type:"password",value:c,onChange:w=>u(w.target.value),className:"bg-input"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"confirm-new-password",children:"Confirm New Password"}),n.jsx(Se,{id:"confirm-new-password",type:"password",value:f,onChange:w=>m(w.target.value),className:"bg-input"})]})]}),n.jsx($,{type:"submit",className:"bg-gradient-to-r from-sky-500 to-purple-600 hover:from-sky-600 hover:to-purple-700 text-white",children:"Change Password"})]})})]})}),n.jsx(_e.div,{variants:p,initial:"hidden",animate:"visible",children:n.jsxs(J,{className:"bg-card/70 dark:bg-slate-800/70 backdrop-blur-sm border-border/50 shadow-lg",children:[n.jsxs(ae,{children:[n.jsxs(ie,{className:"flex items-center text-xl",children:[n.jsx(rx,{className:"mr-2 h-6 w-6 text-sky-500"}),"Data Management"]}),n.jsx(st,{children:"Manage your personal data stored with AURA GDPR."})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"You have the right to access and export your personal data. You can also request account deletion."}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsxs($,{onClick:b,variant:"outline",className:"flex-1 border-sky-500 text-sky-500 hover:bg-sky-500 hover:text-white",children:[n.jsx(rx,{className:"mr-2 h-4 w-4"})," Export My Data"]}),n.jsxs($,{onClick:v,variant:"destructive",className:"flex-1",children:[n.jsx(AA,{className:"mr-2 h-4 w-4"})," Delete My Account"]})]})]})]})})]})},ZI=e=>["active","disabled","pending_invite"].includes(e)?e:"active",JI=e=>["owner","admin","editor","viewer"].includes(e)?e:"viewer",Ln=e=>({id:(e==null?void 0:e.id)??(e==null?void 0:e._id)??"",name:(e==null?void 0:e.name)??"",email:(e==null?void 0:e.email)??"",role:JI(e==null?void 0:e.role),status:ZI(e==null?void 0:e.status),lastLogin:(e==null?void 0:e.lastLogin)??(e==null?void 0:e.last_login)??(e==null?void 0:e.last_login_at)??void 0,createdAt:(e==null?void 0:e.createdAt)??(e==null?void 0:e.created_at)??"",updatedAt:(e==null?void 0:e.updatedAt)??(e==null?void 0:e.updated_at)??void 0}),eO=e=>{if(Array.isArray(e))return e.map(Ln);const t=e;return Array.isArray(t==null?void 0:t.items)?t.items.map(Ln):Array.isArray(t==null?void 0:t.users)?t.users.map(Ln):[]};async function R1(){const e=await V.get("/iam/users");return eO(e.data)}async function tO(e){const t=await V.get(`/iam/users/${e}`);return Ln(t.data)}async function sO(e){const t=await V.post("/iam/users/invite",e);return Ln(t.data)}async function nO(e,t){const s=await V.put(`/iam/users/${e}`,t);return Ln(s.data)}async function rO(e,t){const s=await V.patch(`/iam/users/${e}`,t);return Ln(s.data)}const eg=[{id:"u1",name:"Alice Wonderland",email:"alice@example.com",plan:"Pro",status:"Active",docCount:15,joinDate:"2025-01-15"},{id:"u2",name:"Bob The Builder",email:"bob@example.com",plan:"Free",status:"Active",docCount:3,joinDate:"2025-03-22"},{id:"u3",name:"Charlie Brown",email:"charlie@example.com",plan:"Pro",status:"Inactive",docCount:8,joinDate:"2024-11-05"},{id:"u4",name:"Diana Prince",email:"diana@example.com",plan:"Free",status:"Active",docCount:1,joinDate:"2025-05-10"}],aO=()=>{const{user:e}=Ct(),{demoMode:t}=Rs(),[s,r]=C.useState(""),[a,o]=C.useState(eg),[i,l]=C.useState(!1),[d,c]=C.useState(null);if((e==null?void 0:e.role)!=="Admin")return n.jsx(nn,{to:"/app/dashboard",replace:!0});C.useEffect(()=>{if(t){o(eg),c(null);return}(async()=>{try{l(!0),c(null);const b=(await R1()).map((v,h)=>({id:v.id||`u-${h}`,name:v.name||v.email||"User",email:v.email||"N/A",plan:"Pro",status:v.status==="disabled"?"Inactive":"Active",docCount:0,joinDate:v.createdAt||"N/A"}));o(b)}catch(x){c((x==null?void 0:x.message)??"Failed to load users."),o([])}finally{l(!1)}})()},[t]);const u=a.filter(g=>g.name.toLowerCase().includes(s.toLowerCase())||g.email.toLowerCase().includes(s.toLowerCase())),f={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},m={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(_e.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[n.jsxs("h1",{className:"text-3xl font-bold tracking-tight text-foreground flex items-center",children:[n.jsx(ta,{className:"mr-3 h-8 w-8 text-purple-500"})," Admin Panel"]}),n.jsx("p",{className:"text-md text-muted-foreground",children:"Manage users and system settings."})]}),n.jsxs(_e.div,{variants:m,initial:"hidden",animate:"visible",className:"grid md:grid-cols-3 gap-6",children:[n.jsxs(J,{className:"bg-card/70 dark:bg-slate-800/70 backdrop-blur-sm border-border/50 shadow-md",children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium text-muted-foreground",children:"Total Users"}),n.jsx(pl,{className:"h-5 w-5 text-sky-500"})]}),n.jsx(te,{children:n.jsx("div",{className:"text-3xl font-bold text-sky-500",children:a.length})})]}),n.jsxs(J,{className:"bg-card/70 dark:bg-slate-800/70 backdrop-blur-sm border-border/50 shadow-md",children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium text-muted-foreground",children:"Pro Users"}),n.jsx(pl,{className:"h-5 w-5 text-purple-500"})]}),n.jsx(te,{children:n.jsx("div",{className:"text-3xl font-bold text-purple-500",children:a.filter(g=>g.plan==="Pro").length})})]}),n.jsxs(J,{className:"bg-card/70 dark:bg-slate-800/70 backdrop-blur-sm border-border/50 shadow-md",children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium text-muted-foreground",children:"Total Documents"}),n.jsx(Vr,{className:"h-5 w-5 text-green-500"})]}),n.jsx(te,{children:n.jsx("div",{className:"text-3xl font-bold text-green-500",children:a.reduce((g,x)=>g+x.docCount,0)})})]})]}),n.jsx(_e.div,{variants:m,initial:"hidden",animate:"visible",children:n.jsxs(J,{className:"bg-card/70 dark:bg-slate-800/70 backdrop-blur-sm border-border/50 shadow-lg",children:[n.jsxs(ae,{children:[n.jsx(ie,{className:"text-xl",children:"User Management"}),n.jsx(st,{children:"View, filter, and manage user accounts."}),n.jsxs("div",{className:"pt-4 flex gap-4",children:[n.jsxs("div",{className:"relative flex-grow",children:[n.jsx(SA,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),n.jsx(Se,{type:"search",placeholder:"Search users by name or email...",className:"pl-10 w-full bg-input",value:s,onChange:g=>r(g.target.value)})]}),n.jsxs($,{variant:"outline",className:"border-sky-500 text-sky-500 hover:bg-sky-500 hover:text-white",children:[n.jsx(Pb,{className:"mr-2 h-4 w-4"})," Filter Users"]})]})]}),n.jsxs(te,{children:[n.jsxs("div",{className:"overflow-x-auto",children:[!t&&i&&n.jsx("p",{className:"p-2 text-sm text-muted-foreground",children:"Loading users..."}),!t&&d&&n.jsxs("div",{className:"mb-3 flex items-center gap-2 rounded-md border border-rose-200 bg-rose-50 p-2 text-sm text-rose-700",children:[n.jsx(Fu,{className:"h-4 w-4"}),d]}),n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{className:"text-left text-muted-foreground",children:n.jsxs("tr",{children:[n.jsx("th",{className:"p-2",children:"Name"}),n.jsx("th",{className:"p-2",children:"Email"}),n.jsx("th",{className:"p-2",children:"Plan"}),n.jsx("th",{className:"p-2",children:"Status"}),n.jsx("th",{className:"p-2",children:"Docs"}),n.jsx("th",{className:"p-2",children:"Joined"}),n.jsx("th",{className:"p-2",children:"Actions"})]})}),n.jsx(_e.tbody,{variants:f,initial:"hidden",animate:"visible",children:u.map(g=>n.jsxs(_e.tr,{variants:m,className:"border-b border-border/50 hover:bg-slate-100 dark:hover:bg-slate-700/50 transition-colors",children:[n.jsx("td",{className:"p-2 font-medium",children:g.name}),n.jsx("td",{className:"p-2 text-muted-foreground",children:g.email}),n.jsx("td",{className:"p-2",children:n.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${g.plan==="Pro"?"bg-purple-200 text-purple-700 dark:bg-purple-700 dark:text-purple-200":"bg-sky-200 text-sky-700 dark:bg-sky-700 dark:text-sky-200"}`,children:g.plan})}),n.jsx("td",{className:"p-2",children:n.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${g.status==="Active"?"bg-green-200 text-green-700 dark:bg-green-700 dark:text-green-200":"bg-red-200 text-red-700 dark:bg-red-700 dark:text-red-200"}`,children:g.status})}),n.jsx("td",{className:"p-2 text-muted-foreground",children:g.docCount}),n.jsx("td",{className:"p-2 text-muted-foreground",children:g.joinDate}),n.jsx("td",{className:"p-2",children:n.jsx($,{variant:"ghost",size:"sm",className:"text-red-500 hover:bg-red-100 dark:hover:bg-red-700/50",children:"Deactivate"})})]},g.id))})]})]}),u.length===0&&n.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No users match your search criteria."})]})]})})]})},ye=({className:e,...t})=>n.jsx("div",{className:Q("animate-pulse rounded-md bg-muted",e),...t}),oO=["open","in_progress","blocked","completed","cancelled"],iO=["low","medium","high","urgent"],lO=["dsr","policy","document","dpia","ropa","incident","toms","general"],cO=({search:e,status:t,priority:s,resource:r,due:a,onSearch:o,onStatusChange:i,onPriorityChange:l,onResourceChange:d,onDueChange:c})=>n.jsxs("div",{className:"flex flex-col gap-3 rounded-xl border border-slate-200 bg-white p-4 shadow-sm md:flex-row md:items-center md:justify-between",children:[n.jsx("input",{type:"text",value:e,onChange:u=>o(u.target.value),placeholder:"Search tasks by title or resource...",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100"}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[n.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:t,onChange:u=>i(u.target.value),children:[n.jsx("option",{value:"all",children:"All statuses"}),oO.map(u=>n.jsx("option",{value:u,children:u.replace("_"," ")},u))]}),n.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:s,onChange:u=>l(u.target.value),children:[n.jsx("option",{value:"all",children:"All priorities"}),iO.map(u=>n.jsx("option",{value:u,children:u},u))]}),n.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:r,onChange:u=>d(u.target.value),children:[n.jsx("option",{value:"all",children:"All resources"}),lO.map(u=>n.jsx("option",{value:u,children:u},u))]}),n.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:a,onChange:u=>c(u.target.value),children:[n.jsx("option",{value:"all",children:"All due dates"}),n.jsx("option",{value:"overdue",children:"Overdue"}),n.jsx("option",{value:"today",children:"Due today"}),n.jsx("option",{value:"week",children:"Due this week"})]})]})]}),dO={low:"bg-slate-100 text-slate-700 border-slate-200",medium:"bg-sky-50 text-sky-700 border-sky-200",high:"bg-orange-50 text-orange-700 border-orange-200",urgent:"bg-rose-50 text-rose-700 border-rose-200"},uO={low:"Low",medium:"Medium",high:"High",urgent:"Urgent"},T1=({priority:e})=>n.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-semibold ${dO[e]}`,children:uO[e]}),fO={open:"bg-sky-50 text-sky-700 border-sky-200",in_progress:"bg-amber-50 text-amber-700 border-amber-200",blocked:"bg-orange-50 text-orange-700 border-orange-200",completed:"bg-emerald-50 text-emerald-700 border-emerald-200",cancelled:"bg-slate-100 text-slate-700 border-slate-200"},pO={open:"Open",in_progress:"In progress",blocked:"Blocked",completed:"Completed",cancelled:"Cancelled"},D1=({status:e})=>n.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-semibold ${fO[e]}`,children:pO[e]}),mO=e=>{const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},hO=e=>e.resourceName?`${e.resourceType}: ${e.resourceName}`:e.resourceType,xO=({task:e,onClick:t})=>n.jsxs("tr",{className:"cursor-pointer border-b last:border-0 hover:bg-slate-50 focus-within:bg-slate-50",tabIndex:0,role:"button",onClick:t,onKeyDown:s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),t())},children:[n.jsx("td",{className:"py-3 pr-4 font-semibold text-foreground",children:e.title}),n.jsx("td",{className:"py-3 pr-4 text-foreground",children:hO(e)}),n.jsx("td",{className:"py-3 pr-4",children:n.jsx(T1,{priority:e.priority})}),n.jsx("td",{className:"py-3 pr-4",children:n.jsx(D1,{status:e.status})}),n.jsx("td",{className:"py-3 pr-4 text-foreground",children:e.assignee}),n.jsx("td",{className:"py-3 pr-4 text-foreground",children:mO(e.dueDate)})]}),gO=({tasks:e,onSelect:t,isLoading:s,isError:r})=>s?n.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading tasks..."}):r?n.jsx("p",{className:"text-sm text-red-600",children:"Failed to load tasks."}):e.length===0?n.jsx("p",{className:"text-sm text-muted-foreground",children:"No tasks found for the selected filters."}):n.jsx("div",{className:"overflow-auto rounded-lg border border-slate-200 bg-white shadow-sm",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b bg-slate-50 text-left text-slate-500",children:[n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Title"}),n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Resource"}),n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Priority"}),n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Status"}),n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Assignee"}),n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Due date"})]})}),n.jsx("tbody",{children:e.map(a=>n.jsx(xO,{task:a,onClick:()=>t(a)},a.id))})]})}),yO=["open","in_progress","blocked","completed","cancelled"],vO=["low","medium","high","urgent"],bO=["dsr","policy","document","dpia","ropa","incident","toms","general"],wO={dsr:"/app/dsr",policy:"/app/policies",document:"/app/documents",dpia:"/app/dpia",ropa:"/app/ropa",incident:"/app/incidents",toms:"/app/toms"},jO=({task:e,isOpen:t,mode:s,isLoading:r,isSaving:a,onClose:o,onSave:i,onStatusChange:l,onPriorityChange:d})=>{const[c,u]=C.useState(e),[f,m]=C.useState({}),g=C.useRef(null);if(C.useEffect(()=>{t&&(u(e),m({}))},[e,t]),C.useEffect(()=>{var _;if(!t)return;const N=M=>{if(M.key==="Escape"&&o(),M.key==="Tab"&&g.current){const F=g.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(F.length===0)return;const I=F[0],B=F[F.length-1];!M.shiftKey&&document.activeElement===B?(M.preventDefault(),I.focus()):M.shiftKey&&document.activeElement===I&&(M.preventDefault(),B.focus())}};document.addEventListener("keydown",N);const A=(_=g.current)==null?void 0:_.querySelector("input, select, textarea, button");return A==null||A.focus(),()=>document.removeEventListener("keydown",N)},[t,o]),!t||!c&&!r)return null;const x=(s==="create"||s==="edit")&&!r,b=l&&(c==null?void 0:c.id)&&s!=="create",v=d&&(c==null?void 0:c.id)&&s!=="create",h=!!(r||a),p=(N,A)=>{u(_=>_&&{..._,[N]:A})},w=()=>{const N={};return c.title.trim()||(N.title="Title is required."),c.description.trim()||(N.description="Description is required."),c.resourceType||(N.resourceType="Resource type is required."),c.status||(N.status="Status is required."),c.priority||(N.priority="Priority is required."),c.dueDate||(N.dueDate="Due date is required."),m(N),Object.keys(N).length===0},j=async()=>{w()&&await i(c,s==="create"?"create":"edit")},k=async N=>{p("status",N),b&&(c!=null&&c.id)&&await(l==null?void 0:l(c.id,N))},E=async N=>{p("priority",N),v&&(c!=null&&c.id)&&await(d==null?void 0:d(c.id,N))},P=N=>{N.target===N.currentTarget&&o()};if(!c&&r)return n.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/30 backdrop-blur-sm",onMouseDown:P,children:n.jsxs("div",{className:"flex h-full w-full max-w-2xl flex-col overflow-y-auto bg-white shadow-2xl",ref:g,children:[n.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-5 py-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Task"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Loading task..."})]}),n.jsx("button",{type:"button",onClick:o,className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:n.jsx(Re,{className:"h-5 w-5"})})]}),n.jsx("div",{className:"p-5 text-sm text-slate-600",children:"Loading task..."})]})});const S=c.resourceType&&wO[c.resourceType];return n.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/30 backdrop-blur-sm",onMouseDown:P,children:n.jsxs("div",{className:"flex h-full w-full max-w-2xl flex-col overflow-y-auto bg-white shadow-2xl",ref:g,children:[n.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-5 py-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:s==="create"?"New task":c.title||"Task"}),n.jsx(D1,{status:c.status}),n.jsx(T1,{priority:c.priority})]}),n.jsx("p",{className:"text-sm text-slate-600",children:c.resourceName||c.resourceType})]}),n.jsx("button",{type:"button",onClick:o,className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:n.jsx(Re,{className:"h-5 w-5"})})]}),r&&c&&n.jsx("div",{className:"px-5 py-2 text-sm text-slate-600",children:"Loading task..."}),n.jsxs("div",{className:"space-y-4 p-5",children:[n.jsxs("div",{className:"space-y-3 rounded-lg border border-slate-200 bg-white p-4",children:[n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Title"}),n.jsx("input",{type:"text",value:c.title,onChange:N=>p("title",N.target.value),disabled:!x||h,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),f.title&&n.jsx("p",{className:"text-xs text-rose-600",children:f.title})]}),n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Description"}),n.jsx("textarea",{value:c.description,onChange:N=>p("description",N.target.value),disabled:!x||h,className:"min-h-[90px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),f.description&&n.jsx("p",{className:"text-xs text-rose-600",children:f.description})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-3",children:[n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Status"}),n.jsx("select",{value:c.status,onChange:N=>k(N.target.value),disabled:!x&&!b||h,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:yO.map(N=>n.jsx("option",{value:N,children:N.replace("_"," ")},N))}),f.status&&n.jsx("p",{className:"text-xs text-rose-600",children:f.status})]}),n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Priority"}),n.jsx("select",{value:c.priority,onChange:N=>E(N.target.value),disabled:!x&&!v||h,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:vO.map(N=>n.jsx("option",{value:N,children:N},N))}),f.priority&&n.jsx("p",{className:"text-xs text-rose-600",children:f.priority})]}),n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Due date"}),n.jsx("input",{type:"date",value:c.dueDate.slice(0,10),onChange:N=>p("dueDate",N.target.value),disabled:!x||h,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),f.dueDate&&n.jsx("p",{className:"text-xs text-rose-600",children:f.dueDate})]})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Assignee"}),n.jsx("input",{type:"text",value:c.assignee,onChange:N=>p("assignee",N.target.value),disabled:!x||h,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Resource type"}),n.jsx("select",{value:c.resourceType,onChange:N=>p("resourceType",N.target.value),disabled:!x||h,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:bO.map(N=>n.jsx("option",{value:N,children:N},N))}),f.resourceType&&n.jsx("p",{className:"text-xs text-rose-600",children:f.resourceType})]}),n.jsxs("div",{className:"flex flex-col gap-2 md:flex-row",children:[n.jsx("input",{type:"text",placeholder:"Resource id (optional)",value:c.resourceId||"",onChange:N=>p("resourceId",N.target.value),disabled:!x||h,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),n.jsx("input",{type:"text",placeholder:"Resource name (optional)",value:c.resourceName||"",onChange:N=>p("resourceName",N.target.value),disabled:!x||h,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),S&&n.jsx($r,{to:S,className:"text-sm font-semibold text-sky-700 hover:underline",children:"Open related module"})]})]})]}),s!=="create"&&n.jsxs("div",{className:"grid grid-cols-1 gap-3 rounded-lg border border-slate-200 bg-slate-50 p-4 text-sm text-slate-700 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-slate-800",children:"Created"}),n.jsx("p",{children:new Date(c.createdAt).toLocaleString()})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-slate-800",children:"Last updated"}),n.jsx("p",{children:new Date(c.updatedAt).toLocaleString()})]})]})]}),n.jsx("div",{className:"sticky bottom-0 border-t border-slate-200 bg-white p-4",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx($,{variant:"outline",onClick:o,disabled:h,children:"Cancel"}),x&&n.jsx($,{onClick:j,disabled:h,children:a?"Saving...":s==="create"?"Create task":"Save changes"})]})})]})})},NO=({onNew:e})=>n.jsxs($,{className:"inline-flex items-center gap-2",onClick:e,children:[n.jsx(nc,{className:"h-4 w-4"}),"New task"]}),kO=e=>["open","in_progress","blocked","completed","cancelled"].includes(e)?e:"open",SO=e=>["low","medium","high","urgent"].includes(e)?e:"medium",Mn=e=>{const t=(e==null?void 0:e.createdAt)??(e==null?void 0:e.created_at)??new Date().toISOString(),s=(e==null?void 0:e.updatedAt)??(e==null?void 0:e.updated_at)??t;return{id:(e==null?void 0:e.id)??(e==null?void 0:e._id)??"",title:(e==null?void 0:e.title)??"",description:(e==null?void 0:e.description)??"",status:kO(e==null?void 0:e.status),priority:SO(e==null?void 0:e.priority),dueDate:(e==null?void 0:e.dueDate)??(e==null?void 0:e.due_date)??"",createdAt:t,updatedAt:s,assignee:(e==null?void 0:e.assignee)??"",resourceType:(e==null?void 0:e.resourceType)??(e==null?void 0:e.resource_type)??"general",resourceId:(e==null?void 0:e.resourceId)??(e==null?void 0:e.resource_id)??"",resourceName:(e==null?void 0:e.resourceName)??(e==null?void 0:e.resource_name)??""}},CO=e=>{if(Array.isArray(e))return e.map(Mn);const t=e;return Array.isArray(t==null?void 0:t.items)?t.items.map(Mn):Array.isArray(t==null?void 0:t.tasks)?t.tasks.map(Mn):[]};async function PO(){try{const e=await V.get("/api/tasks");return CO(e.data)}catch(e){if((e==null?void 0:e.status)===404)return[];throw e}}async function AO(e){const t=await V.get(`/api/tasks/${e}`);return Mn(t.data)}async function EO(e){const t=await V.post("/api/tasks",e);return Mn(t.data)}async function RO(e,t){const s=await V.put(`/api/tasks/${e}`,t);return Mn(s.data)}async function TO(e,t){const s=await V.patch(`/api/tasks/${e}`,t);return Mn(s.data)}const DO="Something went wrong while loading data. Please try again.";function _O(){const[e,t]=y.useState([]),[s,r]=y.useState(!1),[a,o]=y.useState(!1),[i,l]=y.useState(!1),[d,c]=y.useState(null),u=y.useRef(!0);y.useEffect(()=>()=>{u.current=!1},[]);const f=y.useCallback(async()=>{r(!0),c(null);try{const v=await PO();u.current&&t(v)}catch(v){u.current&&((v==null?void 0:v.status)===404?(t([]),c(null)):c(DO))}finally{u.current&&r(!1)}},[]);y.useEffect(()=>{f()},[f]);const m=y.useCallback(async v=>{o(!0);try{const h=await AO(v);return u.current&&t(p=>p.some(j=>j.id===h.id)?p.map(j=>j.id===h.id?h:j):[h,...p]),h}finally{u.current&&o(!1)}},[]),g=y.useCallback(async v=>{l(!0),c(null);try{const h=await EO(v);return u.current&&t(p=>[h,...p]),h}catch(h){throw u.current&&c((h==null?void 0:h.message)??"Failed to create task."),h}finally{u.current&&l(!1)}},[]),x=y.useCallback(async(v,h)=>{l(!0),c(null);try{const p=await RO(v,h);return u.current&&t(w=>w.map(j=>j.id===p.id?p:j)),p}catch(p){throw u.current&&c((p==null?void 0:p.message)??"Failed to update task."),p}finally{u.current&&l(!1)}},[]),b=y.useCallback(async(v,h)=>{l(!0),c(null);try{const p=await TO(v,h);return u.current&&t(w=>w.map(j=>j.id===p.id?p:j)),p}catch(p){throw u.current&&c((p==null?void 0:p.message)??"Failed to update task."),p}finally{u.current&&l(!1)}},[]);return{tasks:e,loading:s,detailLoading:a,saving:i,error:d,refresh:f,fetchOne:m,create:g,update:x,patch:b}}const LO=(e,t)=>{if(t==="all")return!0;const s=new Date(e);if(Number.isNaN(s.getTime()))return!1;const r=new Date,a=Math.floor((s.getTime()-r.getTime())/(1e3*60*60*24));return t==="overdue"?a<0:t==="today"?a===0:t==="week"?a>=0&&a<=7:!0},MO=()=>{const{tasks:e,loading:t,detailLoading:s,saving:r,error:a,refresh:o,fetchOne:i,create:l,update:d,patch:c}=_O(),[u,f]=C.useState(""),[m,g]=C.useState("all"),[x,b]=C.useState("all"),[v,h]=C.useState("all"),[p,w]=C.useState("all"),[j,k]=C.useState(null),[E,P]=C.useState("view"),S=e.length>0,N=C.useMemo(()=>e.filter(U=>{const H=U.title.toLowerCase().includes(u.toLowerCase())||(U.resourceName||"").toLowerCase().includes(u.toLowerCase()),R=m==="all"?!0:U.status===m,T=x==="all"?!0:U.priority===x,O=v==="all"?!0:U.resourceType===v,D=LO(U.dueDate,p);return H&&R&&T&&O&&D}),[e,u,m,x,v,p]),A=U=>{k(U),P("edit"),U.id&&i(U.id).then(H=>k(H)).catch(()=>{})},_=async(U,H)=>{try{if(H==="create"){const{id:R,...T}=U;await l(T)}else U.id&&await d(U.id,U);await o(),k(null),P("view")}catch{}},M=()=>{const U=new Date().toISOString();k({id:"",title:"",description:"",status:"open",priority:"medium",dueDate:U.slice(0,10),createdAt:U,updatedAt:U,assignee:"",resourceType:"general",resourceId:"",resourceName:""}),P("create")},F=async(U,H)=>{try{await c(U,{status:H}),await o()}catch{}},I=async(U,H)=>{try{await c(U,{priority:H}),await o()}catch{}},B=()=>{if(t)return n.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((U,H)=>n.jsx(ye,{className:"h-20 w-full rounded-lg bg-slate-100"},H))});if(a)return n.jsx(Ee,{title:"Unable to load tasks",description:a,actionLabel:"Retry",onAction:()=>o(),className:"bg-rose-50 border-rose-200"});if(N.length===0){const U=S?"No tasks match these filters":"No tasks yet",H=S?"Adjust filters or create a new task to continue tracking work.":"Organize your GDPR work by creating your first task.";return n.jsx(Ee,{title:U,description:H,actionLabel:"New task",onAction:M})}return n.jsx(gO,{tasks:N,onSelect:A})};return n.jsxs("div",{className:"space-y-6 p-6",children:[n.jsx("div",{className:"rounded-xl border border-slate-200 bg-white/95 p-6 shadow-sm",children:n.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-slate-900",children:"Tasks"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Organize GDPR work across owners, due dates, and priorities."}),n.jsx("p",{className:"text-sm text-slate-600",children:"Use this page to assign, track, and close compliance tasks across your program."})]}),n.jsx(NO,{onNew:M})]})}),n.jsx(cO,{search:u,status:m,priority:x,resource:v,due:p,onSearch:f,onStatusChange:g,onPriorityChange:b,onResourceChange:h,onDueChange:w}),n.jsx("div",{className:"rounded-xl border border-slate-200 bg-white/95 p-6 shadow-sm",children:B()}),n.jsx(jO,{task:j,isOpen:!!j,mode:E,onClose:()=>{k(null),P("view")},onSave:_,isLoading:s,isSaving:r,onStatusChange:F,onPriorityChange:I})]})},Uo=({title:e,description:t,actions:s})=>n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:e}),t&&n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t})]}),s&&n.jsx("div",{className:"flex items-center gap-2",children:s})]}),IO=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:[n.jsx(Uo,{title:"Projects",description:"Manage GDPR projects and processing initiatives.",actions:n.jsxs($,{size:"sm",className:"bg-gradient-to-r from-sky-500 to-purple-600 text-white",children:[n.jsx(nc,{className:"h-4 w-4 mr-2"}),"New Project"]})}),n.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Use this page to track processing activities, owners, milestones, and risks associated with each GDPR project."})]}),n.jsxs(J,{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:[n.jsxs(ae,{className:"px-0 pt-0",children:[n.jsx(ie,{children:"Projects"}),n.jsx(st,{children:"Project list and wizard will be added next."})]}),n.jsx(te,{className:"px-0",children:n.jsx(Ee,{title:"No projects yet",description:"Start by creating your first GDPR project to track processing workstreams.",actionLabel:"New Project",onAction:()=>{}})})]})]}),OO=["dsr","policy","document","dpia","ropa","incident","toms","user","tenant","system"],FO=({search:e,dateRange:t,resource:s,severity:r,onSearch:a,onDateRangeChange:o,onResourceChange:i,onSeverityChange:l})=>n.jsxs("div",{className:"flex flex-col gap-3 rounded-xl border border-slate-200 bg-white p-4 shadow-sm md:flex-row md:items-center md:justify-between",children:[n.jsx("input",{type:"text",value:e,onChange:d=>a(d.target.value),placeholder:"Search audit log (action, resource, actor)...",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100"}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[n.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:t,onChange:d=>o(d.target.value),children:[n.jsx("option",{value:"24h",children:"Last 24 hours"}),n.jsx("option",{value:"7d",children:"Last 7 days"}),n.jsx("option",{value:"30d",children:"Last 30 days"}),n.jsx("option",{value:"all",children:"All time"})]}),n.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:s,onChange:d=>i(d.target.value),children:[n.jsx("option",{value:"all",children:"All resources"}),OO.map(d=>n.jsx("option",{value:d,children:d},d))]}),n.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:r,onChange:d=>l(d.target.value),children:[n.jsx("option",{value:"all",children:"All severities"}),n.jsx("option",{value:"info",children:"Info"}),n.jsx("option",{value:"warning",children:"Warning"}),n.jsx("option",{value:"critical",children:"Critical"})]})]})]}),UO={info:"bg-sky-50 text-sky-700 border-sky-200",warning:"bg-amber-50 text-amber-700 border-amber-200",critical:"bg-rose-50 text-rose-700 border-rose-200"},_1=({severity:e})=>n.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-semibold ${UO[e]}`,children:e}),$O=e=>{const t=new Date(e),s=Date.now(),r=Math.max(0,s-t.getTime()),a=Math.floor(r/6e4);if(a<1)return"just now";if(a<60)return`${a}m ago`;const o=Math.floor(a/60);if(o<24)return`${o}h ago`;const i=Math.floor(o/24);return i<7?`${i}d ago`:t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},VO=({item:e,onClick:t})=>{const s=e.resourceName?`${e.resourceType}: ${e.resourceName}`:e.resourceType;return n.jsxs("tr",{className:"cursor-pointer border-b last:border-0 hover:bg-slate-50 focus-within:bg-slate-50",tabIndex:0,role:"button",onClick:t,onKeyDown:r=>{(r.key==="Enter"||r.key===" ")&&(r.preventDefault(),t())},children:[n.jsx("td",{className:"py-3 pr-4 text-foreground",children:$O(e.timestamp)}),n.jsx("td",{className:"py-3 pr-4 text-foreground",children:e.actor}),n.jsx("td",{className:"py-3 pr-4 text-foreground",children:e.action}),n.jsx("td",{className:"py-3 pr-4 text-foreground",children:s}),n.jsx("td",{className:"py-3 pr-4",children:n.jsx(_1,{severity:e.severity})})]})},zO=({items:e,onSelect:t,isLoading:s,isError:r})=>s?n.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading audit log..."}):r?n.jsx("p",{className:"text-sm text-red-600",children:"Failed to load audit log."}):e.length===0?n.jsx("p",{className:"text-sm text-muted-foreground",children:"No audit events found for the selected filters."}):n.jsx("div",{className:"overflow-auto rounded-lg border border-slate-200 bg-white shadow-sm",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b bg-slate-50 text-left text-slate-500",children:[n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Timestamp"}),n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Actor"}),n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Action"}),n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Resource"}),n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Severity"})]})}),n.jsx("tbody",{children:e.map(a=>n.jsx(VO,{item:a,onClick:()=>t(a)},a.id))})]})}),tg=e=>{if(!e)return"";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},BO=({item:e,isOpen:t,onClose:s})=>{const r=C.useRef(null);if(C.useEffect(()=>{var l;if(!t)return;const o=d=>{if(d.key==="Escape"&&s(),d.key==="Tab"&&r.current){const c=r.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(c.length===0)return;const u=c[0],f=c[c.length-1];!d.shiftKey&&document.activeElement===f?(d.preventDefault(),u.focus()):d.shiftKey&&document.activeElement===u&&(d.preventDefault(),f.focus())}};document.addEventListener("keydown",o);const i=(l=r.current)==null?void 0:l.querySelector("button, [href], input, select, textarea");return i==null||i.focus(),()=>document.removeEventListener("keydown",o)},[t,s]),!t||!e)return null;const a=o=>{o.target===o.currentTarget&&s()};return n.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/30 backdrop-blur-sm",onMouseDown:a,children:n.jsxs("div",{className:"flex h-full w-full max-w-xl flex-col overflow-y-auto bg-white shadow-2xl",ref:r,children:[n.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-5 py-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Audit event"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_1,{severity:e.severity}),n.jsx("span",{className:"text-sm text-slate-600",children:tg(e.timestamp)})]})]}),n.jsx("button",{type:"button",onClick:s,className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:n.jsx(Re,{className:"h-5 w-5"})})]}),n.jsxs("div",{className:"space-y-3 p-5 text-sm text-slate-800",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-slate-900",children:"Actor"}),n.jsx("p",{children:e.actor})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-slate-900",children:"Action"}),n.jsx("p",{children:e.action})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-slate-900",children:"Resource"}),n.jsxs("p",{children:[e.resourceType,e.resourceName?` - ${e.resourceName}`:""]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-slate-900",children:"Timestamp"}),n.jsx("p",{children:tg(e.timestamp)})]}),e.ipAddress&&n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-slate-900",children:"IP address"}),n.jsx("p",{children:e.ipAddress})]}),e.userAgent&&n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-slate-900",children:"User agent"}),n.jsx("p",{className:"break-all",children:e.userAgent})]}),e.details&&n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-slate-900",children:"Details"}),n.jsx("pre",{className:"overflow-auto rounded-md bg-slate-50 p-3 text-xs text-slate-800",children:e.details})]})]}),n.jsx("div",{className:"sticky bottom-0 border-t border-slate-200 bg-white p-4",children:n.jsx("div",{className:"flex justify-end",children:n.jsx($,{variant:"outline",onClick:s,children:"Close"})})})]})})},WO=new Date("2025-05-15T12:00:00Z").getTime(),Qt=e=>new Date(WO-e*24*60*60*1e3).toISOString();function qO(){const[e]=y.useState([{id:"log_001",timestamp:Qt(0),actor:"system",action:"AI audit run completed",resourceType:"system",severity:"info",details:"Overall score 78. Areas reviewed: DSR, policies, DPIA, ROPA, incidents."},{id:"log_002",timestamp:Qt(1),actor:"dpo@aura.test",action:"Created DSR request",resourceType:"dsr",resourceId:"dsr_123",resourceName:"DSR request for Jane Doe",severity:"info",ipAddress:"192.168.1.10"},{id:"log_003",timestamp:Qt(2),actor:"analyst@aura.test",action:"Updated DPIA status to approved",resourceType:"dpia",resourceId:"dpia_002",resourceName:"Employee monitoring DPIA",severity:"warning"},{id:"log_004",timestamp:Qt(3),actor:"security@aura.test",action:"Created incident",resourceType:"incident",resourceId:"inc_003",resourceName:"Unauthorized access attempt",severity:"critical",details:"Incident severity: critical. Status: contained."},{id:"log_005",timestamp:Qt(4),actor:"legal@aura.test",action:"Updated policy",resourceType:"policy",resourceId:"pol_1",resourceName:"Privacy Policy",severity:"info"},{id:"log_006",timestamp:Qt(5),actor:"system",action:"New TOM added",resourceType:"toms",resourceId:"tom_004",resourceName:"Backup & disaster recovery",severity:"info"},{id:"log_007",timestamp:Qt(6),actor:"owner@aura.test",action:"Added ROPA record",resourceType:"ropa",resourceId:"ropa_002",resourceName:"Employee HR processing",severity:"info"},{id:"log_008",timestamp:Qt(7),actor:"system",action:"User login",resourceType:"user",resourceId:"user_123",resourceName:"admin@aura.test",severity:"info",ipAddress:"10.1.0.5",userAgent:"Chrome on Windows"},{id:"log_009",timestamp:Qt(8),actor:"security@aura.test",action:"Updated incident status to resolved",resourceType:"incident",resourceId:"inc_002",resourceName:"Lost laptop with customer data",severity:"warning"},{id:"log_010",timestamp:Qt(9),actor:"system",action:"Document generated via AI",resourceType:"document",resourceId:"doc_009",resourceName:"AI generated DPIA summary",severity:"info",details:"Draft created for review."}]);return{items:e,isLoading:!1,isError:!1}}const HO=e=>{const t=Date.now();return e==="24h"?t-24*60*60*1e3:e==="7d"?t-7*24*60*60*1e3:e==="30d"?t-30*24*60*60*1e3:0},GO=()=>{const{items:e,isLoading:t,isError:s}=qO(),[r,a]=C.useState(""),[o,i]=C.useState("7d"),[l,d]=C.useState("all"),[c,u]=C.useState("all"),[f,m]=C.useState(null),g=C.useMemo(()=>{const b=HO(o);return e.filter(v=>{const h=new Date(v.timestamp).getTime(),p=b===0?!0:h>=b,w=v.action.toLowerCase().includes(r.toLowerCase())||(v.resourceName||"").toLowerCase().includes(r.toLowerCase())||v.actor.toLowerCase().includes(r.toLowerCase()),j=l==="all"?!0:v.resourceType===l,k=c==="all"?!0:v.severity===c;return p&&w&&j&&k})},[e,r,o,l,c]),x=b=>{m(b)};return n.jsxs("div",{className:"space-y-6 p-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-slate-900",children:"Audit log"}),n.jsx("p",{className:"text-sm text-slate-600",children:"See who performed which actions in your tenant, and when."})]}),n.jsx(FO,{search:r,dateRange:o,resource:l,severity:c,onSearch:a,onDateRangeChange:i,onResourceChange:d,onSeverityChange:u}),n.jsx(zO,{items:g,onSelect:x,isLoading:t,isError:s}),n.jsx(BO,{item:f,isOpen:!!f,onClose:()=>m(null)})]})},KO={low:"bg-green-100 dark:bg-green-900/40 hover:bg-green-200 dark:hover:bg-green-800",medium:"bg-amber-100 dark:bg-amber-900/40 hover:bg-amber-200 dark:hover:bg-amber-800",high:"bg-red-100 dark:bg-red-900/40 hover:bg-red-200 dark:hover:bg-red-800"},Ld=({label:e,count:t,tone:s,onClick:r})=>n.jsx("button",{onClick:r,className:`w-full rounded-md border border-border px-4 py-6 text-left transition ${KO[s]}`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-semibold capitalize",children:e}),n.jsx(on,{children:t})]})}),YO=({grouped:e,onSelect:t})=>n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx(Ld,{label:"Low",count:e.low.length,tone:"low",onClick:()=>t("low")}),n.jsx(Ld,{label:"Medium",count:e.medium.length,tone:"medium",onClick:()=>t("medium")}),n.jsx(Ld,{label:"High",count:e.high.length,tone:"high",onClick:()=>t("high")})]}),XO=({open:e,riskLevel:t,items:s,onClose:r})=>{const a=is();return n.jsxs(n.Fragment,{children:[e&&n.jsx("div",{className:"fixed inset-0 bg-black/40 z-40",onClick:r}),n.jsxs("div",{className:`fixed top-0 right-0 h-full w-full max-w-3xl bg-background shadow-2xl z-50 transform transition-transform ${e?"translate-x-0":"translate-x-full"}`,children:[n.jsxs("div",{className:"flex items-center justify-between border-b border-border px-4 py-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs uppercase text-muted-foreground",children:"Risks"}),n.jsx("h3",{className:"text-xl font-semibold capitalize",children:t?`${t} risk`:"Risks"})]}),n.jsx($,{variant:"ghost",size:"icon",onClick:r,"aria-label":"Close risk list",children:n.jsx(Re,{className:"h-5 w-5"})})]}),n.jsx("div",{className:"p-4 space-y-3 overflow-auto h-[calc(100%-56px)]",children:s.length===0?n.jsx("div",{className:"text-sm text-muted-foreground",children:"No items for this risk level."}):s.map(o=>n.jsx(J,{children:n.jsxs(te,{className:"p-4 flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"text-sm font-semibold",children:o.title}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[n.jsx(on,{variant:"secondary",className:"capitalize",children:o.type}),n.jsx(on,{className:"capitalize",children:o.risk}),o.source&&n.jsx("span",{children:o.source})]})]}),o.link&&n.jsx($,{size:"sm",variant:"outline",onClick:()=>{a(o.link),r()},children:"Open"})]})},`${o.type}-${o.id}`))})]})]})},Md=e=>{if(typeof e=="number")return e>=16?"high":e>=9?"medium":"low";const t=(e||"").toString().toLowerCase();return t==="high"||t==="critical"?"high":t==="medium"?"medium":"low"},QO=()=>{const[e,t]=y.useState([]),[s,r]=y.useState(!0),[a,o]=y.useState(null),i=y.useCallback(async()=>{var d,c,u;try{r(!0),o(null);const f=async p=>{try{return(await V.get(p)).data}catch(w){if((w==null?void 0:w.status)===404)return null;throw w}},[m,g,x]=await Promise.all([f("/api/dpia"),f("/api/incidents"),f("/api/projects")]),b=((d=m==null?void 0:m.items)==null?void 0:d.map(p=>({id:p.id,type:"dpia",title:p.title,risk:Md(p.overall_risk),source:`DPIA (${p.overall_risk})`,link:`/app/dpia/${p.id}`})))??[],v=((c=g==null?void 0:g.items)==null?void 0:c.map(p=>{const w=(p.severity||"").toString().toLowerCase(),k=Md(w==="critical"||w==="high"?16:w==="medium"?9:4);return{id:p.id,type:"incident",title:p.title||`Incident ${p.id}`,risk:k,source:`Incident (${p.severity??"unknown"})`,link:"/app/incidents"}}))??[],h=((u=x==null?void 0:x.items)==null?void 0:u.map(p=>({id:p.id,type:"project",title:p.name,risk:Md(p.risk_level),source:`Project (${p.risk_level??"unknown"})`,link:"/app/projects"})))??[];t([...b,...v,...h])}catch{o("Something went wrong while loading data. Please try again."),t([])}finally{r(!1)}},[]);y.useEffect(()=>{i()},[i]);const l=y.useMemo(()=>e.reduce((d,c)=>(d[c.risk].push(c),d),{low:[],medium:[],high:[]}),[e]);return{data:e,grouped:l,loading:s,error:a,reload:i}},ZO=()=>{const{data:e,grouped:t,loading:s,error:r,reload:a}=QO(),[o,i]=y.useState(null),l=c=>{i(c)},d=o?t[o]:[];return n.jsxs("div",{className:"space-y-6",children:[n.jsx(Uo,{title:"Risk Matrix",description:"Aggregate risks across DPIAs, Incidents, and Projects.",actions:n.jsxs($,{variant:"outline",size:"sm",onClick:a,disabled:s,children:[n.jsx(rc,{className:"h-4 w-4 mr-2"}),"Refresh"]})}),r&&n.jsx(J,{children:n.jsxs(te,{className:"p-4 text-sm text-destructive flex items-center justify-between",children:[n.jsxs("span",{children:["Failed to load risks: ",r]}),n.jsx($,{size:"sm",variant:"outline",onClick:a,children:"Retry"})]})}),s?n.jsx(J,{children:n.jsx(te,{className:"p-4",children:n.jsx(ye,{className:"h-24 w-full"})})}):e.length===0?n.jsx(J,{children:n.jsx(te,{className:"p-6 text-sm text-muted-foreground text-center",children:"No risks found yet."})}):n.jsx(YO,{grouped:t,onSelect:l}),n.jsx(XO,{open:!!o,riskLevel:o,items:d,onClose:()=>i(null)})]})},JO=({search:e,status:t,risk:s,onSearch:r,onStatusChange:a,onRiskChange:o})=>n.jsxs("div",{className:"flex flex-col gap-3 rounded-xl border border-slate-200 bg-white p-4 shadow-sm md:flex-row md:items-center md:justify-between",children:[n.jsx("input",{type:"text",value:e,onChange:i=>r(i.target.value),placeholder:"Search DPIAs by name or system...",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100"}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[n.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:t,onChange:i=>a(i.target.value),children:[n.jsx("option",{value:"all",children:"All statuses"}),n.jsx("option",{value:"draft",children:"Draft"}),n.jsx("option",{value:"in_review",children:"In review"}),n.jsx("option",{value:"approved",children:"Approved"}),n.jsx("option",{value:"rejected",children:"Rejected"}),n.jsx("option",{value:"archived",children:"Archived"})]}),n.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:s,onChange:i=>o(i.target.value),children:[n.jsx("option",{value:"all",children:"All risk levels"}),n.jsx("option",{value:"low",children:"Low"}),n.jsx("option",{value:"medium",children:"Medium"}),n.jsx("option",{value:"high",children:"High"})]})]})]}),e6={draft:"bg-slate-100 text-slate-700 border-slate-200",in_review:"bg-amber-50 text-amber-700 border-amber-200",approved:"bg-emerald-50 text-emerald-700 border-emerald-200",rejected:"bg-rose-50 text-rose-700 border-rose-200",archived:"bg-slate-50 text-slate-500 border-slate-200"},t6={draft:"Draft",in_review:"In review",approved:"Approved",rejected:"Rejected",archived:"Archived"},L1=({status:e})=>n.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-semibold ${e6[e]}`,children:t6[e]}),s6=e=>{const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},n6=({dpia:e,onClick:t})=>n.jsxs("tr",{className:"cursor-pointer border-b last:border-0 hover:bg-slate-50 focus-within:bg-slate-50",tabIndex:0,role:"button",onClick:t,onKeyDown:s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),t())},children:[n.jsx("td",{className:"py-3 pr-4 font-semibold text-foreground",children:e.name}),n.jsx("td",{className:"py-3 pr-4 text-foreground",children:e.systemName}),n.jsx("td",{className:"py-3 pr-4",children:n.jsx(L1,{status:e.status})}),n.jsx("td",{className:"py-3 pr-4 text-foreground capitalize",children:e.risk.level}),n.jsx("td",{className:"py-3 pr-4 text-foreground",children:e.owner}),n.jsx("td",{className:"py-3 pr-4 text-foreground",children:s6(e.lastUpdated)})]}),r6=({dpias:e,onSelect:t,isLoading:s,isError:r,errorMessage:a,onRetry:o,hasDpias:i,onCreate:l})=>s?n.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading DPIAs..."}):r?n.jsx(Ee,{title:"Unable to load DPIAs",description:a||"Something went wrong while loading data. Please try again.",actionLabel:o?"Retry":void 0,onAction:o,className:"bg-rose-50 border-rose-200"}):e.length===0?i?n.jsx(Ee,{title:"No DPIAs match these filters",description:"Adjust filters or start a new assessment.",actionLabel:"New DPIA",onAction:l}):n.jsx(Ee,{title:"No DPIAs yet",description:"Create your first DPIA to assess high-risk processing and capture mitigation actions.",actionLabel:"New DPIA",onAction:l}):n.jsx("div",{className:"overflow-auto rounded-lg border border-slate-200 bg-white shadow-sm",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b bg-slate-50 text-left text-slate-500",children:[n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Name"}),n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"System"}),n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Status"}),n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Risk level"}),n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Owner"}),n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Last updated"})]})}),n.jsx("tbody",{children:e.map(d=>n.jsx(n6,{dpia:d,onClick:()=>t(d)},d.id))})]})}),a6=["draft","in_review","approved","rejected","archived"],o6=(e,t)=>{const s=e*t,r=s<=5?"low":s<=12?"medium":"high";return{likelihood:e,impact:t,overallScore:s,level:r}},i6=({dpia:e,isOpen:t,mode:s,onClose:r,onSave:a,isLoading:o=!1,isSaving:i=!1})=>{const[l,d]=C.useState(e),c=C.useRef(null);if(C.useEffect(()=>{t&&d(e)},[e,t]),C.useEffect(()=>{var h;if(!t)return;const b=p=>{if(p.key==="Escape"&&r(),p.key==="Tab"&&c.current){const w=c.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(w.length===0)return;const j=w[0],k=w[w.length-1];!p.shiftKey&&document.activeElement===k?(p.preventDefault(),j.focus()):p.shiftKey&&document.activeElement===j&&(p.preventDefault(),k.focus())}};document.addEventListener("keydown",b);const v=(h=c.current)==null?void 0:h.querySelector("input, select, textarea, button");return v==null||v.focus(),()=>document.removeEventListener("keydown",b)},[t,r]),!t||!l)return null;const u=s==="create"||s==="edit",f=(b,v)=>{d(h=>h&&{...h,[b]:v})},m=(b,v)=>{d(h=>{if(!h)return h;const p=o6(b==="likelihood"?v:h.risk.likelihood,b==="impact"?v:h.risk.impact);return{...h,risk:p}})},g=()=>{l.name.trim()&&a(l)},x=b=>{b.target===b.currentTarget&&r()};return n.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/30 backdrop-blur-sm",onMouseDown:x,children:n.jsxs("div",{className:"flex h-full w-full max-w-2xl flex-col overflow-y-auto bg-white shadow-2xl",ref:c,children:[n.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-5 py-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:l.name||"Untitled DPIA"}),n.jsx(L1,{status:l.status})]}),n.jsx("p",{className:"text-sm text-slate-600",children:l.systemName})]}),n.jsx("button",{type:"button",onClick:r,className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:n.jsx(Re,{className:"h-5 w-5"})})]}),n.jsxs("div",{className:"space-y-4 p-5",children:[o&&n.jsx("p",{className:"text-sm text-slate-500",children:"Loading DPIA details..."}),n.jsxs("div",{className:"space-y-3 rounded-lg border border-slate-200 bg-white p-4",children:[n.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Name"}),n.jsx("input",{type:"text",value:l.name,onChange:b=>f("name",b.target.value),disabled:!u||i,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"System name"}),n.jsx("input",{type:"text",value:l.systemName,onChange:b=>f("systemName",b.target.value),disabled:!u||i,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-3",children:[n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Owner"}),n.jsx("input",{type:"text",value:l.owner,onChange:b=>f("owner",b.target.value),disabled:!u||i,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Status"}),n.jsx("select",{value:l.status,onChange:b=>f("status",b.target.value),disabled:!u||i,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:a6.map(b=>n.jsx("option",{value:b,children:b.replace("_"," ")},b))})]}),n.jsxs("div",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Risk level"}),n.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm font-semibold capitalize text-slate-900",children:[l.risk.level," (",l.risk.overallScore,")"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Purpose"}),n.jsx("textarea",{value:l.purpose,onChange:b=>f("purpose",b.target.value),disabled:!u||i,className:"min-h-[80px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Legal basis"}),n.jsx("textarea",{value:l.legalBasis||"",onChange:b=>f("legalBasis",b.target.value),disabled:!u||i,className:"min-h-[80px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]})]}),n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Processing description"}),n.jsx("textarea",{value:l.processingDescription,onChange:b=>f("processingDescription",b.target.value),disabled:!u,className:"min-h-[90px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Data subjects"}),n.jsx("textarea",{value:l.dataSubjects,onChange:b=>f("dataSubjects",b.target.value),disabled:!u||i,className:"min-h-[70px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Data categories"}),n.jsx("textarea",{value:l.dataCategories,onChange:b=>f("dataCategories",b.target.value),disabled:!u||i,className:"min-h-[70px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Recipients"}),n.jsx("textarea",{value:l.recipients||"",onChange:b=>f("recipients",b.target.value),disabled:!u||i,className:"min-h-[60px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Transfers outside EU"}),n.jsx("textarea",{value:l.transfersOutsideEU||"",onChange:b=>f("transfersOutsideEU",b.target.value),disabled:!u||i,className:"min-h-[60px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]})]}),n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Mitigation measures"}),n.jsx("textarea",{value:l.mitigationMeasures||"",onChange:b=>f("mitigationMeasures",b.target.value),disabled:!u,className:"min-h-[80px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]})]}),n.jsxs("div",{className:"space-y-3 rounded-lg border border-slate-200 bg-white p-4",children:[n.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"Risk assessment"}),n.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-3",children:[n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Likelihood (1-5)"}),n.jsx("select",{value:l.risk.likelihood,onChange:b=>m("likelihood",Number(b.target.value)),disabled:!u||i,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:[1,2,3,4,5].map(b=>n.jsx("option",{value:b,children:b},b))})]}),n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Impact (1-5)"}),n.jsx("select",{value:l.risk.impact,onChange:b=>m("impact",Number(b.target.value)),disabled:!u||i,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:[1,2,3,4,5].map(b=>n.jsx("option",{value:b,children:b},b))})]}),n.jsxs("div",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Overall score"}),n.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm font-semibold text-slate-900",children:[l.risk.overallScore," (",l.risk.level,")"]})]})]})]})]}),n.jsx("div",{className:"sticky bottom-0 border-t border-slate-200 bg-white p-4",children:n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[s!=="create"&&l.id&&n.jsx(oa,{resourceType:"dpia",resourceId:l.id}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx($,{variant:"outline",onClick:r,children:"Cancel"}),u&&n.jsx($,{onClick:g,disabled:i,children:i?"Saving...":s==="create"?"Create DPIA":"Save changes"})]})]})})]})})},l6=[{name:"Employee monitoring",purpose:"Monitor workstation usage for security and productivity analysis.",processingDescription:"Processing of log-in times, application usage and visited websites for employees."},{name:"Video surveillance",purpose:"Monitor office premises for safety and asset protection.",processingDescription:"Processing of video footage of employees and visitors in office premises."},{name:"New marketing tool",purpose:"Assess processing for targeted marketing campaigns with a new tool.",processingDescription:"Processing of contact details, engagement metrics and website behaviour for marketing."}],c6=({onNewBlank:e,onTemplateSelect:t})=>{const[s,r]=C.useState(!1);return n.jsxs("div",{className:"relative",children:[n.jsxs($,{className:"inline-flex items-center gap-2",onClick:()=>r(a=>!a),children:[n.jsx(tc,{className:"h-4 w-4"}),"New DPIA",n.jsx(Ep,{className:"h-4 w-4"})]}),s&&n.jsxs("div",{className:"absolute right-0 z-20 mt-2 w-72 rounded-lg border border-slate-200 bg-white shadow-lg",children:[n.jsxs("button",{type:"button",className:"flex w-full items-start gap-2 px-4 py-3 text-left text-sm text-slate-800 hover:bg-slate-50",onClick:()=>{e(),r(!1)},children:[n.jsx("span",{className:"font-semibold",children:"Blank DPIA"}),n.jsx("span",{className:"text-xs text-slate-500",children:"Start from scratch."})]}),n.jsxs("div",{className:"border-t border-slate-200 px-4 py-3",children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"From template"}),n.jsx("div",{className:"mt-2 space-y-2",children:l6.map(a=>n.jsxs("button",{type:"button",className:"flex w-full flex-col items-start rounded-md px-2 py-2 text-left text-sm text-slate-800 hover:bg-slate-50",onClick:()=>{t(a),r(!1)},children:[n.jsx("span",{className:"font-semibold",children:a.name}),n.jsx("span",{className:"text-xs text-slate-500",children:a.purpose})]},a.name))})]})]})]})},In=e=>({...e,id:(e==null?void 0:e.id)??(e==null?void 0:e._id)??(e==null?void 0:e.dpia_id)??"",createdAt:(e==null?void 0:e.createdAt)??(e==null?void 0:e.created_at)??"",lastUpdated:(e==null?void 0:e.lastUpdated)??(e==null?void 0:e.last_updated)??(e==null?void 0:e.updated_at)??(e==null?void 0:e.updatedAt)??"",risk:(e==null?void 0:e.risk)??(e==null?void 0:e.risk_rating)??(e==null?void 0:e.riskRating)??{likelihood:1,impact:1,overallScore:1,level:"low"}}),d6=e=>{if(Array.isArray(e))return e.map(In);const t=e;return Array.isArray(t==null?void 0:t.items)?t.items.map(In):Array.isArray(t==null?void 0:t.dpias)?t.dpias.map(In):[]};async function u6(){try{const e=await V.get("/api/dpia");return d6(e.data)}catch(e){if((e==null?void 0:e.status)===404)return[];throw e}}async function f6(e){const t=await V.get(`/api/dpia/${e}`);return In(t.data)}async function p6(e){const t=await V.post("/api/dpia",e);return In(t.data)}async function m6(e,t){const s=await V.put(`/api/dpia/${e}`,t);return In(s.data)}async function h6(e,t){const s=await V.patch(`/api/dpia/${e}`,t);return In(s.data)}const x6="Something went wrong while loading data. Please try again.";function g6(){const[e,t]=y.useState([]),[s,r]=y.useState(!1),[a,o]=y.useState(!1),[i,l]=y.useState(!1),[d,c]=y.useState(null),u=y.useRef(!0);y.useEffect(()=>()=>{u.current=!1},[]);const f=y.useCallback(async()=>{r(!0),c(null);try{const v=await u6();u.current&&t(v)}catch(v){u.current&&((v==null?void 0:v.status)===404?(t([]),c(null)):c(x6))}finally{u.current&&r(!1)}},[]);y.useEffect(()=>{f()},[f]);const m=y.useCallback(async v=>{o(!0);try{const h=await f6(v);return u.current&&t(p=>p.map(w=>w.id===h.id?h:w)),h}finally{u.current&&o(!1)}},[]),g=y.useCallback(async v=>{l(!0);try{const h=await p6(v);return u.current&&t(p=>[h,...p]),h}finally{u.current&&l(!1)}},[]),x=y.useCallback(async(v,h)=>{l(!0);try{const p=await m6(v,h);return u.current&&t(w=>w.map(j=>j.id===p.id?p:j)),p}finally{u.current&&l(!1)}},[]),b=y.useCallback(async(v,h)=>{const p=await h6(v,h);return u.current&&t(w=>w.map(j=>j.id===p.id?p:j)),p},[]);return{dpias:e,loading:s,detailLoading:a,saving:i,error:d,refresh:f,fetchOne:m,create:g,update:x,patch:b}}const y6=()=>{const{dpias:e,loading:t,detailLoading:s,saving:r,error:a,refresh:o,create:i,update:l,fetchOne:d}=g6(),[c,u]=C.useState(""),[f,m]=C.useState("all"),[g,x]=C.useState("all"),[b,v]=C.useState(null),[h,p]=C.useState("view"),w=e.length>0,j=C.useMemo(()=>e.filter(N=>{const A=N.name.toLowerCase().includes(c.toLowerCase())||N.systemName.toLowerCase().includes(c.toLowerCase()),_=f==="all"?!0:N.status===f,M=g==="all"?!0:N.risk.level===g;return A&&_&&M}),[e,c,f,g]),k=N=>{v(N),p("view"),N.id&&d(N.id).then(A=>v(A)).catch(()=>{})},E=async N=>{if(h==="create"){const{id:A,..._}=N;await i(_)}else N.id&&await l(N.id,N);await o(),v(null),p("view")},P=()=>{const N=new Date().toISOString();v({id:`dpia-${Date.now()}`,name:"New DPIA",systemName:"",owner:"You",status:"draft",createdAt:N,lastUpdated:N,purpose:"",legalBasis:"",processingDescription:"",dataSubjects:"",dataCategories:"",recipients:"",transfersOutsideEU:"",mitigationMeasures:"",risk:{likelihood:1,impact:1,overallScore:1,level:"low"}}),p("create")},S=N=>{const A=new Date().toISOString();v({id:`dpia-${Date.now()}`,name:N.name,systemName:N.name,owner:"You",status:"draft",createdAt:A,lastUpdated:A,purpose:N.purpose,legalBasis:"",processingDescription:N.processingDescription,dataSubjects:"",dataCategories:"",recipients:"",transfersOutsideEU:"",mitigationMeasures:"",risk:{likelihood:2,impact:2,overallScore:4,level:"low"}}),p("create")};return n.jsxs("div",{className:"space-y-6 p-6",children:[n.jsx("div",{className:"rounded-xl border border-slate-200 bg-white/95 p-6 shadow-sm",children:n.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-slate-900",children:"DPIA"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Create and maintain Data Protection Impact Assessments (DPIA) for high-risk processing activities."}),n.jsx("p",{className:"text-sm text-slate-600",children:"Use this page to capture risks, mitigation actions, and approval history for each assessment."})]}),n.jsx(c6,{onNewBlank:P,onTemplateSelect:S})]})}),n.jsx(JO,{search:c,status:f,risk:g,onSearch:u,onStatusChange:m,onRiskChange:x}),n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white/95 p-6 shadow-sm",children:[n.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"DPIA guidance"}),n.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-4 text-sm text-slate-700",children:[n.jsx("li",{children:"A Data Protection Impact Assessment evaluates high-risk processing."}),n.jsx("li",{children:"Mandatory when processing is likely to cause high risk to individuals."}),n.jsx("li",{children:"Risk scoring combines likelihood and impact for an overall level."}),n.jsx("li",{children:"Create a DPIA for new systems, large datasets, or sensitive processing."}),n.jsx("li",{children:"Export completed DPIAs for sign-off and evidence."})]})]}),n.jsx("div",{className:"rounded-xl border border-slate-200 bg-white/95 p-6 shadow-sm",children:n.jsx(r6,{dpias:j,onSelect:k,isLoading:t,isError:!!a,errorMessage:a,onRetry:o,hasDpias:w,onCreate:P})}),n.jsx(i6,{dpia:b,isOpen:!!b,mode:h,onClose:()=>v(null),onSave:E,isLoading:s,isSaving:r})]})},sg={received:{label:"Received",classes:"bg-slate-100 text-slate-800 border-slate-200"},identity_required:{label:"Identity verification",classes:"bg-sky-50 text-sky-700 border-sky-200"},in_progress:{label:"In progress",classes:"bg-sky-100 text-sky-800 border-sky-200"},waiting_for_information:{label:"Waiting for information",classes:"bg-amber-50 text-amber-700 border-amber-200"},completed:{label:"Completed",classes:"bg-emerald-50 text-emerald-700 border-emerald-200"},rejected:{label:"Rejected",classes:"bg-rose-50 text-rose-700 border-rose-200"}},Rm=({status:e})=>{const t=sg[e]??sg.received;return n.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-semibold ${t.classes}`,children:t.label})},v6=[{value:"received",label:"Received"},{value:"identity_required",label:"Identity verification"},{value:"in_progress",label:"In progress"},{value:"completed",label:"Completed"},{value:"rejected",label:"Rejected"}],b6=({open:e,currentStatus:t,onClose:s,onSubmit:r,isSubmitting:a})=>{const[o,i]=C.useState(t),[l,d]=C.useState("");C.useEffect(()=>{e&&(i(t),d(""))},[t,e]);const c=async()=>{o!==t&&await r(o,l.trim()?l.trim():void 0)};return e?n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/40 backdrop-blur-sm",onClick:s,"aria-modal":"true",role:"dialog",children:n.jsxs("div",{className:"w-full max-w-xl rounded-xl border border-slate-200 bg-white p-6 shadow-2xl",onClick:u=>u.stopPropagation(),children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Change status"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Update the request status and add an optional note."})]}),n.jsxs("div",{className:"mt-4 space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{className:"text-sm font-semibold text-slate-900",children:"New status"}),n.jsx("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-2",children:v6.map(u=>n.jsxs("button",{type:"button",onClick:()=>i(u.value),className:`flex items-center justify-between rounded-lg border px-3 py-2 text-sm transition focus:outline-none focus:ring-2 focus:ring-sky-200 ${o===u.value?"border-sky-300 bg-sky-50 text-slate-900":"border-slate-200 bg-white text-slate-700 hover:border-slate-300"}`,disabled:a,children:[n.jsx("span",{children:u.label}),n.jsx(Rm,{status:u.value})]},u.value))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"dsr-status-note",className:"text-sm font-semibold text-slate-900",children:"Note (optional)"}),n.jsx(gc,{id:"dsr-status-note",value:l,onChange:u=>d(u.target.value),placeholder:"Add context for this status change.",disabled:a}),n.jsx("p",{className:"text-xs text-slate-500",children:"Notes are saved with the status update."})]})]}),n.jsxs("div",{className:"mt-6 flex flex-wrap items-center justify-end gap-2",children:[n.jsx($,{variant:"outline",onClick:s,disabled:a,children:"Cancel"}),n.jsxs($,{onClick:c,disabled:a||o===t,className:"inline-flex items-center gap-2",children:[a&&n.jsx(Qe,{className:"h-4 w-4 animate-spin"}),a?"Updating...":"Update status"]})]})]})}):null},ng={received:["identity_required","in_progress"],identity_required:["in_progress"],in_progress:["waiting_for_information","completed","rejected"],waiting_for_information:["in_progress","completed","rejected"],completed:[],rejected:[]},w6={received:"Mark as received",identity_required:"Mark as identity required",in_progress:"Mark as in progress",waiting_for_information:"Mark as waiting for information",completed:"Mark as completed",rejected:"Mark as rejected"},rg=e=>{if(!e)return"N/A";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},j6=e=>{if(!e)return"N/A";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},N6=e=>{if(!e)return{label:"No due date set",tone:"ok"};const t=new Date,s=new Date(e);if(Number.isNaN(s.getTime()))return{label:e,tone:"ok"};const r=s.getTime()-t.getTime(),a=Math.floor(r/(1e3*60*60*24));return a>1?{label:`Due in ${a} days`,tone:a<=7?"soon":"ok"}:a===1?{label:"Due tomorrow",tone:"soon"}:a===0?{label:"Due today",tone:"soon"}:{label:`Overdue by ${Math.abs(a)} days`,tone:"late"}},k6=e=>[{label:"Request created",timestamp:e.createdAt??e.created_at??e.received_at??""},{label:`Status set to ${e.status}`,timestamp:e.updatedAt??e.updated_at??""}].filter(s=>s.timestamp),S6=({dsr:e,isOpen:t,onClose:s,onStatusChange:r,isUpdating:a=!1,error:o,isLoading:i=!1})=>{const l=C.useRef(null);if(C.useEffect(()=>{var g;if(!t)return;const f=x=>{if(x.key==="Escape"&&s(),x.key==="Tab"&&l.current){const b=l.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(b.length===0)return;const v=b[0],h=b[b.length-1];!x.shiftKey&&document.activeElement===h?(x.preventDefault(),v.focus()):x.shiftKey&&document.activeElement===v&&(x.preventDefault(),h.focus())}};document.addEventListener("keydown",f);const m=(g=l.current)==null?void 0:g.querySelector("button, [href], input, select, textarea");return m==null||m.focus(),()=>document.removeEventListener("keydown",f)},[t,s]),!t||!e)return null;const d=N6(e.dueDate??e.due_at??null),c=e.events&&e.events.length>0?e.events:k6(e),u=f=>{f.target===f.currentTarget&&s()};return n.jsx("div",{className:"fixed inset-0 z-40 flex justify-end bg-slate-900/30 backdrop-blur-sm",onMouseDown:u,children:n.jsxs("div",{className:"h-full w-full max-w-xl overflow-y-auto bg-white shadow-2xl",ref:l,children:[n.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-5 py-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:e.data_subject}),n.jsx(Rm,{status:e.status})]}),n.jsx("p",{className:"text-sm text-slate-600",children:e.type})]}),n.jsx("button",{type:"button",onClick:s,className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:n.jsx(Re,{className:"h-5 w-5"})})]}),n.jsxs("div",{className:"space-y-4 p-5",children:[i&&n.jsx("p",{className:"text-sm text-slate-500",children:"Loading request details..."}),n.jsxs("div",{className:"grid gap-3 rounded-lg border border-slate-200 bg-slate-50 p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-700",children:[n.jsx(Rb,{className:"h-4 w-4 text-slate-500"}),n.jsx("span",{children:e.email||"No email provided"})]}),e.identifier&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-700",children:[n.jsx(mA,{className:"h-4 w-4 text-slate-500"}),n.jsx("span",{children:e.identifier})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-700",children:[n.jsx(Tb,{className:"h-4 w-4 text-slate-500"}),n.jsx("span",{className:"capitalize",children:e.type})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-700",children:[n.jsx(rA,{className:"h-4 w-4 text-slate-500"}),n.jsxs("span",{children:["Created: ",rg(e.createdAt??e.created_at)]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-700",children:[n.jsx(Nb,{className:"h-4 w-4 text-slate-500"}),n.jsxs("span",{children:["Due: ",j6(e.dueDate??e.due_at)," -"," ",n.jsx("span",{className:d.tone==="ok"?"text-emerald-600":d.tone==="soon"?"text-amber-600":"text-rose-600",children:d.label})]})]})]}),n.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(hA,{className:"h-4 w-4 text-sky-600"}),n.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Details"})]}),n.jsx("p",{className:"mt-2 whitespace-pre-wrap text-sm text-slate-700",children:e.description||"No additional details provided."})]}),n.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(mn,{className:"h-4 w-4 text-sky-600"}),n.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Activity"})]}),n.jsxs("div",{className:"mt-3 space-y-3",children:[c.map(f=>n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"mt-1 h-2 w-2 rounded-full bg-sky-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-slate-900",children:f.label}),n.jsx("p",{className:"text-xs text-slate-500",children:rg(f.timestamp)})]})]},f.timestamp+f.label)),c.length===0&&n.jsx("p",{className:"text-sm text-slate-500",children:"No activity logged."})]})]})]}),n.jsxs("div",{className:"sticky bottom-0 border-t border-slate-200 bg-white p-4",children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.id?n.jsx(oa,{resourceType:"dsr",resourceId:e.id}):n.jsx("div",{className:"h-9","aria-hidden":!0}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[ng[e.status].length===0&&n.jsx($,{variant:"outline",disabled:!0,className:"cursor-not-allowed",children:"No further actions"}),ng[e.status].map(f=>n.jsx($,{variant:"outline",size:"sm",disabled:a||i,onClick:()=>r(f),children:w6[f]||"Update status"},f))]})]}),o&&n.jsx("p",{className:"mt-2 text-sm text-rose-600",children:o})]})]})})},C6=e=>["received","identity_required","in_progress","waiting_for_information","completed","rejected"].includes(e)?e:"received",P6=e=>["access","rectification","erasure","restriction","portability","objection","other"].includes(e)?e:"access",Rr=e=>({...e,type:P6(e==null?void 0:e.type),status:C6(e==null?void 0:e.status),dueDate:(e==null?void 0:e.dueDate)??(e==null?void 0:e.due_at)??null,createdAt:(e==null?void 0:e.createdAt)??(e==null?void 0:e.created_at),updatedAt:(e==null?void 0:e.updatedAt)??(e==null?void 0:e.updated_at),is_overdue:(e==null?void 0:e.is_overdue)??(e==null?void 0:e.overdue)??!1}),A6=e=>{if(Array.isArray(e))return e.map(Rr);const t=e;return Array.isArray(t==null?void 0:t.items)?t.items.map(Rr):Array.isArray(t==null?void 0:t.requests)?t.requests.map(Rr):[]},Tm=e=>{const t=(e==null?void 0:e.public_key)??(e==null?void 0:e.publicKey)??null;return{enabled:!!((e==null?void 0:e.enabled)??!!t),publicKey:t??null}};async function E6(e){try{const t={};e!=null&&e.status&&(t.status=Array.isArray(e.status)?e.status.join(","):e.status),typeof(e==null?void 0:e.overdue)=="boolean"&&(t.overdue=e.overdue);const s=await V.get("/api/dsr",{params:t});return A6(s.data)}catch(t){if((t==null?void 0:t.status)===404)return[];throw t}}async function R6(e){const t=await V.get(`/api/dsr/${e}`);return Rr(t.data)}async function M1(e){const t=await V.post("/api/dsr",e);return Rr(t.data)}async function T6(e,t,s){const r=await V.patch(`/api/dsr/${e}/status`,{status:t,note:s});return Rr(r.data)}async function D6(){const e=await V.get("/api/dsr/public-link");return Tm(e.data)}async function _6(){const e=await V.post("/api/dsr/public-link/enable");return Tm(e.data)}async function L6(){const e=await V.post("/api/dsr/public-link/disable");return Tm(e.data)}const M6="Something went wrong while loading data. Please try again.",I6=()=>{const[e,t]=y.useState([]),[s,r]=y.useState(!1),[a,o]=y.useState(!1),[i,l]=y.useState(null),[d,c]=y.useState(void 0),[u,f]=y.useState(!1),m=y.useRef(!0);y.useEffect(()=>()=>{m.current=!1},[]);const g=y.useCallback(async()=>{r(!0),l(null);try{const h=await E6({status:d,overdue:u?!0:void 0});m.current&&t(h)}catch(h){m.current&&((h==null?void 0:h.status)===404?(t([]),l(null)):(l(M6),t([])))}finally{m.current&&r(!1)}},[u,d]);y.useEffect(()=>{g()},[g]);const x=y.useCallback(async h=>{const p=await M1(h);return m.current&&t(w=>[p,...w]),p},[]),b=y.useCallback(async(h,p,w)=>{const j=await T6(h,p,w);return m.current&&t(k=>k.map(E=>E.id===j.id?j:E)),j},[]),v=y.useCallback(async h=>{o(!0);try{const p=await R6(h);return m.current&&t(w=>w.map(j=>j.id===p.id?p:j)),p}finally{m.current&&o(!1)}},[]);return{data:e,loading:s,detailLoading:a,error:i,reload:g,create:x,updateStatus:b,fetchDetail:v,statusFilter:d,setStatusFilter:c,overdueOnly:u,setOverdueOnly:f}},O6=({onSuccess:e}={})=>{const{toast:t}=St(),[s,r]=y.useState(!1),[a,o]=y.useState(null);return{createRequest:y.useCallback(async l=>{r(!0),o(null);const d={type:l.request_type,data_subject:l.name.trim(),email:l.email.trim(),description:l.description.trim(),due_at:l.deadline,priority:l.priority};try{const c=await M1(d);return t({title:"Request created successfully"}),await(e==null?void 0:e(c)),c}catch(c){const u=(c==null?void 0:c.message)??"Failed to create request.";throw o(u),new Error(u)}finally{r(!1)}},[e,t]),loading:s,error:a}},F6=[{value:"access",label:"Access Request"},{value:"erasure",label:"Erasure Request"},{value:"rectification",label:"Rectification Request"},{value:"objection",label:"Objection Request"},{value:"restriction",label:"Restriction Request"},{value:"portability",label:"Data Portability Request"},{value:"other",label:"Other"}],U6=[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"}],ag=()=>{const e=new Date;return e.setDate(e.getDate()+30),e.toISOString().split("T")[0]},$6=({open:e,onClose:t,onSubmit:s,submitting:r=!1,error:a})=>{const[o,i]=C.useState({request_type:"access",name:"",email:"",description:"",priority:"medium",deadline:ag()}),[l,d]=C.useState({}),[c,u]=C.useState(null);C.useEffect(()=>{e&&(i({request_type:"access",name:"",email:"",description:"",priority:"medium",deadline:ag()}),d({}),u(null))},[e]);const f=()=>{const g={};return o.request_type||(g.request_type="Request type is required."),o.name.trim()||(g.name="Name is required."),o.email.trim()?/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(o.email.trim())||(g.email="Enter a valid email address."):g.email="Email is required.",d(g),Object.keys(g).length===0},m=async g=>{if(g.preventDefault(),!!f()){u(null);try{await s({...o,name:o.name.trim(),email:o.email.trim(),description:o.description.trim()})}catch(x){u((x==null?void 0:x.message)??"Unable to create request. Please try again.")}}};return e?n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/50 px-4 backdrop-blur-sm",role:"dialog","aria-modal":"true","aria-labelledby":"new-dsr-title",onMouseDown:g=>{g.target===g.currentTarget&&t()},children:n.jsxs("div",{className:"w-full max-w-2xl rounded-xl bg-white shadow-2xl",onMouseDown:g=>g.stopPropagation(),children:[n.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-6 py-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-sky-600",children:"New DSR"}),n.jsx("h2",{id:"new-dsr-title",className:"text-lg font-semibold text-slate-900",children:"Create new request"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Capture the details of a new data subject request."})]}),n.jsx("button",{type:"button",onClick:t,className:"rounded-full p-2 text-slate-500 transition hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:n.jsx(Re,{className:"h-5 w-5"})})]}),n.jsxs("form",{className:"space-y-4 px-6 py-5",onSubmit:m,children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsxs("span",{className:"font-medium",children:["Request Type ",n.jsx("span",{className:"text-rose-600",children:"*"})]}),n.jsx("select",{className:"w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-200 disabled:opacity-60",value:o.request_type,onChange:g=>i(x=>({...x,request_type:g.target.value})),disabled:r,required:!0,children:F6.map(g=>n.jsx("option",{value:g.value,children:g.label},g.value))}),l.request_type&&n.jsx("p",{className:"text-xs text-rose-600",children:l.request_type})]}),n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsxs("span",{className:"font-medium",children:["Priority ",n.jsx("span",{className:"text-rose-600",children:"*"})]}),n.jsx("select",{className:"w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-200 disabled:opacity-60",value:o.priority,onChange:g=>i(x=>({...x,priority:g.target.value})),disabled:r,required:!0,children:U6.map(g=>n.jsx("option",{value:g.value,children:g.label},g.value))})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsxs("span",{className:"font-medium",children:["Data Subject Name ",n.jsx("span",{className:"text-rose-600",children:"*"})]}),n.jsx("input",{type:"text",className:"w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-200 disabled:opacity-60",value:o.name,onChange:g=>i(x=>({...x,name:g.target.value})),disabled:r,placeholder:"Full name of the data subject",required:!0}),l.name&&n.jsx("p",{className:"text-xs text-rose-600",children:l.name})]}),n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsxs("span",{className:"font-medium",children:["Email ",n.jsx("span",{className:"text-rose-600",children:"*"})]}),n.jsx("input",{type:"email",className:"w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-200 disabled:opacity-60",value:o.email,onChange:g=>i(x=>({...x,email:g.target.value})),disabled:r,placeholder:"contact@example.com",required:!0}),l.email&&n.jsx("p",{className:"text-xs text-rose-600",children:l.email})]})]}),n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Description"}),n.jsx("textarea",{className:"min-h-[110px] w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-200 disabled:opacity-60",value:o.description,onChange:g=>i(x=>({...x,description:g.target.value})),disabled:r,placeholder:"Add any context provided by the requester."})]}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Deadline (30 days)"}),n.jsx("input",{type:"date",value:o.deadline,readOnly:!0,className:"w-full cursor-not-allowed rounded-md border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 shadow-sm"})]})}),(c||a)&&n.jsx("div",{className:"rounded-md border border-rose-200 bg-rose-50 px-3 py-2 text-sm text-rose-700",children:c||a}),n.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2",children:[n.jsx($,{type:"button",variant:"outline",onClick:t,disabled:r,children:"Cancel"}),n.jsxs($,{type:"submit",disabled:r,children:[r&&n.jsx(Ns,{className:"mr-2 h-4 w-4 animate-spin"}),r?"Creating...":"Create Request"]})]})]})]})}):null};function V6(e){const t=y.useRef({value:e,previous:e});return y.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function z6(e){const t=B6(e),s=y.forwardRef((r,a)=>{const{children:o,...i}=r,l=y.Children.toArray(o),d=l.find(q6);if(d){const c=d.props.children,u=l.map(f=>f===d?y.Children.count(c)>1?y.Children.only(null):y.isValidElement(c)?c.props.children:null:f);return n.jsx(t,{...i,ref:a,children:y.isValidElement(c)?y.cloneElement(c,void 0,u):null})}return n.jsx(t,{...i,ref:a,children:o})});return s.displayName=`${e}.Slot`,s}function B6(e){const t=y.forwardRef((s,r)=>{const{children:a,...o}=s;if(y.isValidElement(a)){const i=G6(a),l=H6(o,a.props);return a.type!==y.Fragment&&(l.ref=r?Zl(r,i):i),y.cloneElement(a,l)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var W6=Symbol("radix.slottable");function q6(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===W6}function H6(e,t){const s={...t};for(const r in t){const a=e[r],o=t[r];/^on[A-Z]/.test(r)?a&&o?s[r]=(...l)=>{const d=o(...l);return a(...l),d}:a&&(s[r]=a):r==="style"?s[r]={...a,...o}:r==="className"&&(s[r]=[a,o].filter(Boolean).join(" "))}return{...e,...s}}function G6(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var K6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],I1=K6.reduce((e,t)=>{const s=z6(`Primitive.${t}`),r=y.forwardRef((a,o)=>{const{asChild:i,...l}=a,d=i?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(d,{...l,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),Pc="Switch",[Y6]=pn(Pc),[X6,Q6]=Y6(Pc),O1=y.forwardRef((e,t)=>{const{__scopeSwitch:s,name:r,checked:a,defaultChecked:o,required:i,disabled:l,value:d="on",onCheckedChange:c,form:u,...f}=e,[m,g]=y.useState(null),x=Ie(t,w=>g(w)),b=y.useRef(!1),v=m?u||!!m.closest("form"):!0,[h,p]=Jl({prop:a,defaultProp:o??!1,onChange:c,caller:Pc});return n.jsxs(X6,{scope:s,checked:h,disabled:l,children:[n.jsx(I1.button,{type:"button",role:"switch","aria-checked":h,"aria-required":i,"data-state":V1(h),"data-disabled":l?"":void 0,disabled:l,value:d,...f,ref:x,onClick:Y(e.onClick,w=>{p(j=>!j),v&&(b.current=w.isPropagationStopped(),b.current||w.stopPropagation())})}),v&&n.jsx($1,{control:m,bubbles:!b.current,name:r,value:d,checked:h,required:i,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});O1.displayName=Pc;var F1="SwitchThumb",U1=y.forwardRef((e,t)=>{const{__scopeSwitch:s,...r}=e,a=Q6(F1,s);return n.jsx(I1.span,{"data-state":V1(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:t})});U1.displayName=F1;var Z6="SwitchBubbleInput",$1=y.forwardRef(({__scopeSwitch:e,control:t,checked:s,bubbles:r=!0,...a},o)=>{const i=y.useRef(null),l=Ie(i,o),d=V6(s),c=dN(t);return y.useEffect(()=>{const u=i.current;if(!u)return;const f=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(f,"checked").set;if(d!==s&&g){const x=new Event("click",{bubbles:r});g.call(u,s),u.dispatchEvent(x)}},[d,s,r]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...a,tabIndex:-1,ref:l,style:{...a.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});$1.displayName=Z6;function V1(e){return e?"checked":"unchecked"}var z1=O1,J6=U1;const $o=y.forwardRef(({className:e,...t},s)=>n.jsx(z1,{className:Q("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-muted",e),...t,ref:s,children:n.jsx(J6,{className:Q("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));$o.displayName=z1.displayName;const og={enabled:!1,publicKey:null},eF=()=>{const[e,t]=y.useState(og),[s,r]=y.useState(!0),[a,o]=y.useState(!1),[i,l]=y.useState(null),d=y.useCallback(async()=>{r(!0),l(null);try{const f=await D6();t(f)}catch(f){l((f==null?void 0:f.message)??"Failed to load public DSR link."),t(og)}finally{r(!1)}},[]);y.useEffect(()=>{d()},[d]);const c=y.useCallback(async()=>{o(!0),l(null);try{const f=await _6();return t(f),f}catch(f){const m=(f==null?void 0:f.message)??"Failed to enable public DSR form.";throw l(m),new Error(m)}finally{o(!1)}},[]),u=y.useCallback(async()=>{o(!0),l(null);try{const f=await L6();return t(f),f}catch(f){const m=(f==null?void 0:f.message)??"Failed to disable public DSR form.";throw l(m),new Error(m)}finally{o(!1)}},[]);return{link:e,loading:s,saving:a,error:i,reload:d,enable:c,disable:u}},tF=e=>{var s;if(!e)return"";const t=typeof window<"u"&&((s=window.location)!=null&&s.origin)?window.location.origin:"";return t?`${t}/public/dsr/${e}`:`/public/dsr/${e}`},sF=()=>{const{toast:e}=St(),{link:t,loading:s,saving:r,error:a,enable:o,disable:i}=eF(),[l,d]=C.useState(null),c=C.useMemo(()=>tF(t.publicKey),[t.publicKey]),u=async m=>{d(null);try{m?(await o(),e({title:"Public DSR form enabled",description:"Share the link below with data subjects to collect requests."})):(await i(),e({title:"Public DSR form disabled"}))}catch(g){const x=(g==null?void 0:g.message)??"Unable to update public DSR settings.";d(x)}},f=async()=>{if(c)try{await navigator.clipboard.writeText(c),e({title:"Public DSR link copied"})}catch{e({variant:"destructive",title:"Unable to copy link",description:"Please copy the URL manually."})}};return n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-sky-600",children:"Public DSR Form"}),n.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Share a secure request form"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Allow individuals to submit GDPR data subject requests without logging in. Use the toggle to generate or disable your public form link."})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[r&&n.jsx(Ns,{className:"h-4 w-4 animate-spin text-sky-600","aria-hidden":!0}),n.jsx($o,{checked:t.enabled,onCheckedChange:u,disabled:s||r,"aria-label":"Enable public DSR form"})]})]}),(a||l)&&n.jsx("div",{className:"mt-3 rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-sm text-rose-700",children:l||a}),s&&!t.enabled?n.jsx("p",{className:"mt-3 text-sm text-slate-600",children:"Loading public link status..."}):null,t.enabled&&n.jsxs("div",{className:"mt-4 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase tracking-wide text-slate-500",children:[n.jsx(Sb,{className:"h-4 w-4"}),n.jsx("span",{children:"Public link"})]}),n.jsxs("div",{className:"flex flex-col gap-2 md:flex-row",children:[n.jsx(Se,{readOnly:!0,value:c,className:"flex-1 bg-slate-50"}),n.jsxs($,{type:"button",variant:"outline",onClick:f,disabled:!c||r,children:[n.jsx(cA,{className:"mr-2 h-4 w-4"}),"Copy link"]})]}),n.jsx("p",{className:"text-xs text-slate-600",children:"Share this link externally so individuals can submit GDPR requests directly into AURA-GDPR."})]})]})},ig=e=>{if(!e)return"N/A";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},nF=e=>e?e.slice(0,1).toUpperCase()+e.slice(1):"N/A",rF=["received","identity_required","in_progress","waiting_for_information"],aF=e=>{if(!e)return"";const t=new Date,s=new Date(e);if(Number.isNaN(s.getTime()))return"";const r=s.getTime()-t.getTime(),a=Math.floor(r/(1e3*60*60*24));return a<0?"text-rose-600":a<=3?"text-amber-600":""},oF=()=>{const{data:e,loading:t,detailLoading:s,error:r,reload:a,updateStatus:o,fetchDetail:i,setStatusFilter:l,overdueOnly:d,setOverdueOnly:c}=I6(),{toast:u}=St(),{demoMode:f}=Rs(),{markComplete:m}=Vp(),[g,x]=C.useState(!1),[b,v]=C.useState("all"),[h,p]=C.useState(null),[w,j]=C.useState(null),[k,E]=C.useState(!1),[P,S]=C.useState(!1),[N,A]=C.useState(null),_=e.length>0,{createRequest:M,loading:F,error:I}=O6({onSuccess:async()=>{x(!1),await a(),m("firstDsr").catch(()=>{})}});C.useEffect(()=>{l(b==="all"?void 0:b==="open"?rF:b)},[l,b]);const B=e,U=D=>{p(D),j(null),D.id&&i(D.id).then(W=>p(W)).catch(W=>j((W==null?void 0:W.message)??"Failed to load request details."))},H=async(D,W,oe)=>{const re=oe??h;if(re!=null&&re.id&&D!==re.status){E(!0),j(null);try{const he=await o(re.id,D,W);(h==null?void 0:h.id)===he.id&&p(he),await a(),u({title:"Status updated",description:"Status updated successfully."})}catch(he){j((he==null?void 0:he.message)??"Failed to update status. Please try again."),u({variant:"destructive",title:"Failed to update status",description:(he==null?void 0:he.message)??"Please try again."})}finally{E(!1)}}},R=async(D,W)=>{!(N!=null&&N.id)||D===N.status||(await H(D,W,N),S(!1),A(null))},T=()=>{p(null),j(null)},O=async D=>{try{await M(D)}catch(W){u({variant:"destructive",title:"Failed to create request",description:(W==null?void 0:W.message)??"Please try again."})}};return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-6 p-6",children:[n.jsx("div",{className:"rounded-xl border border-slate-200 bg-white/95 p-6 shadow-sm",children:n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-foreground",children:"Data Subject Requests"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Track and respond to Data Subject Requests (DSR) end-to-end."}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Use this page to register new requests, manage deadlines, and keep a full history of actions."})]})}),n.jsx(Cc,{title:"Data Subject Requests",description:"Track and manage GDPR data subject requests such as access, erasure, rectification, and objection."}),n.jsx(sF,{}),n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white/95 p-6 shadow-sm",children:[n.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"DSR guidance"}),n.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-4 text-sm text-slate-700",children:[n.jsx("li",{children:"A Data Subject Request lets an individual exercise their privacy rights."}),n.jsx("li",{children:"Workflow: Received -> Verification -> Investigation -> Completed."}),n.jsx("li",{children:"30-day rule: respond and close within 30 days unless extended."}),n.jsx("li",{children:"Create a new DSR with the New Request button and capture the requester details."}),n.jsx("li",{children:"Results are stored in this list and inside each request timeline."}),n.jsx("li",{children:"Export a PDF from the request drawer to share evidence."})]})]}),n.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Data Subject Requests"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Monitor incoming requests and keep deadlines on track."})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs($,{variant:"outline",size:"sm",onClick:a,disabled:t,children:[n.jsx(rc,{className:"mr-2 h-4 w-4"}),"Refresh"]}),n.jsxs($,{size:"sm",onClick:()=>x(!0),disabled:f,children:[n.jsx(nc,{className:"mr-2 h-4 w-4"}),"New Request"]})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-4 rounded-xl border border-slate-200 bg-white/95 p-4 shadow-sm",children:[n.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-white px-3 py-1 text-sm text-slate-700",children:[n.jsx(Pb,{className:"h-4 w-4 text-slate-500"}),"Filters"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-sm font-semibold text-slate-800",htmlFor:"dsr-status-filter",children:"Status"}),n.jsxs("select",{id:"dsr-status-filter",value:b,onChange:D=>v(D.target.value),className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",children:[n.jsx("option",{value:"all",children:"All statuses"}),n.jsx("option",{value:"received",children:"Received"}),n.jsx("option",{value:"identity_required",children:"Identity verification"}),n.jsx("option",{value:"in_progress",children:"In progress"}),n.jsx("option",{value:"open",children:"Open"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"rejected",children:"Rejected"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx($o,{id:"dsr-overdue-only",checked:d,onCheckedChange:c}),n.jsx("label",{htmlFor:"dsr-overdue-only",className:"text-sm text-slate-800",children:"Overdue only"})]})]}),f&&n.jsx("div",{className:"rounded-lg border border-amber-200 bg-amber-50 px-3 py-2 text-xs text-amber-700",children:"Demo mode - creation and updates are disabled."}),n.jsxs("div",{className:"space-y-3 rounded-xl border border-slate-200 bg-white/95 p-4 shadow-sm",children:[t&&n.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading requests..."}),r&&n.jsx(Ee,{title:"Unable to load requests",description:r,actionLabel:"Retry",onAction:a,className:"bg-rose-50 border-rose-200"}),!t&&!r&&B.length===0&&n.jsx(Ee,{title:_?"No requests match these filters":"No data subject requests yet",description:_?"Adjust filters or add a new request to keep this list moving.":"When individuals submit requests, they will appear here. You can also create internal requests manually.",actionLabel:"New request",onAction:()=>x(!0)}),!t&&B.length>0&&n.jsx("div",{className:"overflow-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b bg-slate-50 text-left text-slate-500",children:[n.jsx("th",{className:"py-2 pr-4 font-semibold",children:"Request"}),n.jsx("th",{className:"py-2 pr-4 font-semibold",children:"Data subject"}),n.jsx("th",{className:"py-2 pr-4 font-semibold",children:"Email"}),n.jsx("th",{className:"py-2 pr-4 font-semibold",children:"Status"}),n.jsx("th",{className:"py-2 pr-4 font-semibold",children:"Received"}),n.jsx("th",{className:"py-2 pr-4 font-semibold",children:"Due date"}),n.jsx("th",{className:"py-2 pr-4 font-semibold",children:"Identifier"}),n.jsx("th",{className:"py-2 pr-4 font-semibold text-right",children:"Actions"})]})}),n.jsx("tbody",{children:B.map(D=>n.jsxs("tr",{className:"cursor-pointer border-b last:border-0 hover:bg-slate-50 focus-within:bg-slate-50",tabIndex:0,role:"button",onClick:()=>U(D),onKeyDown:W=>{(W.key==="Enter"||W.key===" ")&&(W.preventDefault(),U(D))},children:[n.jsx("td",{className:"py-3 pr-4 font-semibold text-foreground",children:nF(D.type)}),n.jsx("td",{className:"py-3 pr-4 text-foreground",children:D.data_subject}),n.jsx("td",{className:"py-3 pr-4 text-foreground",children:D.email||"N/A"}),n.jsx("td",{className:"py-3 pr-4",children:n.jsx(Rm,{status:D.status})}),n.jsx("td",{className:"py-3 pr-4 text-foreground",children:ig(D.received_at??D.createdAt)}),n.jsx("td",{className:`py-3 pr-4 text-foreground ${aF(D.dueDate??D.due_at)}`,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{children:ig(D.dueDate??D.due_at)}),D.is_overdue&&D.status!=="completed"&&n.jsx("span",{className:"inline-flex items-center rounded-full border border-rose-200 bg-rose-50 px-2 py-0.5 text-xs font-semibold text-rose-700",children:"Overdue"})]})}),n.jsx("td",{className:"py-3 pr-4 text-foreground",children:D.identifier||"N/A"}),n.jsx("td",{className:"py-3 pr-4 text-right",children:n.jsx($,{variant:"outline",size:"sm",onClick:W=>{W.stopPropagation(),A(D),S(!0)},disabled:k,children:"Change status"})})]},D.id??`${D.data_subject}-${D.due_at??""}`))})]})})]})]}),n.jsx(S6,{dsr:h,isOpen:!!h,onClose:T,onStatusChange:H,isUpdating:k,error:w,isLoading:s}),n.jsx(b6,{open:P&&!!N,currentStatus:(N==null?void 0:N.status)??"received",onClose:()=>{S(!1),A(null)},onSubmit:R,isSubmitting:k}),n.jsx($6,{open:g,onClose:()=>x(!1),onSubmit:O,submitting:F,error:I})]})},Id=["access","rectification","erasure","restriction","portability","objection"],iF=()=>{const[e,t]=y.useState(""),[s,r]=y.useState(Id[0]),[a,o]=y.useState(""),[i,l]=y.useState(!1),[d,c]=y.useState(null),[u,f]=y.useState(null),m=async x=>{var b;x.preventDefault(),l(!0),c(null);try{const h=((b=(await V.post("/api/dsr",{email:e,type:s,description:a})).data)==null?void 0:b.id)??"N/A";f(h)}catch(v){c((v==null?void 0:v.message)??"Failed to submit request")}finally{l(!1)}},g=()=>{t(""),r(Id[0]),o(""),f(null),c(null)};return n.jsxs("div",{className:"space-y-6 max-w-3xl mx-auto p-4",children:[n.jsx(Uo,{title:"Data Subject Request Portal",description:"Submit a GDPR request (access, rectification, erasure, restriction, portability, objection)."}),n.jsx(J,{children:n.jsx(te,{className:"p-6 space-y-4",children:u?n.jsxs("div",{className:"space-y-3",children:[n.jsx("h2",{className:"text-xl font-semibold",children:"Request submitted"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Your ticket ID is ",n.jsx("span",{className:"font-semibold",children:u}),". We will respond within 30 days."]}),n.jsx($,{onClick:g,children:"Submit another request"})]}):n.jsxs("form",{className:"space-y-4",onSubmit:m,children:[d&&n.jsxs("div",{className:"text-sm text-destructive",children:["Error: ",d]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Email"}),n.jsx(Se,{type:"email",value:e,onChange:x=>t(x.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Request type"}),n.jsx("select",{value:s,onChange:x=>r(x.target.value),className:"w-full rounded-md border border-border bg-background px-3 py-2 text-sm",children:Id.map(x=>n.jsx("option",{value:x,children:x},x))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Description"}),n.jsx("textarea",{value:a,onChange:x=>o(x.target.value),className:"w-full rounded-md border border-border bg-background px-3 py-2 text-sm min-h-[120px]",required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Attachments"}),n.jsx("input",{type:"file",disabled:!0,className:"text-sm text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"File uploads coming soon."})]}),n.jsx($,{type:"submit",disabled:i,children:i?"Submitting":"Submit request"})]})})})]})},lF={dsr_deadline:"DSR",policy_expiring:"Policy",dpia_required:"DPIA",incident_alert:"Incident",ai_recommendation:"AI",system_health:"System"},cF={dsr_deadline:"bg-amber-50 text-amber-700 border-amber-200",policy_expiring:"bg-sky-50 text-sky-700 border-sky-200",dpia_required:"bg-emerald-50 text-emerald-700 border-emerald-200",incident_alert:"bg-rose-50 text-rose-700 border-rose-200",ai_recommendation:"bg-purple-50 text-purple-700 border-purple-200",system_health:"bg-slate-100 text-slate-700 border-slate-200"},dF=({type:e})=>n.jsx("span",{className:`inline-flex items-center rounded-full border px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide ${cF[e]}`,children:lF[e]}),uF={dsr_deadline:n.jsx(Pp,{className:"h-4 w-4 text-amber-600"}),policy_expiring:n.jsx(mn,{className:"h-4 w-4 text-amber-600"}),dpia_required:n.jsx(ta,{className:"h-4 w-4 text-rose-600"}),incident_alert:n.jsx(Ab,{className:"h-4 w-4 text-rose-600"}),ai_recommendation:n.jsx(Qe,{className:"h-4 w-4 text-purple-600"}),system_health:n.jsx(Cp,{className:"h-4 w-4 text-sky-600"})},fF={info:"bg-sky-500",warning:"bg-amber-500",critical:"bg-rose-500"},pF=e=>{const t=new Date(e),s=Date.now(),r=Math.max(0,s-t.getTime()),a=Math.floor(r/6e4);if(a<1)return"just now";if(a<60)return`${a}m ago`;const o=Math.floor(a/60);return o<24?`${o}h ago`:`${Math.floor(o/24)}d ago`},mF=({notification:e})=>{const{markAsRead:t}=Sc(),s=is(),r=async()=>{await t(e.id),e.link&&s(e.link)};return n.jsxs("div",{className:`flex cursor-pointer items-start gap-3 rounded-lg border border-slate-200 bg-white px-4 py-3 shadow-sm transition hover:bg-slate-50 focus-within:bg-slate-50 ${e.read?"opacity-90":""}`,tabIndex:0,role:"button",onClick:r,onKeyDown:a=>{(a.key==="Enter"||a.key===" ")&&(a.preventDefault(),r())},children:[n.jsxs("div",{className:"relative",children:[uF[e.type],!e.read&&n.jsx("span",{className:"absolute -right-1 -top-1 h-2 w-2 rounded-full bg-sky-500"})]}),n.jsxs("div",{className:"flex-1 space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(dF,{type:e.type}),n.jsx("span",{className:`h-2 w-2 rounded-full ${fF[e.severity]}`}),n.jsx("p",{className:"text-sm font-semibold text-slate-900",children:e.title})]}),n.jsx("p",{className:"text-sm text-slate-700",children:e.description}),n.jsx("p",{className:"text-xs text-slate-500",children:pF(e.createdAt)})]})]})},hF=({notifications:e})=>e.length===0?n.jsx("p",{className:"text-sm text-muted-foreground",children:"You are all caught up. No notifications to show."}):n.jsx("div",{className:"space-y-3",children:e.map(t=>n.jsx(mF,{notification:t},t.id))}),xF=()=>{const{notifications:e,markAllAsRead:t,isLoading:s,isError:r}=Sc();return n.jsxs("div",{className:"space-y-6 p-6",children:[n.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-slate-900",children:"Notifications"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Review all system notifications related to your GDPR compliance."})]}),n.jsx($,{variant:"outline",size:"sm",onClick:t,children:"Mark all as read"})]}),n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:[s&&n.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading notifications..."}),r&&n.jsx("p",{className:"text-sm text-red-600",children:"Failed to load notifications."}),!s&&!r&&n.jsx(hF,{notifications:e})]})]})},gF=e=>e>=80?"bg-emerald-50 text-emerald-700 border-emerald-200":e>=60?"bg-amber-50 text-amber-700 border-amber-200":"bg-rose-50 text-rose-700 border-rose-200",yF=e=>{if(!e)return"";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},vF=({overallScore:e,lastRunAt:t})=>n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:[n.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Overall GDPR audit score"}),n.jsxs("div",{className:"mt-2 flex items-end gap-3",children:[n.jsx("p",{className:"text-4xl font-semibold text-slate-900",children:e}),n.jsx("span",{className:`rounded-full border px-3 py-1 text-xs font-semibold ${gF(e)}`,children:e>=80?"Good":e>=60?"Needs attention":"Critical"})]}),n.jsxs("p",{className:"mt-2 text-sm text-slate-600",children:["Latest run: ",yF(t)]})]}),bF={good:"bg-emerald-50 text-emerald-700 border-emerald-200",needs_attention:"bg-amber-50 text-amber-700 border-amber-200",critical:"bg-rose-50 text-rose-700 border-rose-200"},wF=({area:e})=>n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-slate-900",children:e.name}),n.jsxs("p",{className:"text-xs text-slate-500",children:["Recommendations: ",e.recommendationsCount]})]}),n.jsx("span",{className:`rounded-full border px-3 py-1 text-xs font-semibold ${bF[e.status]}`,children:e.status==="good"?"Good":e.status==="critical"?"Critical":"Needs attention"})]}),n.jsxs("div",{className:"mt-3",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm font-semibold text-slate-900",children:[n.jsx("span",{children:"Score"}),n.jsx("span",{children:e.score})]}),n.jsx("div",{className:"mt-2 h-2 w-full rounded-full bg-slate-100",children:n.jsx("div",{className:`h-2 rounded-full ${e.score>=80?"bg-emerald-500":e.score>=60?"bg-amber-500":"bg-rose-500"}`,style:{width:`${e.score}%`}})})]}),n.jsx("p",{className:"mt-3 text-sm text-slate-700",children:e.summary})]}),jF={dsr:"Data subject requests",policies:"Policies",documents:"Documents",dpia:"DPIA",ropa:"ROPA",incidents:"Incidents",security_measures:"Security measures"},NF={low:"bg-slate-100 text-slate-700 border-slate-200",medium:"bg-amber-50 text-amber-700 border-amber-200",high:"bg-rose-50 text-rose-700 border-rose-200"},kF=({recommendations:e})=>e.length===0?n.jsx("p",{className:"text-sm text-muted-foreground",children:"No recommendations. You are all set."}):n.jsx("div",{className:"space-y-3",children:e.map(t=>n.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4 shadow-sm",children:[n.jsx("div",{className:"flex items-center justify-between gap-2",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"rounded-full border border-slate-200 bg-slate-50 px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide text-slate-700",children:jF[t.area]}),n.jsxs("span",{className:`rounded-full border px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide ${NF[t.severity]}`,children:[t.severity," priority"]})]})}),n.jsx("p",{className:"mt-2 text-sm font-semibold text-slate-900",children:t.title}),n.jsx("p",{className:"text-sm text-slate-700",children:t.description}),t.estimatedImpact&&n.jsxs("p",{className:"text-xs text-slate-500",children:["Impact: ",t.estimatedImpact]})]},t.id))}),SF=e=>{const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},CF=(e,t)=>{const s=new Date(e),r=new Date(t);return Number.isNaN(s.getTime())||Number.isNaN(r.getTime())?"":`${(Math.max(0,r.getTime()-s.getTime())/1e3).toFixed(1)}s`},PF=({history:e})=>e.length===0?n.jsx("p",{className:"text-sm text-muted-foreground",children:"No audit runs yet."}):n.jsx("div",{className:"overflow-auto rounded-xl border border-slate-200 bg-white shadow-sm",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b bg-slate-50 text-left text-slate-500",children:[n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Date"}),n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Overall score"}),n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Duration"}),n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Recommendations"})]})}),n.jsx("tbody",{children:e.slice(0,8).map(t=>n.jsxs("tr",{className:"border-b last:border-0",children:[n.jsx("td",{className:"py-3 pr-4 text-foreground",children:SF(t.createdAt)}),n.jsx("td",{className:"py-3 pr-4 text-foreground",children:t.overallScore}),n.jsx("td",{className:"py-3 pr-4 text-foreground",children:CF(t.createdAt,t.completedAt)}),n.jsx("td",{className:"py-3 pr-4 text-foreground",children:t.recommendations.length})]},t.id))})]})}),lg=({onRun:e,isRunning:t})=>n.jsxs($,{onClick:e,disabled:t,className:"inline-flex items-center gap-2",children:[t?n.jsx(Ns,{className:"h-4 w-4 animate-spin"}):n.jsx(Qe,{className:"h-4 w-4"}),t?"Running audit":"Run AI audit"]}),cg=e=>["dsr","policies","documents","dpia","ropa","incidents","security_measures"].includes(e)?e:"policies",AF=e=>["good","needs_attention","critical"].includes(e)?e:"needs_attention",EF=e=>["low","medium","high"].includes(e)?e:"medium",Wa=e=>({id:(e==null?void 0:e.id)??(e==null?void 0:e._id)??"",createdAt:(e==null?void 0:e.createdAt)??(e==null?void 0:e.created_at)??"",completedAt:(e==null?void 0:e.completedAt)??(e==null?void 0:e.completed_at)??(e==null?void 0:e.finished_at)??"",overallScore:(e==null?void 0:e.overallScore)??(e==null?void 0:e.score)??0,areas:Array.isArray(e==null?void 0:e.areas)?e.areas.map(t=>({key:cg((t==null?void 0:t.key)??(t==null?void 0:t.id)),name:(t==null?void 0:t.name)??"",score:(t==null?void 0:t.score)??0,status:AF(t==null?void 0:t.status),summary:(t==null?void 0:t.summary)??"",recommendationsCount:(t==null?void 0:t.recommendationsCount)??(t==null?void 0:t.recommendations_count)??0})):[],recommendations:Array.isArray(e==null?void 0:e.recommendations)?e.recommendations.map(t=>({id:(t==null?void 0:t.id)??(t==null?void 0:t._id)??"",area:cg(t==null?void 0:t.area),title:(t==null?void 0:t.title)??"",description:(t==null?void 0:t.description)??"",severity:EF(t==null?void 0:t.severity),estimatedImpact:(t==null?void 0:t.estimatedImpact)??(t==null?void 0:t.estimated_impact)??void 0})):[]}),RF=e=>{if(Array.isArray(e))return e.map(Wa);const t=e;return Array.isArray(t==null?void 0:t.items)?t.items.map(Wa):Array.isArray(t==null?void 0:t.history)?t.history.map(Wa):[]};async function TF(){const e=await V.get("/ai/audit/latest");return e.data?Wa(e.data):null}async function DF(){const e=await V.get("/ai/audit/history");return RF(e.data)}async function _F(){const e=await V.post("/ai/audit/run");return Wa(e.data)}function LF(){const[e,t]=y.useState(null),[s,r]=y.useState([]),[a,o]=y.useState(!1),[i,l]=y.useState(!1),[d,c]=y.useState(!1),u=y.useRef(!0);y.useEffect(()=>()=>{u.current=!1},[]);const f=y.useCallback(async()=>{l(!0),c(!1);try{const[g,x]=await Promise.all([TF(),DF()]);if(!u.current)return;g&&t(g),r(x)}catch{u.current&&c(!0)}finally{u.current&&l(!1)}},[]);y.useEffect(()=>{f()},[f]);const m=y.useCallback(async()=>{o(!0),c(!1);try{const g=await _F();if(!u.current)return;t(g),r(x=>[g,...x])}catch{u.current&&c(!0)}finally{u.current&&o(!1)}},[]);return{latestRun:e,history:s,isRunning:a,isLoading:i,isError:d,runAudit:m}}const MF=()=>{const{latestRun:e,history:t,isRunning:s,isLoading:r,isError:a,runAudit:o}=LF();return n.jsxs("div",{className:"space-y-6 p-6",children:[n.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-slate-900",children:"AI Audit Engine"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Get an AI-generated overview of your GDPR compliance and prioritized recommendations."})]}),n.jsx(lg,{onRun:o,isRunning:s})]}),r&&n.jsxs("div",{className:"space-y-3 rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:[n.jsx(ye,{className:"h-6 w-48"}),n.jsx(ye,{className:"h-4 w-72"}),n.jsx("div",{className:"grid gap-3 md:grid-cols-3",children:Array.from({length:3}).map((i,l)=>n.jsx(ye,{className:"h-24 w-full rounded-xl"},l))})]}),a&&n.jsx("div",{className:"rounded-xl border border-rose-200 bg-rose-50 p-6 text-sm text-rose-700",children:"Failed to load AI audit data. Please try again."}),!r&&!e?n.jsxs("div",{className:"rounded-xl border border-dashed border-slate-300 bg-slate-50 p-6 text-center text-sm text-slate-600",children:[n.jsx("p",{className:"font-semibold text-slate-800",children:"No audit run yet"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Run your first AI audit to see compliance insights."}),n.jsx("div",{className:"mt-4 flex justify-center",children:n.jsx(lg,{onRun:o,isRunning:s})})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsx("div",{className:"md:col-span-1",children:n.jsx(vF,{overallScore:e.overallScore,lastRunAt:e.completedAt})}),n.jsxs("div",{className:"md:col-span-2 rounded-xl border border-slate-200 bg-white p-4 shadow-sm text-sm text-slate-700",children:[n.jsx("p",{className:"font-semibold text-slate-900",children:"Latest run"}),n.jsxs("p",{children:["Completed: ",new Date(e.completedAt).toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})]}),n.jsx("p",{className:"text-slate-600",children:"The audit reviews key GDPR areas including DSR handling, policies, DPIA, ROPA, incidents, and security measures."})]})]}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:e.areas.map(i=>n.jsx(wF,{area:i},i.key))}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-3 rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"AI recommendations"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Prioritized actions to improve compliance."})]})}),n.jsx(kF,{recommendations:e.recommendations})]}),n.jsxs("div",{className:"space-y-3 rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Recent audit runs"}),n.jsx("p",{className:"text-sm text-slate-600",children:"History of recent AI audits."})]})}),n.jsx(PF,{history:t})]})]})]})]})},IF=({label:e="Thinking with AURA AI..."})=>n.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:[n.jsx(Ns,{className:"h-4 w-4 animate-spin text-sky-600"}),e]}),OF=({message:e})=>e?n.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-sm text-rose-700",children:[n.jsx(mn,{className:"h-4 w-4"}),n.jsx("span",{children:e})]}):null,FF=({sources:e})=>!e||e.length===0?null:n.jsxs("div",{className:"space-y-2 rounded-lg border border-slate-200 bg-white p-4 shadow-sm",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-slate-900",children:[n.jsx(vb,{className:"h-4 w-4 text-sky-600"}),"Sources"]}),n.jsx("div",{className:"space-y-3",children:e.map(t=>n.jsxs("div",{className:"rounded-md border border-slate-100 bg-slate-50 p-3",children:[n.jsx("p",{className:"text-sm font-semibold text-slate-900",children:t.title}),t.snippet&&n.jsx("p",{className:"text-sm text-slate-600",children:t.snippet}),t.url&&n.jsx("a",{href:t.url,target:"_blank",rel:"noreferrer",className:"text-xs text-sky-700 underline",children:"View source"})]},t.id))})]}),UF=e=>Array.isArray(e)?e.map(t=>{if(typeof t!="object"||!t)return null;const s=t,r=typeof s.id=="string"?s.id:typeof s._id=="string"?s._id:void 0;return r?{id:r,title:typeof s.title=="string"?s.title:"Source",snippet:typeof s.snippet=="string"?s.snippet:void 0,url:typeof s.url=="string"?s.url:void 0}:null}).filter(t=>!!(t!=null&&t.id)):[],$F=e=>e instanceof Error?e.message:typeof e=="string"?e:typeof e=="object"&&e&&"message"in e&&typeof e.message=="string"?e.message:"Unknown error while calling AI service",VF=e=>typeof e=="string"&&["good","needs_attention","critical"].includes(e)?e:"needs_attention",zF=e=>{if(typeof e!="object"||!e)return null;const t=e,s=typeof t.id=="string"?t.id:typeof t._id=="string"?t._id:void 0;return s?{id:s,name:typeof t.name=="string"?t.name:"Area",score:typeof t.score=="number"?t.score:typeof t.score=="string"&&Number(t.score)||0,status:VF(t.status),summary:typeof t.summary=="string"?t.summary:""}:null},BF=e=>Array.isArray(e)?e.filter(t=>typeof t=="string"):typeof e=="string"?e.split(/\n|;/).map(t=>t.trim()).filter(Boolean):[];async function WF(){try{const t=(await V.post("/ai/audit/run-v2")).data??{},s=Array.isArray(t.areas)?t.areas:Array.isArray(t.area_results)?t.area_results:[];return{overallScore:typeof t.overallScore=="number"?t.overallScore:typeof t.score=="number"?t.score:0,areas:s.map(zF).filter(r=>!!r),recommendations:BF(t.recommendations),sources:UF(t.sources??[])}}catch(e){throw new Error($F(e))}}function qF(){const[e,t]=y.useState(null),[s,r]=y.useState(!1),[a,o]=y.useState(null),i=y.useCallback(async()=>{r(!0),o(null);try{const l=await WF();return t(l),l}catch(l){const d=l instanceof Error?l.message:"Failed to run AI audit v2";throw o(d),l}finally{r(!1)}},[]);return{result:e,loading:s,error:a,run:i}}const HF=e=>e>=80?"text-emerald-700":e>=60?"text-amber-700":"text-rose-700",GF=()=>{const{result:e,loading:t,error:s,run:r}=qF();return n.jsxs("div",{className:"space-y-4 rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("p",{className:"flex items-center gap-2 text-sm font-semibold text-slate-900",children:[n.jsx(Qe,{className:"h-4 w-4 text-sky-600"})," AI Audit v2"]}),n.jsx("p",{className:"text-xs text-slate-500",children:"Run a full AI audit across policies, DPIAs, ROPA, and incidents."})]}),n.jsx($,{onClick:r,disabled:t,children:t?"Thinking...":"Run AI Audit"})]}),t&&n.jsx(IF,{label:"Running AI audit..."}),s&&n.jsx(OF,{message:s}),e&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-baseline gap-3 rounded-lg border border-slate-100 bg-slate-50 p-4",children:[n.jsx(pA,{className:"h-10 w-10 text-sky-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Overall score"}),n.jsx("p",{className:`text-3xl font-bold ${HF(e.overallScore)}`,children:e.overallScore})]})]}),n.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[e.areas.map(a=>n.jsxs("div",{className:"space-y-2 rounded-lg border border-slate-200 bg-white p-4 shadow-sm",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm font-semibold text-slate-900",children:a.name}),n.jsxs("span",{className:"text-xs text-slate-500",children:["Score: ",a.score]})]}),n.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:a.status.replace("_"," ")}),n.jsx("p",{className:"text-sm text-slate-700",children:a.summary})]},a.id)),e.areas.length===0&&n.jsx("p",{className:"text-sm text-slate-500",children:"No area details returned."})]}),e.recommendations.length>0&&n.jsxs("div",{className:"space-y-2 rounded-lg border border-slate-200 bg-white p-4 shadow-sm",children:[n.jsxs("p",{className:"flex items-center gap-2 text-sm font-semibold text-slate-900",children:[n.jsx(yA,{className:"h-4 w-4 text-sky-600"})," Recommendations"]}),n.jsx("ul",{className:"list-disc space-y-1 pl-5 text-sm text-slate-700",children:e.recommendations.map((a,o)=>n.jsx("li",{children:a},`${a}-${o}`))})]}),n.jsx(FF,{sources:e.sources})]})]})},KF=()=>n.jsxs("div",{className:"space-y-6 p-6",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-slate-900",children:"AI Audit Engine v2"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Run the next-generation AI audit with contextual recommendations and source links."})]}),n.jsx(GF,{})]}),YF=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsx(Uo,{title:"DSR Portal Settings",description:"Configure public DSR portal options (placeholder)."}),n.jsx(J,{children:n.jsx(te,{className:"p-4 text-sm text-muted-foreground",children:"Portal settings will be available here. Configure branding, allowed request types, and notification preferences."})})]}),ja=({label:e,description:t,checked:s,onChange:r})=>n.jsxs("div",{className:"flex items-center justify-between rounded-md border border-border p-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:e}),t&&n.jsx("p",{className:"text-xs text-muted-foreground",children:t})]}),n.jsx($o,{checked:s,onCheckedChange:r,"aria-label":e})]}),XF=({open:e,onClose:t})=>e?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 bg-black/40 z-40",onClick:t}),n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"w-full max-w-2xl bg-background rounded-lg shadow-2xl border border-border",children:[n.jsxs("div",{className:"flex items-center justify-between border-b border-border px-4 py-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs uppercase text-muted-foreground",children:"Preview"}),n.jsx("h3",{className:"text-lg font-semibold",children:"Email preview"})]}),n.jsx($,{variant:"ghost",size:"icon",onClick:t,"aria-label":"Close preview",children:n.jsx(Re,{className:"h-5 w-5"})})]}),n.jsx("div",{className:"p-4 space-y-3",children:n.jsxs(J,{children:[n.jsxs(ae,{children:[n.jsx(ie,{children:"Your DPIA was approved"}),n.jsx(st,{children:"Example notification email"})]}),n.jsxs(te,{className:"text-sm space-y-2",children:[n.jsx("p",{children:"Hello,"}),n.jsx("p",{children:"Your recent DPIA has been reviewed and approved by the DPO."}),n.jsx("p",{children:"You can view the details in your AURA-GDPR dashboard."}),n.jsx("p",{className:"text-muted-foreground text-xs",children:"This is a preview. Actual email content may vary."})]})]})})]})})]}):null,QF={dsr_reminders:!1,incident_alerts:!1,dpia_approvals:!1,task_reminders:!1,system_alerts:!1},ZF=()=>{const[e,t]=y.useState(null),[s,r]=y.useState(!0),[a,o]=y.useState(null),[i,l]=y.useState(!1),d=y.useCallback(async()=>{try{r(!0),o(null);const u=await V.get("/settings/notifications");t(u.data)}catch(u){o((u==null?void 0:u.message)??"Failed to load notification settings"),t(QF)}finally{r(!1)}},[]);y.useEffect(()=>{d()},[d]);const c=y.useCallback(async u=>{l(!0),o(null);try{await V.patch("/settings/notifications",u),t(u)}catch(f){throw o((f==null?void 0:f.message)??"Failed to save notification settings"),f}finally{l(!1)}},[]);return{data:e,loading:s,error:a,saving:i,reload:d,saveSettings:c}},JF=()=>{const{data:e,loading:t,error:s,saving:r,reload:a,saveSettings:o}=ZF(),[i,l]=y.useState(null),[d,c]=y.useState(!1),{toast:u}=St();y.useEffect(()=>{e&&l(e)},[e]);const f=(g,x)=>{l(b=>b&&{...b,[g]:x})},m=async()=>{if(i)try{await o(i),u({title:"Settings saved",description:"Notification preferences updated."})}catch(g){u({variant:"destructive",title:"Save failed",description:(g==null?void 0:g.message)??"Unable to save settings."})}};return n.jsxs("div",{className:"space-y-6",children:[n.jsx(Uo,{title:"Notification Settings",description:"Configure email alerts for GDPR-critical events.",actions:n.jsxs("div",{className:"flex gap-2",children:[n.jsx($,{variant:"outline",size:"sm",onClick:()=>c(!0),children:"Preview email"}),n.jsx($,{variant:"outline",size:"sm",onClick:a,disabled:t,children:"Reload"})]})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx($r,{to:"/app/settings",className:({isActive:g})=>`px-3 py-2 rounded-md text-sm ${g?"bg-slate-200 dark:bg-slate-700 font-semibold":"text-muted-foreground"}`,children:"Profile"}),n.jsx($r,{to:"/app/settings/notifications",className:({isActive:g})=>`px-3 py-2 rounded-md text-sm ${g?"bg-slate-200 dark:bg-slate-700 font-semibold":"text-muted-foreground"}`,children:"Notifications"})]}),s&&n.jsx(J,{children:n.jsxs(te,{className:"p-4 text-sm text-destructive flex items-center justify-between",children:[n.jsxs("span",{children:["Failed to load settings: ",s]}),n.jsx($,{size:"sm",variant:"outline",onClick:a,children:"Retry"})]})}),t||!i?n.jsx(J,{children:n.jsxs(te,{className:"p-4 space-y-3",children:[n.jsx(ye,{className:"h-10 w-full"}),n.jsx(ye,{className:"h-10 w-full"}),n.jsx(ye,{className:"h-10 w-full"})]})}):n.jsx(J,{children:n.jsxs(te,{className:"p-4 space-y-3",children:[n.jsx(ja,{label:"DSR reminders",description:"Email reminders for pending data subject requests.",checked:i.dsr_reminders,onChange:g=>f("dsr_reminders",g)}),n.jsx(ja,{label:"Incident alerts",description:"Alerts for new or updated incidents.",checked:i.incident_alerts,onChange:g=>f("incident_alerts",g)}),n.jsx(ja,{label:"DPIA approvals",description:"Notifications when DPIAs require or receive approval.",checked:i.dpia_approvals,onChange:g=>f("dpia_approvals",g)}),n.jsx(ja,{label:"Task reminders",description:"Reminders for upcoming or overdue tasks.",checked:i.task_reminders,onChange:g=>f("task_reminders",g)}),n.jsx(ja,{label:"System alerts",description:"System-level notifications for platform events.",checked:i.system_alerts,onChange:g=>f("system_alerts",g)}),n.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[n.jsx($,{variant:"outline",onClick:a,disabled:t,children:"Reset"}),n.jsx($,{onClick:m,disabled:r,children:r?"Saving":"Save"})]})]})}),n.jsx(XF,{open:d,onClose:()=>c(!1)})]})},Dl={draft:"Draft",in_review:"In review",approved:"Approved",published:"Published",archived:"Archived"},vo={privacy_policy:"Privacy Policy",cookie_policy:"Cookie Policy",data_processing_agreement:"Data Processing Agreement",data_retention_policy:"Data Retention Policy",information_security_policy:"Information Security Policy",internal_guideline:"Internal Guideline",other:"Other"},e7=({search:e,status:t,type:s,onSearch:r,onStatusChange:a,onTypeChange:o})=>n.jsxs("div",{className:"flex flex-col gap-3 rounded-xl border border-slate-200 bg-white p-4 shadow-sm md:flex-row md:items-center md:justify-between",children:[n.jsx("input",{type:"text",value:e,onChange:i=>r(i.target.value),placeholder:"Search policies...",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100"}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[n.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:t,onChange:i=>a(i.target.value),children:[n.jsx("option",{value:"all",children:"All statuses"}),Object.keys(Dl).map(i=>n.jsx("option",{value:i,children:Dl[i]},i))]}),n.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:s,onChange:i=>o(i.target.value),children:[n.jsx("option",{value:"all",children:"All types"}),Object.keys(vo).map(i=>n.jsx("option",{value:i,children:vo[i]},i))]})]})]}),t7={draft:"bg-slate-100 text-slate-700 border-slate-200",in_review:"bg-amber-50 text-amber-700 border-amber-200",approved:"bg-sky-50 text-sky-700 border-sky-200",published:"bg-emerald-50 text-emerald-700 border-emerald-200",archived:"bg-slate-50 text-slate-500 border-slate-200"},B1=({status:e})=>n.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-semibold ${t7[e]}`,children:Dl[e]}),s7=e=>{const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},n7=({policy:e,onClick:t})=>n.jsxs("tr",{className:"cursor-pointer border-b last:border-0 hover:bg-slate-50 focus-within:bg-slate-50",tabIndex:0,role:"button",onClick:t,onKeyDown:s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),t())},children:[n.jsx("td",{className:"py-3 pr-4 font-semibold text-foreground",children:e.name}),n.jsx("td",{className:"py-3 pr-4 text-foreground capitalize",children:e.type.replaceAll("_"," ")}),n.jsx("td",{className:"py-3 pr-4",children:n.jsx(B1,{status:e.status})}),n.jsx("td",{className:"py-3 pr-4 text-foreground",children:e.owner}),n.jsx("td",{className:"py-3 pr-4 text-foreground",children:s7(e.lastUpdated)})]}),r7=({policies:e,onSelect:t,isLoading:s,isError:r,errorMessage:a,onRetry:o,hasPolicies:i,onCreate:l})=>s?n.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading policies..."}):r?n.jsx(Ee,{title:"Unable to load policies",description:a||"Something went wrong while loading data. Please try again.",actionLabel:o?"Retry":void 0,onAction:o,className:"bg-rose-50 border-rose-200"}):e.length===0?i?n.jsx(Ee,{title:"No policies match these filters",description:"Try adjusting filters or start a new policy.",actionLabel:"New policy",onAction:l}):n.jsx(Ee,{title:"No policies yet",description:"Use this space to manage internal and external GDPR policies. Create your first policy to get started.",actionLabel:"New policy",onAction:l}):n.jsx("div",{className:"overflow-auto rounded-lg border border-slate-200 bg-white shadow-sm",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b bg-slate-50 text-left text-slate-500",children:[n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Name"}),n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Type"}),n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Status"}),n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Owner"}),n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Last updated"})]})}),n.jsx("tbody",{children:e.map(d=>n.jsx(n7,{policy:d,onClick:()=>t(d)},d.id))})]})}),a7=["draft","in_review","approved","published","archived"],o7=["privacy_policy","cookie_policy","data_processing_agreement","data_retention_policy","information_security_policy","internal_guideline","other"],dg=e=>{if(!e)return"N/A";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},i7=({policy:e,isOpen:t,mode:s,onClose:r,onSave:a,onRegenerateAi:o,aiGenerating:i,isLoading:l=!1,isSaving:d=!1,aiError:c=null,showAiDraftNote:u=!1})=>{var w;const[f,m]=C.useState(e),g=C.useRef(null);if(C.useEffect(()=>{t&&m(e)},[e,t]),C.useEffect(()=>{var E;if(!t)return;const j=P=>{if(P.key==="Escape"&&r(),P.key==="Tab"&&g.current){const S=g.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(S.length===0)return;const N=S[0],A=S[S.length-1];!P.shiftKey&&document.activeElement===A?(P.preventDefault(),N.focus()):P.shiftKey&&document.activeElement===N&&(P.preventDefault(),A.focus())}};document.addEventListener("keydown",j);const k=(E=g.current)==null?void 0:E.querySelector("input, select, textarea, button");return k==null||k.focus(),()=>document.removeEventListener("keydown",j)},[t,r]),!t||!f)return null;const x=s==="create"||s==="edit",b=(j,k)=>{m(E=>E&&{...E,[j]:k})},v=()=>{f.name.trim()&&a(f)},h=j=>{j.target===j.currentTarget&&r()},p=async()=>{o&&await o({policyType:f.type,contextDescription:f.summary})};return n.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/30 backdrop-blur-sm",onMouseDown:h,children:n.jsxs("div",{className:"flex h-full w-full max-w-2xl flex-col overflow-y-auto bg-white shadow-2xl",ref:g,children:[n.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-5 py-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:f.name||"Untitled policy"}),n.jsx(B1,{status:f.status})]}),n.jsx("p",{className:"text-sm text-slate-600 capitalize",children:vo[f.type]})]}),n.jsx("button",{type:"button",onClick:r,className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:n.jsx(Re,{className:"h-5 w-5"})})]}),n.jsxs("div",{className:"space-y-4 p-5",children:[l&&n.jsx("p",{className:"text-sm text-slate-500",children:"Loading policy..."}),l&&n.jsx("p",{className:"text-sm text-slate-500",children:"Loading policy details..."}),n.jsxs("div",{className:"space-y-3 rounded-lg border border-slate-200 bg-white p-4",children:[n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Name"}),n.jsx("input",{type:"text",value:f.name,onChange:j=>b("name",j.target.value),disabled:!x||d,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Type"}),n.jsx("select",{value:f.type,onChange:j=>b("type",j.target.value),disabled:!x||d,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:o7.map(j=>n.jsx("option",{value:j,children:vo[j]},j))})]}),n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Status"}),n.jsx("select",{value:f.status,onChange:j=>b("status",j.target.value),disabled:!x||d,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:a7.map(j=>n.jsx("option",{value:j,children:Dl[j]},j))})]})]}),n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Owner"}),n.jsx("input",{type:"text",value:f.owner,onChange:j=>b("owner",j.target.value),disabled:!x||d,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Tags (comma separated)"}),n.jsx("input",{type:"text",value:((w=f.tags)==null?void 0:w.join(", "))||"",onChange:j=>b("tags",j.target.value.split(",").map(k=>k.trim()).filter(Boolean)),disabled:!x||d,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Summary"}),n.jsx("textarea",{value:f.summary||"",onChange:j=>b("summary",j.target.value),disabled:!x||d,className:"min-h-[80px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",placeholder:"Short summary of the policy."})]}),n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Content"}),n.jsx("textarea",{value:f.content||"",onChange:j=>b("content",j.target.value),disabled:!x||d,className:"min-h-[200px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",placeholder:"Full policy content."})]}),u&&n.jsx("p",{className:"text-xs text-slate-500",children:"This is an AI-generated draft. Please review before publishing."}),o&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs($,{type:"button",variant:"outline",size:"sm",className:"inline-flex items-center gap-2",onClick:p,disabled:i,children:[n.jsx(kA,{className:"h-4 w-4"}),i?"Regenerating with AI":"Regenerate with AI"]}),c&&n.jsx("p",{className:"text-xs text-rose-600",children:c})]})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-3 rounded-lg border border-slate-200 bg-slate-50 p-4 text-sm text-slate-700 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-slate-800",children:"Created"}),n.jsx("p",{children:dg(f.createdAt)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-slate-800",children:"Last updated"}),n.jsx("p",{children:dg(f.lastUpdated)})]})]})]}),n.jsx("div",{className:"sticky bottom-0 border-t border-slate-200 bg-white p-4",children:n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[s!=="create"&&f.id&&n.jsx(oa,{resourceType:"policy",resourceId:f.id}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx($,{variant:"outline",onClick:r,children:s==="create"?"Cancel":"Close"}),x&&n.jsx($,{onClick:v,disabled:i||d,children:s==="create"?"Create policy":"Save changes"})]})]})})]})})},l7=["privacy_policy","cookie_policy","data_processing_agreement","data_retention_policy","information_security_policy","internal_guideline"],c7=({onNewBlank:e,onGenerateWithAi:t,aiGenerating:s,aiError:r})=>{const[a,o]=C.useState(!1),[i,l]=C.useState({policyType:"privacy_policy",contextDescription:""}),d=()=>{t(i),o(!1)};return n.jsxs("div",{className:"relative",children:[n.jsxs($,{className:"inline-flex items-center gap-2",onClick:()=>o(c=>!c),children:[n.jsx(tc,{className:"h-4 w-4"}),"New policy",n.jsx(Ep,{className:"h-4 w-4"})]}),a&&n.jsxs("div",{className:"absolute right-0 z-20 mt-2 w-72 rounded-lg border border-slate-200 bg-white shadow-lg",children:[n.jsxs("button",{type:"button",className:"flex w-full items-start gap-2 px-4 py-3 text-left text-sm text-slate-800 hover:bg-slate-50",onClick:()=>{e(),o(!1)},children:[n.jsx("span",{className:"font-semibold",children:"Blank policy"}),n.jsx("span",{className:"text-xs text-slate-500",children:"Start from scratch."})]}),n.jsxs("div",{className:"border-t border-slate-200 px-4 py-3",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-slate-800",children:[n.jsx(Qe,{className:"h-4 w-4 text-sky-600"}),"Generate with AI"]}),n.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Provide context to draft a policy."}),n.jsxs("div",{className:"mt-3 space-y-2",children:[n.jsx("select",{value:i.policyType,onChange:c=>l(u=>({...u,policyType:c.target.value})),disabled:s,className:"w-full rounded-md border border-slate-200 px-2 py-2 text-sm text-slate-800 focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:l7.map(c=>n.jsx("option",{value:c,children:vo[c]},c))}),n.jsx("textarea",{value:i.contextDescription,onChange:c=>l(u=>({...u,contextDescription:c.target.value})),placeholder:"Short context (e.g. SaaS company serving EU customers)",disabled:s,className:"w-full rounded-md border border-slate-200 px-2 py-2 text-sm text-slate-800 focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",rows:3}),n.jsx($,{className:"w-full",onClick:d,disabled:s,children:s?"Generating with AI":"Generate policy draft"}),r&&n.jsx("p",{className:"text-xs text-rose-600",children:r})]})]})]})]})},On=e=>({...e,id:(e==null?void 0:e.id)??(e==null?void 0:e._id)??(e==null?void 0:e.policy_id)??"",lastUpdated:(e==null?void 0:e.lastUpdated)??(e==null?void 0:e.last_updated)??(e==null?void 0:e.updated_at)??(e==null?void 0:e.updatedAt)??"",createdAt:(e==null?void 0:e.createdAt)??(e==null?void 0:e.created_at)??"",tags:(e==null?void 0:e.tags)??[]}),d7=e=>{if(Array.isArray(e))return e.map(On);const t=e;return Array.isArray(t==null?void 0:t.items)?t.items.map(On):Array.isArray(t==null?void 0:t.policies)?t.policies.map(On):[]};async function u7(){try{const e=await V.get("/api/policies");return d7(e.data)}catch(e){if((e==null?void 0:e.status)===404)return[];throw e}}async function f7(e){const t=await V.get(`/api/policies/${e}`);return On(t.data)}async function p7(e){const t=await V.post("/api/policies",e);return On(t.data)}async function m7(e,t){const s=await V.put(`/api/policies/${e}`,t);return On(s.data)}async function h7(e,t){const s=await V.patch(`/api/policies/${e}`,t);return On(s.data)}async function ug(e){try{const s=(await V.post("/api/ai/policies/generate",{policy_type:e.policyType,context_description:e.contextDescription??"",language:"en"})).data??{};return{title:s.title??"",summary:s.summary??"",content:s.content??""}}catch{throw new Error("Failed to generate policy with AI")}}const x7="Something went wrong while loading data. Please try again.";function g7(){const[e,t]=y.useState([]),[s,r]=y.useState(!1),[a,o]=y.useState(!1),[i,l]=y.useState(!1),[d,c]=y.useState(null),u=y.useRef(!0);y.useEffect(()=>()=>{u.current=!1},[]);const f=y.useCallback(async()=>{r(!0),c(null);try{const v=await u7();u.current&&t(v)}catch(v){u.current&&((v==null?void 0:v.status)===404?(t([]),c(null)):c(x7))}finally{u.current&&r(!1)}},[]);y.useEffect(()=>{f()},[f]);const m=y.useCallback(async v=>{o(!0);try{const h=await f7(v);return u.current&&t(p=>p.map(w=>w.id===h.id?h:w)),h}finally{u.current&&o(!1)}},[]),g=y.useCallback(async v=>{l(!0);try{const h=await p7(v);return u.current&&t(p=>[h,...p]),h}finally{u.current&&l(!1)}},[]),x=y.useCallback(async(v,h)=>{l(!0);try{const p=await m7(v,h);return u.current&&t(w=>w.map(j=>j.id===p.id?p:j)),p}finally{u.current&&l(!1)}},[]),b=y.useCallback(async(v,h)=>{const p=await h7(v,h);return u.current&&t(w=>w.map(j=>j.id===p.id?p:j)),p},[]);return{policies:e,loading:s,detailLoading:a,saving:i,error:d,refresh:f,fetchOne:m,create:g,update:x,patch:b}}const y7=()=>{const{policies:e,loading:t,detailLoading:s,saving:r,error:a,refresh:o,create:i,update:l,fetchOne:d}=g7(),[c,u]=C.useState(""),[f,m]=C.useState("all"),[g,x]=C.useState("all"),[b,v]=C.useState(null),[h,p]=C.useState("view"),[w,j]=C.useState(!1),[k,E]=C.useState(null),[P,S]=C.useState(null),[N,A]=C.useState(!1),_=e.length>0,M=()=>{v(null),p("view"),S(null),A(!1)},F=C.useMemo(()=>e.filter(T=>{const O=T.name.toLowerCase().includes(c.toLowerCase())||(T.tags||[]).some(oe=>oe.toLowerCase().includes(c.toLowerCase()))||(T.summary||"").toLowerCase().includes(c.toLowerCase()),D=f==="all"?!0:T.status===f,W=g==="all"?!0:T.type===g;return O&&D&&W}),[e,c,f,g]),I=T=>{v(T),p("view"),A(!1),S(null),T.id&&d(T.id).then(O=>v(O)).catch(()=>{})},B=async T=>{if(h==="create"){const{id:O,...D}=T;await i(D)}else T.id&&await l(T.id,T);await o(),M()},U=()=>{const T=new Date().toISOString();A(!1),S(null),v({id:"",name:"New policy",type:"other",status:"draft",owner:"",lastUpdated:T,createdAt:T,summary:"",content:"",tags:[]}),p("create")},H=async T=>{j(!0),E(T),S(null);try{const O=await ug(T),D=new Date().toISOString();v({id:`policy-${Date.now()}`,name:O.title,type:T.policyType,status:"draft",owner:"You",lastUpdated:D,createdAt:D,summary:O.summary,content:O.content,tags:["ai-draft"]}),p("create"),A(!0)}catch{S("Failed to generate policy with AI. Please try again.")}finally{j(!1)}},R=async T=>{const O=T??k;if(O){E(O),j(!0),S(null);try{const D=await ug(O);v(W=>W&&{...W,name:D.title,summary:D.summary,content:D.content,tags:Array.from(new Set([...W.tags||[],"ai-draft"]))}),A(!0)}catch{S("Failed to generate policy with AI. Please try again.")}finally{j(!1)}}};return n.jsxs("div",{className:"space-y-6 p-6",children:[n.jsx("div",{className:"rounded-xl border border-slate-200 bg-white/95 p-6 shadow-sm",children:n.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-slate-900",children:"Policies"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Manage internal and external policies, such as privacy notices and data processing agreements."}),n.jsx("p",{className:"text-sm text-slate-600",children:"Draft or update policies quickly and keep a single source of truth for your organization."})]}),n.jsx(c7,{onNewBlank:U,onGenerateWithAi:H,aiGenerating:w,aiError:P})]})}),P&&n.jsx("p",{className:"text-sm text-rose-600",role:"alert",children:P}),n.jsx(Cc,{title:"Policy center",description:"Centralize policy creation, reviews, and publication. AI-assisted drafts will help you ship faster."}),n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white/95 p-6 shadow-sm",children:[n.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Policies guidance"}),n.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-4 text-sm text-slate-700",children:[n.jsx("li",{children:"Internal policies guide staff; public-facing policies inform customers."}),n.jsx("li",{children:"AI Policy Generator drafts starting content you can edit and approve."}),n.jsx("li",{children:"Store policies here, track updates, and keep a single source of truth."}),n.jsx("li",{children:"Export policies for audits, training, or website publication."})]})]}),n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white/95 p-6 shadow-sm space-y-4",children:[n.jsx(e7,{search:c,status:f,type:g,onSearch:u,onStatusChange:m,onTypeChange:x}),n.jsx(r7,{policies:F,onSelect:I,isLoading:t,isError:!!a,errorMessage:a,onRetry:o,hasPolicies:_,onCreate:U})]}),n.jsx(i7,{policy:b,isOpen:!!b,mode:h,onClose:M,onSave:B,isLoading:s,isSaving:r,onRegenerateAi:h==="create"&&k?R:void 0,aiGenerating:w,aiError:P,showAiDraftNote:N})]})},v7=({search:e,severity:t,status:s,onSearch:r,onSeverityChange:a,onStatusChange:o})=>n.jsxs("div",{className:"flex flex-col gap-3 rounded-xl border border-slate-200 bg-white p-4 shadow-sm md:flex-row md:items-center md:justify-between",children:[n.jsx("input",{type:"text",value:e,onChange:i=>r(i.target.value),placeholder:"Search incidents by title or system...",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100"}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[n.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:t,onChange:i=>a(i.target.value),children:[n.jsx("option",{value:"all",children:"All severities"}),n.jsx("option",{value:"low",children:"Low"}),n.jsx("option",{value:"medium",children:"Medium"}),n.jsx("option",{value:"high",children:"High"}),n.jsx("option",{value:"critical",children:"Critical"})]}),n.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:s,onChange:i=>o(i.target.value),children:[n.jsx("option",{value:"all",children:"All statuses"}),n.jsx("option",{value:"open",children:"Open"}),n.jsx("option",{value:"investigating",children:"Investigating"}),n.jsx("option",{value:"contained",children:"Contained"}),n.jsx("option",{value:"resolved",children:"Resolved"}),n.jsx("option",{value:"closed",children:"Closed"})]})]})]}),b7={open:"bg-sky-50 text-sky-700 border-sky-200",investigating:"bg-amber-50 text-amber-700 border-amber-200",contained:"bg-orange-50 text-orange-700 border-orange-200",resolved:"bg-emerald-50 text-emerald-700 border-emerald-200",closed:"bg-slate-100 text-slate-700 border-slate-200"},w7={open:"Open",investigating:"Investigating",contained:"Contained",resolved:"Resolved",closed:"Closed"},j7=({status:e})=>n.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-semibold ${b7[e]}`,children:w7[e]}),N7={low:"bg-slate-100 text-slate-700 border-slate-200",medium:"bg-amber-50 text-amber-700 border-amber-200",high:"bg-rose-50 text-rose-700 border-rose-200",critical:"bg-rose-600 text-white border-rose-700"},k7={low:"Low",medium:"Medium",high:"High",critical:"Critical"},S7=({severity:e})=>n.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-semibold ${N7[e]}`,children:k7[e]}),C7=e=>{const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},P7=({incident:e,onClick:t})=>n.jsxs("tr",{className:"cursor-pointer border-b last:border-0 hover:bg-slate-50 focus-within:bg-slate-50",tabIndex:0,role:"button",onClick:t,onKeyDown:s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),t())},children:[n.jsx("td",{className:"py-3 pr-4 font-semibold text-foreground",children:e.title}),n.jsx("td",{className:"py-3 pr-4 text-foreground",children:e.systemName}),n.jsx("td",{className:"py-3 pr-4",children:n.jsx(S7,{severity:e.severity})}),n.jsx("td",{className:"py-3 pr-4",children:n.jsx(j7,{status:e.status})}),n.jsx("td",{className:"py-3 pr-4 text-foreground",children:C7(e.lastUpdated)})]}),A7=({incidents:e,onSelect:t,isLoading:s,isError:r})=>s?n.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading incidents..."}):r?n.jsx("p",{className:"text-sm text-red-600",children:"Failed to load incidents."}):e.length===0?n.jsx("p",{className:"text-sm text-muted-foreground",children:"No incidents found for the selected filters."}):n.jsx("div",{className:"overflow-auto rounded-lg border border-slate-200 bg-white shadow-sm",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b bg-slate-50 text-left text-slate-500",children:[n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Title"}),n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"System"}),n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Severity"}),n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Status"}),n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Last updated"})]})}),n.jsx("tbody",{children:e.map(a=>n.jsx(P7,{incident:a,onClick:()=>t(a)},a.id))})]})}),E7=["low","medium","high","critical"],R7=["open","investigating","contained","resolved","closed"],T7=({incident:e,isOpen:t,mode:s,isLoading:r,isSaving:a,onClose:o,onSave:i,onStatusChange:l})=>{const[d,c]=C.useState(e),[u,f]=C.useState({}),[m,g]=C.useState({actor:"",action:"",notes:""}),x=C.useRef(null);if(C.useEffect(()=>{t&&(c(e),f({}),g({actor:"",action:"",notes:""}))},[e,t]),C.useEffect(()=>{var _;if(!t)return;const N=M=>{if(M.key==="Escape"&&o(),M.key==="Tab"&&x.current){const F=x.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(F.length===0)return;const I=F[0],B=F[F.length-1];!M.shiftKey&&document.activeElement===B?(M.preventDefault(),I.focus()):M.shiftKey&&document.activeElement===I&&(M.preventDefault(),B.focus())}};document.addEventListener("keydown",N);const A=(_=x.current)==null?void 0:_.querySelector("input, select, textarea, button");return A==null||A.focus(),()=>document.removeEventListener("keydown",N)},[t,o]),!t||!d&&!r)return null;const b=(s==="create"||s==="edit")&&!r,v=l&&(d==null?void 0:d.id)&&s!=="create",h=!!a,p=!!(r||h),w=(N,A)=>{c(_=>_&&{..._,[N]:A})},j=()=>{const N={};return d.title.trim()||(N.title="Title is required."),d.systemName.trim()||(N.systemName="System name is required."),d.description.trim()||(N.description="Description is required."),d.severity||(N.severity="Severity is required."),d.status||(N.status="Status is required."),f(N),Object.keys(N).length===0},k=async()=>{j()&&await i(d,s==="create"?"create":"edit")},E=async N=>{w("status",N),v&&(d!=null&&d.id)&&await(l==null?void 0:l(d.id,N))},P=N=>{N.target===N.currentTarget&&o()},S=()=>{var A;if(!m.actor.trim()||!m.action.trim())return;const N={id:`event-${Date.now()}`,actor:m.actor.trim(),action:m.action.trim(),notes:((A=m.notes)==null?void 0:A.trim())||void 0,timestamp:new Date().toISOString()};c(_=>_&&{..._,timeline:[N,..._.timeline]}),g({actor:"",action:"",notes:""})};return!d&&r?n.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/30 backdrop-blur-sm",onMouseDown:P,children:n.jsxs("div",{className:"flex h-full w-full max-w-2xl flex-col overflow-y-auto bg-white shadow-2xl",ref:x,children:[n.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-5 py-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Incident"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Loading incident..."})]}),n.jsx("button",{type:"button",onClick:o,className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:n.jsx(Re,{className:"h-5 w-5"})})]}),n.jsx("div",{className:"p-5 text-sm text-slate-600",children:"Loading incident..."})]})}):n.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/30 backdrop-blur-sm",onMouseDown:P,children:n.jsxs("div",{className:"flex h-full w-full max-w-2xl flex-col overflow-y-auto bg-white shadow-2xl",ref:x,children:[n.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-5 py-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:s==="create"?"New incident":d.title||"Incident"}),n.jsx("p",{className:"text-sm text-slate-600",children:d.systemName})]}),n.jsx("button",{type:"button",onClick:o,className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:n.jsx(Re,{className:"h-5 w-5"})})]}),r&&d&&n.jsx("div",{className:"px-5 py-2 text-sm text-slate-600",children:"Loading incident..."}),n.jsxs("div",{className:"space-y-4 p-5",children:[n.jsxs("div",{className:"space-y-3 rounded-lg border border-slate-200 bg-white p-4",children:[n.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Title"}),n.jsx("input",{type:"text",value:d.title,onChange:N=>w("title",N.target.value),disabled:!b||p,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),u.title&&n.jsx("p",{className:"text-xs text-rose-600",children:u.title})]}),n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"System"}),n.jsx("input",{type:"text",value:d.systemName,onChange:N=>w("systemName",N.target.value),disabled:!b||p,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),u.systemName&&n.jsx("p",{className:"text-xs text-rose-600",children:u.systemName})]})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-3",children:[n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Severity"}),n.jsx("select",{value:d.severity,onChange:N=>w("severity",N.target.value),disabled:!b||p,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:E7.map(N=>n.jsx("option",{value:N,children:N},N))}),u.severity&&n.jsx("p",{className:"text-xs text-rose-600",children:u.severity})]}),n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Status"}),n.jsx("select",{value:d.status,onChange:N=>E(N.target.value),disabled:!b&&!v||p,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:R7.map(N=>n.jsx("option",{value:N,children:N},N))}),u.status&&n.jsx("p",{className:"text-xs text-rose-600",children:u.status})]}),n.jsxs("div",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Detection method"}),n.jsx("input",{type:"text",value:d.detectionMethod,onChange:N=>w("detectionMethod",N.target.value),disabled:!b||p,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]})]}),n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Description"}),n.jsx("textarea",{value:d.description,onChange:N=>w("description",N.target.value),disabled:!b||p,className:"min-h-[90px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),u.description&&n.jsx("p",{className:"text-xs text-rose-600",children:u.description})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Affected data"}),n.jsx("textarea",{value:d.affectedData,onChange:N=>w("affectedData",N.target.value),disabled:!b||p,className:"min-h-[70px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Affected subjects"}),n.jsx("textarea",{value:d.affectedSubjects,onChange:N=>w("affectedSubjects",N.target.value),disabled:!b||p,className:"min-h-[70px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]})]})]}),n.jsxs("div",{className:"space-y-3 rounded-lg border border-slate-200 bg-white p-4",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"Timeline"})}),n.jsxs("div",{className:"space-y-3",children:[d.timeline.map(N=>n.jsxs("div",{className:"flex gap-3",children:[n.jsx("div",{className:"mt-1 h-2 w-2 rounded-full bg-sky-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-slate-900",children:N.action}),n.jsxs("p",{className:"text-xs text-slate-500",children:[new Date(N.timestamp).toLocaleString()," - ",N.actor]}),N.notes&&n.jsx("p",{className:"text-xs text-slate-600",children:N.notes})]})]},N.id)),d.timeline.length===0&&n.jsx("p",{className:"text-sm text-muted-foreground",children:"No timeline events yet."})]}),b&&n.jsxs("div",{className:"space-y-2 rounded-lg border border-dashed border-slate-200 p-3",children:[n.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"Add timeline event"}),n.jsxs("div",{className:"grid grid-cols-1 gap-2 md:grid-cols-2",children:[n.jsx("input",{type:"text",placeholder:"Actor",value:m.actor,onChange:N=>g(A=>({...A,actor:N.target.value})),disabled:p,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100"}),n.jsx("input",{type:"text",placeholder:"Action",value:m.action,onChange:N=>g(A=>({...A,action:N.target.value})),disabled:p,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100"})]}),n.jsx("textarea",{placeholder:"Notes (optional)",value:m.notes,onChange:N=>g(A=>({...A,notes:N.target.value})),disabled:p,className:"min-h-[60px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100"}),n.jsx($,{type:"button",variant:"outline",size:"sm",onClick:S,disabled:p,children:"Add event"})]})]})]}),n.jsx("div",{className:"sticky bottom-0 border-t border-slate-200 bg-white p-4",children:n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[s!=="create"&&d.id&&n.jsx(oa,{resourceType:"incident",resourceId:d.id}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx($,{variant:"outline",onClick:o,disabled:p,children:"Cancel"}),b&&n.jsx($,{onClick:k,disabled:p,children:h?"Saving...":s==="create"?"Create incident":"Save changes"})]})]})})]})})},D7=({onNew:e})=>n.jsxs($,{className:"inline-flex items-center gap-2",onClick:e,children:[n.jsx(Ab,{className:"h-4 w-4"}),"New incident"]}),_7=e=>["low","medium","high","critical"].includes(e)?e:"medium",L7=e=>["open","investigating","contained","resolved","closed"].includes(e)?e:"open",M7=e=>({id:(e==null?void 0:e.id)??(e==null?void 0:e._id)??`timeline-${(e==null?void 0:e.timestamp)??Date.now()}`,timestamp:(e==null?void 0:e.timestamp)??(e==null?void 0:e.time)??(e==null?void 0:e.created_at)??(e==null?void 0:e.createdAt)??new Date().toISOString(),actor:(e==null?void 0:e.actor)??(e==null?void 0:e.user)??"System",action:(e==null?void 0:e.action)??(e==null?void 0:e.activity)??"",notes:(e==null?void 0:e.notes)??(e==null?void 0:e.description)??void 0}),Fn=e=>{const t=(e==null?void 0:e.createdAt)??(e==null?void 0:e.created_at)??new Date().toISOString(),s=(e==null?void 0:e.lastUpdated)??(e==null?void 0:e.last_updated)??(e==null?void 0:e.updated_at)??(e==null?void 0:e.updatedAt)??t;return{id:(e==null?void 0:e.id)??(e==null?void 0:e._id)??"",title:(e==null?void 0:e.title)??"",systemName:(e==null?void 0:e.systemName)??(e==null?void 0:e.system_name)??"",severity:_7(e==null?void 0:e.severity),status:L7(e==null?void 0:e.status),description:(e==null?void 0:e.description)??"",affectedData:(e==null?void 0:e.affectedData)??(e==null?void 0:e.affected_data)??"",affectedSubjects:(e==null?void 0:e.affectedSubjects)??(e==null?void 0:e.affected_subjects)??"",detectionMethod:(e==null?void 0:e.detectionMethod)??(e==null?void 0:e.detection_method)??"",createdAt:t,lastUpdated:s,timeline:Array.isArray(e==null?void 0:e.timeline)?e.timeline.map(M7):[]}},I7=e=>{if(Array.isArray(e))return e.map(Fn);const t=e;return Array.isArray(t==null?void 0:t.items)?t.items.map(Fn):Array.isArray(t==null?void 0:t.incidents)?t.incidents.map(Fn):[]};async function O7(){try{const e=await V.get("/api/incidents");return I7(e.data)}catch(e){if((e==null?void 0:e.status)===404)return[];throw e}}async function F7(e){const t=await V.get(`/api/incidents/${e}`);return Fn(t.data)}async function U7(e){const t=await V.post("/api/incidents",e);return Fn(t.data)}async function $7(e,t){const s=await V.put(`/api/incidents/${e}`,t);return Fn(s.data)}async function V7(e,t){const s=await V.patch(`/api/incidents/${e}`,t);return Fn(s.data)}const z7="Something went wrong while loading data. Please try again.";function B7(){const[e,t]=y.useState([]),[s,r]=y.useState(!1),[a,o]=y.useState(!1),[i,l]=y.useState(!1),[d,c]=y.useState(null),u=y.useRef(!0);y.useEffect(()=>()=>{u.current=!1},[]);const f=y.useCallback(async()=>{r(!0),c(null);try{const v=await O7();u.current&&t(v)}catch(v){u.current&&((v==null?void 0:v.status)===404?(t([]),c(null)):c(z7))}finally{u.current&&r(!1)}},[]);y.useEffect(()=>{f()},[f]);const m=y.useCallback(async v=>{o(!0);try{const h=await F7(v);return u.current&&t(p=>p.some(j=>j.id===h.id)?p.map(j=>j.id===h.id?h:j):[h,...p]),h}finally{u.current&&o(!1)}},[]),g=y.useCallback(async v=>{l(!0),c(null);try{const h=await U7(v);return u.current&&t(p=>[h,...p]),h}catch(h){throw u.current&&c((h==null?void 0:h.message)??"Failed to create incident."),h}finally{u.current&&l(!1)}},[]),x=y.useCallback(async(v,h)=>{l(!0),c(null);try{const p=await $7(v,h);return u.current&&t(w=>w.map(j=>j.id===p.id?p:j)),p}catch(p){throw u.current&&c((p==null?void 0:p.message)??"Failed to update incident."),p}finally{u.current&&l(!1)}},[]),b=y.useCallback(async(v,h)=>{l(!0),c(null);try{const p=await V7(v,h);return u.current&&t(w=>w.map(j=>j.id===p.id?p:j)),p}catch(p){throw u.current&&c((p==null?void 0:p.message)??"Failed to update incident."),p}finally{u.current&&l(!1)}},[]);return{incidents:e,loading:s,detailLoading:a,saving:i,error:d,refresh:f,fetchOne:m,create:g,update:x,patch:b}}const W7=()=>{const{incidents:e,loading:t,detailLoading:s,saving:r,error:a,refresh:o,fetchOne:i,create:l,update:d,patch:c}=B7(),{markAsRead:u,notifications:f}=Sc(),[m,g]=C.useState(""),[x,b]=C.useState("all"),[v,h]=C.useState("all"),[p,w]=C.useState(null),[j,k]=C.useState("view"),E=e.length>0,P=C.useMemo(()=>e.filter(F=>{const I=F.title.toLowerCase().includes(m.toLowerCase())||F.systemName.toLowerCase().includes(m.toLowerCase()),B=x==="all"?!0:F.severity===x,U=v==="all"?!0:F.status===v;return I&&B&&U}),[e,m,x,v]),S=F=>{w(F),k("edit"),F.id&&i(F.id).then(I=>w(I)).catch(()=>{})},N=async(F,I)=>{try{if(I==="create"){const{id:B,...U}=F;await l(U)}else F.id&&await d(F.id,F);await o(),w(null),k("view")}catch{}},A=()=>{const F=new Date().toISOString();w({id:"",title:"",systemName:"",severity:"medium",status:"open",description:"",affectedData:"",affectedSubjects:"",detectionMethod:"",createdAt:F,lastUpdated:F,timeline:[]}),k("create")},_=async(F,I)=>{try{await c(F,{status:I}),await o()}catch{}};C.useEffect(()=>{f.filter(F=>F.type==="incident_alert"&&!F.read).forEach(F=>u(F.id))},[f,u]);const M=()=>{if(t)return n.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((F,I)=>n.jsx(ye,{className:"h-20 w-full rounded-lg bg-slate-100"},I))});if(a)return n.jsx(Ee,{title:"Unable to load incidents",description:a,actionLabel:"Retry",onAction:()=>o(),className:"bg-rose-50 border-rose-200"});if(P.length===0){const F=E?"No incidents match these filters":"No incidents yet",I=E?"Try adjusting filters or open a new incident to get started.":"Log your first incident to track investigations and response steps.";return n.jsx(Ee,{title:F,description:I,actionLabel:"Log incident",onAction:A})}return n.jsx(A7,{incidents:P,onSelect:S})};return n.jsxs("div",{className:"space-y-6 p-6",children:[n.jsx("div",{className:"rounded-xl border border-slate-200 bg-white/95 p-6 shadow-sm",children:n.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-slate-900",children:"Incidents"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Log and follow up on personal data breaches and security incidents."}),n.jsx("p",{className:"text-sm text-slate-600",children:"Track investigation steps, assign owners, and capture remediation actions."})]}),n.jsx(D7,{onNew:A})]})}),n.jsx(v7,{search:m,severity:x,status:v,onSearch:g,onSeverityChange:b,onStatusChange:h}),n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white/95 p-6 shadow-sm",children:[n.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Incidents guidance"}),n.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-4 text-sm text-slate-700",children:[n.jsx("li",{children:"A personal data breach includes loss, theft, or unauthorized access."}),n.jsx("li",{children:"72-hour rule: notify the regulator within 72 hours when required."}),n.jsx("li",{children:"Log every incident with facts, containment, and remediation steps."}),n.jsx("li",{children:"AI-based analysis is a planned module to speed triage and lessons learned."})]})]}),n.jsx("div",{className:"rounded-xl border border-slate-200 bg-white/95 p-6 shadow-sm",children:M()}),n.jsx(T7,{incident:p,isOpen:!!p,mode:j,onClose:()=>{w(null),k("view")},onSave:N,isLoading:s,isSaving:r,onStatusChange:_})]})},q7=["customer_data","employee_data","marketing","website_analytics","it_security","other"],H7=({search:e,category:t,owner:s,owners:r,onSearch:a,onCategoryChange:o,onOwnerChange:i})=>n.jsxs("div",{className:"flex flex-col gap-3 rounded-xl border border-slate-200 bg-white p-4 shadow-sm md:flex-row md:items-center md:justify-between",children:[n.jsx("input",{type:"text",value:e,onChange:l=>a(l.target.value),placeholder:"Search processing activities...",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100"}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[n.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:t,onChange:l=>o(l.target.value),children:[n.jsx("option",{value:"all",children:"All categories"}),q7.map(l=>n.jsx("option",{value:l,children:l.replace("_"," ")},l))]}),n.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:s,onChange:l=>i(l.target.value==="all"?"all":l.target.value),children:[n.jsx("option",{value:"all",children:"All owners"}),r.map(l=>n.jsx("option",{value:l,children:l},l))]})]})]}),G7=e=>{const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},K7=({record:e,onClick:t})=>n.jsxs("tr",{className:"cursor-pointer border-b last:border-0 hover:bg-slate-50 focus-within:bg-slate-50",tabIndex:0,role:"button",onClick:t,onKeyDown:s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),t())},children:[n.jsx("td",{className:"py-3 pr-4 font-semibold text-foreground",children:e.name}),n.jsx("td",{className:"py-3 pr-4 text-foreground",children:e.systemName}),n.jsx("td",{className:"py-3 pr-4 text-foreground capitalize",children:e.processingCategory.replace("_"," ")}),n.jsx("td",{className:"py-3 pr-4 text-foreground",children:e.owner}),n.jsx("td",{className:"py-3 pr-4 text-foreground",children:e.legalBasis}),n.jsx("td",{className:"py-3 pr-4 text-foreground",children:G7(e.lastUpdated)})]}),Y7=({records:e,onSelect:t,isLoading:s,isError:r,errorMessage:a,onRetry:o,hasRecords:i,onCreate:l})=>s?n.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading records..."}):r?n.jsx(Ee,{title:"Unable to load records",description:a||"Something went wrong while loading data. Please try again.",actionLabel:o?"Retry":void 0,onAction:o,className:"bg-rose-50 border-rose-200"}):e.length===0?i?n.jsx(Ee,{title:"No records match these filters",description:"Try adjusting filters or add a new processing activity.",actionLabel:"New record",onAction:l}):n.jsx(Ee,{title:"No processing records yet",description:"Capture your first record of processing to maintain GDPR accountability.",actionLabel:"New record",onAction:l}):n.jsx("div",{className:"overflow-auto rounded-lg border border-slate-200 bg-white shadow-sm",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b bg-slate-50 text-left text-slate-500",children:[n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Name"}),n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"System"}),n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Category"}),n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Owner"}),n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Legal basis"}),n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Last updated"})]})}),n.jsx("tbody",{children:e.map(d=>n.jsx(K7,{record:d,onClick:()=>t(d)},d.id))})]})}),X7=["customer_data","employee_data","marketing","website_analytics","it_security","other"],Q7=({record:e,isOpen:t,mode:s,onClose:r,onSave:a,isLoading:o=!1,isSaving:i=!1})=>{const[l,d]=C.useState(e),[c,u]=C.useState({}),f=C.useRef(null);if(C.useEffect(()=>{t&&(d(e),u({}))},[e,t]),C.useEffect(()=>{var w;if(!t)return;const h=j=>{if(j.key==="Escape"&&r(),j.key==="Tab"&&f.current){const k=f.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(k.length===0)return;const E=k[0],P=k[k.length-1];!j.shiftKey&&document.activeElement===P?(j.preventDefault(),E.focus()):j.shiftKey&&document.activeElement===E&&(j.preventDefault(),P.focus())}};document.addEventListener("keydown",h);const p=(w=f.current)==null?void 0:w.querySelector("input, select, textarea, button");return p==null||p.focus(),()=>document.removeEventListener("keydown",h)},[t,r]),!t||!l)return null;const m=s==="create"||s==="edit",g=(h,p)=>{d(w=>w&&{...w,[h]:p})},x=()=>{const h={};return l.name.trim()||(h.name="Name is required."),l.systemName.trim()||(h.systemName="System name is required."),l.purpose.trim()||(h.purpose="Purpose is required."),u(h),Object.keys(h).length===0},b=()=>{x()&&a(l,s==="create"?"create":"edit")},v=h=>{h.target===h.currentTarget&&r()};return n.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/30 backdrop-blur-sm",onMouseDown:v,children:n.jsxs("div",{className:"flex h-full w-full max-w-2xl flex-col overflow-y-auto bg-white shadow-2xl",ref:f,children:[n.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-5 py-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:s==="create"?"New processing activity":l.name||"Processing activity"}),n.jsx("p",{className:"text-sm text-slate-600",children:l.systemName})]}),n.jsx("button",{type:"button",onClick:r,className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:n.jsx(Re,{className:"h-5 w-5"})})]}),n.jsxs("div",{className:"space-y-4 p-5",children:[o&&n.jsx("p",{className:"text-sm text-slate-500",children:"Loading processing activity..."}),n.jsxs("div",{className:"space-y-3 rounded-lg border border-slate-200 bg-white p-4",children:[n.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Name"}),n.jsx("input",{type:"text",value:l.name,onChange:h=>g("name",h.target.value),disabled:!m||i,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),c.name&&n.jsx("p",{className:"text-xs text-rose-600",children:c.name})]}),n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"System name"}),n.jsx("input",{type:"text",value:l.systemName,onChange:h=>g("systemName",h.target.value),disabled:!m||i,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),c.systemName&&n.jsx("p",{className:"text-xs text-rose-600",children:c.systemName})]})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-3",children:[n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Owner"}),n.jsx("input",{type:"text",value:l.owner,onChange:h=>g("owner",h.target.value),disabled:!m||i,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Processing category"}),n.jsx("select",{value:l.processingCategory,onChange:h=>g("processingCategory",h.target.value),disabled:!m||i,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:X7.map(h=>n.jsx("option",{value:h,children:h.replace("_"," ")},h))})]}),n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Legal basis"}),n.jsx("input",{type:"text",value:l.legalBasis,onChange:h=>g("legalBasis",h.target.value),disabled:!m||i,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]})]}),n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Purpose"}),n.jsx("textarea",{value:l.purpose,onChange:h=>g("purpose",h.target.value),disabled:!m,className:"min-h-[70px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),c.purpose&&n.jsx("p",{className:"text-xs text-rose-600",children:c.purpose})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Data subjects"}),n.jsx("textarea",{value:l.dataSubjects,onChange:h=>g("dataSubjects",h.target.value),disabled:!m||i,className:"min-h-[70px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Data categories"}),n.jsx("textarea",{value:l.dataCategories,onChange:h=>g("dataCategories",h.target.value),disabled:!m||i,className:"min-h-[70px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Recipients"}),n.jsx("textarea",{value:l.recipients,onChange:h=>g("recipients",h.target.value),disabled:!m||i,className:"min-h-[60px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Transfers outside EU"}),n.jsx("textarea",{value:l.transfersOutsideEU,onChange:h=>g("transfersOutsideEU",h.target.value),disabled:!m||i,className:"min-h-[60px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Retention period"}),n.jsx("textarea",{value:l.retentionPeriod,onChange:h=>g("retentionPeriod",h.target.value),disabled:!m||i,className:"min-h-[60px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Security measures"}),n.jsx("textarea",{value:l.securityMeasures,onChange:h=>g("securityMeasures",h.target.value),disabled:!m||i,className:"min-h-[60px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]})]}),s!=="create"&&n.jsxs("div",{className:"grid grid-cols-1 gap-3 rounded-lg border border-slate-200 bg-slate-50 p-4 text-sm text-slate-700 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-slate-800",children:"Created"}),n.jsx("p",{children:new Date(l.createdAt).toLocaleString()})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-slate-800",children:"Last updated"}),n.jsx("p",{children:new Date(l.lastUpdated).toLocaleString()})]})]})]})]}),n.jsx("div",{className:"sticky bottom-0 border-t border-slate-200 bg-white p-4",children:n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[s!=="create"&&l.id&&n.jsx(oa,{resourceType:"ropa",resourceId:l.id}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx($,{variant:"outline",onClick:r,children:"Cancel"}),m&&n.jsx($,{onClick:b,disabled:i,children:i?"Saving...":s==="create"?"Create record":"Save changes"})]})]})})]})})},Z7=({onNew:e})=>n.jsxs($,{className:"inline-flex items-center gap-2",onClick:e,children:[n.jsx(tc,{className:"h-4 w-4"}),"New processing activity"]}),Ws=e=>({...e,id:(e==null?void 0:e.id)??(e==null?void 0:e._id)??(e==null?void 0:e.ropa_id)??"",createdAt:(e==null?void 0:e.createdAt)??(e==null?void 0:e.created_at)??"",lastUpdated:(e==null?void 0:e.lastUpdated)??(e==null?void 0:e.last_updated)??(e==null?void 0:e.updated_at)??(e==null?void 0:e.updatedAt)??""}),J7=e=>{if(Array.isArray(e))return e.map(Ws);const t=e;return Array.isArray(t==null?void 0:t.items)?t.items.map(Ws):Array.isArray(t==null?void 0:t.records)?t.records.map(Ws):Array.isArray(t==null?void 0:t.ropa)?t.ropa.map(Ws):[]};async function e9(){try{const e=await V.get("/api/ropa");return J7(e.data)}catch(e){if((e==null?void 0:e.status)===404)return[];throw e}}async function t9(e){const t=await V.get(`/api/ropa/${e}`);return Ws(t.data)}async function s9(e){const t=await V.post("/api/ropa",e);return Ws(t.data)}async function n9(e,t){const s=await V.put(`/api/ropa/${e}`,t);return Ws(s.data)}async function r9(e,t){const s=await V.patch(`/api/ropa/${e}`,t);return Ws(s.data)}const a9="Something went wrong while loading data. Please try again.";function o9(){const[e,t]=y.useState([]),[s,r]=y.useState(!1),[a,o]=y.useState(!1),[i,l]=y.useState(!1),[d,c]=y.useState(null),u=y.useRef(!0);y.useEffect(()=>()=>{u.current=!1},[]);const f=y.useCallback(async()=>{r(!0),c(null);try{const v=await e9();u.current&&t(v)}catch(v){u.current&&((v==null?void 0:v.status)===404?(t([]),c(null)):c(a9))}finally{u.current&&r(!1)}},[]);y.useEffect(()=>{f()},[f]);const m=y.useCallback(async v=>{o(!0);try{const h=await t9(v);return u.current&&t(p=>p.map(w=>w.id===h.id?h:w)),h}finally{u.current&&o(!1)}},[]),g=y.useCallback(async v=>{l(!0);try{const h=await s9(v);return u.current&&t(p=>[h,...p]),h}finally{u.current&&l(!1)}},[]),x=y.useCallback(async(v,h)=>{l(!0);try{const p=await n9(v,h);return u.current&&t(w=>w.map(j=>j.id===p.id?p:j)),p}finally{u.current&&l(!1)}},[]),b=y.useCallback(async(v,h)=>{const p=await r9(v,h);return u.current&&t(w=>w.map(j=>j.id===p.id?p:j)),p},[]);return{records:e,loading:s,detailLoading:a,saving:i,error:d,refresh:f,fetchOne:m,create:g,update:x,patch:b}}const i9=()=>{const{records:e,loading:t,detailLoading:s,saving:r,error:a,refresh:o,create:i,update:l,fetchOne:d}=o9(),[c,u]=C.useState(""),[f,m]=C.useState("all"),[g,x]=C.useState("all"),[b,v]=C.useState(null),[h,p]=C.useState("view"),w=e.length>0,j=C.useMemo(()=>Array.from(new Set(e.map(N=>N.owner))),[e]),k=C.useMemo(()=>e.filter(N=>{const A=N.name.toLowerCase().includes(c.toLowerCase())||N.systemName.toLowerCase().includes(c.toLowerCase()),_=f==="all"?!0:N.processingCategory===f,M=g==="all"?!0:N.owner===g;return A&&_&&M}),[e,c,f,g]),E=N=>{v(N),p("view"),N.id&&d(N.id).then(A=>v(A)).catch(()=>{})},P=async(N,A)=>{if(A==="create"){const{id:_,...M}=N;await i(M)}else N.id&&await l(N.id,N);await o(),v(null),p("view")},S=()=>{const N=new Date().toISOString();v({id:"",name:"",systemName:"",owner:"",purpose:"",legalBasis:"",processingCategory:"other",dataSubjects:"",dataCategories:"",recipients:"",transfersOutsideEU:"",retentionPeriod:"",securityMeasures:"",createdAt:N,lastUpdated:N}),p("create")};return n.jsxs("div",{className:"space-y-6 p-6",children:[n.jsx("div",{className:"rounded-xl border border-slate-200 bg-white/95 p-6 shadow-sm",children:n.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-slate-900",children:"Records of Processing Activities (ROPA)"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Maintain your Record of Processing Activities (ROPA) as required by GDPR."}),n.jsx("p",{className:"text-sm text-slate-600",children:"Document processing purposes, legal bases, retention, and data flows for every activity."})]}),n.jsx(Z7,{onNew:S})]})}),n.jsx(H7,{search:c,category:f,owner:g,owners:j,onSearch:u,onCategoryChange:m,onOwnerChange:x}),n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white/95 p-6 shadow-sm",children:[n.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"ROPA guidance"}),n.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-4 text-sm text-slate-700",children:[n.jsx("li",{children:"A Record of Processing Activities lists every way you handle personal data."}),n.jsx("li",{children:"Every company must maintain it to show accountability."}),n.jsx("li",{children:"Add each processing activity with purpose, legal basis, and retention."}),n.jsx("li",{children:"Export the report to share with auditors or regulators."})]})]}),n.jsx("div",{className:"rounded-xl border border-slate-200 bg-white/95 p-6 shadow-sm",children:n.jsx(Y7,{records:k,onSelect:E,isLoading:t,isError:!!a,errorMessage:a,onRetry:o,hasRecords:w,onCreate:S})}),n.jsx(Q7,{record:b,isOpen:!!b,mode:h,onClose:()=>v(null),onSave:P,isLoading:s,isSaving:r})]})},l9=["access_control","encryption","logging_monitoring","network_security","backup_recovery","organizational_policies","data_minimization","vendor_management","other"],c9=({search:e,category:t,effectiveness:s,onSearch:r,onCategoryChange:a,onEffectivenessChange:o})=>n.jsxs("div",{className:"flex flex-col gap-3 rounded-xl border border-slate-200 bg-white p-4 shadow-sm md:flex-row md:items-center md:justify-between",children:[n.jsx("input",{type:"text",value:e,onChange:i=>r(i.target.value),placeholder:"Search TOMs...",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100"}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[n.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:t,onChange:i=>a(i.target.value),children:[n.jsx("option",{value:"all",children:"All categories"}),l9.map(i=>n.jsx("option",{value:i,children:i.replace("_"," ")},i))]}),n.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:s,onChange:i=>o(i.target.value),children:[n.jsx("option",{value:"all",children:"All effectiveness"}),n.jsx("option",{value:"low",children:"Low"}),n.jsx("option",{value:"medium",children:"Medium"}),n.jsx("option",{value:"high",children:"High"})]})]})]}),d9={access_control:"Access control",encryption:"Encryption",logging_monitoring:"Logging & monitoring",network_security:"Network security",backup_recovery:"Backup & recovery",organizational_policies:"Organizational policies",data_minimization:"Data minimization",vendor_management:"Vendor management",other:"Other"},u9={access_control:"bg-slate-100 text-slate-700 border-slate-200",encryption:"bg-emerald-50 text-emerald-700 border-emerald-200",logging_monitoring:"bg-sky-50 text-sky-700 border-sky-200",network_security:"bg-indigo-50 text-indigo-700 border-indigo-200",backup_recovery:"bg-amber-50 text-amber-700 border-amber-200",organizational_policies:"bg-purple-50 text-purple-700 border-purple-200",data_minimization:"bg-teal-50 text-teal-700 border-teal-200",vendor_management:"bg-rose-50 text-rose-700 border-rose-200",other:"bg-slate-100 text-slate-700 border-slate-200"},f9=({category:e})=>n.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-semibold ${u9[e]}`,children:d9[e]}),p9=e=>{const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},m9={low:"text-slate-600",medium:"text-amber-600",high:"text-emerald-700"},h9=({tom:e,onClick:t})=>n.jsxs("tr",{className:"cursor-pointer border-b last:border-0 hover:bg-slate-50 focus-within:bg-slate-50",tabIndex:0,role:"button",onClick:t,onKeyDown:s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),t())},children:[n.jsx("td",{className:"py-3 pr-4 font-semibold text-foreground",children:e.name}),n.jsx("td",{className:"py-3 pr-4",children:n.jsx(f9,{category:e.category})}),n.jsx("td",{className:`py-3 pr-4 font-semibold ${m9[e.effectiveness]}`,children:e.effectiveness}),n.jsx("td",{className:"py-3 pr-4 text-foreground",children:e.owner}),n.jsx("td",{className:"py-3 pr-4 text-foreground",children:p9(e.lastUpdated)})]}),x9=({toms:e,onSelect:t,isLoading:s,isError:r})=>s?n.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading measures..."}):r?n.jsx("p",{className:"text-sm text-red-600",children:"Failed to load measures."}):e.length===0?n.jsx("p",{className:"text-sm text-muted-foreground",children:"No measures found for the selected filters."}):n.jsx("div",{className:"overflow-auto rounded-lg border border-slate-200 bg-white shadow-sm",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b bg-slate-50 text-left text-slate-500",children:[n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Name"}),n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Category"}),n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Effectiveness"}),n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Owner"}),n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Last updated"})]})}),n.jsx("tbody",{children:e.map(a=>n.jsx(h9,{tom:a,onClick:()=>t(a)},a.id))})]})}),g9=["access_control","encryption","logging_monitoring","network_security","backup_recovery","organizational_policies","data_minimization","vendor_management","other"],y9=["low","medium","high"],v9=({tom:e,isOpen:t,mode:s,isLoading:r,isSaving:a,onClose:o,onSave:i})=>{const[l,d]=C.useState(e),[c,u]=C.useState({}),f=C.useRef(null);if(C.useEffect(()=>{t&&(d(e),u({}))},[e,t]),C.useEffect(()=>{var j;if(!t)return;const p=k=>{if(k.key==="Escape"&&o(),k.key==="Tab"&&f.current){const E=f.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(E.length===0)return;const P=E[0],S=E[E.length-1];!k.shiftKey&&document.activeElement===S?(k.preventDefault(),P.focus()):k.shiftKey&&document.activeElement===P&&(k.preventDefault(),S.focus())}};document.addEventListener("keydown",p);const w=(j=f.current)==null?void 0:j.querySelector("input, select, textarea, button");return w==null||w.focus(),()=>document.removeEventListener("keydown",p)},[t,o]),!t||!l&&!r)return null;const m=(s==="create"||s==="edit")&&!r,g=!!(r||a),x=(p,w)=>{d(j=>j&&{...j,[p]:w})},b=()=>{const p={};return l.name.trim()||(p.name="Name is required."),l.category||(p.category="Category is required."),l.description.trim()||(p.description="Description is required."),u(p),Object.keys(p).length===0},v=async()=>{b()&&await i(l,s==="create"?"create":"edit")},h=p=>{p.target===p.currentTarget&&o()};return!l&&r?n.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/30 backdrop-blur-sm",onMouseDown:h,children:n.jsxs("div",{className:"flex h-full w-full max-w-2xl flex-col overflow-y-auto bg-white shadow-2xl",ref:f,children:[n.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-5 py-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Technical measure"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Loading measure..."})]}),n.jsx("button",{type:"button",onClick:o,className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:n.jsx(Re,{className:"h-5 w-5"})})]}),n.jsx("div",{className:"p-5 text-sm text-slate-600",children:"Loading measure..."})]})}):n.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/30 backdrop-blur-sm",onMouseDown:h,children:n.jsxs("div",{className:"flex h-full w-full max-w-2xl flex-col overflow-y-auto bg-white shadow-2xl",ref:f,children:[n.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-5 py-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:s==="create"?"New TOM":l.name||"Technical measure"}),n.jsx("p",{className:"text-sm text-slate-600",children:l.category.replace("_"," ")})]}),n.jsx("button",{type:"button",onClick:o,className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:n.jsx(Re,{className:"h-5 w-5"})})]}),r&&l&&n.jsx("div",{className:"px-5 py-2 text-sm text-slate-600",children:"Loading measure..."}),n.jsx("div",{className:"space-y-4 p-5",children:n.jsxs("div",{className:"space-y-3 rounded-lg border border-slate-200 bg-white p-4",children:[n.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Name"}),n.jsx("input",{type:"text",value:l.name,onChange:p=>x("name",p.target.value),disabled:!m||g,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),c.name&&n.jsx("p",{className:"text-xs text-rose-600",children:c.name})]}),n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Category"}),n.jsx("select",{value:l.category,onChange:p=>x("category",p.target.value),disabled:!m||g,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:g9.map(p=>n.jsx("option",{value:p,children:p.replace("_"," ")},p))}),c.category&&n.jsx("p",{className:"text-xs text-rose-600",children:c.category})]})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Owner"}),n.jsx("input",{type:"text",value:l.owner,onChange:p=>x("owner",p.target.value),disabled:!m||g,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Effectiveness"}),n.jsx("select",{value:l.effectiveness,onChange:p=>x("effectiveness",p.target.value),disabled:!m||g,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:y9.map(p=>n.jsx("option",{value:p,children:p},p))})]})]}),n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Description"}),n.jsx("textarea",{value:l.description,onChange:p=>x("description",p.target.value),disabled:!m||g,className:"min-h-[90px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),c.description&&n.jsx("p",{className:"text-xs text-rose-600",children:c.description})]}),n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Implementation"}),n.jsx("textarea",{value:l.implementation,onChange:p=>x("implementation",p.target.value),disabled:!m||g,className:"min-h-[90px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),s!=="create"&&n.jsxs("div",{className:"grid grid-cols-1 gap-3 rounded-lg border border-slate-200 bg-slate-50 p-4 text-sm text-slate-700 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-slate-800",children:"Created"}),n.jsx("p",{children:new Date(l.createdAt).toLocaleString()})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-slate-800",children:"Last updated"}),n.jsx("p",{children:new Date(l.lastUpdated).toLocaleString()})]})]})]})}),n.jsx("div",{className:"sticky bottom-0 border-t border-slate-200 bg-white p-4",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx($,{variant:"outline",onClick:o,disabled:g,children:"Cancel"}),m&&n.jsx($,{onClick:v,disabled:g,children:a?"Saving...":s==="create"?"Create measure":"Save changes"})]})})]})})},b9=({onNew:e})=>n.jsxs($,{className:"inline-flex items-center gap-2",onClick:e,children:[n.jsx(zr,{className:"h-4 w-4"}),"New TOM"]}),w9=e=>["access_control","encryption","logging_monitoring","network_security","backup_recovery","organizational_policies","data_minimization","vendor_management","other"].includes(e)?e:"other",j9=e=>["low","medium","high"].includes(e)?e:"medium",Un=e=>{const t=(e==null?void 0:e.createdAt)??(e==null?void 0:e.created_at)??new Date().toISOString(),s=(e==null?void 0:e.lastUpdated)??(e==null?void 0:e.last_updated)??(e==null?void 0:e.updated_at)??(e==null?void 0:e.updatedAt)??t;return{id:(e==null?void 0:e.id)??(e==null?void 0:e._id)??"",name:(e==null?void 0:e.name)??"",category:w9(e==null?void 0:e.category),description:(e==null?void 0:e.description)??"",implementation:(e==null?void 0:e.implementation)??"",effectiveness:j9(e==null?void 0:e.effectiveness),owner:(e==null?void 0:e.owner)??"",createdAt:t,lastUpdated:s}},N9=e=>{if(Array.isArray(e))return e.map(Un);const t=e;return Array.isArray(t==null?void 0:t.items)?t.items.map(Un):Array.isArray(t==null?void 0:t.toms)?t.toms.map(Un):[]};async function k9(){try{const e=await V.get("/api/toms");return N9(e.data)}catch(e){if((e==null?void 0:e.status)===404)return[];throw e}}async function S9(e){const t=await V.get(`/api/toms/${e}`);return Un(t.data)}async function C9(e){const t=await V.post("/api/toms",e);return Un(t.data)}async function P9(e,t){const s=await V.put(`/api/toms/${e}`,t);return Un(s.data)}async function A9(e,t){const s=await V.patch(`/api/toms/${e}`,t);return Un(s.data)}function E9(){const[e,t]=y.useState([]),[s,r]=y.useState(!1),[a,o]=y.useState(!1),[i,l]=y.useState(!1),[d,c]=y.useState(null),u=y.useRef(!0);y.useEffect(()=>()=>{u.current=!1},[]);const f=y.useCallback(async()=>{r(!0),c(null);try{const v=await k9();u.current&&t(v)}catch(v){u.current&&((v==null?void 0:v.status)===404?(t([]),c(null)):c("Something went wrong while loading data. Please try again."))}finally{u.current&&r(!1)}},[]);y.useEffect(()=>{f()},[f]);const m=y.useCallback(async v=>{o(!0);try{const h=await S9(v);return u.current&&t(p=>p.some(j=>j.id===h.id)?p.map(j=>j.id===h.id?h:j):[h,...p]),h}finally{u.current&&o(!1)}},[]),g=y.useCallback(async v=>{l(!0),c(null);try{const h=await C9(v);return u.current&&t(p=>[h,...p]),h}catch(h){throw u.current&&c((h==null?void 0:h.message)??"Failed to create TOM."),h}finally{u.current&&l(!1)}},[]),x=y.useCallback(async(v,h)=>{l(!0),c(null);try{const p=await P9(v,h);return u.current&&t(w=>w.map(j=>j.id===p.id?p:j)),p}catch(p){throw u.current&&c((p==null?void 0:p.message)??"Failed to update TOM."),p}finally{u.current&&l(!1)}},[]),b=y.useCallback(async(v,h)=>{l(!0),c(null);try{const p=await A9(v,h);return u.current&&t(w=>w.map(j=>j.id===p.id?p:j)),p}catch(p){throw u.current&&c((p==null?void 0:p.message)??"Failed to update TOM."),p}finally{u.current&&l(!1)}},[]);return{toms:e,loading:s,detailLoading:a,saving:i,error:d,refresh:f,fetchOne:m,create:g,update:x,patch:b}}const R9=()=>{const{toms:e,loading:t,detailLoading:s,saving:r,error:a,refresh:o,fetchOne:i,create:l,update:d}=E9(),[c,u]=C.useState(""),[f,m]=C.useState("all"),[g,x]=C.useState("all"),[b,v]=C.useState(null),[h,p]=C.useState("view"),w=C.useMemo(()=>e.filter(S=>{const N=S.name.toLowerCase().includes(c.toLowerCase()),A=f==="all"?!0:S.category===f,_=g==="all"?!0:S.effectiveness===g;return N&&A&&_}),[e,c,f,g]),j=S=>{v(S),p("edit"),S.id&&i(S.id).then(N=>v(N)).catch(()=>{})},k=async(S,N)=>{try{if(N==="create"){const{id:A,..._}=S;await l(_)}else S.id&&await d(S.id,S);await o(),v(null),p("view")}catch{}},E=()=>{const S=new Date().toISOString();v({id:"",name:"",category:"other",description:"",implementation:"",effectiveness:"medium",owner:"You",createdAt:S,lastUpdated:S}),p("create")},P=()=>t?n.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((S,N)=>n.jsx(ye,{className:"h-20 w-full rounded-lg bg-slate-100"},N))}):a?n.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 p-4 text-sm text-rose-700",children:n.jsxs("div",{className:"flex items-center justify-between gap-3",children:[n.jsx("p",{children:a}),n.jsx("button",{type:"button",className:"text-xs font-semibold text-rose-800 underline",onClick:()=>o(),children:"Retry"})]})}):w.length===0?n.jsxs("div",{className:"rounded-lg border border-dashed border-slate-300 bg-slate-50 p-6 text-sm text-slate-700",children:[n.jsx("p",{className:"font-semibold text-slate-900",children:"No measures match the current filters."}),n.jsx("p",{className:"text-slate-600",children:"Try adjusting filters or create a new TOM."})]}):n.jsx(x9,{toms:w,onSelect:j});return n.jsxs("div",{className:"space-y-6 p-6",children:[n.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-slate-900",children:"Technical & Organisational Measures (TOMs)"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Document the security measures used to protect personal data."})]}),n.jsx(b9,{onNew:E})]}),n.jsx(c9,{search:c,category:f,effectiveness:g,onSearch:u,onCategoryChange:m,onEffectivenessChange:x}),P(),n.jsx(v9,{tom:b,isOpen:!!b,mode:h,onClose:()=>{v(null),p("view")},onSave:k,isLoading:s,isSaving:r})]})},T9={necessary:"bg-emerald-50 text-emerald-700 border-emerald-200",preferences:"bg-sky-50 text-sky-700 border-sky-200",analytics:"bg-amber-50 text-amber-700 border-amber-200",marketing:"bg-rose-50 text-rose-700 border-rose-200",unclassified:"bg-slate-100 text-slate-700 border-slate-200"},D9={necessary:"Necessary",preferences:"Preferences",analytics:"Analytics",marketing:"Marketing",unclassified:"Unclassified"},_9=({category:e})=>n.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-semibold ${T9[e]}`,children:D9[e]}),L9=e=>{const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},M9=({cookie:e,onClick:t})=>n.jsxs("tr",{className:"cursor-pointer border-b last:border-0 hover:bg-slate-50 focus-within:bg-slate-50",tabIndex:0,role:"button",onClick:t,onKeyDown:s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),t())},children:[n.jsx("td",{className:"py-3 pr-4 font-semibold text-foreground",children:e.name}),n.jsx("td",{className:"py-3 pr-4 text-foreground",children:e.domain}),n.jsx("td",{className:"py-3 pr-4",children:n.jsx(_9,{category:e.category})}),n.jsx("td",{className:"py-3 pr-4 text-foreground",children:e.duration}),n.jsx("td",{className:"py-3 pr-4 text-foreground capitalize",children:e.type.replace("_","-")}),n.jsx("td",{className:"py-3 pr-4 text-foreground",children:e.provider}),n.jsx("td",{className:"py-3 pr-4 text-foreground",children:L9(e.lastUpdated)})]}),I9=({cookies:e,onSelect:t,isLoading:s,isError:r,errorMessage:a,onRetry:o})=>s?n.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading cookies..."}):r?n.jsx(Ee,{title:"Unable to load cookies",description:a||"Something went wrong while loading data. Please try again.",actionLabel:o?"Retry":void 0,onAction:o,className:"bg-rose-50 border-rose-200"}):e.length===0?n.jsx(Ee,{title:"No cookies yet",description:"Start by creating your first cookie entry to track web technologies and retention."}):n.jsx("div",{className:"overflow-auto rounded-lg border border-slate-200 bg-white shadow-sm",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b bg-slate-50 text-left text-slate-500",children:[n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Name"}),n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Domain"}),n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Category"}),n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Duration"}),n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Type"}),n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Provider"}),n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Last updated"})]})}),n.jsx("tbody",{children:e.map(i=>n.jsx(M9,{cookie:i,onClick:()=>t(i)},i.id))})]})}),O9=["necessary","preferences","analytics","marketing","unclassified"],F9=["manual","scanner","imported"],U9=({search:e,category:t,type:s,source:r,onSearch:a,onCategoryChange:o,onTypeChange:i,onSourceChange:l})=>n.jsxs("div",{className:"flex flex-col gap-3 rounded-xl border border-slate-200 bg-white p-4 shadow-sm md:flex-row md:items-center md:justify-between",children:[n.jsx("input",{type:"text",value:e,onChange:d=>a(d.target.value),placeholder:"Search cookies by name or provider...",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100"}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[n.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:t,onChange:d=>o(d.target.value),children:[n.jsx("option",{value:"all",children:"All categories"}),O9.map(d=>n.jsx("option",{value:d,children:d},d))]}),n.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:s,onChange:d=>i(d.target.value),children:[n.jsx("option",{value:"all",children:"All types"}),n.jsx("option",{value:"first_party",children:"First-party"}),n.jsx("option",{value:"third_party",children:"Third-party"})]}),n.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:r,onChange:d=>l(d.target.value),children:[n.jsx("option",{value:"all",children:"All sources"}),F9.map(d=>n.jsx("option",{value:d,children:d},d))]})]})]}),$9=["necessary","preferences","analytics","marketing","unclassified"],V9=["first_party","third_party"],z9=["manual","scanner","imported"],B9=({cookie:e,isOpen:t,mode:s,isLoading:r,isSaving:a,onClose:o,onSave:i,onCategoryChange:l,onTypeChange:d})=>{const[c,u]=C.useState(e),[f,m]=C.useState({}),g=C.useRef(null);if(C.useEffect(()=>{t&&(u(e),m({}))},[e,t]),C.useEffect(()=>{var A;if(!t)return;const S=_=>{if(_.key==="Escape"&&o(),_.key==="Tab"&&g.current){const M=g.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(M.length===0)return;const F=M[0],I=M[M.length-1];!_.shiftKey&&document.activeElement===I?(_.preventDefault(),F.focus()):_.shiftKey&&document.activeElement===F&&(_.preventDefault(),I.focus())}};document.addEventListener("keydown",S);const N=(A=g.current)==null?void 0:A.querySelector("input, select, textarea, button");return N==null||N.focus(),()=>document.removeEventListener("keydown",S)},[t,o]),!t||!c&&!r)return null;const x=(s==="create"||s==="edit")&&!r,b=l&&(c==null?void 0:c.id)&&s!=="create",v=d&&(c==null?void 0:c.id)&&s!=="create",h=!!(r||a),p=(S,N)=>{u(A=>A&&{...A,[S]:N})},w=()=>{const S={};return c.name.trim()||(S.name="Name is required."),c.domain.trim()||(S.domain="Domain is required."),c.purpose.trim()||(S.purpose="Purpose is required."),c.category||(S.category="Category is required."),c.type||(S.type="Type is required."),m(S),Object.keys(S).length===0},j=async()=>{w()&&await i(c,s==="create"?"create":"edit")},k=async S=>{p("category",S),b&&(c!=null&&c.id)&&await(l==null?void 0:l(c.id,S))},E=async S=>{p("type",S),v&&(c!=null&&c.id)&&await(d==null?void 0:d(c.id,S))},P=S=>{S.target===S.currentTarget&&o()};return!c&&r?n.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/30 backdrop-blur-sm",onMouseDown:P,children:n.jsxs("div",{className:"flex h-full w-full max-w-2xl flex-col overflow-y-auto bg-white shadow-2xl",ref:g,children:[n.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-5 py-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Cookie"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Loading cookie..."})]}),n.jsx("button",{type:"button",onClick:o,className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:n.jsx(Re,{className:"h-5 w-5"})})]}),n.jsx("div",{className:"p-5 text-sm text-slate-600",children:"Loading cookie..."})]})}):n.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/30 backdrop-blur-sm",onMouseDown:P,children:n.jsxs("div",{className:"flex h-full w-full max-w-2xl flex-col overflow-y-auto bg-white shadow-2xl",ref:g,children:[n.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-5 py-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:s==="create"?"New cookie":c.name}),n.jsx("p",{className:"text-sm text-slate-600",children:c.domain})]}),n.jsx("button",{type:"button",onClick:o,className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:n.jsx(Re,{className:"h-5 w-5"})})]}),r&&c&&n.jsx("div",{className:"px-5 py-2 text-sm text-slate-600",children:"Loading cookie..."}),n.jsx("div",{className:"space-y-4 p-5",children:n.jsxs("div",{className:"space-y-3 rounded-lg border border-slate-200 bg-white p-4",children:[n.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Name"}),n.jsx("input",{type:"text",value:c.name,onChange:S=>p("name",S.target.value),disabled:!x||h,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),f.name&&n.jsx("p",{className:"text-xs text-rose-600",children:f.name})]}),n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Domain"}),n.jsx("input",{type:"text",value:c.domain,onChange:S=>p("domain",S.target.value),disabled:!x||h,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),f.domain&&n.jsx("p",{className:"text-xs text-rose-600",children:f.domain})]})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-3",children:[n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Category"}),n.jsx("select",{value:c.category,onChange:S=>k(S.target.value),disabled:!x&&!b||h,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:$9.map(S=>n.jsx("option",{value:S,children:S},S))}),f.category&&n.jsx("p",{className:"text-xs text-rose-600",children:f.category})]}),n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Type"}),n.jsx("select",{value:c.type,onChange:S=>E(S.target.value),disabled:!x&&!v||h,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:V9.map(S=>n.jsx("option",{value:S,children:S.replace("_"," ")},S))}),f.type&&n.jsx("p",{className:"text-xs text-rose-600",children:f.type})]}),n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Source"}),n.jsx("select",{value:c.source,onChange:S=>p("source",S.target.value),disabled:!x||h,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:z9.map(S=>n.jsx("option",{value:S,children:S},S))})]})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Provider"}),n.jsx("input",{type:"text",value:c.provider,onChange:S=>p("provider",S.target.value),disabled:!x||h,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Duration"}),n.jsx("input",{type:"text",value:c.duration,onChange:S=>p("duration",S.target.value),disabled:!x||h,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",placeholder:"e.g. 2 years"})]})]}),n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Purpose"}),n.jsx("textarea",{value:c.purpose,onChange:S=>p("purpose",S.target.value),disabled:!x||h,className:"min-h-[90px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),f.purpose&&n.jsx("p",{className:"text-xs text-rose-600",children:f.purpose})]}),s!=="create"&&n.jsxs("div",{className:"grid grid-cols-1 gap-3 rounded-lg border border-slate-200 bg-slate-50 p-4 text-sm text-slate-700 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-slate-800",children:"Created"}),n.jsx("p",{children:new Date(c.createdAt).toLocaleString()})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-slate-800",children:"Last updated"}),n.jsx("p",{children:new Date(c.lastUpdated).toLocaleString()})]})]})]})}),n.jsx("div",{className:"sticky bottom-0 border-t border-slate-200 bg-white p-4",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx($,{variant:"outline",onClick:o,disabled:h,children:"Cancel"}),x&&n.jsx($,{onClick:j,disabled:h,children:a?"Saving...":s==="create"?"Create cookie":"Save changes"})]})})]})})},W9=({onNew:e})=>n.jsxs($,{className:"inline-flex items-center gap-2",onClick:e,children:[n.jsx(nc,{className:"h-4 w-4"}),"New cookie"]}),q9=e=>["necessary","preferences","analytics","marketing","unclassified"].includes(e)?e:"unclassified",H9=e=>["first_party","third_party"].includes(e)?e:"first_party",$n=e=>{const t=(e==null?void 0:e.createdAt)??(e==null?void 0:e.created_at)??new Date().toISOString(),s=(e==null?void 0:e.lastUpdated)??(e==null?void 0:e.last_updated)??(e==null?void 0:e.updated_at)??(e==null?void 0:e.updatedAt)??t;return{id:(e==null?void 0:e.id)??(e==null?void 0:e._id)??"",name:(e==null?void 0:e.name)??"",domain:(e==null?void 0:e.domain)??"",duration:(e==null?void 0:e.duration)??(e==null?void 0:e.retention)??"",category:q9(e==null?void 0:e.category),purpose:(e==null?void 0:e.purpose)??"",provider:(e==null?void 0:e.provider)??"",type:H9(e==null?void 0:e.type),source:(e==null?void 0:e.source)??"manual",createdAt:t,lastUpdated:s}},G9=e=>{if(Array.isArray(e))return e.map($n);const t=e;return Array.isArray(t==null?void 0:t.items)?t.items.map($n):Array.isArray(t==null?void 0:t.cookies)?t.cookies.map($n):[]};async function K9(){return`
This is a mock AI-generated cookie policy in English.
It will later include your cookie inventory, purposes, categories and retention periods.
Please review and adapt before publishing.
`}async function Y9(){try{const e=await V.get("/api/cookies");return G9(e.data)}catch(e){if((e==null?void 0:e.status)===404)return[];throw e}}async function X9(e){const t=await V.get(`/api/cookies/${e}`);return $n(t.data)}async function Q9(e){const t=await V.post("/api/cookies",e);return $n(t.data)}async function Z9(e,t){const s=await V.put(`/api/cookies/${e}`,t);return $n(s.data)}async function J9(e,t){const s=await V.patch(`/api/cookies/${e}`,t);return $n(s.data)}function eU(){const[e,t]=y.useState([]),[s,r]=y.useState(!1),[a,o]=y.useState(!1),[i,l]=y.useState(!1),[d,c]=y.useState(null),u=y.useRef(!0);y.useEffect(()=>()=>{u.current=!1},[]);const f=y.useCallback(async()=>{r(!0),c(null);try{const v=await Y9();u.current&&t(v)}catch(v){u.current&&((v==null?void 0:v.status)===404?(t([]),c(null)):c("Something went wrong while loading data. Please try again."))}finally{u.current&&r(!1)}},[]);y.useEffect(()=>{f()},[f]);const m=y.useCallback(async v=>{o(!0);try{const h=await X9(v);return u.current&&t(p=>p.some(j=>j.id===h.id)?p.map(j=>j.id===h.id?h:j):[h,...p]),h}finally{u.current&&o(!1)}},[]),g=y.useCallback(async v=>{l(!0),c(null);try{const h=await Q9(v);return u.current&&t(p=>[h,...p]),h}catch(h){throw u.current&&c((h==null?void 0:h.message)??"Failed to create cookie."),h}finally{u.current&&l(!1)}},[]),x=y.useCallback(async(v,h)=>{l(!0),c(null);try{const p=await Z9(v,h);return u.current&&t(w=>w.map(j=>j.id===p.id?p:j)),p}catch(p){throw u.current&&c((p==null?void 0:p.message)??"Failed to update cookie."),p}finally{u.current&&l(!1)}},[]),b=y.useCallback(async(v,h)=>{l(!0),c(null);try{const p=await J9(v,h);return u.current&&t(w=>w.map(j=>j.id===p.id?p:j)),p}catch(p){throw u.current&&c((p==null?void 0:p.message)??"Failed to update cookie."),p}finally{u.current&&l(!1)}},[]);return{cookies:e,loading:s,detailLoading:a,saving:i,error:d,refresh:f,fetchOne:m,create:g,update:x,patch:b}}const tU=()=>{const{cookies:e,loading:t,detailLoading:s,saving:r,error:a,refresh:o,fetchOne:i,create:l,update:d,patch:c}=eU(),[u,f]=C.useState(""),[m,g]=C.useState("all"),[x,b]=C.useState("all"),[v,h]=C.useState("all"),[p,w]=C.useState(null),[j,k]=C.useState("view"),[E,P]=C.useState(!1),[S,N]=C.useState(""),[A,_]=C.useState(!1),M=C.useMemo(()=>e.filter(O=>{const D=O.name.toLowerCase().includes(u.toLowerCase())||O.provider.toLowerCase().includes(u.toLowerCase()),W=m==="all"?!0:O.category===m,oe=x==="all"?!0:O.type===x,re=v==="all"?!0:O.source===v;return D&&W&&oe&&re}),[e,u,m,x,v]),F=O=>{w(O),k("edit"),O.id&&i(O.id).then(D=>w(D)).catch(()=>{})},I=async(O,D)=>{try{if(D==="create"){const{id:W,...oe}=O;await l(oe)}else O.id&&await d(O.id,O);await o(),w(null),k("view")}catch{}},B=()=>{const O=new Date().toISOString();w({id:"",name:"",domain:"",duration:"",category:"unclassified",purpose:"",provider:"",type:"first_party",source:"manual",createdAt:O,lastUpdated:O}),k("create")},U=async(O,D)=>{try{await c(O,{category:D}),await o()}catch{}},H=async(O,D)=>{try{await c(O,{type:D}),await o()}catch{}},R=async()=>{_(!0);const O=await K9();N(O.trim()),P(!0),_(!1)},T=()=>t?n.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((O,D)=>n.jsx(ye,{className:"h-20 w-full rounded-lg bg-slate-100"},D))}):n.jsx(I9,{cookies:M,onSelect:F,isLoading:t,isError:!!a,errorMessage:a,onRetry:o});return n.jsxs("div",{className:"space-y-6 p-6",children:[n.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-slate-900",children:"Cookie compliance"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Manage your cookie inventory and prepare your cookie policy."})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx($,{variant:"outline",onClick:R,disabled:A,children:A?"Generating...":"Generate cookie policy (AI)"}),n.jsx(W9,{onNew:B})]})]}),n.jsx(U9,{search:u,category:m,type:x,source:v,onSearch:f,onCategoryChange:g,onTypeChange:b,onSourceChange:h}),T(),n.jsx(B9,{cookie:p,isOpen:!!p,mode:j,onClose:()=>{w(null),k("view")},onSave:I,isLoading:s,isSaving:r,onCategoryChange:U,onTypeChange:H}),E&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/30 backdrop-blur-sm",children:n.jsxs("div",{className:"w-full max-w-2xl rounded-xl border border-slate-200 bg-white p-5 shadow-2xl",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"AI-generated cookie policy"}),n.jsx("p",{className:"text-sm text-slate-600",children:"This is a draft. Review before publishing."})]}),n.jsx("button",{type:"button",onClick:()=>P(!1),className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:"X"})]}),n.jsx("pre",{className:"mt-3 max-h-[400px] overflow-auto rounded-md bg-slate-50 p-3 text-sm text-slate-800 whitespace-pre-wrap",children:S}),n.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[n.jsx($,{variant:"outline",onClick:()=>{navigator.clipboard.writeText(S)},children:"Copy"}),n.jsx($,{onClick:()=>P(!1),children:"Close"})]})]})})]})},sU={active:"bg-emerald-50 text-emerald-700 border-emerald-200",disabled:"bg-rose-50 text-rose-700 border-rose-200",pending_invite:"bg-amber-50 text-amber-700 border-amber-200"},nU={active:"Active",disabled:"Disabled",pending_invite:"Pending invite"},W1=({status:e})=>n.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-semibold ${sU[e]}`,children:nU[e]}),rU={owner:"bg-purple-50 text-purple-700 border-purple-200",admin:"bg-sky-50 text-sky-700 border-sky-200",editor:"bg-amber-50 text-amber-700 border-amber-200",viewer:"bg-slate-100 text-slate-700 border-slate-200"},aU={owner:"Owner",admin:"Admin",editor:"Editor",viewer:"Viewer"},q1=({role:e})=>n.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-semibold ${rU[e]}`,children:aU[e]}),oU=e=>{if(!e)return"Never";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},iU=({user:e,onClick:t})=>n.jsxs("tr",{className:"cursor-pointer border-b last:border-0 hover:bg-slate-50 focus-within:bg-slate-50",tabIndex:0,role:"button",onClick:t,onKeyDown:s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),t())},children:[n.jsx("td",{className:"py-3 pr-4 font-semibold text-foreground",children:e.name}),n.jsx("td",{className:"py-3 pr-4 text-foreground",children:e.email}),n.jsx("td",{className:"py-3 pr-4",children:n.jsx(q1,{role:e.role})}),n.jsx("td",{className:"py-3 pr-4",children:n.jsx(W1,{status:e.status})}),n.jsx("td",{className:"py-3 pr-4 text-foreground",children:oU(e.lastLogin)})]}),lU=({users:e,onSelect:t,isLoading:s,isError:r})=>s?n.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading users..."}):r?n.jsx("p",{className:"text-sm text-red-600",children:"Failed to load users."}):e.length===0?n.jsx("p",{className:"text-sm text-muted-foreground",children:"No users found for the selected filters."}):n.jsx("div",{className:"overflow-auto rounded-lg border border-slate-200 bg-white shadow-sm",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b bg-slate-50 text-left text-slate-500",children:[n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Name"}),n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Email"}),n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Role"}),n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Status"}),n.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Last login"})]})}),n.jsx("tbody",{children:e.map(a=>n.jsx(iU,{user:a,onClick:()=>t(a)},a.id))})]})}),cU=["owner","admin","editor","viewer"],dU=["active","pending_invite","disabled"],uU=({search:e,role:t,status:s,onSearch:r,onRoleChange:a,onStatusChange:o})=>n.jsxs("div",{className:"flex flex-col gap-3 rounded-xl border border-slate-200 bg-white p-4 shadow-sm md:flex-row md:items-center md:justify-between",children:[n.jsx("input",{type:"text",value:e,onChange:i=>r(i.target.value),placeholder:"Search users by name or email...",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100"}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[n.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:t,onChange:i=>a(i.target.value),children:[n.jsx("option",{value:"all",children:"All roles"}),cU.map(i=>n.jsx("option",{value:i,children:i},i))]}),n.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:s,onChange:i=>o(i.target.value),children:[n.jsx("option",{value:"all",children:"All statuses"}),dU.map(i=>n.jsx("option",{value:i,children:i.replace("_"," ")},i))]})]})]}),fU=["owner","admin","editor","viewer"],pU=["active","pending_invite","disabled"],mU=({user:e,isOpen:t,mode:s,onClose:r,onSave:a,onPatch:o,isSaving:i})=>{const[l,d]=C.useState(e),[c,u]=C.useState({}),f=C.useRef(null);if(C.useEffect(()=>{t&&(d(e),u({}))},[e,t]),C.useEffect(()=>{var j;if(!t)return;const p=k=>{if(k.key==="Escape"&&r(),k.key==="Tab"&&f.current){const E=f.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(E.length===0)return;const P=E[0],S=E[E.length-1];!k.shiftKey&&document.activeElement===S?(k.preventDefault(),P.focus()):k.shiftKey&&document.activeElement===P&&(k.preventDefault(),S.focus())}};document.addEventListener("keydown",p);const w=(j=f.current)==null?void 0:j.querySelector("input, select, textarea, button");return w==null||w.focus(),()=>document.removeEventListener("keydown",p)},[t,r]),!t||!l)return null;const m=s==="create"||s==="edit",g=!!i,x=(p,w)=>{d(j=>j&&{...j,[p]:w})},b=()=>{const p={};return l.name.trim()||(p.name="Name is required."),l.email.trim()||(p.email="Email is required."),u(p),Object.keys(p).length===0},v=async()=>{b()&&await a(l,s==="create"?"create":"edit")},h=p=>{p.target===p.currentTarget&&r()};return n.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/30 backdrop-blur-sm",onMouseDown:h,children:n.jsxs("div",{className:"flex h-full w-full max-w-2xl flex-col overflow-y-auto bg-white shadow-2xl",ref:f,children:[n.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-5 py-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:s==="create"?"New user":l.name||"User"}),n.jsx(q1,{role:l.role}),n.jsx(W1,{status:l.status})]}),n.jsx("p",{className:"text-sm text-slate-600",children:l.email})]}),n.jsx("button",{type:"button",onClick:r,className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:n.jsx(Re,{className:"h-5 w-5"})})]}),n.jsx("div",{className:"space-y-4 p-5",children:n.jsxs("div",{className:"space-y-3 rounded-lg border border-slate-200 bg-white p-4",children:[n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Name"}),n.jsx("input",{type:"text",value:l.name,onChange:p=>x("name",p.target.value),disabled:!m||g,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),c.name&&n.jsx("p",{className:"text-xs text-rose-600",children:c.name})]}),n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Email"}),n.jsx("input",{type:"email",value:l.email,onChange:p=>x("email",p.target.value),disabled:!m||g,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),c.email&&n.jsx("p",{className:"text-xs text-rose-600",children:c.email})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Role"}),n.jsx("select",{value:l.role,onChange:p=>x("role",p.target.value),disabled:!m||g,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:fU.map(p=>n.jsx("option",{value:p,children:p},p))})]}),n.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Status"}),n.jsx("select",{value:l.status,onChange:p=>x("status",p.target.value),disabled:!m||g,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:pU.map(p=>n.jsx("option",{value:p,children:p.replace("_"," ")},p))})]})]}),s!=="create"&&n.jsxs("div",{className:"grid grid-cols-1 gap-3 rounded-lg border border-slate-200 bg-slate-50 p-4 text-sm text-slate-700 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-slate-800",children:"Created"}),n.jsx("p",{children:new Date(l.createdAt).toLocaleString()})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-slate-800",children:"Last login"}),n.jsx("p",{children:l.lastLogin?new Date(l.lastLogin).toLocaleString():"Never"})]})]})]})}),n.jsx("div",{className:"sticky bottom-0 border-t border-slate-200 bg-white p-4",children:n.jsxs("div",{className:"flex flex-wrap justify-end gap-2",children:[s!=="create"&&n.jsxs(n.Fragment,{children:[l.status==="active"&&n.jsx($,{variant:"outline",onClick:async()=>{l.id&&o?(await o(l.id,{status:"disabled"}),r()):x("status","disabled")},disabled:g,className:"border-rose-200 text-rose-700 hover:bg-rose-50",children:"Disable user"}),l.status==="disabled"&&n.jsx($,{variant:"outline",onClick:async()=>{l.id&&o?(await o(l.id,{status:"active"}),r()):x("status","active")},disabled:g,children:"Enable user"}),l.status==="pending_invite"&&n.jsxs(n.Fragment,{children:[n.jsx($,{variant:"outline",onClick:async()=>{l.id&&o&&(await o(l.id,{action:"resend_invite"}),r())},disabled:g,children:"Resend invite"}),n.jsx($,{variant:"outline",onClick:async()=>{l.id&&o&&(await o(l.id,{status:"disabled"}),r())},disabled:g,children:"Cancel invite"})]})]}),n.jsx($,{variant:"outline",onClick:r,disabled:g,children:"Cancel"}),n.jsx($,{onClick:v,disabled:g,children:i?"Saving...":s==="create"?"Create user":"Save changes"})]})})]})})},hU=["owner","admin","editor","viewer"],xU=({open:e,onClose:t,onInvite:s,isSubmitting:r})=>{const[a,o]=C.useState(""),[i,l]=C.useState(""),[d,c]=C.useState("viewer"),[u,f]=C.useState({});if(C.useEffect(()=>{e&&(o(""),l(""),c("viewer"),f({}))},[e]),!e)return null;const m=()=>{const x={};return a.trim()||(x.name="Name is required."),i.trim()||(x.email="Email is required."),f(x),Object.keys(x).length===0},g=async()=>{m()&&await s({name:a.trim(),email:i.trim(),role:d})};return n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/30 backdrop-blur-sm",onClick:t,children:n.jsxs("div",{className:"w-full max-w-md rounded-xl border border-slate-200 bg-white p-5 shadow-2xl",onClick:x=>x.stopPropagation(),children:[n.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Invite user"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Send an invite to a new user with a selected role."}),n.jsxs("div",{className:"mt-4 space-y-3",children:[n.jsxs("div",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("label",{className:"font-medium",children:"Name"}),n.jsx("input",{type:"text",value:a,onChange:x=>o(x.target.value),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100"}),u.name&&n.jsx("p",{className:"text-xs text-rose-600",children:u.name})]}),n.jsxs("div",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("label",{className:"font-medium",children:"Email"}),n.jsx("input",{type:"email",value:i,onChange:x=>l(x.target.value),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100"}),u.email&&n.jsx("p",{className:"text-xs text-rose-600",children:u.email})]}),n.jsxs("div",{className:"space-y-1 text-sm text-slate-700",children:[n.jsx("label",{className:"font-medium",children:"Role"}),n.jsx("select",{value:d,onChange:x=>c(x.target.value),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",children:hU.map(x=>n.jsx("option",{value:x,children:x},x))})]})]}),n.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[n.jsx($,{variant:"outline",onClick:t,disabled:r,children:"Cancel"}),n.jsx($,{onClick:g,disabled:r,children:r?"Sending...":"Send invite"})]})]})})};function gU(){const[e,t]=y.useState([]),[s,r]=y.useState(!1),[a,o]=y.useState(!1),[i,l]=y.useState(!1),d=y.useRef(!0);y.useEffect(()=>()=>{d.current=!1},[]);const c=y.useCallback(async()=>{r(!0),o(!1);try{const x=await R1();d.current&&t(x)}catch{d.current&&o(!0)}finally{d.current&&r(!1)}},[]);y.useEffect(()=>{c()},[c]);const u=y.useCallback(async x=>tO(x),[]),f=y.useCallback(async x=>{l(!0);try{const b=await sO(x);return d.current&&t(v=>[b,...v]),b}finally{d.current&&l(!1)}},[]),m=y.useCallback(async(x,b)=>{l(!0);try{const v=await nO(x,b);return d.current&&t(h=>h.map(p=>p.id===v.id?v:p)),v}finally{d.current&&l(!1)}},[]),g=y.useCallback(async(x,b)=>{l(!0);try{const v=await rO(x,b);return d.current&&t(h=>h.map(p=>p.id===v.id?v:p)),v}finally{d.current&&l(!1)}},[]);return{users:e,isLoading:s,isError:a,isSaving:i,refresh:c,invite:f,update:m,patch:g,fetchUser:u}}const fg={owner:["All permissions"],admin:["Manage users","Manage all GDPR modules","View billing"],editor:["Edit Documents","Edit Policies","Manage DSR"],viewer:["Read-only access"]},yU=()=>{const{users:e,isLoading:t,isError:s,invite:r,update:a,patch:o,refresh:i,fetchUser:l,isSaving:d}=gU(),[c,u]=C.useState(""),[f,m]=C.useState("all"),[g,x]=C.useState("all"),[b,v]=C.useState(null),[h,p]=C.useState("view"),[w,j]=C.useState(!1),k=C.useMemo(()=>e.filter(N=>{const A=N.name.toLowerCase().includes(c.toLowerCase())||N.email.toLowerCase().includes(c.toLowerCase()),_=f==="all"?!0:N.role===f,M=g==="all"?!0:N.status===g;return A&&_&&M}),[e,c,f,g]),E=N=>{v(N),p("edit"),N.id&&l(N.id).then(A=>v(A)).catch(()=>{})},P=async(N,A)=>{A==="edit"&&N.id&&await a(N.id,N),await i(),v(null),p("view")},S=async N=>{await r(N),await i(),j(!1)};return n.jsxs("div",{className:"space-y-6 p-6",children:[n.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-slate-900",children:"Identity & Access Management"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Manage user accounts, roles and permissions."})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx($,{variant:"outline",onClick:()=>j(!0),children:"Invite user"})})]}),n.jsx(uU,{search:c,role:f,status:g,onSearch:u,onRoleChange:m,onStatusChange:x}),s&&n.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 p-4 text-sm text-rose-700",children:"Failed to load users. Please try again."}),n.jsx(lU,{users:k,onSelect:E,isLoading:t,isError:s}),n.jsxs("div",{className:"space-y-3 rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:[n.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Roles & Permissions"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Overview of default roles and their permissions."}),n.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:Object.keys(fg).map(N=>n.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4",children:[n.jsx("p",{className:"text-sm font-semibold text-slate-900 capitalize",children:N}),n.jsx("ul",{className:"mt-2 list-disc space-y-1 pl-4 text-sm text-slate-700",children:fg[N].map(A=>n.jsx("li",{children:A},A))})]},N))})]}),n.jsx(mU,{user:b,isOpen:!!b,mode:h,onClose:()=>v(null),onSave:P,onPatch:async(N,A)=>{await o(N,A),await i()},isSaving:d}),n.jsx(xU,{open:w,onClose:()=>j(!1),onInvite:S,isSubmitting:d})]})},yf=[{value:"owner",label:"Owner"},{value:"admin",label:"Admin"},{value:"user",label:"Editor"},{value:"viewer",label:"Viewer"}],vU=e=>{const t=(e??"").toString().toLowerCase();return t==="editor"?"user":["owner","admin","user","viewer"].includes(t)?t:"viewer"},bU=e=>(e??"").toString().toLowerCase()==="disabled"?"disabled":"active",pg=e=>({id:Number((e==null?void 0:e.id)??(e==null?void 0:e.user_tenant_id)??(e==null?void 0:e.userTenantId)??0),email:(e==null?void 0:e.email)??"",name:(e==null?void 0:e.name)??(e==null?void 0:e.full_name)??(e==null?void 0:e.fullName)??void 0,role:vU(e==null?void 0:e.role),status:bU(e==null?void 0:e.status),last_login:(e==null?void 0:e.last_login)??(e==null?void 0:e.lastLogin)??null,lastLogin:(e==null?void 0:e.lastLogin)??(e==null?void 0:e.last_login)??null}),wU=e=>{if(!e)return"";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},jU=({open:e,defaultRole:t,onClose:s,onSubmit:r,isSubmitting:a})=>{const[o,i]=C.useState(""),[l,d]=C.useState(t),[c,u]=C.useState(null);if(C.useEffect(()=>{e&&(i(""),d(t),u(null))},[t,e]),!e)return null;const f=async()=>{const m=o.trim();if(!m){u("Email is required");return}u(null),await r({email:m,role:l})};return n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/40 px-4 backdrop-blur-sm",children:n.jsxs("div",{className:"w-full max-w-lg overflow-hidden rounded-xl border border-slate-200 bg-white shadow-2xl",children:[n.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-5 py-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Invite user"}),n.jsx("p",{className:"text-lg font-semibold text-slate-900",children:"Add a teammate"})]}),n.jsx("button",{type:"button",onClick:s,className:"rounded-full p-2 text-slate-500 transition hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close dialog",children:"x"})]}),n.jsxs("div",{className:"space-y-4 p-5",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm font-medium text-slate-800",children:"Email"}),n.jsx(Se,{type:"email",value:o,onChange:m=>i(m.target.value),placeholder:"teammate@company.com",disabled:a}),c&&n.jsx("p",{className:"text-xs text-rose-600",children:c})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm font-medium text-slate-800",children:"Role"}),n.jsx("select",{className:"w-full rounded-md border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-60",value:l,onChange:m=>d(m.target.value),disabled:a,children:yf.map(m=>n.jsx("option",{value:m.value,children:m.label},m.value))})]})]}),n.jsxs("div",{className:"flex items-center justify-end gap-2 border-t border-slate-200 bg-slate-50 px-5 py-3",children:[n.jsx($,{variant:"outline",onClick:s,disabled:a,children:"Cancel"}),n.jsx($,{onClick:f,disabled:a,children:a?n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(Ns,{className:"h-4 w-4 animate-spin"}),"Sending..."]}):"Invite"})]})]})})},NU=()=>{var N;const{user:e}=Ct(),{toast:t}=St(),[s,r]=C.useState([]),[a,o]=C.useState(!0),[i,l]=C.useState(null),[d,c]=C.useState(!1),[u,f]=C.useState(!1),[m,g]=C.useState(!1),[x,b]=C.useState({}),v=(N=e==null?void 0:e.role)==null?void 0:N.toString().toLowerCase(),h=v==="owner"||v==="admin",p=(A,_)=>{b(M=>({...M,[A]:_}))},w=C.useCallback(async()=>{o(!0),l(null),c(!1);try{const A=await V.get("/api/admin/workspace/users",{validateStatus:M=>M>=200&&M<300||M===403});if(A.status===403){c(!0),r([]);return}const _=Array.isArray(A.data)?A.data:[];r(_.map(pg))}catch(A){l((A==null?void 0:A.message)??"Failed to load workspace users."),t({variant:"destructive",title:"Failed to load users",description:(A==null?void 0:A.message)??"Something went wrong while fetching workspace users."})}finally{o(!1)}},[t]);C.useEffect(()=>{h&&w()},[h,w]);const j=async A=>{g(!0);try{const _=await V.post("/api/admin/workspace/users/invite",A),M=pg(_.data);r(F=>[...F,M]),t({title:"Invitation recorded",description:`${A.email} has been added to the workspace.`}),f(!1)}catch(_){t({variant:"destructive",title:"Failed to invite user",description:(_==null?void 0:_.message)??"Please try again."})}finally{g(!1)}},k=(A,_)=>{r(M=>M.map(F=>F.id===A?{...F,..._}:F))},E=A=>{A&&r(_=>_.map(M=>M.id===A.id?A:M))},P=async(A,_)=>{var I;const M=s.find(B=>B.id===A),F=M?{...M}:void 0;k(A,{role:_}),p(A,!0);try{await V.patch(`/api/admin/workspace/users/${A}`,{role:_}),t({title:"Role updated",description:`Role changed to ${((I=yf.find(B=>B.value===_))==null?void 0:I.label)??_}.`})}catch(B){E(F),t({variant:"destructive",title:"Failed to update role",description:(B==null?void 0:B.message)??"Please try again."})}finally{p(A,!1)}},S=async(A,_)=>{const M=s.find(I=>I.id===A),F=M?{...M}:void 0;k(A,{status:_}),p(A,!0);try{await V.patch(`/api/admin/workspace/users/${A}`,{status:_}),t({title:"Status updated",description:`User marked as ${_==="active"?"active":"disabled"}.`})}catch(I){E(F),t({variant:"destructive",title:"Failed to update status",description:(I==null?void 0:I.message)??"Please try again."})}finally{p(A,!1)}};return h?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-sky-600",children:"Workspace Admin"}),n.jsx("h1",{className:"text-3xl font-semibold text-slate-900",children:"Workspace Users & Roles"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Manage who can access your workspace and what they are allowed to do."})]}),n.jsxs($,{onClick:()=>f(!0),className:"inline-flex items-center gap-2",children:[n.jsx(bA,{className:"h-4 w-4"}),"Invite user"]})]}),d?n.jsx(J,{className:"border-amber-200 bg-amber-50",children:n.jsxs(ae,{className:"flex flex-row items-center gap-3",children:[n.jsx("div",{className:"rounded-full bg-white p-2 text-amber-600 shadow-sm",children:n.jsx(ta,{className:"h-5 w-5"})}),n.jsxs("div",{children:[n.jsx(ie,{className:"text-lg text-amber-900",children:"You do not have permission"}),n.jsx(st,{className:"text-amber-800",children:"You do not have permission to manage workspace users. Contact your workspace owner."})]})]})}):n.jsxs(J,{className:"shadow-sm",children:[n.jsxs(ae,{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[n.jsxs("div",{children:[n.jsx(ie,{className:"text-xl text-slate-900",children:"Team directory"}),n.jsx(st,{children:"See everyone with access to this workspace and manage their permissions."})]}),n.jsxs("div",{className:"flex items-center gap-2 rounded-full border border-slate-200 bg-slate-50 px-3 py-1 text-xs font-semibold text-slate-600",children:[n.jsx(gt,{className:"h-4 w-4 text-sky-500"}),"Owner/Admin only"]})]}),n.jsxs(te,{className:"space-y-4",children:[i&&n.jsx("div",{className:"rounded-md border border-rose-200 bg-rose-50 px-3 py-2 text-sm text-rose-700",children:i}),a?n.jsx("div",{className:"space-y-2",children:[0,1,2].map(A=>n.jsxs("div",{className:"grid grid-cols-12 items-center gap-3 rounded-lg border border-slate-100 bg-slate-50 px-4 py-3",children:[n.jsxs("div",{className:"col-span-4 space-y-2",children:[n.jsx(ye,{className:"h-4 w-3/4"}),n.jsx(ye,{className:"h-3 w-1/2"})]}),n.jsx(ye,{className:"col-span-2 h-8"}),n.jsx(ye,{className:"col-span-2 h-6"}),n.jsx(ye,{className:"col-span-3 h-4"}),n.jsx(ye,{className:"col-span-1 h-4"})]},`skeleton-${A}`))}):s.length===0?n.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-dashed border-slate-200 bg-slate-50 px-4 py-6",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-slate-800",children:"No users yet."}),n.jsx("p",{className:"text-sm text-slate-600",children:"Invite your team to collaborate on GDPR compliance."})]}),n.jsx($,{variant:"outline",onClick:()=>f(!0),children:"Invite user"})]}):n.jsxs("div",{className:"overflow-hidden rounded-xl border border-slate-200",children:[n.jsxs("div",{className:"grid grid-cols-12 bg-slate-50 px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-slate-600",children:[n.jsx("div",{className:"col-span-4",children:"Email"}),n.jsx("div",{className:"col-span-2",children:"Role"}),n.jsx("div",{className:"col-span-2",children:"Status"}),n.jsx("div",{className:"col-span-3",children:"Last login"}),n.jsx("div",{className:"col-span-1 text-right",children:"Actions"})]}),n.jsx("div",{className:"divide-y divide-slate-200 bg-white",children:s.map(A=>n.jsxs("div",{className:"grid grid-cols-12 items-center gap-3 px-4 py-3 hover:bg-slate-50",children:[n.jsxs("div",{className:"col-span-4",children:[n.jsx("p",{className:"text-sm font-semibold text-slate-900",children:A.email}),n.jsx("p",{className:"text-xs text-slate-600",children:A.name??""})]}),n.jsx("div",{className:"col-span-2",children:n.jsx("select",{className:"w-full rounded-md border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:cursor-not-allowed disabled:opacity-60",value:A.role,onChange:_=>P(A.id,_.target.value),disabled:!!x[A.id],children:yf.map(_=>n.jsx("option",{value:_.value,children:_.label},_.value))})}),n.jsxs("div",{className:"col-span-2 flex items-center gap-3",children:[n.jsx(on,{className:A.status==="active"?"bg-emerald-100 text-emerald-700":"bg-slate-200 text-slate-700",variant:"outline",children:A.status==="active"?"Active":"Disabled"}),n.jsx($o,{checked:A.status==="active",onCheckedChange:_=>S(A.id,_?"active":"disabled"),disabled:!!x[A.id]})]}),n.jsx("div",{className:"col-span-3 text-sm text-slate-700",children:wU(A.last_login??A.lastLogin)}),n.jsx("div",{className:"col-span-1 text-right text-sm text-slate-400",children:"\\u2014"})]},A.id))})]})]})]}),n.jsx(jU,{open:u,defaultRole:"user",onClose:()=>f(!1),onSubmit:j,isSubmitting:m})]}):n.jsx(nn,{to:"/app/dashboard",replace:!0})},kU=e=>{if(!e)return"--";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString(void 0,{year:"numeric",month:"2-digit",day:"2-digit"})},yi=({title:e,value:t,icon:s})=>n.jsxs(J,{className:"shadow-sm",children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium text-slate-600",children:e}),s]}),n.jsx(te,{children:n.jsx("p",{className:"text-2xl font-semibold text-slate-900",children:t})})]}),SU=()=>{var g;const{user:e}=Ct(),{toast:t}=St(),[s,r]=C.useState(null),[a,o]=C.useState([]),[i,l]=C.useState(!0),[d,c]=C.useState(null),[u,f]=C.useState(!1),m=((g=e==null?void 0:e.email)==null?void 0:g.toLowerCase())==="admin@aura-gdpr.se";return C.useEffect(()=>{if(!m)return;(async()=>{l(!0),c(null),f(!1);try{const[b,v]=await Promise.all([V.get("/api/admin/platform/overview",{validateStatus:h=>h>=200&&h<300||h===403}),V.get("/api/admin/platform/tenants",{validateStatus:h=>h>=200&&h<300||h===403})]);if(b.status===403||v.status===403){f(!0),r(null),o([]);return}r(b.data??null),o(Array.isArray(v.data)?v.data:[])}catch(b){const v=(b==null?void 0:b.message)??"Failed to load platform overview.";c(v),t({variant:"destructive",title:"Failed to load data",description:v})}finally{l(!1)}})()},[m,t]),m?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-sky-600",children:"Platform"}),n.jsx("h1",{className:"text-3xl font-semibold text-slate-900",children:"Platform Admin"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Global overview of all tenants."})]}),u?n.jsx(J,{className:"border-amber-200 bg-amber-50",children:n.jsxs(ae,{className:"flex flex-row items-center gap-3",children:[n.jsx("div",{className:"rounded-full bg-white p-2 text-amber-600 shadow-sm",children:n.jsx(ta,{className:"h-5 w-5"})}),n.jsxs("div",{children:[n.jsx(ie,{className:"text-lg text-amber-900",children:"Access denied"}),n.jsx(st,{className:"text-amber-800",children:"You do not have access to the Platform Admin area."})]})]})}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:i?n.jsx(n.Fragment,{children:[0,1,2,3].map(x=>n.jsx(J,{className:"shadow-sm",children:n.jsxs(ae,{className:"space-y-2",children:[n.jsx(ye,{className:"h-4 w-24"}),n.jsx(ye,{className:"h-6 w-16"})]})},`stat-skeleton-${x}`))}):n.jsxs(n.Fragment,{children:[n.jsx(yi,{title:"Tenants total",value:(s==null?void 0:s.tenants_total)??0,icon:n.jsx(sA,{className:"h-5 w-5 text-slate-500"})}),n.jsx(yi,{title:"Users total",value:(s==null?void 0:s.users_total)??0,icon:n.jsx(pl,{className:"h-5 w-5 text-slate-500"})}),n.jsx(yi,{title:"DSRs total",value:(s==null?void 0:s.dsr_total)??0,icon:n.jsx(sc,{className:"h-5 w-5 text-slate-500"})}),n.jsx(yi,{title:"DPIAs total",value:(s==null?void 0:s.dpia_total)??0,icon:n.jsx(Cb,{className:"h-5 w-5 text-slate-500"})})]})}),n.jsxs(J,{className:"shadow-sm",children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(ie,{className:"text-xl text-slate-900",children:"Tenants"}),n.jsx(st,{children:"List of all tenants across the platform."})]}),i&&n.jsx(Ns,{className:"h-5 w-5 animate-spin text-slate-500","aria-label":"Loading tenants"})]}),n.jsxs(te,{children:[d&&n.jsx("div",{className:"mb-3 rounded-md border border-rose-200 bg-rose-50 px-3 py-2 text-sm text-rose-700",children:d}),i?n.jsx("div",{className:"space-y-2",children:[0,1,2].map(x=>n.jsxs("div",{className:"grid grid-cols-12 items-center gap-3 rounded-lg border border-slate-100 bg-slate-50 px-4 py-3",children:[n.jsx(ye,{className:"col-span-4 h-4"}),n.jsx(ye,{className:"col-span-3 h-4"}),n.jsx(ye,{className:"col-span-3 h-4"}),n.jsx(ye,{className:"col-span-2 h-4"})]},`tenant-skeleton-${x}`))}):a.length===0?n.jsx("p",{className:"text-sm text-slate-600",children:"No tenants found."}):n.jsxs("div",{className:"overflow-hidden rounded-lg border border-slate-200",children:[n.jsxs("div",{className:"grid grid-cols-12 bg-slate-50 px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-slate-600",children:[n.jsx("div",{className:"col-span-4",children:"Name"}),n.jsx("div",{className:"col-span-3",children:"Plan"}),n.jsx("div",{className:"col-span-3",children:"Status"}),n.jsx("div",{className:"col-span-2",children:"Created"})]}),n.jsx("div",{className:"divide-y divide-slate-200 bg-white",children:a.map(x=>n.jsxs("div",{className:"grid grid-cols-12 items-center gap-3 px-4 py-3",children:[n.jsx("div",{className:"col-span-4",children:n.jsx("p",{className:"text-sm font-semibold text-slate-900",children:x.name})}),n.jsx("div",{className:"col-span-3 text-sm text-slate-700",children:x.plan}),n.jsx("div",{className:"col-span-3 text-sm text-slate-700",children:x.status}),n.jsx("div",{className:"col-span-2 text-sm text-slate-700",children:kU(x.created_at)})]},x.id))})]})]})]})]})]}):n.jsx(nn,{to:"/app/dashboard",replace:!0})},CU=()=>n.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-slate-900 via-sky-900 to-purple-900 text-center p-4",children:[n.jsx(_e.div,{initial:{opacity:0,y:-50,rotate:-5},animate:{opacity:1,y:0,rotate:0},transition:{type:"spring",stiffness:100,duration:.8},children:n.jsx(mn,{className:"h-32 w-32 text-yellow-400 mb-8 animate-pulse"})}),n.jsx(_e.h1,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.5},className:"text-6xl font-extrabold text-slate-100 mb-4",children:"404"}),n.jsx(_e.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.5},className:"text-2xl text-slate-300 mb-8",children:"Page not found"}),n.jsx(_e.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.5},className:"text-slate-400 mb-10 max-w-md",children:"The page you're looking for doesn't exist or has been moved. Let's get you back on track."}),n.jsx(_e.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.8,duration:.5},children:n.jsx($,{asChild:!0,size:"lg",className:"bg-gradient-to-r from-sky-500 to-purple-600 hover:from-sky-600 hover:to-purple-700 text-white font-semibold py-3 px-8 text-lg",children:n.jsx(Ur,{to:"/app/dashboard",children:"Go to Dashboard"})})})]}),PU=()=>{const e=is();return n.jsx("div",{className:"flex min-h-screen flex-col items-center justify-center bg-gradient-to-br from-slate-100 to-white px-4 text-center",children:n.jsxs("div",{className:"max-w-md space-y-6 rounded-2xl border border-slate-200 bg-white p-10 shadow-sm",children:[n.jsx("div",{className:"mx-auto flex h-16 w-16 items-center justify-center rounded-full bg-rose-50 text-rose-600",children:n.jsx(yb,{className:"h-8 w-8"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Something went wrong"}),n.jsx("p",{className:"text-sm text-slate-600",children:"An error occurred while loading this page. Try refreshing, or contact support if the issue persists."})]}),n.jsxs("div",{className:"flex flex-wrap justify-center gap-3",children:[n.jsxs($,{onClick:()=>window.location.reload(),className:"gap-2",children:[n.jsx(rc,{className:"h-4 w-4"}),"Refresh page"]}),n.jsx($,{variant:"outline",onClick:()=>e("/app/dashboard"),children:"Go to dashboard"})]})]})})},AU=e=>e>=80?"bg-emerald-50 text-emerald-700 border-emerald-200":e>=50?"bg-amber-50 text-amber-700 border-amber-200":"bg-rose-50 text-rose-700 border-rose-200",EU=({score:e})=>n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:[n.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Overall security score"}),n.jsxs("div",{className:"mt-2 flex items-end gap-3",children:[n.jsx("p",{className:"text-4xl font-semibold text-slate-900",children:e}),n.jsx("span",{className:`rounded-full border px-3 py-1 text-xs font-semibold ${AU(e)}`,children:e>=80?"Good":e>=50?"Needs attention":"Critical"})]}),n.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Higher scores indicate stronger technical and organisational measures."})]}),RU=({kpi:e})=>{const t=Math.min(100,Math.round(e.value/e.max*100));return n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[n.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:e.label}),n.jsxs("div",{className:"mt-2 flex items-baseline gap-2",children:[n.jsx("p",{className:"text-2xl font-semibold text-slate-900",children:e.value}),n.jsxs("p",{className:"text-xs text-slate-500",children:["/ ",e.max]})]}),n.jsx("div",{className:"mt-2 h-2 w-full rounded-full bg-slate-100",children:n.jsx("div",{className:"h-2 rounded-full bg-sky-500",style:{width:`${t}%`}})})]})},TU={good:"bg-emerald-50 text-emerald-700 border-emerald-200",medium:"bg-amber-50 text-amber-700 border-amber-200",poor:"bg-rose-50 text-rose-700 border-rose-200"},DU=({controls:e})=>n.jsx("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:n.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:e.map(t=>n.jsxs("div",{className:`rounded-lg border p-3 ${TU[t.level]}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm font-semibold",children:t.name}),n.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide",children:t.level})]}),n.jsx("p",{className:"text-xs text-slate-700",children:t.category})]},t.id))})}),_U={active:"bg-emerald-50 text-emerald-700 border-emerald-200",inactive:"bg-amber-50 text-amber-700 border-amber-200",not_configured:"bg-slate-100 text-slate-700 border-slate-200"},LU={active:"Active",inactive:"Inactive",not_configured:"Not configured"},MU=({integration:e})=>n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm font-semibold text-slate-900",children:e.name}),n.jsx("span",{className:`rounded-full border px-2.5 py-1 text-xs font-semibold ${_U[e.status]}`,children:LU[e.status]})]}),n.jsx("p",{className:"mt-2 text-sm text-slate-700",children:e.description})]}),IU={low:"border-slate-200 text-slate-700 bg-slate-50",medium:"border-amber-200 text-amber-700 bg-amber-50",high:"border-rose-200 text-rose-700 bg-rose-50",critical:"border-rose-300 text-rose-800 bg-rose-50"},OU=({warnings:e})=>e.length===0?n.jsx("p",{className:"text-sm text-muted-foreground",children:"No warnings. Security posture looks good."}):n.jsx("div",{className:"space-y-3",children:e.map(t=>n.jsx("div",{className:`rounded-lg border px-3 py-3 text-sm font-semibold ${IU[t.severity]}`,children:t.message},t.id))}),FU={info:"bg-slate-100 text-slate-700 border-slate-200",warning:"bg-amber-50 text-amber-700 border-amber-200",critical:"bg-rose-50 text-rose-700 border-rose-200"},UU=e=>{const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},$U=({events:e})=>e.length===0?n.jsx("p",{className:"text-sm text-muted-foreground",children:"No recent security events."}):n.jsx("div",{className:"space-y-3",children:e.map(t=>n.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-3 shadow-sm",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:`rounded-full border px-2.5 py-1 text-[11px] font-semibold uppercase tracking-wide ${FU[t.severity]}`,children:t.severity}),n.jsx("span",{className:"text-xs text-slate-500",children:UU(t.timestamp)})]}),n.jsx("p",{className:"mt-1 text-sm font-semibold text-slate-900",children:t.event}),n.jsxs("p",{className:"text-xs text-slate-600",children:["Source: ",t.source]})]},t.id))});function VU(){const[e]=y.useState(78),[t]=y.useState([{id:"kpi_encryption",label:"Encryption coverage",value:90,max:100},{id:"kpi_access_control",label:"Access control maturity",value:65,max:100},{id:"kpi_backup",label:"Backup integrity",value:80,max:100},{id:"kpi_patch",label:"Patch compliance",value:70,max:100}]),[s]=y.useState([{id:"ctrl_firewall",name:"Firewall configuration",category:"Network",level:"good"},{id:"ctrl_mfa",name:"MFA / 2FA enforcement",category:"Access control",level:"medium"},{id:"ctrl_encryption",name:"Encryption at rest",category:"Encryption",level:"good"},{id:"ctrl_logging",name:"Logging & monitoring",category:"Monitoring",level:"medium"},{id:"ctrl_backup",name:"Backup testing",category:"Resilience",level:"poor"}]),[r]=y.useState([{id:"int_siem",name:"SIEM integration",status:"active",description:"Security events forwarded to SIEM."},{id:"int_sso",name:"SSO / Identity Provider",status:"active",description:"SSO configured for all users."},{id:"int_2fa",name:"2FA enforcement",status:"inactive",description:"2FA not enforced for all users."},{id:"int_vuln",name:"Vulnerability scanner",status:"not_configured",description:"Scanner not yet connected to assets."}]),[a]=y.useState([{id:"warn_1",severity:"high",message:"2FA is not enforced for all users."},{id:"warn_2",severity:"medium",message:"Backups have not been tested in 90 days."}]),[o]=y.useState([{id:"evt_1",timestamp:"2025-05-14T10:00:00Z",event:"User failed login attempt",source:"Identity provider",severity:"warning"},{id:"evt_2",timestamp:"2025-05-14T09:20:00Z",event:"Firewall rule updated",source:"Network firewall",severity:"info"},{id:"evt_3",timestamp:"2025-05-13T18:00:00Z",event:"Backup completed successfully",source:"Backup system",severity:"info"},{id:"evt_4",timestamp:"2025-05-13T16:45:00Z",event:"Unusual login pattern detected",source:"SIEM",severity:"critical"}]);return{score:e,kpis:t,controls:s,integrations:r,warnings:a,events:o,isLoading:!1,isError:!1}}const zU=()=>{const{score:e,kpis:t,controls:s,integrations:r,warnings:a,events:o}=VU();return n.jsxs("div",{className:"space-y-6 p-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-slate-900",children:"Security health"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Overview of your technical and organisational security posture."})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsx("div",{className:"md:col-span-1",children:n.jsx(EU,{score:e})}),n.jsx("div",{className:"md:col-span-2 grid gap-4 sm:grid-cols-2",children:t.map(i=>n.jsx(RU,{kpi:i},i.id))})]}),n.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[n.jsx(DU,{controls:s}),n.jsx("div",{className:"grid gap-3",children:r.map(i=>n.jsx(MU,{integration:i},i.id))})]}),n.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:[n.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"System warnings"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Actionable items detected by the security engine."}),n.jsx("div",{className:"mt-3",children:n.jsx(OU,{warnings:a})})]}),n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:[n.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Recent security events"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Latest security signals and activities."}),n.jsx("div",{className:"mt-3",children:n.jsx($U,{events:o})})]})]})]})},xn="mx-auto w-full max-w-6xl px-4 sm:px-6",BU=()=>n.jsx("section",{className:"bg-gradient-to-b from-white via-slate-50 to-white py-16 sm:py-24",children:n.jsxs("div",{className:xn+" grid gap-12 lg:grid-cols-2 lg:items-center",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-sky-50 px-3 py-1 text-xs font-semibold text-sky-700",children:[n.jsx(Qe,{className:"h-4 w-4"}),"Purpose-built for privacy teams"]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h1",{className:"text-4xl font-bold tracking-tight text-slate-900 sm:text-5xl",children:"AI-powered GDPR compliance for modern organizations"}),n.jsx("p",{className:"text-lg text-slate-600",children:"AURA-GDPR helps you manage data subject requests, DPIAs, ROPA, incidents and policies in one place  powered by AI."})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[n.jsx($,{size:"lg",className:"px-6",children:"Start free trial"}),n.jsx($,{size:"lg",variant:"outline",className:"px-6",children:"Talk to sales"})]}),n.jsx("p",{className:"text-sm text-slate-500",children:"No installation. No credit card required for trial."}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-slate-600 sm:max-w-lg sm:grid-cols-3",children:[n.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-3",children:[n.jsx("p",{className:"font-semibold text-slate-900",children:"AI audit-ready"}),n.jsx("p",{className:"text-slate-500",children:"Recommendations and checks."})]}),n.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-3",children:[n.jsx("p",{className:"font-semibold text-slate-900",children:"Fast onboarding"}),n.jsx("p",{className:"text-slate-500",children:"Invite your team in minutes."})]}),n.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-3",children:[n.jsx("p",{className:"font-semibold text-slate-900",children:"Secure by design"}),n.jsx("p",{className:"text-slate-500",children:"SSO, audit logs, encryption."})]})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute -left-6 -top-6 h-16 w-16 rounded-full bg-sky-100 blur-2xl","aria-hidden":!0}),n.jsx("div",{className:"absolute -right-10 bottom-10 h-24 w-24 rounded-full bg-indigo-100 blur-3xl","aria-hidden":!0}),n.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white p-6 shadow-xl shadow-slate-900/5",children:[n.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[n.jsx("div",{className:"h-2 w-8 rounded-full bg-sky-500"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("span",{className:"h-2 w-2 rounded-full bg-slate-300"}),n.jsx("span",{className:"h-2 w-2 rounded-full bg-slate-300"}),n.jsx("span",{className:"h-2 w-2 rounded-full bg-slate-300"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[n.jsxs("div",{className:"rounded-lg bg-slate-50 p-3",children:[n.jsx("p",{className:"text-xs font-semibold text-slate-500",children:"Tasks"}),n.jsx("p",{className:"text-lg font-bold text-slate-900",children:"32"}),n.jsx("p",{className:"text-xs text-slate-500",children:"In progress"})]}),n.jsxs("div",{className:"rounded-lg bg-slate-50 p-3",children:[n.jsx("p",{className:"text-xs font-semibold text-slate-500",children:"Incidents"}),n.jsx("p",{className:"text-lg font-bold text-slate-900",children:"3"}),n.jsx("p",{className:"text-xs text-slate-500",children:"Investigating"})]}),n.jsxs("div",{className:"rounded-lg bg-slate-50 p-3",children:[n.jsx("p",{className:"text-xs font-semibold text-slate-500",children:"DPIAs"}),n.jsx("p",{className:"text-lg font-bold text-slate-900",children:"12"}),n.jsx("p",{className:"text-xs text-slate-500",children:"Draft"})]})]}),n.jsx("div",{className:"rounded-xl border border-dashed border-slate-200 bg-gradient-to-r from-slate-50 to-sky-50 p-4",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Qe,{className:"mt-0.5 h-5 w-5 text-sky-600"}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"AI audit summary"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Your ROPA and TOMs are complete. 2 DPIAs need review. One incident requires stakeholder update."})]})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[n.jsx("p",{className:"text-xs font-semibold text-slate-500",children:"Upcoming deadlines"}),n.jsx("p",{className:"text-sm text-slate-900",children:"DSR response in 36h"}),n.jsx("p",{className:"text-xs text-amber-600",children:"Priority"})]}),n.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[n.jsx("p",{className:"text-xs font-semibold text-slate-500",children:"Risk alerts"}),n.jsx("p",{className:"text-sm text-slate-900",children:"Vendor DPIA renewal pending"}),n.jsx("p",{className:"text-xs text-slate-500",children:"Low"})]})]})]})]})]})]})}),WU=()=>{const e=["NordicBank","DataCloud","HealthSync","TrustWare","ComplyCo"];return n.jsx("section",{className:"bg-white py-12",children:n.jsxs("div",{className:xn+" space-y-6",children:[n.jsx("p",{className:"text-center text-sm font-semibold uppercase tracking-wide text-slate-500",children:"Trusted by privacy-first teams"}),n.jsx("div",{className:"flex flex-wrap items-center justify-center gap-4 sm:gap-6",children:e.map(t=>n.jsx("div",{className:"flex h-10 min-w-[120px] items-center justify-center rounded-lg border border-slate-200 bg-slate-50 px-4 text-sm font-semibold text-slate-500",children:t},t))})]})})},qU=()=>{const e=[{title:"Data subject requests",icon:jb,description:"Standardized workflows, SLA tracking, and auditable responses for every DSR."},{title:"DPIA & risk assessments",icon:gt,description:"Collaborative assessments with templates, risk scoring, and mitigation tracking."},{title:"Records of processing (ROPA)",icon:Vr,description:"Keep processing activities up to date with ownership, systems, and purposes."},{title:"Incident management",icon:Eb,description:"Log, investigate, and communicate breaches with timelines and status updates."},{title:"Technical measures (TOMs)",icon:iA,description:"Document and monitor controls like encryption, access, and vendor security."},{title:"AI audit engine",icon:Qe,description:"AI-powered findings, policy drafts, and reminders to keep you compliant."}];return n.jsx("section",{className:"bg-slate-50 py-16 sm:py-20",children:n.jsxs("div",{className:xn+" space-y-6",children:[n.jsxs("div",{className:"text-center space-y-2",children:[n.jsx("h2",{className:"text-3xl font-bold text-slate-900 sm:text-4xl",children:"Everything you need for GDPR compliance"}),n.jsx("p",{className:"text-slate-600",children:"Purpose-built modules that stay in sync with your team and regulators."})]}),n.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:e.map(t=>{const s=t.icon;return n.jsxs("div",{className:"flex h-full flex-col rounded-xl border border-slate-200 bg-white p-5 shadow-sm shadow-slate-200/60",children:[n.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-sky-50 text-sky-600",children:n.jsx(s,{className:"h-5 w-5"})}),n.jsx("h3",{className:"mt-4 text-lg font-semibold text-slate-900",children:t.title}),n.jsx("p",{className:"mt-2 text-sm text-slate-600",children:t.description})]},t.title)})})]})})},HU=()=>{const e=[{title:"Connect your organization",description:"Create your tenant, invite teammates, and set roles for data owners and reviewers."},{title:"Document your GDPR landscape",description:"Add ROPA, DPIAs, incidents, TOMs, cookies, and policies with guided templates."},{title:"Let AI support your compliance",description:"Use AI to draft policies, highlight gaps, and surface recommendations automatically."},{title:"Stay on top of deadlines",description:"Tasks, notifications, and reminders keep responses on track and audit-ready."}];return n.jsx("section",{className:"bg-white py-16 sm:py-20",children:n.jsxs("div",{className:xn+" space-y-6",children:[n.jsxs("div",{className:"text-center space-y-2",children:[n.jsx("h2",{className:"text-3xl font-bold text-slate-900 sm:text-4xl",children:"How AURA-GDPR works"}),n.jsx("p",{className:"text-slate-600",children:"A guided flow from onboarding to continuous compliance."})]}),n.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:e.map((t,s)=>n.jsxs("div",{className:"relative flex h-full flex-col rounded-xl border border-slate-200 bg-slate-50 p-5 shadow-sm",children:[n.jsx("div",{className:"mb-3 inline-flex h-9 w-9 items-center justify-center rounded-full bg-sky-600 text-sm font-semibold text-white",children:s+1}),n.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:t.title}),n.jsx("p",{className:"mt-2 text-sm text-slate-600",children:t.description})]},t.title))})]})})},GU=()=>{const e=[{name:"Free",price:"From 0/month",description:"For small teams who want to explore the platform.",bullets:["1 tenant","Core modules with limits","Community support"]},{name:"Pro",price:"From 249/month",description:"For organizations that want full automation.",bullets:["Full access to modules","AI audit and drafting tools","Unlimited users & tasks"],highlighted:!0},{name:"Enterprise",price:"Custom pricing",description:"For large or regulated organizations.",bullets:["SSO & SCIM","Dedicated support team","Custom hosting and controls"]}];return n.jsx("section",{className:"bg-slate-50 py-16 sm:py-20",children:n.jsxs("div",{className:xn+" space-y-6",children:[n.jsxs("div",{className:"text-center space-y-2",children:[n.jsx("h2",{className:"text-3xl font-bold text-slate-900 sm:text-4xl",children:"Simple pricing for serious compliance"}),n.jsx("p",{className:"text-slate-600",children:"Pick a plan that fits your maturity. Upgrade anytime."})]}),n.jsx("div",{className:"grid gap-6 md:grid-cols-3",children:e.map(t=>n.jsxs("div",{className:`flex h-full flex-col rounded-2xl border bg-white p-6 shadow-sm ${t.highlighted?"border-sky-500 shadow-sky-100 ring-2 ring-sky-200":"border-slate-200"}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:t.name}),t.highlighted&&n.jsx("span",{className:"rounded-full bg-sky-50 px-3 py-1 text-xs font-semibold text-sky-700",children:"Popular"})]}),n.jsx("p",{className:"mt-2 text-sm text-slate-600",children:t.description}),n.jsx("p",{className:"mt-4 text-2xl font-bold text-slate-900",children:t.price}),n.jsx("div",{className:"mt-4 space-y-2 text-sm text-slate-700",children:t.bullets.map(s=>n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(bb,{className:"mt-0.5 h-4 w-4 text-sky-600"}),n.jsx("span",{children:s})]},s))}),n.jsx("div",{className:"mt-6",children:n.jsx($,{className:"w-full",variant:t.highlighted?"default":"outline",children:t.name==="Free"?"Get started":"Contact sales"})})]},t.name))})]})})},KU=()=>{const e=[{question:"Do I need a lawyer to use AURA-GDPR?",answer:"AURA-GDPR guides you with templates and AI assistance. You can also collaborate with your legal team."},{question:"Where is my data stored?",answer:"Data is hosted in the EU with encryption in transit and at rest. Enterprise hosting options are available."},{question:"Can I export my data?",answer:"Yes. You can export records, tasks, and reports at any time for audits or backups."},{question:"Is AURA-GDPR suitable for small companies?",answer:"Absolutely. Start with the Free plan, then scale to Pro or Enterprise as your compliance program grows."},{question:"Does AURA-GDPR support deadlines and reminders?",answer:"Tasks, notifications, and timelines keep you on schedule for DSRs, DPIAs, and incident reports."},{question:"How does the AI audit engine work?",answer:"It reviews your inputs, highlights gaps, drafts policies, and recommends actions based on best practices."}];return n.jsx("section",{className:"bg-white py-16 sm:py-20",children:n.jsxs("div",{className:xn+" space-y-6",children:[n.jsxs("div",{className:"text-center space-y-2",children:[n.jsx("h2",{className:"text-3xl font-bold text-slate-900 sm:text-4xl",children:"Frequently asked questions"}),n.jsx("p",{className:"text-slate-600",children:"Answers to common questions about AURA-GDPR."})]}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:e.map(t=>n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-5",children:[n.jsx("p",{className:"text-base font-semibold text-slate-900",children:t.question}),n.jsx("p",{className:"mt-2 text-sm text-slate-600",children:t.answer})]},t.question))})]})})},YU=()=>{const e=new Date().getFullYear();return n.jsxs("footer",{className:"border-t border-slate-200 bg-slate-50 py-12",children:[n.jsxs("div",{className:xn+" grid gap-8 sm:grid-cols-2 lg:grid-cols-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-lg bg-sky-600 text-white",children:"AG"}),n.jsx("p",{className:"text-lg font-semibold text-slate-900",children:"AURA-GDPR"})]}),n.jsx("p",{className:"mt-3 text-sm text-slate-600",children:"GDPR compliance platform to keep your organization aligned, secure, and audit-ready."})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-semibold text-slate-900",children:"Product"}),n.jsxs("ul",{className:"mt-3 space-y-2 text-sm text-slate-600",children:[n.jsx("li",{children:"Features"}),n.jsx("li",{children:"Pricing"}),n.jsx("li",{children:"Security"})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-semibold text-slate-900",children:"Company"}),n.jsxs("ul",{className:"mt-3 space-y-2 text-sm text-slate-600",children:[n.jsx("li",{children:"About"}),n.jsx("li",{children:"Contact"})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-semibold text-slate-900",children:"Legal"}),n.jsxs("ul",{className:"mt-3 space-y-2 text-sm text-slate-600",children:[n.jsx("li",{children:n.jsx("a",{href:"#",className:"hover:text-slate-900",children:"Privacy policy"})}),n.jsx("li",{children:n.jsx("a",{href:"#",className:"hover:text-slate-900",children:"Terms"})})]})]})]}),n.jsxs("div",{className:"mt-8 text-center text-xs text-slate-500",children:[" ",e," AURA-GDPR. All rights reserved."]})]})},XU=()=>n.jsxs("div",{className:"min-h-screen bg-white text-slate-900",children:[n.jsx("header",{className:"border-b border-slate-200 bg-white",children:n.jsxs("div",{className:xn+" flex items-center justify-between py-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-sky-600 text-lg font-bold text-white",children:"AG"}),n.jsx("span",{className:"text-xl font-semibold text-slate-900",children:"AURA-GDPR"})]}),n.jsxs("div",{className:"hidden items-center gap-3 sm:flex",children:[n.jsx("a",{href:"/login",className:"text-sm font-semibold text-slate-700 hover:text-slate-900",children:"Log in"}),n.jsx($,{size:"sm",children:"Start free trial"})]})]})}),n.jsxs("main",{children:[n.jsx(BU,{}),n.jsx(WU,{}),n.jsx(qU,{}),n.jsx(HU,{}),n.jsx(GU,{}),n.jsx(KU,{})]}),n.jsx(YU,{})]}),QU=()=>y.useCallback(e=>{V.post("/analytics/event",{event_name:e}).catch(()=>{})},[]),Na=(e,t)=>`Step ${e+1}: ${t}`,ZU=()=>{const e=is(),t=QU(),{toast:s}=St(),{state:r,loading:a,completeOnboarding:o}=pw(),{progress:i,markComplete:l}=Vp(),{demoMode:d}=Rs(),c=R=>R instanceof Error?R.message:"Please try again.",[u,f]=C.useState(""),[m,g]=C.useState(""),[x,b]=C.useState({email:"",role:"Admin"}),[v,h]=C.useState(""),[p,w]=C.useState(0),[j,k]=C.useState(null),[E,P]=C.useState("idle"),[S,N]=C.useState(!1),[A,_]=C.useState(!1);C.useEffect(()=>{const R=[i.organizationDetails,S,A,i.policyGenerated,r.completed],T=R.findIndex(O=>!O);w(T===-1?R.length-1:T)},[i,S,A,r.completed]),C.useEffect(()=>{r.completed&&e("/app/dashboard",{replace:!0})},[e,r.completed]);const M=async()=>{k("organization");try{await V.post("/organization",{name:u,contact_email:m}),await l("organizationDetails"),s({title:"Organization saved",description:"Organization details recorded for onboarding."}),w(1)}catch(R){s({variant:"destructive",title:"Unable to save organization",description:c(R)})}finally{k(null)}},F=async()=>{k("invite");try{await V.post("/iam/invite",x),s({title:"Invite sent",description:`${x.email} invited as ${x.role}.`}),b({email:"",role:"Admin"}),N(!0)}catch(R){s({variant:"destructive",title:"Unable to send invite",description:c(R)})}finally{k(null)}},I=async()=>{k("dsr");try{await V.post("/api/dsr/contact",{email:v}),s({title:"DSR contact saved",description:"Primary DSR contact configured."}),w(3),_(!0)}catch(R){s({variant:"destructive",title:"Unable to save DSR contact",description:c(R)})}finally{k(null)}},B=async()=>{P("loading");try{await V.post("/api/policies/ai-generate",{quickstart:!0}),await l("policyGenerated"),t("policy_ai_generated"),s({title:"AI policy draft ready",description:"Your first set of policies has been generated."}),P("done"),w(4)}catch(R){s({variant:"destructive",title:"Policy generation failed",description:c(R)}),P("idle")}},U=async()=>{k("finish");try{await o(),t("onboarding_completed"),s({title:"Onboarding completed",description:"You are ready to use AURA-GDPR."}),e("/app/dashboard",{replace:!0})}catch(R){s({variant:"destructive",title:"Unable to complete onboarding",description:c(R)})}finally{k(null)}},H=d?"Demo mode is read-only":void 0;return a?n.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 text-slate-700",children:"Loading onboarding..."}):n.jsx("div",{className:"min-h-screen bg-gradient-to-b from-white via-slate-50 to-white",children:n.jsxs("div",{className:"mx-auto max-w-5xl px-4 py-10 sm:py-12",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx(on,{className:"mb-3 bg-sky-100 text-sky-700",children:"Onboarding"}),n.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Set up your organization"}),n.jsx("p",{className:"mt-2 text-slate-600",children:"Complete the guided steps to start using AURA-GDPR. You can revisit and edit any step later."})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-[260px,1fr]",children:[n.jsxs(J,{className:"h-fit",children:[n.jsx(ae,{children:n.jsx(ie,{className:"text-base text-slate-700",children:"Progress"})}),n.jsx(te,{className:"space-y-3",children:["Organization details","Invite team","Configure DSR contact","AI policies","All set"].map((R,T)=>n.jsxs("div",{className:`flex items-center gap-3 rounded-lg border px-3 py-2 ${T===p?"border-sky-300 bg-sky-50":"border-slate-200 bg-white"}`,children:[n.jsx("div",{className:`flex h-8 w-8 items-center justify-center rounded-full text-sm font-semibold ${T<=p?"bg-sky-600 text-white":"bg-slate-200 text-slate-600"}`,children:T+1}),n.jsx("div",{className:"text-sm font-semibold text-slate-800",children:R})]},R))})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs(J,{children:[n.jsxs(ae,{className:"space-y-1",children:[n.jsx(ie,{className:"text-lg",children:Na(0,"Organization details")}),n.jsx("p",{className:"text-sm text-slate-600",children:"Tell us who you are so we can personalize your workspace."})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"org-name",children:"Organization name"}),n.jsx(Se,{id:"org-name",placeholder:"Acme Privacy Ltd.",value:u,onChange:R=>f(R.target.value),disabled:d})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"contact-email",children:"Contact email"}),n.jsx(Se,{id:"contact-email",type:"email",placeholder:"privacy@acme.com",value:m,onChange:R=>g(R.target.value),disabled:d})]}),n.jsxs($,{onClick:M,disabled:d||j==="organization"||a,children:[n.jsx(zr,{className:"mr-2 h-4 w-4"}),"Save details"]}),H&&n.jsx("p",{className:"text-xs text-amber-600",children:H})]})]}),n.jsxs(J,{children:[n.jsxs(ae,{className:"space-y-1",children:[n.jsx(ie,{className:"text-lg",children:Na(1,"Invite team")}),n.jsx("p",{className:"text-sm text-slate-600",children:"Invite teammates with the right roles so you can collaborate."})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-3 md:grid-cols-[2fr,1fr]",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"invite-email",children:"Email"}),n.jsx(Se,{id:"invite-email",type:"email",placeholder:"teammate@company.com",value:x.email,onChange:R=>b(T=>({...T,email:R.target.value})),disabled:d})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"invite-role",children:"Role"}),n.jsx(Se,{id:"invite-role",placeholder:"Admin",value:x.role,onChange:R=>b(T=>({...T,role:R.target.value})),disabled:d})]})]}),n.jsxs($,{onClick:F,disabled:d||j==="invite",children:[n.jsx(pl,{className:"mr-2 h-4 w-4"}),"Send invite"]}),n.jsx("p",{className:"text-xs text-slate-500",children:"You can add more teammates later in IAM settings."})]})]}),n.jsxs(J,{children:[n.jsxs(ae,{className:"space-y-1",children:[n.jsx(ie,{className:"text-lg",children:Na(2,"Configure DSR contact")}),n.jsx("p",{className:"text-sm text-slate-600",children:"Set the contact that will receive new DSR submissions."})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"dsr-contact",children:"Primary DSR contact email"}),n.jsx(Se,{id:"dsr-contact",type:"email",placeholder:"dsr@company.com",value:v,onChange:R=>h(R.target.value),disabled:d})]}),n.jsxs($,{onClick:I,disabled:d||j==="dsr",children:[n.jsx(Rb,{className:"mr-2 h-4 w-4"}),"Save DSR contact"]}),n.jsx("p",{className:"text-xs text-slate-500",children:"We will route new requests to this inbox and notify your team."})]})]}),n.jsxs(J,{children:[n.jsxs(ae,{className:"space-y-1",children:[n.jsx(ie,{className:"text-lg",children:Na(3,"Generate your first policies with AI")}),n.jsx("p",{className:"text-sm text-slate-600",children:"Kickstart your workspace with AI-drafted policies you can refine."})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4 text-sm text-slate-700",children:"AI will draft a baseline set of security and privacy policies tailored to your industry."}),n.jsxs($,{onClick:B,disabled:d||E==="loading",children:[n.jsx(NA,{className:"mr-2 h-4 w-4"}),E==="done"?"Regenerate policies":"Generate with AI"]}),E==="done"&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-emerald-600",children:[n.jsx(Ap,{className:"h-4 w-4"}),"Policies generated"]})]})]}),n.jsxs(J,{className:"border-sky-200 bg-sky-50",children:[n.jsxs(ae,{className:"space-y-1",children:[n.jsx(ie,{className:"text-lg",children:Na(4,"All set")}),n.jsx("p",{className:"text-sm text-slate-600",children:"Wrap up onboarding and go to your dashboard."})]}),n.jsxs(te,{className:"flex flex-col items-start gap-3 sm:flex-row sm:items-center sm:justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3 text-slate-800",children:[n.jsx(Rp,{className:"h-5 w-5 text-sky-600"}),n.jsx("span",{children:"Mark onboarding as complete"})]}),n.jsxs($,{onClick:U,disabled:j==="finish",children:["Go to dashboard",n.jsx(eA,{className:"ml-2 h-4 w-4"})]})]})]})]})]})]})})},JU=e=>!e||/^https?:\/\//i.test(e)||e.startsWith("/")?e:`/${e}`,Dm=Ne.create({baseURL:cw,headers:{"Content-Type":"application/json"},timeout:1e4});Dm.interceptors.request.use(e=>(e.url&&(e.url=JU(e.url)),e));Dm.interceptors.response.use(e=>e,e=>{var s,r;const t=((r=(s=e==null?void 0:e.response)==null?void 0:s.data)==null?void 0:r.message)??(e==null?void 0:e.message)??"Unknown error";return e&&typeof e=="object"&&(e.message=t),Promise.reject(e)});const e$=async(e,t)=>{var s,r,a;if(!e)throw new Error("Missing public request key.");try{await Dm.post(`/public/dsr/${e}`,t)}catch(o){if(Ne.isAxiosError(o)){const i=(s=o.response)==null?void 0:s.status,l=((a=(r=o.response)==null?void 0:r.data)==null?void 0:a.message)??o.message??"Failed to submit request.",d=new Error(l);throw d.status=i,d}throw o}},t$=[{value:"access",label:"Access Request"},{value:"erasure",label:"Erasure Request"},{value:"rectification",label:"Rectification Request"},{value:"objection",label:"Objection Request"},{value:"restriction",label:"Restriction Request"},{value:"portability",label:"Data Portability Request"},{value:"other",label:"Other"}],s$=[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"}],mg={fullName:"",email:"",requestType:"access",description:"",priority:"medium"},hg="This public request form is not available. Please contact the organization directly.",n$=({publicKey:e,onSuccess:t,onUnavailable:s})=>{const[r,a]=C.useState(mg),[o,i]=C.useState({}),[l,d]=C.useState(null),[c,u]=C.useState(!1),f=(x,b)=>{a(v=>({...v,[x]:b})),i(v=>({...v,[x]:void 0}))},m=()=>{const x={};return r.fullName.trim()||(x.fullName="Full name is required."),r.email.trim()?/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(r.email.trim())||(x.email="Please enter a valid email address."):x.email="Email is required.",r.requestType||(x.requestType="Request type is required."),r.description.trim()||(x.description="Description is required."),r.priority||(x.priority="Priority is required."),i(x),Object.keys(x).length===0},g=async x=>{var b;if(x.preventDefault(),!e){d(hg),s==null||s();return}if(m()){u(!0),d(null);try{const v={fullName:r.fullName.trim(),email:r.email.trim(),requestType:r.requestType,description:r.description.trim(),priority:r.priority};await e$(e,v),a(mg),i({}),t()}catch(v){const h=(v==null?void 0:v.status)??((b=v==null?void 0:v.response)==null?void 0:b.status);if(h===404||h===403){d(hg),s==null||s();return}d((v==null?void 0:v.message)??"Failed to submit your request. Please try again.")}finally{u(!1)}}};return n.jsxs("form",{className:"space-y-5",onSubmit:g,children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"text-sm font-medium text-slate-800",children:["Request type ",n.jsx("span",{className:"text-rose-600",children:"*"})]}),n.jsx("select",{className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-60",value:r.requestType,onChange:x=>f("requestType",x.target.value),disabled:c,required:!0,children:t$.map(x=>n.jsx("option",{value:x.value,children:x.label},x.value))}),o.requestType&&n.jsx("p",{className:"text-xs text-rose-600",children:o.requestType})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"text-sm font-medium text-slate-800",children:["Full name ",n.jsx("span",{className:"text-rose-600",children:"*"})]}),n.jsx(Se,{type:"text",value:r.fullName,onChange:x=>f("fullName",x.target.value),disabled:c,placeholder:"Jane Doe",className:"shadow-sm",required:!0}),o.fullName&&n.jsx("p",{className:"text-xs text-rose-600",children:o.fullName})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"text-sm font-medium text-slate-800",children:["Email address ",n.jsx("span",{className:"text-rose-600",children:"*"})]}),n.jsx(Se,{type:"email",value:r.email,onChange:x=>f("email",x.target.value),disabled:c,placeholder:"name@example.com",className:"shadow-sm",required:!0}),o.email&&n.jsx("p",{className:"text-xs text-rose-600",children:o.email})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"text-sm font-medium text-slate-800",children:["Request details ",n.jsx("span",{className:"text-rose-600",children:"*"})]}),n.jsx(gc,{value:r.description,onChange:x=>f("description",x.target.value),disabled:c,placeholder:"Describe the request you are making.",className:"shadow-sm",required:!0}),o.description&&n.jsx("p",{className:"text-xs text-rose-600",children:o.description})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"text-sm font-medium text-slate-800",children:["Priority ",n.jsx("span",{className:"text-rose-600",children:"*"})]}),n.jsx("select",{className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-60",value:r.priority,onChange:x=>f("priority",x.target.value),disabled:c,required:!0,children:s$.map(x=>n.jsx("option",{value:x.value,children:x.label},x.value))}),o.priority&&n.jsx("p",{className:"text-xs text-rose-600",children:o.priority})]}),l&&n.jsx("div",{className:"rounded-md border border-rose-200 bg-rose-50 px-3 py-2 text-sm text-rose-700",children:l}),n.jsx("div",{className:"flex items-center justify-between rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(gt,{className:"h-4 w-4 text-sky-600"}),n.jsx("span",{children:"Your submission will be securely sent to the data protection team."})]})}),n.jsxs($,{type:"submit",disabled:c,className:"flex w-full items-center justify-center bg-sky-600 text-white hover:bg-sky-700",children:[c&&n.jsx(Ns,{className:"mr-2 h-4 w-4 animate-spin"}),c?"Submitting...":"Submit request"]})]})},r$=()=>{const{publicKey:e}=ZS(),[t,s]=C.useState(!1),[r,a]=C.useState(!e);return C.useEffect(()=>{a(!e),s(!1)},[e]),n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-sky-50 px-4 py-10",children:n.jsxs("div",{className:"mx-auto flex max-w-4xl flex-col items-center gap-8",children:[n.jsxs("div",{className:"flex items-center gap-3 text-slate-800",children:[n.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-sky-600 text-white shadow-sm",children:n.jsx(zr,{className:"h-5 w-5"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"AURA-GDPR"}),n.jsx("h1",{className:"text-xl font-semibold text-slate-900",children:"Submit a data subject request"})]})]}),n.jsx("div",{className:"w-full max-w-3xl rounded-2xl border border-slate-200 bg-white p-6 shadow-xl",children:r?n.jsxs("div",{className:"space-y-3 text-center",children:[n.jsx("div",{className:"mx-auto flex h-14 w-14 items-center justify-center rounded-full bg-amber-50 text-amber-700",children:n.jsx(mn,{className:"h-7 w-7"})}),n.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Public form unavailable"}),n.jsx("p",{className:"text-sm text-slate-600",children:"This public request form is not available. Please contact the organization directly."})]}):t?n.jsxs("div",{className:"space-y-4 text-center",children:[n.jsx("div",{className:"mx-auto flex h-14 w-14 items-center justify-center rounded-full bg-emerald-50 text-emerald-600",children:n.jsx(zr,{className:"h-7 w-7"})}),n.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Your request has been received"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Your request has been received. You will be contacted as soon as possible."}),n.jsxs("button",{type:"button",onClick:()=>s(!1),className:"inline-flex items-center justify-center gap-2 rounded-lg border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-800 shadow-sm transition hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-sky-400 focus:ring-offset-2",children:[n.jsx(JP,{className:"h-4 w-4"}),"Submit another request"]})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Tell us about your request"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Use this form to exercise your data protection rights. Please provide accurate contact details so we can respond to your request."})]}),n.jsx(n$,{publicKey:e??"",onSuccess:()=>s(!0),onUnavailable:()=>a(!0)})]})}),n.jsx("p",{className:"text-center text-xs text-slate-500",children:"This form is provided by AURA-GDPR. Please avoid sharing sensitive information beyond what is necessary."})]})})},xg=({children:e})=>{const{isAuthenticated:t}=Ct();return t?n.jsx(n.Fragment,{children:e}):n.jsx(nn,{to:"/login",replace:!0})},gg=({children:e})=>{const{state:t,loading:s}=pw(),r=Es();return s?n.jsx("div",{className:"p-6 text-sm text-slate-600",children:"Loading workspace..."}):!t.completed&&r.pathname!=="/onboarding"?n.jsx(nn,{to:"/onboarding",replace:!0}):t.completed&&r.pathname==="/onboarding"?n.jsx(nn,{to:"/app/dashboard",replace:!0}):n.jsx(n.Fragment,{children:e})},a$=()=>n.jsxs(hC,{children:[n.jsx(ee,{path:"/",element:n.jsx(XU,{})}),n.jsx(ee,{path:"/demo",element:n.jsx(nn,{to:"/app/dashboard?demo=1",replace:!0})}),n.jsx(ee,{path:"/dsr-portal",element:n.jsx(iF,{})}),n.jsx(ee,{path:"/public/dsr/:publicKey",element:n.jsx(r$,{})}),n.jsx(ee,{path:"/login",element:n.jsx(z3,{})}),n.jsx(ee,{path:"/register",element:n.jsx(B3,{})}),n.jsx(ee,{path:"/onboarding",element:n.jsx(xg,{children:n.jsx(gg,{children:n.jsx(ZU,{})})})}),n.jsxs(ee,{path:"/app",element:n.jsx(xg,{children:n.jsx(gg,{children:n.jsx(qM,{})})}),children:[n.jsx(ee,{index:!0,element:n.jsx(nn,{to:"/app/dashboard",replace:!0})}),n.jsx(ee,{path:"dashboard",element:n.jsx(fI,{})}),n.jsx(ee,{path:"documents",element:n.jsx(_I,{})}),n.jsx(ee,{path:"ai-assistant",element:n.jsx(LI,{})}),n.jsx(ee,{path:"ai-audit",element:n.jsx(MF,{})}),n.jsx(ee,{path:"ai/audit-v2",element:n.jsx(KF,{})}),n.jsx(ee,{path:"tasks",element:n.jsx(MO,{})}),n.jsx(ee,{path:"projects",element:n.jsx(IO,{})}),n.jsx(ee,{path:"audit",element:n.jsx(GO,{})}),n.jsx(ee,{path:"risk-matrix",element:n.jsx(ZO,{})}),n.jsx(ee,{path:"dsr",element:n.jsx(oF,{})}),n.jsx(ee,{path:"dpia",element:n.jsx(y6,{})}),n.jsx(ee,{path:"ropa",element:n.jsx(i9,{})}),n.jsx(ee,{path:"cookies",element:n.jsx(tU,{})}),n.jsx(ee,{path:"policies",element:n.jsx(y7,{})}),n.jsx(ee,{path:"incidents",element:n.jsx(W7,{})}),n.jsx(ee,{path:"toms",element:n.jsx(R9,{})}),n.jsx(ee,{path:"security-health",element:n.jsx(zU,{})}),n.jsx(ee,{path:"notifications",element:n.jsx(xF,{})}),n.jsx(ee,{path:"billing",element:n.jsx(XI,{})}),n.jsx(ee,{path:"iam",element:n.jsx(yU,{})}),n.jsx(ee,{path:"settings",element:n.jsx(QI,{})}),n.jsx(ee,{path:"settings/notifications",element:n.jsx(JF,{})}),n.jsx(ee,{path:"admin",element:n.jsx(aO,{})}),n.jsx(ee,{path:"admin/workspace/users",element:n.jsx(NU,{})}),n.jsx(ee,{path:"platform-admin",element:n.jsx(SU,{})}),n.jsx(ee,{path:"admin/dsr-portal",element:n.jsx(YF,{})})]}),n.jsx(ee,{path:"/error",element:n.jsx(PU,{})}),n.jsx(ee,{path:"*",element:n.jsx(CU,{})})]});class o$ extends C.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(t,s){console.error("App render error",t,s)}render(){return this.state.hasError?this.props.fallback??n.jsx("div",{className:"flex min-h-screen flex-col items-center justify-center bg-slate-50 px-4 text-center",children:n.jsxs("div",{className:"max-w-md space-y-4 rounded-xl border border-slate-200 bg-white p-8 shadow-sm",children:[n.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Something went wrong"}),n.jsx("p",{className:"text-sm text-slate-600",children:"An unexpected error occurred while rendering the page. Please refresh or try again later."}),n.jsx("button",{type:"button",onClick:()=>window.location.reload(),className:"rounded-md bg-sky-600 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-sky-700",children:"Refresh"})]})}):this.props.children}}const i$=()=>n.jsx(NC,{children:n.jsx(UA,{children:n.jsx(gR,{children:n.jsx(yR,{children:n.jsx(vR,{children:n.jsx(bR,{children:n.jsxs(PR,{children:[n.jsx(o$,{children:n.jsx(a$,{})}),n.jsx(OA,{})]})})})})})})}),l$=document.getElementById("root");Tv(l$).render(n.jsx(C.StrictMode,{children:n.jsx(i$,{})}));
