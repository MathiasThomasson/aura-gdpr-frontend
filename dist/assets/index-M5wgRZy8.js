function m2(e,t){for(var s=0;s<t.length;s++){const n=t[s];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(n,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=s(a);fetch(a.href,o)}})();function O0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var F0={exports:{}},Bl={},z0={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ro=Symbol.for("react.element"),x2=Symbol.for("react.portal"),g2=Symbol.for("react.fragment"),y2=Symbol.for("react.strict_mode"),v2=Symbol.for("react.profiler"),w2=Symbol.for("react.provider"),b2=Symbol.for("react.context"),j2=Symbol.for("react.forward_ref"),N2=Symbol.for("react.suspense"),S2=Symbol.for("react.memo"),k2=Symbol.for("react.lazy"),$h=Symbol.iterator;function C2(e){return e===null||typeof e!="object"?null:(e=$h&&e[$h]||e["@@iterator"],typeof e=="function"?e:null)}var U0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V0=Object.assign,$0={};function sa(e,t,s){this.props=e,this.context=t,this.refs=$0,this.updater=s||U0}sa.prototype.isReactComponent={};sa.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};sa.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function B0(){}B0.prototype=sa.prototype;function Rf(e,t,s){this.props=e,this.context=t,this.refs=$0,this.updater=s||U0}var Tf=Rf.prototype=new B0;Tf.constructor=Rf;V0(Tf,sa.prototype);Tf.isPureReactComponent=!0;var Bh=Array.isArray,W0=Object.prototype.hasOwnProperty,Df={current:null},H0={key:!0,ref:!0,__self:!0,__source:!0};function q0(e,t,s){var n,a={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)W0.call(t,n)&&!H0.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=s;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Ro,type:e,key:o,ref:i,props:a,_owner:Df.current}}function A2(e,t){return{$$typeof:Ro,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function _f(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ro}function P2(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var Wh=/\/+/g;function Mc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?P2(""+e.key):t.toString(36)}function Ri(e,t,s,n,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Ro:case x2:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+Mc(i,0):n,Bh(a)?(s="",e!=null&&(s=e.replace(Wh,"$&/")+"/"),Ri(a,t,s,"",function(u){return u})):a!=null&&(_f(a)&&(a=A2(a,s+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(Wh,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",Bh(e))for(var l=0;l<e.length;l++){o=e[l];var c=n+Mc(o,l);i+=Ri(o,t,s,c,a)}else if(c=C2(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=n+Mc(o,l++),i+=Ri(o,t,s,c,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Zo(e,t,s){if(e==null)return e;var n=[],a=0;return Ri(e,n,"","",function(o){return t.call(s,o,a++)}),n}function E2(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var at={current:null},Ti={transition:null},R2={ReactCurrentDispatcher:at,ReactCurrentBatchConfig:Ti,ReactCurrentOwner:Df};function G0(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:Zo,forEach:function(e,t,s){Zo(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return Zo(e,function(){t++}),t},toArray:function(e){return Zo(e,function(t){return t})||[]},only:function(e){if(!_f(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ne.Component=sa;ne.Fragment=g2;ne.Profiler=v2;ne.PureComponent=Rf;ne.StrictMode=y2;ne.Suspense=N2;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R2;ne.act=G0;ne.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=V0({},e.props),a=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Df.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)W0.call(t,c)&&!H0.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=s;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Ro,type:e.type,key:a,ref:o,props:n,_owner:i}};ne.createContext=function(e){return e={$$typeof:b2,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:w2,_context:e},e.Consumer=e};ne.createElement=q0;ne.createFactory=function(e){var t=q0.bind(null,e);return t.type=e,t};ne.createRef=function(){return{current:null}};ne.forwardRef=function(e){return{$$typeof:j2,render:e}};ne.isValidElement=_f;ne.lazy=function(e){return{$$typeof:k2,_payload:{_status:-1,_result:e},_init:E2}};ne.memo=function(e,t){return{$$typeof:S2,type:e,compare:t===void 0?null:t}};ne.startTransition=function(e){var t=Ti.transition;Ti.transition={};try{e()}finally{Ti.transition=t}};ne.unstable_act=G0;ne.useCallback=function(e,t){return at.current.useCallback(e,t)};ne.useContext=function(e){return at.current.useContext(e)};ne.useDebugValue=function(){};ne.useDeferredValue=function(e){return at.current.useDeferredValue(e)};ne.useEffect=function(e,t){return at.current.useEffect(e,t)};ne.useId=function(){return at.current.useId()};ne.useImperativeHandle=function(e,t,s){return at.current.useImperativeHandle(e,t,s)};ne.useInsertionEffect=function(e,t){return at.current.useInsertionEffect(e,t)};ne.useLayoutEffect=function(e,t){return at.current.useLayoutEffect(e,t)};ne.useMemo=function(e,t){return at.current.useMemo(e,t)};ne.useReducer=function(e,t,s){return at.current.useReducer(e,t,s)};ne.useRef=function(e){return at.current.useRef(e)};ne.useState=function(e){return at.current.useState(e)};ne.useSyncExternalStore=function(e,t,s){return at.current.useSyncExternalStore(e,t,s)};ne.useTransition=function(){return at.current.useTransition()};ne.version="18.3.1";z0.exports=ne;var x=z0.exports;const E=O0(x),Mf=m2({__proto__:null,default:E},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T2=x,D2=Symbol.for("react.element"),_2=Symbol.for("react.fragment"),M2=Object.prototype.hasOwnProperty,L2=T2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,I2={key:!0,ref:!0,__self:!0,__source:!0};function K0(e,t,s){var n,a={},o=null,i=null;s!==void 0&&(o=""+s),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)M2.call(t,n)&&!I2.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:D2,type:e,key:o,ref:i,props:a,_owner:L2.current}}Bl.Fragment=_2;Bl.jsx=K0;Bl.jsxs=K0;F0.exports=Bl;var r=F0.exports,Y0={exports:{}},At={},X0={exports:{}},Q0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,C){var _=D.length;D.push(C);e:for(;0<_;){var L=_-1>>>1,B=D[L];if(0<a(B,C))D[L]=C,D[_]=B,_=L;else break e}}function s(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var C=D[0],_=D.pop();if(_!==C){D[0]=_;e:for(var L=0,B=D.length,re=B>>>1;L<re;){var se=2*(L+1)-1,fe=D[se],Pe=se+1,Ue=D[Pe];if(0>a(fe,_))Pe<B&&0>a(Ue,fe)?(D[L]=Ue,D[Pe]=_,L=Pe):(D[L]=fe,D[se]=_,L=se);else if(Pe<B&&0>a(Ue,_))D[L]=Ue,D[Pe]=_,L=Pe;else break e}}return C}function a(D,C){var _=D.sortIndex-C.sortIndex;return _!==0?_:D.id-C.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,h=3,g=!1,m=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(D){for(var C=s(u);C!==null;){if(C.callback===null)n(u);else if(C.startTime<=D)n(u),C.sortIndex=C.expirationTime,t(c,C);else break;C=s(u)}}function j(D){if(w=!1,v(D),!m)if(s(c)!==null)m=!0,A(N);else{var C=s(u);C!==null&&V(j,C.startTime-D)}}function N(D,C){m=!1,w&&(w=!1,y(S),S=-1),g=!0;var _=h;try{for(v(C),f=s(c);f!==null&&(!(f.expirationTime>C)||D&&!F());){var L=f.callback;if(typeof L=="function"){f.callback=null,h=f.priorityLevel;var B=L(f.expirationTime<=C);C=e.unstable_now(),typeof B=="function"?f.callback=B:f===s(c)&&n(c),v(C)}else n(c);f=s(c)}if(f!==null)var re=!0;else{var se=s(u);se!==null&&V(j,se.startTime-C),re=!1}return re}finally{f=null,h=_,g=!1}}var k=!1,P=null,S=-1,R=5,T=-1;function F(){return!(e.unstable_now()-T<R)}function O(){if(P!==null){var D=e.unstable_now();T=D;var C=!0;try{C=P(!0,D)}finally{C?W():(k=!1,P=null)}}else k=!1}var W;if(typeof p=="function")W=function(){p(O)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,q=U.port2;U.port1.onmessage=O,W=function(){q.postMessage(null)}}else W=function(){b(O,0)};function A(D){P=D,k||(k=!0,W())}function V(D,C){S=b(function(){D(e.unstable_now())},C)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){m||g||(m=!0,A(N))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return s(c)},e.unstable_next=function(D){switch(h){case 1:case 2:case 3:var C=3;break;default:C=h}var _=h;h=C;try{return D()}finally{h=_}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,C){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var _=h;h=D;try{return C()}finally{h=_}},e.unstable_scheduleCallback=function(D,C,_){var L=e.unstable_now();switch(typeof _=="object"&&_!==null?(_=_.delay,_=typeof _=="number"&&0<_?L+_:L):_=L,D){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=_+B,D={id:d++,callback:C,priorityLevel:D,startTime:_,expirationTime:B,sortIndex:-1},_>L?(D.sortIndex=_,t(u,D),s(c)===null&&D===s(u)&&(w?(y(S),S=-1):w=!0,V(j,_-L))):(D.sortIndex=B,t(c,D),m||g||(m=!0,A(N))),D},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(D){var C=h;return function(){var _=h;h=C;try{return D.apply(this,arguments)}finally{h=_}}}})(Q0);X0.exports=Q0;var O2=X0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F2=x,St=O2;function $(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var J0=new Set,eo={};function sr(e,t){Vr(e,t),Vr(e+"Capture",t)}function Vr(e,t){for(eo[e]=t,e=0;e<t.length;e++)J0.add(t[e])}var Cs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qu=Object.prototype.hasOwnProperty,z2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hh={},qh={};function U2(e){return qu.call(qh,e)?!0:qu.call(Hh,e)?!1:z2.test(e)?qh[e]=!0:(Hh[e]=!0,!1)}function V2(e,t,s,n){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function $2(e,t,s,n){if(t===null||typeof t>"u"||V2(e,t,s,n))return!0;if(n)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ot(e,t,s,n,a,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Be[e]=new ot(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Be[t]=new ot(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Be[e]=new ot(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Be[e]=new ot(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Be[e]=new ot(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Be[e]=new ot(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Be[e]=new ot(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Be[e]=new ot(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Be[e]=new ot(e,5,!1,e.toLowerCase(),null,!1,!1)});var Lf=/[\-:]([a-z])/g;function If(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Lf,If);Be[t]=new ot(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Lf,If);Be[t]=new ot(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Lf,If);Be[t]=new ot(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Be[e]=new ot(e,1,!1,e.toLowerCase(),null,!1,!1)});Be.xlinkHref=new ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Be[e]=new ot(e,1,!1,e.toLowerCase(),null,!0,!0)});function Of(e,t,s,n){var a=Be.hasOwnProperty(t)?Be[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&($2(t,s,a,n)&&(s=null),n||a===null?U2(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):a.mustUseProperty?e[a.propertyName]=s===null?a.type===3?!1:"":s:(t=a.attributeName,n=a.attributeNamespace,s===null?e.removeAttribute(t):(a=a.type,s=a===3||a===4&&s===!0?"":""+s,n?e.setAttributeNS(n,t,s):e.setAttribute(t,s))))}var Ms=F2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ei=Symbol.for("react.element"),hr=Symbol.for("react.portal"),mr=Symbol.for("react.fragment"),Ff=Symbol.for("react.strict_mode"),Gu=Symbol.for("react.profiler"),Z0=Symbol.for("react.provider"),ey=Symbol.for("react.context"),zf=Symbol.for("react.forward_ref"),Ku=Symbol.for("react.suspense"),Yu=Symbol.for("react.suspense_list"),Uf=Symbol.for("react.memo"),Hs=Symbol.for("react.lazy"),ty=Symbol.for("react.offscreen"),Gh=Symbol.iterator;function ga(e){return e===null||typeof e!="object"?null:(e=Gh&&e[Gh]||e["@@iterator"],typeof e=="function"?e:null)}var ke=Object.assign,Lc;function _a(e){if(Lc===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);Lc=t&&t[1]||""}return`
`+Lc+e}var Ic=!1;function Oc(e,t){if(!e||Ic)return"";Ic=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),o=n.stack.split(`
`),i=a.length-1,l=o.length-1;1<=i&&0<=l&&a[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||a[i]!==o[l]){var c=`
`+a[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{Ic=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?_a(e):""}function B2(e){switch(e.tag){case 5:return _a(e.type);case 16:return _a("Lazy");case 13:return _a("Suspense");case 19:return _a("SuspenseList");case 0:case 2:case 15:return e=Oc(e.type,!1),e;case 11:return e=Oc(e.type.render,!1),e;case 1:return e=Oc(e.type,!0),e;default:return""}}function Xu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case mr:return"Fragment";case hr:return"Portal";case Gu:return"Profiler";case Ff:return"StrictMode";case Ku:return"Suspense";case Yu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ey:return(e.displayName||"Context")+".Consumer";case Z0:return(e._context.displayName||"Context")+".Provider";case zf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Uf:return t=e.displayName||null,t!==null?t:Xu(e.type)||"Memo";case Hs:t=e._payload,e=e._init;try{return Xu(e(t))}catch{}}return null}function W2(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xu(t);case 8:return t===Ff?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function fn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function H2(e){var t=sy(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var a=s.get,o=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ti(e){e._valueTracker||(e._valueTracker=H2(e))}function ny(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),n="";return e&&(n=sy(e)?e.checked?"true":"false":e.value),e=n,e!==s?(t.setValue(e),!0):!1}function Ji(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Qu(e,t){var s=t.checked;return ke({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Kh(e,t){var s=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;s=fn(t.value!=null?t.value:s),e._wrapperState={initialChecked:n,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ry(e,t){t=t.checked,t!=null&&Of(e,"checked",t,!1)}function Ju(e,t){ry(e,t);var s=fn(t.value),n=t.type;if(s!=null)n==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Zu(e,t.type,s):t.hasOwnProperty("defaultValue")&&Zu(e,t.type,fn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Yh(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Zu(e,t,s){(t!=="number"||Ji(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Ma=Array.isArray;function Rr(e,t,s,n){if(e=e.options,t){t={};for(var a=0;a<s.length;a++)t["$"+s[a]]=!0;for(s=0;s<e.length;s++)a=t.hasOwnProperty("$"+e[s].value),e[s].selected!==a&&(e[s].selected=a),a&&n&&(e[s].defaultSelected=!0)}else{for(s=""+fn(s),t=null,a=0;a<e.length;a++){if(e[a].value===s){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function ed(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($(91));return ke({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Xh(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error($(92));if(Ma(s)){if(1<s.length)throw Error($(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:fn(s)}}function ay(e,t){var s=fn(t.value),n=fn(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),n!=null&&(e.defaultValue=""+n)}function Qh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function oy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function td(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?oy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var si,iy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,s,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(si=si||document.createElement("div"),si.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=si.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function to(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var Ua={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},q2=["Webkit","ms","Moz","O"];Object.keys(Ua).forEach(function(e){q2.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ua[t]=Ua[e]})});function ly(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||Ua.hasOwnProperty(e)&&Ua[e]?(""+t).trim():t+"px"}function cy(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var n=s.indexOf("--")===0,a=ly(s,t[s],n);s==="float"&&(s="cssFloat"),n?e.setProperty(s,a):e[s]=a}}var G2=ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sd(e,t){if(t){if(G2[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error($(61))}if(t.style!=null&&typeof t.style!="object")throw Error($(62))}}function nd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rd=null;function Vf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ad=null,Tr=null,Dr=null;function Jh(e){if(e=_o(e)){if(typeof ad!="function")throw Error($(280));var t=e.stateNode;t&&(t=Kl(t),ad(e.stateNode,e.type,t))}}function uy(e){Tr?Dr?Dr.push(e):Dr=[e]:Tr=e}function dy(){if(Tr){var e=Tr,t=Dr;if(Dr=Tr=null,Jh(e),t)for(e=0;e<t.length;e++)Jh(t[e])}}function fy(e,t){return e(t)}function py(){}var Fc=!1;function hy(e,t,s){if(Fc)return e(t,s);Fc=!0;try{return fy(e,t,s)}finally{Fc=!1,(Tr!==null||Dr!==null)&&(py(),dy())}}function so(e,t){var s=e.stateNode;if(s===null)return null;var n=Kl(s);if(n===null)return null;s=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error($(231,t,typeof s));return s}var od=!1;if(Cs)try{var ya={};Object.defineProperty(ya,"passive",{get:function(){od=!0}}),window.addEventListener("test",ya,ya),window.removeEventListener("test",ya,ya)}catch{od=!1}function K2(e,t,s,n,a,o,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(s,u)}catch(d){this.onError(d)}}var Va=!1,Zi=null,el=!1,id=null,Y2={onError:function(e){Va=!0,Zi=e}};function X2(e,t,s,n,a,o,i,l,c){Va=!1,Zi=null,K2.apply(Y2,arguments)}function Q2(e,t,s,n,a,o,i,l,c){if(X2.apply(this,arguments),Va){if(Va){var u=Zi;Va=!1,Zi=null}else throw Error($(198));el||(el=!0,id=u)}}function nr(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function my(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Zh(e){if(nr(e)!==e)throw Error($(188))}function J2(e){var t=e.alternate;if(!t){if(t=nr(e),t===null)throw Error($(188));return t!==e?null:e}for(var s=e,n=t;;){var a=s.return;if(a===null)break;var o=a.alternate;if(o===null){if(n=a.return,n!==null){s=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===s)return Zh(a),e;if(o===n)return Zh(a),t;o=o.sibling}throw Error($(188))}if(s.return!==n.return)s=a,n=o;else{for(var i=!1,l=a.child;l;){if(l===s){i=!0,s=a,n=o;break}if(l===n){i=!0,n=a,s=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===s){i=!0,s=o,n=a;break}if(l===n){i=!0,n=o,s=a;break}l=l.sibling}if(!i)throw Error($(189))}}if(s.alternate!==n)throw Error($(190))}if(s.tag!==3)throw Error($(188));return s.stateNode.current===s?e:t}function xy(e){return e=J2(e),e!==null?gy(e):null}function gy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=gy(e);if(t!==null)return t;e=e.sibling}return null}var yy=St.unstable_scheduleCallback,em=St.unstable_cancelCallback,Z2=St.unstable_shouldYield,eS=St.unstable_requestPaint,Ee=St.unstable_now,tS=St.unstable_getCurrentPriorityLevel,$f=St.unstable_ImmediatePriority,vy=St.unstable_UserBlockingPriority,tl=St.unstable_NormalPriority,sS=St.unstable_LowPriority,wy=St.unstable_IdlePriority,Wl=null,is=null;function nS(e){if(is&&typeof is.onCommitFiberRoot=="function")try{is.onCommitFiberRoot(Wl,e,void 0,(e.current.flags&128)===128)}catch{}}var Gt=Math.clz32?Math.clz32:oS,rS=Math.log,aS=Math.LN2;function oS(e){return e>>>=0,e===0?32:31-(rS(e)/aS|0)|0}var ni=64,ri=4194304;function La(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function sl(e,t){var s=e.pendingLanes;if(s===0)return 0;var n=0,a=e.suspendedLanes,o=e.pingedLanes,i=s&268435455;if(i!==0){var l=i&~a;l!==0?n=La(l):(o&=i,o!==0&&(n=La(o)))}else i=s&~a,i!==0?n=La(i):o!==0&&(n=La(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(n&4&&(n|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)s=31-Gt(t),a=1<<s,n|=e[s],t&=~a;return n}function iS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lS(e,t){for(var s=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-Gt(o),l=1<<i,c=a[i];c===-1?(!(l&s)||l&n)&&(a[i]=iS(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function ld(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function by(){var e=ni;return ni<<=1,!(ni&4194240)&&(ni=64),e}function zc(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function To(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Gt(t),e[t]=s}function cS(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<s;){var a=31-Gt(s),o=1<<a;t[a]=0,n[a]=-1,e[a]=-1,s&=~o}}function Bf(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var n=31-Gt(s),a=1<<n;a&t|e[n]&t&&(e[n]|=t),s&=~a}}var le=0;function jy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ny,Wf,Sy,ky,Cy,cd=!1,ai=[],en=null,tn=null,sn=null,no=new Map,ro=new Map,Ks=[],uS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tm(e,t){switch(e){case"focusin":case"focusout":en=null;break;case"dragenter":case"dragleave":tn=null;break;case"mouseover":case"mouseout":sn=null;break;case"pointerover":case"pointerout":no.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ro.delete(t.pointerId)}}function va(e,t,s,n,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:s,eventSystemFlags:n,nativeEvent:o,targetContainers:[a]},t!==null&&(t=_o(t),t!==null&&Wf(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function dS(e,t,s,n,a){switch(t){case"focusin":return en=va(en,e,t,s,n,a),!0;case"dragenter":return tn=va(tn,e,t,s,n,a),!0;case"mouseover":return sn=va(sn,e,t,s,n,a),!0;case"pointerover":var o=a.pointerId;return no.set(o,va(no.get(o)||null,e,t,s,n,a)),!0;case"gotpointercapture":return o=a.pointerId,ro.set(o,va(ro.get(o)||null,e,t,s,n,a)),!0}return!1}function Ay(e){var t=_n(e.target);if(t!==null){var s=nr(t);if(s!==null){if(t=s.tag,t===13){if(t=my(s),t!==null){e.blockedOn=t,Cy(e.priority,function(){Sy(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Di(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=ud(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var n=new s.constructor(s.type,s);rd=n,s.target.dispatchEvent(n),rd=null}else return t=_o(s),t!==null&&Wf(t),e.blockedOn=s,!1;t.shift()}return!0}function sm(e,t,s){Di(e)&&s.delete(t)}function fS(){cd=!1,en!==null&&Di(en)&&(en=null),tn!==null&&Di(tn)&&(tn=null),sn!==null&&Di(sn)&&(sn=null),no.forEach(sm),ro.forEach(sm)}function wa(e,t){e.blockedOn===t&&(e.blockedOn=null,cd||(cd=!0,St.unstable_scheduleCallback(St.unstable_NormalPriority,fS)))}function ao(e){function t(a){return wa(a,e)}if(0<ai.length){wa(ai[0],e);for(var s=1;s<ai.length;s++){var n=ai[s];n.blockedOn===e&&(n.blockedOn=null)}}for(en!==null&&wa(en,e),tn!==null&&wa(tn,e),sn!==null&&wa(sn,e),no.forEach(t),ro.forEach(t),s=0;s<Ks.length;s++)n=Ks[s],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ks.length&&(s=Ks[0],s.blockedOn===null);)Ay(s),s.blockedOn===null&&Ks.shift()}var _r=Ms.ReactCurrentBatchConfig,nl=!0;function pS(e,t,s,n){var a=le,o=_r.transition;_r.transition=null;try{le=1,Hf(e,t,s,n)}finally{le=a,_r.transition=o}}function hS(e,t,s,n){var a=le,o=_r.transition;_r.transition=null;try{le=4,Hf(e,t,s,n)}finally{le=a,_r.transition=o}}function Hf(e,t,s,n){if(nl){var a=ud(e,t,s,n);if(a===null)Yc(e,t,n,rl,s),tm(e,n);else if(dS(a,e,t,s,n))n.stopPropagation();else if(tm(e,n),t&4&&-1<uS.indexOf(e)){for(;a!==null;){var o=_o(a);if(o!==null&&Ny(o),o=ud(e,t,s,n),o===null&&Yc(e,t,n,rl,s),o===a)break;a=o}a!==null&&n.stopPropagation()}else Yc(e,t,n,null,s)}}var rl=null;function ud(e,t,s,n){if(rl=null,e=Vf(n),e=_n(e),e!==null)if(t=nr(e),t===null)e=null;else if(s=t.tag,s===13){if(e=my(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return rl=e,null}function Py(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tS()){case $f:return 1;case vy:return 4;case tl:case sS:return 16;case wy:return 536870912;default:return 16}default:return 16}}var Xs=null,qf=null,_i=null;function Ey(){if(_i)return _i;var e,t=qf,s=t.length,n,a="value"in Xs?Xs.value:Xs.textContent,o=a.length;for(e=0;e<s&&t[e]===a[e];e++);var i=s-e;for(n=1;n<=i&&t[s-n]===a[o-n];n++);return _i=a.slice(e,1<n?1-n:void 0)}function Mi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function oi(){return!0}function nm(){return!1}function Pt(e){function t(s,n,a,o,i){this._reactName=s,this._targetInst=a,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(s=e[l],this[l]=s?s(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?oi:nm,this.isPropagationStopped=nm,this}return ke(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=oi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=oi)},persist:function(){},isPersistent:oi}),t}var na={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gf=Pt(na),Do=ke({},na,{view:0,detail:0}),mS=Pt(Do),Uc,Vc,ba,Hl=ke({},Do,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ba&&(ba&&e.type==="mousemove"?(Uc=e.screenX-ba.screenX,Vc=e.screenY-ba.screenY):Vc=Uc=0,ba=e),Uc)},movementY:function(e){return"movementY"in e?e.movementY:Vc}}),rm=Pt(Hl),xS=ke({},Hl,{dataTransfer:0}),gS=Pt(xS),yS=ke({},Do,{relatedTarget:0}),$c=Pt(yS),vS=ke({},na,{animationName:0,elapsedTime:0,pseudoElement:0}),wS=Pt(vS),bS=ke({},na,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jS=Pt(bS),NS=ke({},na,{data:0}),am=Pt(NS),SS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=CS[e])?!!t[e]:!1}function Kf(){return AS}var PS=ke({},Do,{key:function(e){if(e.key){var t=SS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Mi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?kS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kf,charCode:function(e){return e.type==="keypress"?Mi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Mi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ES=Pt(PS),RS=ke({},Hl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),om=Pt(RS),TS=ke({},Do,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kf}),DS=Pt(TS),_S=ke({},na,{propertyName:0,elapsedTime:0,pseudoElement:0}),MS=Pt(_S),LS=ke({},Hl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),IS=Pt(LS),OS=[9,13,27,32],Yf=Cs&&"CompositionEvent"in window,$a=null;Cs&&"documentMode"in document&&($a=document.documentMode);var FS=Cs&&"TextEvent"in window&&!$a,Ry=Cs&&(!Yf||$a&&8<$a&&11>=$a),im=" ",lm=!1;function Ty(e,t){switch(e){case"keyup":return OS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xr=!1;function zS(e,t){switch(e){case"compositionend":return Dy(t);case"keypress":return t.which!==32?null:(lm=!0,im);case"textInput":return e=t.data,e===im&&lm?null:e;default:return null}}function US(e,t){if(xr)return e==="compositionend"||!Yf&&Ty(e,t)?(e=Ey(),_i=qf=Xs=null,xr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ry&&t.locale!=="ko"?null:t.data;default:return null}}var VS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!VS[e.type]:t==="textarea"}function _y(e,t,s,n){uy(n),t=al(t,"onChange"),0<t.length&&(s=new Gf("onChange","change",null,s,n),e.push({event:s,listeners:t}))}var Ba=null,oo=null;function $S(e){Wy(e,0)}function ql(e){var t=vr(e);if(ny(t))return e}function BS(e,t){if(e==="change")return t}var My=!1;if(Cs){var Bc;if(Cs){var Wc="oninput"in document;if(!Wc){var um=document.createElement("div");um.setAttribute("oninput","return;"),Wc=typeof um.oninput=="function"}Bc=Wc}else Bc=!1;My=Bc&&(!document.documentMode||9<document.documentMode)}function dm(){Ba&&(Ba.detachEvent("onpropertychange",Ly),oo=Ba=null)}function Ly(e){if(e.propertyName==="value"&&ql(oo)){var t=[];_y(t,oo,e,Vf(e)),hy($S,t)}}function WS(e,t,s){e==="focusin"?(dm(),Ba=t,oo=s,Ba.attachEvent("onpropertychange",Ly)):e==="focusout"&&dm()}function HS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ql(oo)}function qS(e,t){if(e==="click")return ql(t)}function GS(e,t){if(e==="input"||e==="change")return ql(t)}function KS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Yt=typeof Object.is=="function"?Object.is:KS;function io(e,t){if(Yt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var a=s[n];if(!qu.call(t,a)||!Yt(e[a],t[a]))return!1}return!0}function fm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pm(e,t){var s=fm(e);e=0;for(var n;s;){if(s.nodeType===3){if(n=e+s.textContent.length,e<=t&&n>=t)return{node:s,offset:t-e};e=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=fm(s)}}function Iy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Iy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Oy(){for(var e=window,t=Ji();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Ji(e.document)}return t}function Xf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function YS(e){var t=Oy(),s=e.focusedElem,n=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&Iy(s.ownerDocument.documentElement,s)){if(n!==null&&Xf(s)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=s.textContent.length,o=Math.min(n.start,a);n=n.end===void 0?o:Math.min(n.end,a),!e.extend&&o>n&&(a=n,n=o,o=a),a=pm(s,o);var i=pm(s,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var XS=Cs&&"documentMode"in document&&11>=document.documentMode,gr=null,dd=null,Wa=null,fd=!1;function hm(e,t,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;fd||gr==null||gr!==Ji(n)||(n=gr,"selectionStart"in n&&Xf(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Wa&&io(Wa,n)||(Wa=n,n=al(dd,"onSelect"),0<n.length&&(t=new Gf("onSelect","select",null,t,s),e.push({event:t,listeners:n}),t.target=gr)))}function ii(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var yr={animationend:ii("Animation","AnimationEnd"),animationiteration:ii("Animation","AnimationIteration"),animationstart:ii("Animation","AnimationStart"),transitionend:ii("Transition","TransitionEnd")},Hc={},Fy={};Cs&&(Fy=document.createElement("div").style,"AnimationEvent"in window||(delete yr.animationend.animation,delete yr.animationiteration.animation,delete yr.animationstart.animation),"TransitionEvent"in window||delete yr.transitionend.transition);function Gl(e){if(Hc[e])return Hc[e];if(!yr[e])return e;var t=yr[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in Fy)return Hc[e]=t[s];return e}var zy=Gl("animationend"),Uy=Gl("animationiteration"),Vy=Gl("animationstart"),$y=Gl("transitionend"),By=new Map,mm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vn(e,t){By.set(e,t),sr(t,[e])}for(var qc=0;qc<mm.length;qc++){var Gc=mm[qc],QS=Gc.toLowerCase(),JS=Gc[0].toUpperCase()+Gc.slice(1);vn(QS,"on"+JS)}vn(zy,"onAnimationEnd");vn(Uy,"onAnimationIteration");vn(Vy,"onAnimationStart");vn("dblclick","onDoubleClick");vn("focusin","onFocus");vn("focusout","onBlur");vn($y,"onTransitionEnd");Vr("onMouseEnter",["mouseout","mouseover"]);Vr("onMouseLeave",["mouseout","mouseover"]);Vr("onPointerEnter",["pointerout","pointerover"]);Vr("onPointerLeave",["pointerout","pointerover"]);sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));sr("onBeforeInput",["compositionend","keypress","textInput","paste"]);sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ia="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ia));function xm(e,t,s){var n=e.type||"unknown-event";e.currentTarget=s,Q2(n,t,void 0,e),e.currentTarget=null}function Wy(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var n=e[s],a=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&a.isPropagationStopped())break e;xm(a,l,u),o=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&a.isPropagationStopped())break e;xm(a,l,u),o=c}}}if(el)throw e=id,el=!1,id=null,e}function xe(e,t){var s=t[gd];s===void 0&&(s=t[gd]=new Set);var n=e+"__bubble";s.has(n)||(Hy(t,e,2,!1),s.add(n))}function Kc(e,t,s){var n=0;t&&(n|=4),Hy(s,e,n,t)}var li="_reactListening"+Math.random().toString(36).slice(2);function lo(e){if(!e[li]){e[li]=!0,J0.forEach(function(s){s!=="selectionchange"&&(ZS.has(s)||Kc(s,!1,e),Kc(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[li]||(t[li]=!0,Kc("selectionchange",!1,t))}}function Hy(e,t,s,n){switch(Py(t)){case 1:var a=pS;break;case 4:a=hS;break;default:a=Hf}s=a.bind(null,t,s,e),a=void 0,!od||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,s,{capture:!0,passive:a}):e.addEventListener(t,s,!0):a!==void 0?e.addEventListener(t,s,{passive:a}):e.addEventListener(t,s,!1)}function Yc(e,t,s,n,a){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;l!==null;){if(i=_n(l),i===null)return;if(c=i.tag,c===5||c===6){n=o=i;continue e}l=l.parentNode}}n=n.return}hy(function(){var u=o,d=Vf(s),f=[];e:{var h=By.get(e);if(h!==void 0){var g=Gf,m=e;switch(e){case"keypress":if(Mi(s)===0)break e;case"keydown":case"keyup":g=ES;break;case"focusin":m="focus",g=$c;break;case"focusout":m="blur",g=$c;break;case"beforeblur":case"afterblur":g=$c;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=rm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=gS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=DS;break;case zy:case Uy:case Vy:g=wS;break;case $y:g=MS;break;case"scroll":g=mS;break;case"wheel":g=IS;break;case"copy":case"cut":case"paste":g=jS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=om}var w=(t&4)!==0,b=!w&&e==="scroll",y=w?h!==null?h+"Capture":null:h;w=[];for(var p=u,v;p!==null;){v=p;var j=v.stateNode;if(v.tag===5&&j!==null&&(v=j,y!==null&&(j=so(p,y),j!=null&&w.push(co(p,j,v)))),b)break;p=p.return}0<w.length&&(h=new g(h,m,null,s,d),f.push({event:h,listeners:w}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&s!==rd&&(m=s.relatedTarget||s.fromElement)&&(_n(m)||m[As]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(m=s.relatedTarget||s.toElement,g=u,m=m?_n(m):null,m!==null&&(b=nr(m),m!==b||m.tag!==5&&m.tag!==6)&&(m=null)):(g=null,m=u),g!==m)){if(w=rm,j="onMouseLeave",y="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(w=om,j="onPointerLeave",y="onPointerEnter",p="pointer"),b=g==null?h:vr(g),v=m==null?h:vr(m),h=new w(j,p+"leave",g,s,d),h.target=b,h.relatedTarget=v,j=null,_n(d)===u&&(w=new w(y,p+"enter",m,s,d),w.target=v,w.relatedTarget=b,j=w),b=j,g&&m)t:{for(w=g,y=m,p=0,v=w;v;v=lr(v))p++;for(v=0,j=y;j;j=lr(j))v++;for(;0<p-v;)w=lr(w),p--;for(;0<v-p;)y=lr(y),v--;for(;p--;){if(w===y||y!==null&&w===y.alternate)break t;w=lr(w),y=lr(y)}w=null}else w=null;g!==null&&gm(f,h,g,w,!1),m!==null&&b!==null&&gm(f,b,m,w,!0)}}e:{if(h=u?vr(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var N=BS;else if(cm(h))if(My)N=GS;else{N=HS;var k=WS}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=qS);if(N&&(N=N(e,u))){_y(f,N,s,d);break e}k&&k(e,h,u),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&Zu(h,"number",h.value)}switch(k=u?vr(u):window,e){case"focusin":(cm(k)||k.contentEditable==="true")&&(gr=k,dd=u,Wa=null);break;case"focusout":Wa=dd=gr=null;break;case"mousedown":fd=!0;break;case"contextmenu":case"mouseup":case"dragend":fd=!1,hm(f,s,d);break;case"selectionchange":if(XS)break;case"keydown":case"keyup":hm(f,s,d)}var P;if(Yf)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else xr?Ty(e,s)&&(S="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(S="onCompositionStart");S&&(Ry&&s.locale!=="ko"&&(xr||S!=="onCompositionStart"?S==="onCompositionEnd"&&xr&&(P=Ey()):(Xs=d,qf="value"in Xs?Xs.value:Xs.textContent,xr=!0)),k=al(u,S),0<k.length&&(S=new am(S,e,null,s,d),f.push({event:S,listeners:k}),P?S.data=P:(P=Dy(s),P!==null&&(S.data=P)))),(P=FS?zS(e,s):US(e,s))&&(u=al(u,"onBeforeInput"),0<u.length&&(d=new am("onBeforeInput","beforeinput",null,s,d),f.push({event:d,listeners:u}),d.data=P))}Wy(f,t)})}function co(e,t,s){return{instance:e,listener:t,currentTarget:s}}function al(e,t){for(var s=t+"Capture",n=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=so(e,s),o!=null&&n.unshift(co(e,o,a)),o=so(e,t),o!=null&&n.push(co(e,o,a))),e=e.return}return n}function lr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function gm(e,t,s,n,a){for(var o=t._reactName,i=[];s!==null&&s!==n;){var l=s,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=so(s,o),c!=null&&i.unshift(co(s,c,l))):a||(c=so(s,o),c!=null&&i.push(co(s,c,l)))),s=s.return}i.length!==0&&e.push({event:t,listeners:i})}var ek=/\r\n?/g,tk=/\u0000|\uFFFD/g;function ym(e){return(typeof e=="string"?e:""+e).replace(ek,`
`).replace(tk,"")}function ci(e,t,s){if(t=ym(t),ym(e)!==t&&s)throw Error($(425))}function ol(){}var pd=null,hd=null;function md(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var xd=typeof setTimeout=="function"?setTimeout:void 0,sk=typeof clearTimeout=="function"?clearTimeout:void 0,vm=typeof Promise=="function"?Promise:void 0,nk=typeof queueMicrotask=="function"?queueMicrotask:typeof vm<"u"?function(e){return vm.resolve(null).then(e).catch(rk)}:xd;function rk(e){setTimeout(function(){throw e})}function Xc(e,t){var s=t,n=0;do{var a=s.nextSibling;if(e.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(n===0){e.removeChild(a),ao(t);return}n--}else s!=="$"&&s!=="$?"&&s!=="$!"||n++;s=a}while(s);ao(t)}function nn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function wm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var ra=Math.random().toString(36).slice(2),as="__reactFiber$"+ra,uo="__reactProps$"+ra,As="__reactContainer$"+ra,gd="__reactEvents$"+ra,ak="__reactListeners$"+ra,ok="__reactHandles$"+ra;function _n(e){var t=e[as];if(t)return t;for(var s=e.parentNode;s;){if(t=s[As]||s[as]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=wm(e);e!==null;){if(s=e[as])return s;e=wm(e)}return t}e=s,s=e.parentNode}return null}function _o(e){return e=e[as]||e[As],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function vr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($(33))}function Kl(e){return e[uo]||null}var yd=[],wr=-1;function wn(e){return{current:e}}function ge(e){0>wr||(e.current=yd[wr],yd[wr]=null,wr--)}function pe(e,t){wr++,yd[wr]=e.current,e.current=t}var pn={},Ze=wn(pn),dt=wn(!1),Yn=pn;function $r(e,t){var s=e.type.contextTypes;if(!s)return pn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in s)a[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ft(e){return e=e.childContextTypes,e!=null}function il(){ge(dt),ge(Ze)}function bm(e,t,s){if(Ze.current!==pn)throw Error($(168));pe(Ze,t),pe(dt,s)}function qy(e,t,s){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return s;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error($(108,W2(e)||"Unknown",a));return ke({},s,n)}function ll(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||pn,Yn=Ze.current,pe(Ze,e),pe(dt,dt.current),!0}function jm(e,t,s){var n=e.stateNode;if(!n)throw Error($(169));s?(e=qy(e,t,Yn),n.__reactInternalMemoizedMergedChildContext=e,ge(dt),ge(Ze),pe(Ze,e)):ge(dt),pe(dt,s)}var ys=null,Yl=!1,Qc=!1;function Gy(e){ys===null?ys=[e]:ys.push(e)}function ik(e){Yl=!0,Gy(e)}function bn(){if(!Qc&&ys!==null){Qc=!0;var e=0,t=le;try{var s=ys;for(le=1;e<s.length;e++){var n=s[e];do n=n(!0);while(n!==null)}ys=null,Yl=!1}catch(a){throw ys!==null&&(ys=ys.slice(e+1)),yy($f,bn),a}finally{le=t,Qc=!1}}return null}var br=[],jr=0,cl=null,ul=0,Tt=[],Dt=0,Xn=null,vs=1,ws="";function Pn(e,t){br[jr++]=ul,br[jr++]=cl,cl=e,ul=t}function Ky(e,t,s){Tt[Dt++]=vs,Tt[Dt++]=ws,Tt[Dt++]=Xn,Xn=e;var n=vs;e=ws;var a=32-Gt(n)-1;n&=~(1<<a),s+=1;var o=32-Gt(t)+a;if(30<o){var i=a-a%5;o=(n&(1<<i)-1).toString(32),n>>=i,a-=i,vs=1<<32-Gt(t)+a|s<<a|n,ws=o+e}else vs=1<<o|s<<a|n,ws=e}function Qf(e){e.return!==null&&(Pn(e,1),Ky(e,1,0))}function Jf(e){for(;e===cl;)cl=br[--jr],br[jr]=null,ul=br[--jr],br[jr]=null;for(;e===Xn;)Xn=Tt[--Dt],Tt[Dt]=null,ws=Tt[--Dt],Tt[Dt]=null,vs=Tt[--Dt],Tt[Dt]=null}var jt=null,bt=null,ve=!1,qt=null;function Yy(e,t){var s=_t(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function Nm(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,jt=e,bt=nn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,jt=e,bt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=Xn!==null?{id:vs,overflow:ws}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=_t(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,jt=e,bt=null,!0):!1;default:return!1}}function vd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function wd(e){if(ve){var t=bt;if(t){var s=t;if(!Nm(e,t)){if(vd(e))throw Error($(418));t=nn(s.nextSibling);var n=jt;t&&Nm(e,t)?Yy(n,s):(e.flags=e.flags&-4097|2,ve=!1,jt=e)}}else{if(vd(e))throw Error($(418));e.flags=e.flags&-4097|2,ve=!1,jt=e}}}function Sm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;jt=e}function ui(e){if(e!==jt)return!1;if(!ve)return Sm(e),ve=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!md(e.type,e.memoizedProps)),t&&(t=bt)){if(vd(e))throw Xy(),Error($(418));for(;t;)Yy(e,t),t=nn(t.nextSibling)}if(Sm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){bt=nn(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}bt=null}}else bt=jt?nn(e.stateNode.nextSibling):null;return!0}function Xy(){for(var e=bt;e;)e=nn(e.nextSibling)}function Br(){bt=jt=null,ve=!1}function Zf(e){qt===null?qt=[e]:qt.push(e)}var lk=Ms.ReactCurrentBatchConfig;function ja(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error($(309));var n=s.stateNode}if(!n)throw Error($(147,e));var a=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=a.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error($(284));if(!s._owner)throw Error($(290,e))}return e}function di(e,t){throw e=Object.prototype.toString.call(t),Error($(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function km(e){var t=e._init;return t(e._payload)}function Qy(e){function t(y,p){if(e){var v=y.deletions;v===null?(y.deletions=[p],y.flags|=16):v.push(p)}}function s(y,p){if(!e)return null;for(;p!==null;)t(y,p),p=p.sibling;return null}function n(y,p){for(y=new Map;p!==null;)p.key!==null?y.set(p.key,p):y.set(p.index,p),p=p.sibling;return y}function a(y,p){return y=ln(y,p),y.index=0,y.sibling=null,y}function o(y,p,v){return y.index=v,e?(v=y.alternate,v!==null?(v=v.index,v<p?(y.flags|=2,p):v):(y.flags|=2,p)):(y.flags|=1048576,p)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,p,v,j){return p===null||p.tag!==6?(p=ru(v,y.mode,j),p.return=y,p):(p=a(p,v),p.return=y,p)}function c(y,p,v,j){var N=v.type;return N===mr?d(y,p,v.props.children,j,v.key):p!==null&&(p.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Hs&&km(N)===p.type)?(j=a(p,v.props),j.ref=ja(y,p,v),j.return=y,j):(j=Vi(v.type,v.key,v.props,null,y.mode,j),j.ref=ja(y,p,v),j.return=y,j)}function u(y,p,v,j){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=au(v,y.mode,j),p.return=y,p):(p=a(p,v.children||[]),p.return=y,p)}function d(y,p,v,j,N){return p===null||p.tag!==7?(p=zn(v,y.mode,j,N),p.return=y,p):(p=a(p,v),p.return=y,p)}function f(y,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=ru(""+p,y.mode,v),p.return=y,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ei:return v=Vi(p.type,p.key,p.props,null,y.mode,v),v.ref=ja(y,null,p),v.return=y,v;case hr:return p=au(p,y.mode,v),p.return=y,p;case Hs:var j=p._init;return f(y,j(p._payload),v)}if(Ma(p)||ga(p))return p=zn(p,y.mode,v,null),p.return=y,p;di(y,p)}return null}function h(y,p,v,j){var N=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return N!==null?null:l(y,p,""+v,j);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ei:return v.key===N?c(y,p,v,j):null;case hr:return v.key===N?u(y,p,v,j):null;case Hs:return N=v._init,h(y,p,N(v._payload),j)}if(Ma(v)||ga(v))return N!==null?null:d(y,p,v,j,null);di(y,v)}return null}function g(y,p,v,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(v)||null,l(p,y,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case ei:return y=y.get(j.key===null?v:j.key)||null,c(p,y,j,N);case hr:return y=y.get(j.key===null?v:j.key)||null,u(p,y,j,N);case Hs:var k=j._init;return g(y,p,v,k(j._payload),N)}if(Ma(j)||ga(j))return y=y.get(v)||null,d(p,y,j,N,null);di(p,j)}return null}function m(y,p,v,j){for(var N=null,k=null,P=p,S=p=0,R=null;P!==null&&S<v.length;S++){P.index>S?(R=P,P=null):R=P.sibling;var T=h(y,P,v[S],j);if(T===null){P===null&&(P=R);break}e&&P&&T.alternate===null&&t(y,P),p=o(T,p,S),k===null?N=T:k.sibling=T,k=T,P=R}if(S===v.length)return s(y,P),ve&&Pn(y,S),N;if(P===null){for(;S<v.length;S++)P=f(y,v[S],j),P!==null&&(p=o(P,p,S),k===null?N=P:k.sibling=P,k=P);return ve&&Pn(y,S),N}for(P=n(y,P);S<v.length;S++)R=g(P,y,S,v[S],j),R!==null&&(e&&R.alternate!==null&&P.delete(R.key===null?S:R.key),p=o(R,p,S),k===null?N=R:k.sibling=R,k=R);return e&&P.forEach(function(F){return t(y,F)}),ve&&Pn(y,S),N}function w(y,p,v,j){var N=ga(v);if(typeof N!="function")throw Error($(150));if(v=N.call(v),v==null)throw Error($(151));for(var k=N=null,P=p,S=p=0,R=null,T=v.next();P!==null&&!T.done;S++,T=v.next()){P.index>S?(R=P,P=null):R=P.sibling;var F=h(y,P,T.value,j);if(F===null){P===null&&(P=R);break}e&&P&&F.alternate===null&&t(y,P),p=o(F,p,S),k===null?N=F:k.sibling=F,k=F,P=R}if(T.done)return s(y,P),ve&&Pn(y,S),N;if(P===null){for(;!T.done;S++,T=v.next())T=f(y,T.value,j),T!==null&&(p=o(T,p,S),k===null?N=T:k.sibling=T,k=T);return ve&&Pn(y,S),N}for(P=n(y,P);!T.done;S++,T=v.next())T=g(P,y,S,T.value,j),T!==null&&(e&&T.alternate!==null&&P.delete(T.key===null?S:T.key),p=o(T,p,S),k===null?N=T:k.sibling=T,k=T);return e&&P.forEach(function(O){return t(y,O)}),ve&&Pn(y,S),N}function b(y,p,v,j){if(typeof v=="object"&&v!==null&&v.type===mr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case ei:e:{for(var N=v.key,k=p;k!==null;){if(k.key===N){if(N=v.type,N===mr){if(k.tag===7){s(y,k.sibling),p=a(k,v.props.children),p.return=y,y=p;break e}}else if(k.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Hs&&km(N)===k.type){s(y,k.sibling),p=a(k,v.props),p.ref=ja(y,k,v),p.return=y,y=p;break e}s(y,k);break}else t(y,k);k=k.sibling}v.type===mr?(p=zn(v.props.children,y.mode,j,v.key),p.return=y,y=p):(j=Vi(v.type,v.key,v.props,null,y.mode,j),j.ref=ja(y,p,v),j.return=y,y=j)}return i(y);case hr:e:{for(k=v.key;p!==null;){if(p.key===k)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){s(y,p.sibling),p=a(p,v.children||[]),p.return=y,y=p;break e}else{s(y,p);break}else t(y,p);p=p.sibling}p=au(v,y.mode,j),p.return=y,y=p}return i(y);case Hs:return k=v._init,b(y,p,k(v._payload),j)}if(Ma(v))return m(y,p,v,j);if(ga(v))return w(y,p,v,j);di(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(s(y,p.sibling),p=a(p,v),p.return=y,y=p):(s(y,p),p=ru(v,y.mode,j),p.return=y,y=p),i(y)):s(y,p)}return b}var Wr=Qy(!0),Jy=Qy(!1),dl=wn(null),fl=null,Nr=null,ep=null;function tp(){ep=Nr=fl=null}function sp(e){var t=dl.current;ge(dl),e._currentValue=t}function bd(e,t,s){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===s)break;e=e.return}}function Mr(e,t){fl=e,ep=Nr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ut=!0),e.firstContext=null)}function It(e){var t=e._currentValue;if(ep!==e)if(e={context:e,memoizedValue:t,next:null},Nr===null){if(fl===null)throw Error($(308));Nr=e,fl.dependencies={lanes:0,firstContext:e}}else Nr=Nr.next=e;return t}var Mn=null;function np(e){Mn===null?Mn=[e]:Mn.push(e)}function Zy(e,t,s,n){var a=t.interleaved;return a===null?(s.next=s,np(t)):(s.next=a.next,a.next=s),t.interleaved=s,Ps(e,n)}function Ps(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var qs=!1;function rp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ev(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function js(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function rn(e,t,s){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,oe&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Ps(e,s)}return a=n.interleaved,a===null?(t.next=t,np(n)):(t.next=a.next,a.next=t),n.interleaved=t,Ps(e,s)}function Li(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,Bf(e,s)}}function Cm(e,t){var s=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var a=null,o=null;if(s=s.firstBaseUpdate,s!==null){do{var i={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};o===null?a=o=i:o=o.next=i,s=s.next}while(s!==null);o===null?a=o=t:o=o.next=t}else a=o=t;s={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function pl(e,t,s,n){var a=e.updateQueue;qs=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=a.baseState;i=0,d=u=c=null,l=o;do{var h=l.lane,g=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=e,w=l;switch(h=t,g=s,w.tag){case 1:if(m=w.payload,typeof m=="function"){f=m.call(g,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=w.payload,h=typeof m=="function"?m.call(g,f,h):m,h==null)break e;f=ke({},f,h);break e;case 2:qs=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else g={eventTime:g,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=g,c=f):d=d.next=g,i|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);Jn|=i,e.lanes=i,e.memoizedState=f}}function Am(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=s,typeof a!="function")throw Error($(191,a));a.call(n)}}}var Mo={},ls=wn(Mo),fo=wn(Mo),po=wn(Mo);function Ln(e){if(e===Mo)throw Error($(174));return e}function ap(e,t){switch(pe(po,t),pe(fo,e),pe(ls,Mo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:td(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=td(t,e)}ge(ls),pe(ls,t)}function Hr(){ge(ls),ge(fo),ge(po)}function tv(e){Ln(po.current);var t=Ln(ls.current),s=td(t,e.type);t!==s&&(pe(fo,e),pe(ls,s))}function op(e){fo.current===e&&(ge(ls),ge(fo))}var we=wn(0);function hl(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Jc=[];function ip(){for(var e=0;e<Jc.length;e++)Jc[e]._workInProgressVersionPrimary=null;Jc.length=0}var Ii=Ms.ReactCurrentDispatcher,Zc=Ms.ReactCurrentBatchConfig,Qn=0,je=null,Le=null,Fe=null,ml=!1,Ha=!1,ho=0,ck=0;function He(){throw Error($(321))}function lp(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Yt(e[s],t[s]))return!1;return!0}function cp(e,t,s,n,a,o){if(Qn=o,je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ii.current=e===null||e.memoizedState===null?pk:hk,e=s(n,a),Ha){o=0;do{if(Ha=!1,ho=0,25<=o)throw Error($(301));o+=1,Fe=Le=null,t.updateQueue=null,Ii.current=mk,e=s(n,a)}while(Ha)}if(Ii.current=xl,t=Le!==null&&Le.next!==null,Qn=0,Fe=Le=je=null,ml=!1,t)throw Error($(300));return e}function up(){var e=ho!==0;return ho=0,e}function rs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?je.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function Ot(){if(Le===null){var e=je.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var t=Fe===null?je.memoizedState:Fe.next;if(t!==null)Fe=t,Le=e;else{if(e===null)throw Error($(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},Fe===null?je.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function mo(e,t){return typeof t=="function"?t(e):t}function eu(e){var t=Ot(),s=t.queue;if(s===null)throw Error($(311));s.lastRenderedReducer=e;var n=Le,a=n.baseQueue,o=s.pending;if(o!==null){if(a!==null){var i=a.next;a.next=o.next,o.next=i}n.baseQueue=a=o,s.pending=null}if(a!==null){o=a.next,n=n.baseState;var l=i=null,c=null,u=o;do{var d=u.lane;if((Qn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=n):c=c.next=f,je.lanes|=d,Jn|=d}u=u.next}while(u!==null&&u!==o);c===null?i=n:c.next=l,Yt(n,t.memoizedState)||(ut=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,s.lastRenderedState=n}if(e=s.interleaved,e!==null){a=e;do o=a.lane,je.lanes|=o,Jn|=o,a=a.next;while(a!==e)}else a===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function tu(e){var t=Ot(),s=t.queue;if(s===null)throw Error($(311));s.lastRenderedReducer=e;var n=s.dispatch,a=s.pending,o=t.memoizedState;if(a!==null){s.pending=null;var i=a=a.next;do o=e(o,i.action),i=i.next;while(i!==a);Yt(o,t.memoizedState)||(ut=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),s.lastRenderedState=o}return[o,n]}function sv(){}function nv(e,t){var s=je,n=Ot(),a=t(),o=!Yt(n.memoizedState,a);if(o&&(n.memoizedState=a,ut=!0),n=n.queue,dp(ov.bind(null,s,n,e),[e]),n.getSnapshot!==t||o||Fe!==null&&Fe.memoizedState.tag&1){if(s.flags|=2048,xo(9,av.bind(null,s,n,a,t),void 0,null),ze===null)throw Error($(349));Qn&30||rv(s,t,a)}return a}function rv(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=je.updateQueue,t===null?(t={lastEffect:null,stores:null},je.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function av(e,t,s,n){t.value=s,t.getSnapshot=n,iv(t)&&lv(e)}function ov(e,t,s){return s(function(){iv(t)&&lv(e)})}function iv(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Yt(e,s)}catch{return!0}}function lv(e){var t=Ps(e,1);t!==null&&Kt(t,e,1,-1)}function Pm(e){var t=rs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mo,lastRenderedState:e},t.queue=e,e=e.dispatch=fk.bind(null,je,e),[t.memoizedState,e]}function xo(e,t,s,n){return e={tag:e,create:t,destroy:s,deps:n,next:null},t=je.updateQueue,t===null?(t={lastEffect:null,stores:null},je.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(n=s.next,s.next=e,e.next=n,t.lastEffect=e)),e}function cv(){return Ot().memoizedState}function Oi(e,t,s,n){var a=rs();je.flags|=e,a.memoizedState=xo(1|t,s,void 0,n===void 0?null:n)}function Xl(e,t,s,n){var a=Ot();n=n===void 0?null:n;var o=void 0;if(Le!==null){var i=Le.memoizedState;if(o=i.destroy,n!==null&&lp(n,i.deps)){a.memoizedState=xo(t,s,o,n);return}}je.flags|=e,a.memoizedState=xo(1|t,s,o,n)}function Em(e,t){return Oi(8390656,8,e,t)}function dp(e,t){return Xl(2048,8,e,t)}function uv(e,t){return Xl(4,2,e,t)}function dv(e,t){return Xl(4,4,e,t)}function fv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function pv(e,t,s){return s=s!=null?s.concat([e]):null,Xl(4,4,fv.bind(null,t,e),s)}function fp(){}function hv(e,t){var s=Ot();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&lp(t,n[1])?n[0]:(s.memoizedState=[e,t],e)}function mv(e,t){var s=Ot();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&lp(t,n[1])?n[0]:(e=e(),s.memoizedState=[e,t],e)}function xv(e,t,s){return Qn&21?(Yt(s,t)||(s=by(),je.lanes|=s,Jn|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ut=!0),e.memoizedState=s)}function uk(e,t){var s=le;le=s!==0&&4>s?s:4,e(!0);var n=Zc.transition;Zc.transition={};try{e(!1),t()}finally{le=s,Zc.transition=n}}function gv(){return Ot().memoizedState}function dk(e,t,s){var n=on(e);if(s={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null},yv(e))vv(t,s);else if(s=Zy(e,t,s,n),s!==null){var a=rt();Kt(s,e,n,a),wv(s,t,n)}}function fk(e,t,s){var n=on(e),a={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null};if(yv(e))vv(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,s);if(a.hasEagerState=!0,a.eagerState=l,Yt(l,i)){var c=t.interleaved;c===null?(a.next=a,np(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}s=Zy(e,t,a,n),s!==null&&(a=rt(),Kt(s,e,n,a),wv(s,t,n))}}function yv(e){var t=e.alternate;return e===je||t!==null&&t===je}function vv(e,t){Ha=ml=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function wv(e,t,s){if(s&4194240){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,Bf(e,s)}}var xl={readContext:It,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useInsertionEffect:He,useLayoutEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useMutableSource:He,useSyncExternalStore:He,useId:He,unstable_isNewReconciler:!1},pk={readContext:It,useCallback:function(e,t){return rs().memoizedState=[e,t===void 0?null:t],e},useContext:It,useEffect:Em,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,Oi(4194308,4,fv.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Oi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oi(4,2,e,t)},useMemo:function(e,t){var s=rs();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var n=rs();return t=s!==void 0?s(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=dk.bind(null,je,e),[n.memoizedState,e]},useRef:function(e){var t=rs();return e={current:e},t.memoizedState=e},useState:Pm,useDebugValue:fp,useDeferredValue:function(e){return rs().memoizedState=e},useTransition:function(){var e=Pm(!1),t=e[0];return e=uk.bind(null,e[1]),rs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var n=je,a=rs();if(ve){if(s===void 0)throw Error($(407));s=s()}else{if(s=t(),ze===null)throw Error($(349));Qn&30||rv(n,t,s)}a.memoizedState=s;var o={value:s,getSnapshot:t};return a.queue=o,Em(ov.bind(null,n,o,e),[e]),n.flags|=2048,xo(9,av.bind(null,n,o,s,t),void 0,null),s},useId:function(){var e=rs(),t=ze.identifierPrefix;if(ve){var s=ws,n=vs;s=(n&~(1<<32-Gt(n)-1)).toString(32)+s,t=":"+t+"R"+s,s=ho++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=ck++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},hk={readContext:It,useCallback:hv,useContext:It,useEffect:dp,useImperativeHandle:pv,useInsertionEffect:uv,useLayoutEffect:dv,useMemo:mv,useReducer:eu,useRef:cv,useState:function(){return eu(mo)},useDebugValue:fp,useDeferredValue:function(e){var t=Ot();return xv(t,Le.memoizedState,e)},useTransition:function(){var e=eu(mo)[0],t=Ot().memoizedState;return[e,t]},useMutableSource:sv,useSyncExternalStore:nv,useId:gv,unstable_isNewReconciler:!1},mk={readContext:It,useCallback:hv,useContext:It,useEffect:dp,useImperativeHandle:pv,useInsertionEffect:uv,useLayoutEffect:dv,useMemo:mv,useReducer:tu,useRef:cv,useState:function(){return tu(mo)},useDebugValue:fp,useDeferredValue:function(e){var t=Ot();return Le===null?t.memoizedState=e:xv(t,Le.memoizedState,e)},useTransition:function(){var e=tu(mo)[0],t=Ot().memoizedState;return[e,t]},useMutableSource:sv,useSyncExternalStore:nv,useId:gv,unstable_isNewReconciler:!1};function Wt(e,t){if(e&&e.defaultProps){t=ke({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function jd(e,t,s,n){t=e.memoizedState,s=s(n,t),s=s==null?t:ke({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Ql={isMounted:function(e){return(e=e._reactInternals)?nr(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var n=rt(),a=on(e),o=js(n,a);o.payload=t,s!=null&&(o.callback=s),t=rn(e,o,a),t!==null&&(Kt(t,e,a,n),Li(t,e,a))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var n=rt(),a=on(e),o=js(n,a);o.tag=1,o.payload=t,s!=null&&(o.callback=s),t=rn(e,o,a),t!==null&&(Kt(t,e,a,n),Li(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=rt(),n=on(e),a=js(s,n);a.tag=2,t!=null&&(a.callback=t),t=rn(e,a,n),t!==null&&(Kt(t,e,n,s),Li(t,e,n))}};function Rm(e,t,s,n,a,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!io(s,n)||!io(a,o):!0}function bv(e,t,s){var n=!1,a=pn,o=t.contextType;return typeof o=="object"&&o!==null?o=It(o):(a=ft(t)?Yn:Ze.current,n=t.contextTypes,o=(n=n!=null)?$r(e,a):pn),t=new t(s,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ql,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function Tm(e,t,s,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,n),t.state!==e&&Ql.enqueueReplaceState(t,t.state,null)}function Nd(e,t,s,n){var a=e.stateNode;a.props=s,a.state=e.memoizedState,a.refs={},rp(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=It(o):(o=ft(t)?Yn:Ze.current,a.context=$r(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(jd(e,t,o,s),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Ql.enqueueReplaceState(a,a.state,null),pl(e,s,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function qr(e,t){try{var s="",n=t;do s+=B2(n),n=n.return;while(n);var a=s}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function su(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function Sd(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var xk=typeof WeakMap=="function"?WeakMap:Map;function jv(e,t,s){s=js(-1,s),s.tag=3,s.payload={element:null};var n=t.value;return s.callback=function(){yl||(yl=!0,Md=n),Sd(e,t)},s}function Nv(e,t,s){s=js(-1,s),s.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;s.payload=function(){return n(a)},s.callback=function(){Sd(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(s.callback=function(){Sd(e,t),typeof n!="function"&&(an===null?an=new Set([this]):an.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),s}function Dm(e,t,s){var n=e.pingCache;if(n===null){n=e.pingCache=new xk;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(s)||(a.add(s),e=Rk.bind(null,e,t,s),t.then(e,e))}function _m(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Mm(e,t,s,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=js(-1,1),t.tag=2,rn(s,t,1))),s.lanes|=1),e)}var gk=Ms.ReactCurrentOwner,ut=!1;function nt(e,t,s,n){t.child=e===null?Jy(t,null,s,n):Wr(t,e.child,s,n)}function Lm(e,t,s,n,a){s=s.render;var o=t.ref;return Mr(t,a),n=cp(e,t,s,n,o,a),s=up(),e!==null&&!ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Es(e,t,a)):(ve&&s&&Qf(t),t.flags|=1,nt(e,t,n,a),t.child)}function Im(e,t,s,n,a){if(e===null){var o=s.type;return typeof o=="function"&&!wp(o)&&o.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=o,Sv(e,t,o,n,a)):(e=Vi(s.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var i=o.memoizedProps;if(s=s.compare,s=s!==null?s:io,s(i,n)&&e.ref===t.ref)return Es(e,t,a)}return t.flags|=1,e=ln(o,n),e.ref=t.ref,e.return=t,t.child=e}function Sv(e,t,s,n,a){if(e!==null){var o=e.memoizedProps;if(io(o,n)&&e.ref===t.ref)if(ut=!1,t.pendingProps=n=o,(e.lanes&a)!==0)e.flags&131072&&(ut=!0);else return t.lanes=e.lanes,Es(e,t,a)}return kd(e,t,s,n,a)}function kv(e,t,s){var n=t.pendingProps,a=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},pe(kr,vt),vt|=s;else{if(!(s&1073741824))return e=o!==null?o.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,pe(kr,vt),vt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:s,pe(kr,vt),vt|=n}else o!==null?(n=o.baseLanes|s,t.memoizedState=null):n=s,pe(kr,vt),vt|=n;return nt(e,t,a,s),t.child}function Cv(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function kd(e,t,s,n,a){var o=ft(s)?Yn:Ze.current;return o=$r(t,o),Mr(t,a),s=cp(e,t,s,n,o,a),n=up(),e!==null&&!ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Es(e,t,a)):(ve&&n&&Qf(t),t.flags|=1,nt(e,t,s,a),t.child)}function Om(e,t,s,n,a){if(ft(s)){var o=!0;ll(t)}else o=!1;if(Mr(t,a),t.stateNode===null)Fi(e,t),bv(t,s,n),Nd(t,s,n,a),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=s.contextType;typeof u=="object"&&u!==null?u=It(u):(u=ft(s)?Yn:Ze.current,u=$r(t,u));var d=s.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Tm(t,i,n,u),qs=!1;var h=t.memoizedState;i.state=h,pl(t,n,i,a),c=t.memoizedState,l!==n||h!==c||dt.current||qs?(typeof d=="function"&&(jd(t,s,d,n),c=t.memoizedState),(l=qs||Rm(t,s,l,n,h,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,ev(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Wt(t.type,l),i.props=u,f=t.pendingProps,h=i.context,c=s.contextType,typeof c=="object"&&c!==null?c=It(c):(c=ft(s)?Yn:Ze.current,c=$r(t,c));var g=s.getDerivedStateFromProps;(d=typeof g=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||h!==c)&&Tm(t,i,n,c),qs=!1,h=t.memoizedState,i.state=h,pl(t,n,i,a);var m=t.memoizedState;l!==f||h!==m||dt.current||qs?(typeof g=="function"&&(jd(t,s,g,n),m=t.memoizedState),(u=qs||Rm(t,s,u,n,h,m,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,m,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,m,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),i.props=n,i.state=m,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Cd(e,t,s,n,o,a)}function Cd(e,t,s,n,a,o){Cv(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&jm(t,s,!1),Es(e,t,o);n=t.stateNode,gk.current=t;var l=i&&typeof s.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Wr(t,e.child,null,o),t.child=Wr(t,null,l,o)):nt(e,t,l,o),t.memoizedState=n.state,a&&jm(t,s,!0),t.child}function Av(e){var t=e.stateNode;t.pendingContext?bm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&bm(e,t.context,!1),ap(e,t.containerInfo)}function Fm(e,t,s,n,a){return Br(),Zf(a),t.flags|=256,nt(e,t,s,n),t.child}var Ad={dehydrated:null,treeContext:null,retryLane:0};function Pd(e){return{baseLanes:e,cachePool:null,transitions:null}}function Pv(e,t,s){var n=t.pendingProps,a=we.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),pe(we,a&1),e===null)return wd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=ec(i,n,0,null),e=zn(e,n,s,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Pd(s),t.memoizedState=Ad,e):pp(t,i));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return yk(e,t,i,n,l,a,s);if(o){o=n.fallback,i=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=ln(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?o=ln(l,o):(o=zn(o,i,s,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?Pd(s):{baseLanes:i.baseLanes|s,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~s,t.memoizedState=Ad,n}return o=e.child,e=o.sibling,n=ln(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=s),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n}function pp(e,t){return t=ec({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function fi(e,t,s,n){return n!==null&&Zf(n),Wr(t,e.child,null,s),e=pp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function yk(e,t,s,n,a,o,i){if(s)return t.flags&256?(t.flags&=-257,n=su(Error($(422))),fi(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,a=t.mode,n=ec({mode:"visible",children:n.children},a,0,null),o=zn(o,a,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&Wr(t,e.child,null,i),t.child.memoizedState=Pd(i),t.memoizedState=Ad,o);if(!(t.mode&1))return fi(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error($(419)),n=su(o,n,void 0),fi(e,t,i,n)}if(l=(i&e.childLanes)!==0,ut||l){if(n=ze,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,Ps(e,a),Kt(n,e,a,-1))}return vp(),n=su(Error($(421))),fi(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Tk.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,bt=nn(a.nextSibling),jt=t,ve=!0,qt=null,e!==null&&(Tt[Dt++]=vs,Tt[Dt++]=ws,Tt[Dt++]=Xn,vs=e.id,ws=e.overflow,Xn=t),t=pp(t,n.children),t.flags|=4096,t)}function zm(e,t,s){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),bd(e.return,t,s)}function nu(e,t,s,n,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=s,o.tailMode=a)}function Ev(e,t,s){var n=t.pendingProps,a=n.revealOrder,o=n.tail;if(nt(e,t,n.children,s),n=we.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zm(e,s,t);else if(e.tag===19)zm(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(pe(we,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(s=t.child,a=null;s!==null;)e=s.alternate,e!==null&&hl(e)===null&&(a=s),s=s.sibling;s=a,s===null?(a=t.child,t.child=null):(a=s.sibling,s.sibling=null),nu(t,!1,a,s,o);break;case"backwards":for(s=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&hl(e)===null){t.child=a;break}e=a.sibling,a.sibling=s,s=a,a=e}nu(t,!0,s,null,o);break;case"together":nu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Fi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Es(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Jn|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,s=ln(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=ln(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function vk(e,t,s){switch(t.tag){case 3:Av(t),Br();break;case 5:tv(t);break;case 1:ft(t.type)&&ll(t);break;case 4:ap(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;pe(dl,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(pe(we,we.current&1),t.flags|=128,null):s&t.child.childLanes?Pv(e,t,s):(pe(we,we.current&1),e=Es(e,t,s),e!==null?e.sibling:null);pe(we,we.current&1);break;case 19:if(n=(s&t.childLanes)!==0,e.flags&128){if(n)return Ev(e,t,s);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),pe(we,we.current),n)break;return null;case 22:case 23:return t.lanes=0,kv(e,t,s)}return Es(e,t,s)}var Rv,Ed,Tv,Dv;Rv=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Ed=function(){};Tv=function(e,t,s,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Ln(ls.current);var o=null;switch(s){case"input":a=Qu(e,a),n=Qu(e,n),o=[];break;case"select":a=ke({},a,{value:void 0}),n=ke({},n,{value:void 0}),o=[];break;case"textarea":a=ed(e,a),n=ed(e,n),o=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ol)}sd(s,n);var i;s=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(i in l)l.hasOwnProperty(i)&&(s||(s={}),s[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(eo.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(s||(s={}),s[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(s||(s={}),s[i]=c[i])}else s||(o||(o=[]),o.push(u,s)),s=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(eo.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&xe("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}s&&(o=o||[]).push("style",s);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Dv=function(e,t,s,n){s!==n&&(t.flags|=4)};function Na(e,t){if(!ve)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,n=0;if(t)for(var a=e.child;a!==null;)s|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)s|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=s,t}function wk(e,t,s){var n=t.pendingProps;switch(Jf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(t),null;case 1:return ft(t.type)&&il(),qe(t),null;case 3:return n=t.stateNode,Hr(),ge(dt),ge(Ze),ip(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ui(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,qt!==null&&(Od(qt),qt=null))),Ed(e,t),qe(t),null;case 5:op(t);var a=Ln(po.current);if(s=t.type,e!==null&&t.stateNode!=null)Tv(e,t,s,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error($(166));return qe(t),null}if(e=Ln(ls.current),ui(t)){n=t.stateNode,s=t.type;var o=t.memoizedProps;switch(n[as]=t,n[uo]=o,e=(t.mode&1)!==0,s){case"dialog":xe("cancel",n),xe("close",n);break;case"iframe":case"object":case"embed":xe("load",n);break;case"video":case"audio":for(a=0;a<Ia.length;a++)xe(Ia[a],n);break;case"source":xe("error",n);break;case"img":case"image":case"link":xe("error",n),xe("load",n);break;case"details":xe("toggle",n);break;case"input":Kh(n,o),xe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},xe("invalid",n);break;case"textarea":Xh(n,o),xe("invalid",n)}sd(s,o),a=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&ci(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&ci(n.textContent,l,e),a=["children",""+l]):eo.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&xe("scroll",n)}switch(s){case"input":ti(n),Yh(n,o,!0);break;case"textarea":ti(n),Qh(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=ol)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=oy(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(s,{is:n.is}):(e=i.createElement(s),s==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,s),e[as]=t,e[uo]=n,Rv(e,t,!1,!1),t.stateNode=e;e:{switch(i=nd(s,n),s){case"dialog":xe("cancel",e),xe("close",e),a=n;break;case"iframe":case"object":case"embed":xe("load",e),a=n;break;case"video":case"audio":for(a=0;a<Ia.length;a++)xe(Ia[a],e);a=n;break;case"source":xe("error",e),a=n;break;case"img":case"image":case"link":xe("error",e),xe("load",e),a=n;break;case"details":xe("toggle",e),a=n;break;case"input":Kh(e,n),a=Qu(e,n),xe("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=ke({},n,{value:void 0}),xe("invalid",e);break;case"textarea":Xh(e,n),a=ed(e,n),xe("invalid",e);break;default:a=n}sd(s,a),l=a;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?cy(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&iy(e,c)):o==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&to(e,c):typeof c=="number"&&to(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(eo.hasOwnProperty(o)?c!=null&&o==="onScroll"&&xe("scroll",e):c!=null&&Of(e,o,c,i))}switch(s){case"input":ti(e),Yh(e,n,!1);break;case"textarea":ti(e),Qh(e);break;case"option":n.value!=null&&e.setAttribute("value",""+fn(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?Rr(e,!!n.multiple,o,!1):n.defaultValue!=null&&Rr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=ol)}switch(s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return qe(t),null;case 6:if(e&&t.stateNode!=null)Dv(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error($(166));if(s=Ln(po.current),Ln(ls.current),ui(t)){if(n=t.stateNode,s=t.memoizedProps,n[as]=t,(o=n.nodeValue!==s)&&(e=jt,e!==null))switch(e.tag){case 3:ci(n.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ci(n.nodeValue,s,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(s.nodeType===9?s:s.ownerDocument).createTextNode(n),n[as]=t,t.stateNode=n}return qe(t),null;case 13:if(ge(we),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ve&&bt!==null&&t.mode&1&&!(t.flags&128))Xy(),Br(),t.flags|=98560,o=!1;else if(o=ui(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error($(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error($(317));o[as]=t}else Br(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;qe(t),o=!1}else qt!==null&&(Od(qt),qt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||we.current&1?Ie===0&&(Ie=3):vp())),t.updateQueue!==null&&(t.flags|=4),qe(t),null);case 4:return Hr(),Ed(e,t),e===null&&lo(t.stateNode.containerInfo),qe(t),null;case 10:return sp(t.type._context),qe(t),null;case 17:return ft(t.type)&&il(),qe(t),null;case 19:if(ge(we),o=t.memoizedState,o===null)return qe(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)Na(o,!1);else{if(Ie!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=hl(e),i!==null){for(t.flags|=128,Na(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=s,s=t.child;s!==null;)o=s,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return pe(we,we.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ee()>Gr&&(t.flags|=128,n=!0,Na(o,!1),t.lanes=4194304)}else{if(!n)if(e=hl(i),e!==null){if(t.flags|=128,n=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),Na(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!ve)return qe(t),null}else 2*Ee()-o.renderingStartTime>Gr&&s!==1073741824&&(t.flags|=128,n=!0,Na(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(s=o.last,s!==null?s.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ee(),t.sibling=null,s=we.current,pe(we,n?s&1|2:s&1),t):(qe(t),null);case 22:case 23:return yp(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?vt&1073741824&&(qe(t),t.subtreeFlags&6&&(t.flags|=8192)):qe(t),null;case 24:return null;case 25:return null}throw Error($(156,t.tag))}function bk(e,t){switch(Jf(t),t.tag){case 1:return ft(t.type)&&il(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Hr(),ge(dt),ge(Ze),ip(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return op(t),null;case 13:if(ge(we),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($(340));Br()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ge(we),null;case 4:return Hr(),null;case 10:return sp(t.type._context),null;case 22:case 23:return yp(),null;case 24:return null;default:return null}}var pi=!1,Ke=!1,jk=typeof WeakSet=="function"?WeakSet:Set,G=null;function Sr(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(n){Ae(e,t,n)}else s.current=null}function Rd(e,t,s){try{s()}catch(n){Ae(e,t,n)}}var Um=!1;function Nk(e,t){if(pd=nl,e=Oy(),Xf(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var a=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{s.nodeType,o.nodeType}catch{s=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var g;f!==s||a!==0&&f.nodeType!==3||(l=i+a),f!==o||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===e)break t;if(h===s&&++u===a&&(l=i),h===o&&++d===n&&(c=i),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}s=l===-1||c===-1?null:{start:l,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(hd={focusedElem:e,selectionRange:s},nl=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var w=m.memoizedProps,b=m.memoizedState,y=t.stateNode,p=y.getSnapshotBeforeUpdate(t.elementType===t.type?w:Wt(t.type,w),b);y.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(j){Ae(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return m=Um,Um=!1,m}function qa(e,t,s){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&Rd(t,s,o)}a=a.next}while(a!==n)}}function Jl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var n=s.create;s.destroy=n()}s=s.next}while(s!==t)}}function Td(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function _v(e){var t=e.alternate;t!==null&&(e.alternate=null,_v(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[as],delete t[uo],delete t[gd],delete t[ak],delete t[ok])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Mv(e){return e.tag===5||e.tag===3||e.tag===4}function Vm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Mv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Dd(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=ol));else if(n!==4&&(e=e.child,e!==null))for(Dd(e,t,s),e=e.sibling;e!==null;)Dd(e,t,s),e=e.sibling}function _d(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(_d(e,t,s),e=e.sibling;e!==null;)_d(e,t,s),e=e.sibling}var Ve=null,Ht=!1;function Us(e,t,s){for(s=s.child;s!==null;)Lv(e,t,s),s=s.sibling}function Lv(e,t,s){if(is&&typeof is.onCommitFiberUnmount=="function")try{is.onCommitFiberUnmount(Wl,s)}catch{}switch(s.tag){case 5:Ke||Sr(s,t);case 6:var n=Ve,a=Ht;Ve=null,Us(e,t,s),Ve=n,Ht=a,Ve!==null&&(Ht?(e=Ve,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Ve.removeChild(s.stateNode));break;case 18:Ve!==null&&(Ht?(e=Ve,s=s.stateNode,e.nodeType===8?Xc(e.parentNode,s):e.nodeType===1&&Xc(e,s),ao(e)):Xc(Ve,s.stateNode));break;case 4:n=Ve,a=Ht,Ve=s.stateNode.containerInfo,Ht=!0,Us(e,t,s),Ve=n,Ht=a;break;case 0:case 11:case 14:case 15:if(!Ke&&(n=s.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var o=a,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Rd(s,t,i),a=a.next}while(a!==n)}Us(e,t,s);break;case 1:if(!Ke&&(Sr(s,t),n=s.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=s.memoizedProps,n.state=s.memoizedState,n.componentWillUnmount()}catch(l){Ae(s,t,l)}Us(e,t,s);break;case 21:Us(e,t,s);break;case 22:s.mode&1?(Ke=(n=Ke)||s.memoizedState!==null,Us(e,t,s),Ke=n):Us(e,t,s);break;default:Us(e,t,s)}}function $m(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new jk),t.forEach(function(n){var a=Dk.bind(null,e,n);s.has(n)||(s.add(n),n.then(a,a))})}}function Bt(e,t){var s=t.deletions;if(s!==null)for(var n=0;n<s.length;n++){var a=s[n];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:Ve=l.stateNode,Ht=!1;break e;case 3:Ve=l.stateNode.containerInfo,Ht=!0;break e;case 4:Ve=l.stateNode.containerInfo,Ht=!0;break e}l=l.return}if(Ve===null)throw Error($(160));Lv(o,i,a),Ve=null,Ht=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Ae(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Iv(t,e),t=t.sibling}function Iv(e,t){var s=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Bt(t,e),ss(e),n&4){try{qa(3,e,e.return),Jl(3,e)}catch(w){Ae(e,e.return,w)}try{qa(5,e,e.return)}catch(w){Ae(e,e.return,w)}}break;case 1:Bt(t,e),ss(e),n&512&&s!==null&&Sr(s,s.return);break;case 5:if(Bt(t,e),ss(e),n&512&&s!==null&&Sr(s,s.return),e.flags&32){var a=e.stateNode;try{to(a,"")}catch(w){Ae(e,e.return,w)}}if(n&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,i=s!==null?s.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&ry(a,o),nd(l,i);var u=nd(l,o);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?cy(a,f):d==="dangerouslySetInnerHTML"?iy(a,f):d==="children"?to(a,f):Of(a,d,f,u)}switch(l){case"input":Ju(a,o);break;case"textarea":ay(a,o);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?Rr(a,!!o.multiple,g,!1):h!==!!o.multiple&&(o.defaultValue!=null?Rr(a,!!o.multiple,o.defaultValue,!0):Rr(a,!!o.multiple,o.multiple?[]:"",!1))}a[uo]=o}catch(w){Ae(e,e.return,w)}}break;case 6:if(Bt(t,e),ss(e),n&4){if(e.stateNode===null)throw Error($(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(w){Ae(e,e.return,w)}}break;case 3:if(Bt(t,e),ss(e),n&4&&s!==null&&s.memoizedState.isDehydrated)try{ao(t.containerInfo)}catch(w){Ae(e,e.return,w)}break;case 4:Bt(t,e),ss(e);break;case 13:Bt(t,e),ss(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(xp=Ee())),n&4&&$m(e);break;case 22:if(d=s!==null&&s.memoizedState!==null,e.mode&1?(Ke=(u=Ke)||d,Bt(t,e),Ke=u):Bt(t,e),ss(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(G=e,d=e.child;d!==null;){for(f=G=d;G!==null;){switch(h=G,g=h.child,h.tag){case 0:case 11:case 14:case 15:qa(4,h,h.return);break;case 1:Sr(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,s=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(w){Ae(n,s,w)}}break;case 5:Sr(h,h.return);break;case 22:if(h.memoizedState!==null){Wm(f);continue}}g!==null?(g.return=h,G=g):Wm(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=ly("display",i))}catch(w){Ae(e,e.return,w)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){Ae(e,e.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Bt(t,e),ss(e),n&4&&$m(e);break;case 21:break;default:Bt(t,e),ss(e)}}function ss(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(Mv(s)){var n=s;break e}s=s.return}throw Error($(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(to(a,""),n.flags&=-33);var o=Vm(e);_d(e,o,a);break;case 3:case 4:var i=n.stateNode.containerInfo,l=Vm(e);Dd(e,l,i);break;default:throw Error($(161))}}catch(c){Ae(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Sk(e,t,s){G=e,Ov(e)}function Ov(e,t,s){for(var n=(e.mode&1)!==0;G!==null;){var a=G,o=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||pi;if(!i){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Ke;l=pi;var u=Ke;if(pi=i,(Ke=c)&&!u)for(G=a;G!==null;)i=G,c=i.child,i.tag===22&&i.memoizedState!==null?Hm(a):c!==null?(c.return=i,G=c):Hm(a);for(;o!==null;)G=o,Ov(o),o=o.sibling;G=a,pi=l,Ke=u}Bm(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,G=o):Bm(e)}}function Bm(e){for(;G!==null;){var t=G;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ke||Jl(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ke)if(s===null)n.componentDidMount();else{var a=t.elementType===t.type?s.memoizedProps:Wt(t.type,s.memoizedProps);n.componentDidUpdate(a,s.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Am(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}Am(t,i,s)}break;case 5:var l=t.stateNode;if(s===null&&t.flags&4){s=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ao(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}Ke||t.flags&512&&Td(t)}catch(h){Ae(t,t.return,h)}}if(t===e){G=null;break}if(s=t.sibling,s!==null){s.return=t.return,G=s;break}G=t.return}}function Wm(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var s=t.sibling;if(s!==null){s.return=t.return,G=s;break}G=t.return}}function Hm(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{Jl(4,t)}catch(c){Ae(t,s,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Ae(t,a,c)}}var o=t.return;try{Td(t)}catch(c){Ae(t,o,c)}break;case 5:var i=t.return;try{Td(t)}catch(c){Ae(t,i,c)}}}catch(c){Ae(t,t.return,c)}if(t===e){G=null;break}var l=t.sibling;if(l!==null){l.return=t.return,G=l;break}G=t.return}}var kk=Math.ceil,gl=Ms.ReactCurrentDispatcher,hp=Ms.ReactCurrentOwner,Mt=Ms.ReactCurrentBatchConfig,oe=0,ze=null,_e=null,$e=0,vt=0,kr=wn(0),Ie=0,go=null,Jn=0,Zl=0,mp=0,Ga=null,lt=null,xp=0,Gr=1/0,gs=null,yl=!1,Md=null,an=null,hi=!1,Qs=null,vl=0,Ka=0,Ld=null,zi=-1,Ui=0;function rt(){return oe&6?Ee():zi!==-1?zi:zi=Ee()}function on(e){return e.mode&1?oe&2&&$e!==0?$e&-$e:lk.transition!==null?(Ui===0&&(Ui=by()),Ui):(e=le,e!==0||(e=window.event,e=e===void 0?16:Py(e.type)),e):1}function Kt(e,t,s,n){if(50<Ka)throw Ka=0,Ld=null,Error($(185));To(e,s,n),(!(oe&2)||e!==ze)&&(e===ze&&(!(oe&2)&&(Zl|=s),Ie===4&&Ys(e,$e)),pt(e,n),s===1&&oe===0&&!(t.mode&1)&&(Gr=Ee()+500,Yl&&bn()))}function pt(e,t){var s=e.callbackNode;lS(e,t);var n=sl(e,e===ze?$e:0);if(n===0)s!==null&&em(s),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(s!=null&&em(s),t===1)e.tag===0?ik(qm.bind(null,e)):Gy(qm.bind(null,e)),nk(function(){!(oe&6)&&bn()}),s=null;else{switch(jy(n)){case 1:s=$f;break;case 4:s=vy;break;case 16:s=tl;break;case 536870912:s=wy;break;default:s=tl}s=Hv(s,Fv.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function Fv(e,t){if(zi=-1,Ui=0,oe&6)throw Error($(327));var s=e.callbackNode;if(Lr()&&e.callbackNode!==s)return null;var n=sl(e,e===ze?$e:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=wl(e,n);else{t=n;var a=oe;oe|=2;var o=Uv();(ze!==e||$e!==t)&&(gs=null,Gr=Ee()+500,Fn(e,t));do try{Pk();break}catch(l){zv(e,l)}while(!0);tp(),gl.current=o,oe=a,_e!==null?t=0:(ze=null,$e=0,t=Ie)}if(t!==0){if(t===2&&(a=ld(e),a!==0&&(n=a,t=Id(e,a))),t===1)throw s=go,Fn(e,0),Ys(e,n),pt(e,Ee()),s;if(t===6)Ys(e,n);else{if(a=e.current.alternate,!(n&30)&&!Ck(a)&&(t=wl(e,n),t===2&&(o=ld(e),o!==0&&(n=o,t=Id(e,o))),t===1))throw s=go,Fn(e,0),Ys(e,n),pt(e,Ee()),s;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error($(345));case 2:En(e,lt,gs);break;case 3:if(Ys(e,n),(n&130023424)===n&&(t=xp+500-Ee(),10<t)){if(sl(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){rt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=xd(En.bind(null,e,lt,gs),t);break}En(e,lt,gs);break;case 4:if(Ys(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-Gt(n);o=1<<i,i=t[i],i>a&&(a=i),n&=~o}if(n=a,n=Ee()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*kk(n/1960))-n,10<n){e.timeoutHandle=xd(En.bind(null,e,lt,gs),n);break}En(e,lt,gs);break;case 5:En(e,lt,gs);break;default:throw Error($(329))}}}return pt(e,Ee()),e.callbackNode===s?Fv.bind(null,e):null}function Id(e,t){var s=Ga;return e.current.memoizedState.isDehydrated&&(Fn(e,t).flags|=256),e=wl(e,t),e!==2&&(t=lt,lt=s,t!==null&&Od(t)),e}function Od(e){lt===null?lt=e:lt.push.apply(lt,e)}function Ck(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var n=0;n<s.length;n++){var a=s[n],o=a.getSnapshot;a=a.value;try{if(!Yt(o(),a))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ys(e,t){for(t&=~mp,t&=~Zl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-Gt(t),n=1<<s;e[s]=-1,t&=~n}}function qm(e){if(oe&6)throw Error($(327));Lr();var t=sl(e,0);if(!(t&1))return pt(e,Ee()),null;var s=wl(e,t);if(e.tag!==0&&s===2){var n=ld(e);n!==0&&(t=n,s=Id(e,n))}if(s===1)throw s=go,Fn(e,0),Ys(e,t),pt(e,Ee()),s;if(s===6)throw Error($(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,En(e,lt,gs),pt(e,Ee()),null}function gp(e,t){var s=oe;oe|=1;try{return e(t)}finally{oe=s,oe===0&&(Gr=Ee()+500,Yl&&bn())}}function Zn(e){Qs!==null&&Qs.tag===0&&!(oe&6)&&Lr();var t=oe;oe|=1;var s=Mt.transition,n=le;try{if(Mt.transition=null,le=1,e)return e()}finally{le=n,Mt.transition=s,oe=t,!(oe&6)&&bn()}}function yp(){vt=kr.current,ge(kr)}function Fn(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,sk(s)),_e!==null)for(s=_e.return;s!==null;){var n=s;switch(Jf(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&il();break;case 3:Hr(),ge(dt),ge(Ze),ip();break;case 5:op(n);break;case 4:Hr();break;case 13:ge(we);break;case 19:ge(we);break;case 10:sp(n.type._context);break;case 22:case 23:yp()}s=s.return}if(ze=e,_e=e=ln(e.current,null),$e=vt=t,Ie=0,go=null,mp=Zl=Jn=0,lt=Ga=null,Mn!==null){for(t=0;t<Mn.length;t++)if(s=Mn[t],n=s.interleaved,n!==null){s.interleaved=null;var a=n.next,o=s.pending;if(o!==null){var i=o.next;o.next=a,n.next=i}s.pending=n}Mn=null}return e}function zv(e,t){do{var s=_e;try{if(tp(),Ii.current=xl,ml){for(var n=je.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}ml=!1}if(Qn=0,Fe=Le=je=null,Ha=!1,ho=0,hp.current=null,s===null||s.return===null){Ie=1,go=t,_e=null;break}e:{var o=e,i=s.return,l=s,c=t;if(t=$e,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=_m(i);if(g!==null){g.flags&=-257,Mm(g,i,l,o,t),g.mode&1&&Dm(o,u,t),t=g,c=u;var m=t.updateQueue;if(m===null){var w=new Set;w.add(c),t.updateQueue=w}else m.add(c);break e}else{if(!(t&1)){Dm(o,u,t),vp();break e}c=Error($(426))}}else if(ve&&l.mode&1){var b=_m(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Mm(b,i,l,o,t),Zf(qr(c,l));break e}}o=c=qr(c,l),Ie!==4&&(Ie=2),Ga===null?Ga=[o]:Ga.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=jv(o,c,t);Cm(o,y);break e;case 1:l=c;var p=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(an===null||!an.has(v)))){o.flags|=65536,t&=-t,o.lanes|=t;var j=Nv(o,l,t);Cm(o,j);break e}}o=o.return}while(o!==null)}$v(s)}catch(N){t=N,_e===s&&s!==null&&(_e=s=s.return);continue}break}while(!0)}function Uv(){var e=gl.current;return gl.current=xl,e===null?xl:e}function vp(){(Ie===0||Ie===3||Ie===2)&&(Ie=4),ze===null||!(Jn&268435455)&&!(Zl&268435455)||Ys(ze,$e)}function wl(e,t){var s=oe;oe|=2;var n=Uv();(ze!==e||$e!==t)&&(gs=null,Fn(e,t));do try{Ak();break}catch(a){zv(e,a)}while(!0);if(tp(),oe=s,gl.current=n,_e!==null)throw Error($(261));return ze=null,$e=0,Ie}function Ak(){for(;_e!==null;)Vv(_e)}function Pk(){for(;_e!==null&&!Z2();)Vv(_e)}function Vv(e){var t=Wv(e.alternate,e,vt);e.memoizedProps=e.pendingProps,t===null?$v(e):_e=t,hp.current=null}function $v(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=bk(s,t),s!==null){s.flags&=32767,_e=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ie=6,_e=null;return}}else if(s=wk(s,t,vt),s!==null){_e=s;return}if(t=t.sibling,t!==null){_e=t;return}_e=t=e}while(t!==null);Ie===0&&(Ie=5)}function En(e,t,s){var n=le,a=Mt.transition;try{Mt.transition=null,le=1,Ek(e,t,s,n)}finally{Mt.transition=a,le=n}return null}function Ek(e,t,s,n){do Lr();while(Qs!==null);if(oe&6)throw Error($(327));s=e.finishedWork;var a=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error($(177));e.callbackNode=null,e.callbackPriority=0;var o=s.lanes|s.childLanes;if(cS(e,o),e===ze&&(_e=ze=null,$e=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||hi||(hi=!0,Hv(tl,function(){return Lr(),null})),o=(s.flags&15990)!==0,s.subtreeFlags&15990||o){o=Mt.transition,Mt.transition=null;var i=le;le=1;var l=oe;oe|=4,hp.current=null,Nk(e,s),Iv(s,e),YS(hd),nl=!!pd,hd=pd=null,e.current=s,Sk(s),eS(),oe=l,le=i,Mt.transition=o}else e.current=s;if(hi&&(hi=!1,Qs=e,vl=a),o=e.pendingLanes,o===0&&(an=null),nS(s.stateNode),pt(e,Ee()),t!==null)for(n=e.onRecoverableError,s=0;s<t.length;s++)a=t[s],n(a.value,{componentStack:a.stack,digest:a.digest});if(yl)throw yl=!1,e=Md,Md=null,e;return vl&1&&e.tag!==0&&Lr(),o=e.pendingLanes,o&1?e===Ld?Ka++:(Ka=0,Ld=e):Ka=0,bn(),null}function Lr(){if(Qs!==null){var e=jy(vl),t=Mt.transition,s=le;try{if(Mt.transition=null,le=16>e?16:e,Qs===null)var n=!1;else{if(e=Qs,Qs=null,vl=0,oe&6)throw Error($(331));var a=oe;for(oe|=4,G=e.current;G!==null;){var o=G,i=o.child;if(G.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(G=u;G!==null;){var d=G;switch(d.tag){case 0:case 11:case 15:qa(8,d,o)}var f=d.child;if(f!==null)f.return=d,G=f;else for(;G!==null;){d=G;var h=d.sibling,g=d.return;if(_v(d),d===u){G=null;break}if(h!==null){h.return=g,G=h;break}G=g}}}var m=o.alternate;if(m!==null){var w=m.child;if(w!==null){m.child=null;do{var b=w.sibling;w.sibling=null,w=b}while(w!==null)}}G=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,G=i;else e:for(;G!==null;){if(o=G,o.flags&2048)switch(o.tag){case 0:case 11:case 15:qa(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,G=y;break e}G=o.return}}var p=e.current;for(G=p;G!==null;){i=G;var v=i.child;if(i.subtreeFlags&2064&&v!==null)v.return=i,G=v;else e:for(i=p;G!==null;){if(l=G,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Jl(9,l)}}catch(N){Ae(l,l.return,N)}if(l===i){G=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,G=j;break e}G=l.return}}if(oe=a,bn(),is&&typeof is.onPostCommitFiberRoot=="function")try{is.onPostCommitFiberRoot(Wl,e)}catch{}n=!0}return n}finally{le=s,Mt.transition=t}}return!1}function Gm(e,t,s){t=qr(s,t),t=jv(e,t,1),e=rn(e,t,1),t=rt(),e!==null&&(To(e,1,t),pt(e,t))}function Ae(e,t,s){if(e.tag===3)Gm(e,e,s);else for(;t!==null;){if(t.tag===3){Gm(t,e,s);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(an===null||!an.has(n))){e=qr(s,e),e=Nv(t,e,1),t=rn(t,e,1),e=rt(),t!==null&&(To(t,1,e),pt(t,e));break}}t=t.return}}function Rk(e,t,s){var n=e.pingCache;n!==null&&n.delete(t),t=rt(),e.pingedLanes|=e.suspendedLanes&s,ze===e&&($e&s)===s&&(Ie===4||Ie===3&&($e&130023424)===$e&&500>Ee()-xp?Fn(e,0):mp|=s),pt(e,t)}function Bv(e,t){t===0&&(e.mode&1?(t=ri,ri<<=1,!(ri&130023424)&&(ri=4194304)):t=1);var s=rt();e=Ps(e,t),e!==null&&(To(e,t,s),pt(e,s))}function Tk(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),Bv(e,s)}function Dk(e,t){var s=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(s=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error($(314))}n!==null&&n.delete(t),Bv(e,s)}var Wv;Wv=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||dt.current)ut=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return ut=!1,vk(e,t,s);ut=!!(e.flags&131072)}else ut=!1,ve&&t.flags&1048576&&Ky(t,ul,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Fi(e,t),e=t.pendingProps;var a=$r(t,Ze.current);Mr(t,s),a=cp(null,t,n,e,a,s);var o=up();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ft(n)?(o=!0,ll(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,rp(t),a.updater=Ql,t.stateNode=a,a._reactInternals=t,Nd(t,n,e,s),t=Cd(null,t,n,!0,o,s)):(t.tag=0,ve&&o&&Qf(t),nt(null,t,a,s),t=t.child),t;case 16:n=t.elementType;e:{switch(Fi(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=Mk(n),e=Wt(n,e),a){case 0:t=kd(null,t,n,e,s);break e;case 1:t=Om(null,t,n,e,s);break e;case 11:t=Lm(null,t,n,e,s);break e;case 14:t=Im(null,t,n,Wt(n.type,e),s);break e}throw Error($(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Wt(n,a),kd(e,t,n,a,s);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Wt(n,a),Om(e,t,n,a,s);case 3:e:{if(Av(t),e===null)throw Error($(387));n=t.pendingProps,o=t.memoizedState,a=o.element,ev(e,t),pl(t,n,null,s);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=qr(Error($(423)),t),t=Fm(e,t,n,s,a);break e}else if(n!==a){a=qr(Error($(424)),t),t=Fm(e,t,n,s,a);break e}else for(bt=nn(t.stateNode.containerInfo.firstChild),jt=t,ve=!0,qt=null,s=Jy(t,null,n,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Br(),n===a){t=Es(e,t,s);break e}nt(e,t,n,s)}t=t.child}return t;case 5:return tv(t),e===null&&wd(t),n=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,i=a.children,md(n,a)?i=null:o!==null&&md(n,o)&&(t.flags|=32),Cv(e,t),nt(e,t,i,s),t.child;case 6:return e===null&&wd(t),null;case 13:return Pv(e,t,s);case 4:return ap(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Wr(t,null,n,s):nt(e,t,n,s),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Wt(n,a),Lm(e,t,n,a,s);case 7:return nt(e,t,t.pendingProps,s),t.child;case 8:return nt(e,t,t.pendingProps.children,s),t.child;case 12:return nt(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,pe(dl,n._currentValue),n._currentValue=i,o!==null)if(Yt(o.value,i)){if(o.children===a.children&&!dt.current){t=Es(e,t,s);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=js(-1,s&-s),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=s,c=o.alternate,c!==null&&(c.lanes|=s),bd(o.return,s,t),l.lanes|=s;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error($(341));i.lanes|=s,l=i.alternate,l!==null&&(l.lanes|=s),bd(i,s,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}nt(e,t,a.children,s),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Mr(t,s),a=It(a),n=n(a),t.flags|=1,nt(e,t,n,s),t.child;case 14:return n=t.type,a=Wt(n,t.pendingProps),a=Wt(n.type,a),Im(e,t,n,a,s);case 15:return Sv(e,t,t.type,t.pendingProps,s);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Wt(n,a),Fi(e,t),t.tag=1,ft(n)?(e=!0,ll(t)):e=!1,Mr(t,s),bv(t,n,a),Nd(t,n,a,s),Cd(null,t,n,!0,e,s);case 19:return Ev(e,t,s);case 22:return kv(e,t,s)}throw Error($(156,t.tag))};function Hv(e,t){return yy(e,t)}function _k(e,t,s,n){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _t(e,t,s,n){return new _k(e,t,s,n)}function wp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mk(e){if(typeof e=="function")return wp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===zf)return 11;if(e===Uf)return 14}return 2}function ln(e,t){var s=e.alternate;return s===null?(s=_t(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Vi(e,t,s,n,a,o){var i=2;if(n=e,typeof e=="function")wp(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case mr:return zn(s.children,a,o,t);case Ff:i=8,a|=8;break;case Gu:return e=_t(12,s,t,a|2),e.elementType=Gu,e.lanes=o,e;case Ku:return e=_t(13,s,t,a),e.elementType=Ku,e.lanes=o,e;case Yu:return e=_t(19,s,t,a),e.elementType=Yu,e.lanes=o,e;case ty:return ec(s,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Z0:i=10;break e;case ey:i=9;break e;case zf:i=11;break e;case Uf:i=14;break e;case Hs:i=16,n=null;break e}throw Error($(130,e==null?e:typeof e,""))}return t=_t(i,s,t,a),t.elementType=e,t.type=n,t.lanes=o,t}function zn(e,t,s,n){return e=_t(7,e,n,t),e.lanes=s,e}function ec(e,t,s,n){return e=_t(22,e,n,t),e.elementType=ty,e.lanes=s,e.stateNode={isHidden:!1},e}function ru(e,t,s){return e=_t(6,e,null,t),e.lanes=s,e}function au(e,t,s){return t=_t(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Lk(e,t,s,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function bp(e,t,s,n,a,o,i,l,c){return e=new Lk(e,t,s,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=_t(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},rp(o),e}function Ik(e,t,s){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:s}}function qv(e){if(!e)return pn;e=e._reactInternals;e:{if(nr(e)!==e||e.tag!==1)throw Error($(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ft(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error($(171))}if(e.tag===1){var s=e.type;if(ft(s))return qy(e,s,t)}return t}function Gv(e,t,s,n,a,o,i,l,c){return e=bp(s,n,!0,e,a,o,i,l,c),e.context=qv(null),s=e.current,n=rt(),a=on(s),o=js(n,a),o.callback=t??null,rn(s,o,a),e.current.lanes=a,To(e,a,n),pt(e,n),e}function tc(e,t,s,n){var a=t.current,o=rt(),i=on(a);return s=qv(s),t.context===null?t.context=s:t.pendingContext=s,t=js(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=rn(a,t,i),e!==null&&(Kt(e,a,i,o),Li(e,a,i)),i}function bl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Km(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function jp(e,t){Km(e,t),(e=e.alternate)&&Km(e,t)}function Ok(){return null}var Kv=typeof reportError=="function"?reportError:function(e){console.error(e)};function Np(e){this._internalRoot=e}sc.prototype.render=Np.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($(409));tc(e,t,null,null)};sc.prototype.unmount=Np.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Zn(function(){tc(null,e,null,null)}),t[As]=null}};function sc(e){this._internalRoot=e}sc.prototype.unstable_scheduleHydration=function(e){if(e){var t=ky();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Ks.length&&t!==0&&t<Ks[s].priority;s++);Ks.splice(s,0,e),s===0&&Ay(e)}};function Sp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function nc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ym(){}function Fk(e,t,s,n,a){if(a){if(typeof n=="function"){var o=n;n=function(){var u=bl(i);o.call(u)}}var i=Gv(t,n,e,0,null,!1,!1,"",Ym);return e._reactRootContainer=i,e[As]=i.current,lo(e.nodeType===8?e.parentNode:e),Zn(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=bl(c);l.call(u)}}var c=bp(e,0,!1,null,null,!1,!1,"",Ym);return e._reactRootContainer=c,e[As]=c.current,lo(e.nodeType===8?e.parentNode:e),Zn(function(){tc(t,c,s,n)}),c}function rc(e,t,s,n,a){var o=s._reactRootContainer;if(o){var i=o;if(typeof a=="function"){var l=a;a=function(){var c=bl(i);l.call(c)}}tc(t,i,e,a)}else i=Fk(s,t,e,a,n);return bl(i)}Ny=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=La(t.pendingLanes);s!==0&&(Bf(t,s|1),pt(t,Ee()),!(oe&6)&&(Gr=Ee()+500,bn()))}break;case 13:Zn(function(){var n=Ps(e,1);if(n!==null){var a=rt();Kt(n,e,1,a)}}),jp(e,1)}};Wf=function(e){if(e.tag===13){var t=Ps(e,134217728);if(t!==null){var s=rt();Kt(t,e,134217728,s)}jp(e,134217728)}};Sy=function(e){if(e.tag===13){var t=on(e),s=Ps(e,t);if(s!==null){var n=rt();Kt(s,e,t,n)}jp(e,t)}};ky=function(){return le};Cy=function(e,t){var s=le;try{return le=e,t()}finally{le=s}};ad=function(e,t,s){switch(t){case"input":if(Ju(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var n=s[t];if(n!==e&&n.form===e.form){var a=Kl(n);if(!a)throw Error($(90));ny(n),Ju(n,a)}}}break;case"textarea":ay(e,s);break;case"select":t=s.value,t!=null&&Rr(e,!!s.multiple,t,!1)}};fy=gp;py=Zn;var zk={usingClientEntryPoint:!1,Events:[_o,vr,Kl,uy,dy,gp]},Sa={findFiberByHostInstance:_n,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Uk={bundleType:Sa.bundleType,version:Sa.version,rendererPackageName:Sa.rendererPackageName,rendererConfig:Sa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ms.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=xy(e),e===null?null:e.stateNode},findFiberByHostInstance:Sa.findFiberByHostInstance||Ok,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mi.isDisabled&&mi.supportsFiber)try{Wl=mi.inject(Uk),is=mi}catch{}}At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zk;At.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sp(t))throw Error($(200));return Ik(e,t,null,s)};At.createRoot=function(e,t){if(!Sp(e))throw Error($(299));var s=!1,n="",a=Kv;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=bp(e,1,!1,null,null,s,!1,n,a),e[As]=t.current,lo(e.nodeType===8?e.parentNode:e),new Np(t)};At.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):(e=Object.keys(e).join(","),Error($(268,e)));return e=xy(t),e=e===null?null:e.stateNode,e};At.flushSync=function(e){return Zn(e)};At.hydrate=function(e,t,s){if(!nc(t))throw Error($(200));return rc(null,e,t,!0,s)};At.hydrateRoot=function(e,t,s){if(!Sp(e))throw Error($(405));var n=s!=null&&s.hydratedSources||null,a=!1,o="",i=Kv;if(s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onRecoverableError!==void 0&&(i=s.onRecoverableError)),t=Gv(t,null,e,1,s??null,a,!1,o,i),e[As]=t.current,lo(e),n)for(e=0;e<n.length;e++)s=n[e],a=s._getVersion,a=a(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,a]:t.mutableSourceEagerHydrationData.push(s,a);return new sc(t)};At.render=function(e,t,s){if(!nc(t))throw Error($(200));return rc(null,e,t,!1,s)};At.unmountComponentAtNode=function(e){if(!nc(e))throw Error($(40));return e._reactRootContainer?(Zn(function(){rc(null,null,e,!1,function(){e._reactRootContainer=null,e[As]=null})}),!0):!1};At.unstable_batchedUpdates=gp;At.unstable_renderSubtreeIntoContainer=function(e,t,s,n){if(!nc(s))throw Error($(200));if(e==null||e._reactInternals===void 0)throw Error($(38));return rc(e,t,s,!1,n)};At.version="18.3.1-next-f1338f8080-20240426";function Yv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Yv)}catch(e){console.error(e)}}Yv(),Y0.exports=At;var Lo=Y0.exports;const Vk=O0(Lo);var Xv,Xm=Lo;Xv=Xm.createRoot,Xm.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yo(){return yo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},yo.apply(this,arguments)}var Js;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Js||(Js={}));const Qm="popstate";function $k(e){e===void 0&&(e={});function t(n,a){let{pathname:o,search:i,hash:l}=n.location;return Fd("",{pathname:o,search:i,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function s(n,a){return typeof a=="string"?a:jl(a)}return Wk(t,s,null,e)}function Ne(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Qv(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Bk(){return Math.random().toString(36).substr(2,8)}function Jm(e,t){return{usr:e.state,key:e.key,idx:t}}function Fd(e,t,s,n){return s===void 0&&(s=null),yo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?aa(t):t,{state:s,key:t&&t.key||n||Bk()})}function jl(e){let{pathname:t="/",search:s="",hash:n=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function aa(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Wk(e,t,s,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:o=!1}=n,i=a.history,l=Js.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(yo({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){l=Js.Pop;let b=d(),y=b==null?null:b-u;u=b,c&&c({action:l,location:w.location,delta:y})}function h(b,y){l=Js.Push;let p=Fd(w.location,b,y);u=d()+1;let v=Jm(p,u),j=w.createHref(p);try{i.pushState(v,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(j)}o&&c&&c({action:l,location:w.location,delta:1})}function g(b,y){l=Js.Replace;let p=Fd(w.location,b,y);u=d();let v=Jm(p,u),j=w.createHref(p);i.replaceState(v,"",j),o&&c&&c({action:l,location:w.location,delta:0})}function m(b){let y=a.location.origin!=="null"?a.location.origin:a.location.href,p=typeof b=="string"?b:jl(b);return p=p.replace(/ $/,"%20"),Ne(y,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,y)}let w={get action(){return l},get location(){return e(a,i)},listen(b){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Qm,f),c=b,()=>{a.removeEventListener(Qm,f),c=null}},createHref(b){return t(a,b)},createURL:m,encodeLocation(b){let y=m(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:g,go(b){return i.go(b)}};return w}var Zm;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Zm||(Zm={}));function Hk(e,t,s){return s===void 0&&(s="/"),qk(e,t,s)}function qk(e,t,s,n){let a=typeof t=="string"?aa(t):t,o=Kr(a.pathname||"/",s);if(o==null)return null;let i=Jv(e);Gk(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=rC(o);l=sC(i[c],u)}return l}function Jv(e,t,s,n){t===void 0&&(t=[]),s===void 0&&(s=[]),n===void 0&&(n="");let a=(o,i,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(Ne(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=cn([n,c.relativePath]),d=s.concat(c);o.children&&o.children.length>0&&(Ne(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Jv(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:eC(u,o.index),routesMeta:d})};return e.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))a(o,i);else for(let c of Zv(o.path))a(o,i,c)}),t}function Zv(e){let t=e.split("/");if(t.length===0)return[];let[s,...n]=t,a=s.endsWith("?"),o=s.replace(/\?$/,"");if(n.length===0)return a?[o,""]:[o];let i=Zv(n.join("/")),l=[];return l.push(...i.map(c=>c===""?o:[o,c].join("/"))),a&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Gk(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:tC(t.routesMeta.map(n=>n.childrenIndex),s.routesMeta.map(n=>n.childrenIndex)))}const Kk=/^:[\w-]+$/,Yk=3,Xk=2,Qk=1,Jk=10,Zk=-2,ex=e=>e==="*";function eC(e,t){let s=e.split("/"),n=s.length;return s.some(ex)&&(n+=Zk),t&&(n+=Xk),s.filter(a=>!ex(a)).reduce((a,o)=>a+(Kk.test(o)?Yk:o===""?Qk:Jk),n)}function tC(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function sC(e,t,s){let{routesMeta:n}=e,a={},o="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=zd({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(a,f.params),i.push({params:a,pathname:cn([o,f.pathname]),pathnameBase:lC(cn([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=cn([o,f.pathnameBase]))}return i}function zd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,n]=nC(e.path,e.caseSensitive,e.end),a=t.match(s);if(!a)return null;let o=a[0],i=o.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:g}=d;if(h==="*"){let w=l[f]||"";i=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const m=l[f];return g&&!m?u[h]=void 0:u[h]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function nC(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),Qv(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function rC(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Qv(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Kr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,n=e.charAt(s);return n&&n!=="/"?null:e.slice(s)||"/"}function aC(e,t){t===void 0&&(t="/");let{pathname:s,search:n="",hash:a=""}=typeof e=="string"?aa(e):e;return{pathname:s?s.startsWith("/")?s:oC(s,t):t,search:cC(n),hash:uC(a)}}function oC(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?s.length>1&&s.pop():a!=="."&&s.push(a)}),s.length>1?s.join("/"):"/"}function ou(e,t,s,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function iC(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function kp(e,t){let s=iC(e);return t?s.map((n,a)=>a===s.length-1?n.pathname:n.pathnameBase):s.map(n=>n.pathnameBase)}function Cp(e,t,s,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=aa(e):(a=yo({},e),Ne(!a.pathname||!a.pathname.includes("?"),ou("?","pathname","search",a)),Ne(!a.pathname||!a.pathname.includes("#"),ou("#","pathname","hash",a)),Ne(!a.search||!a.search.includes("#"),ou("#","search","hash",a)));let o=e===""||a.pathname==="",i=o?"/":a.pathname,l;if(i==null)l=s;else{let f=t.length-1;if(!n&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=aC(a,l),u=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const cn=e=>e.join("/").replace(/\/\/+/g,"/"),lC=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),cC=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,uC=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function dC(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ew=["post","put","patch","delete"];new Set(ew);const fC=["get",...ew];new Set(fC);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vo(){return vo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},vo.apply(this,arguments)}const ac=x.createContext(null),tw=x.createContext(null),Ls=x.createContext(null),oc=x.createContext(null),fs=x.createContext({outlet:null,matches:[],isDataRoute:!1}),sw=x.createContext(null);function pC(e,t){let{relative:s}=t===void 0?{}:t;oa()||Ne(!1);let{basename:n,navigator:a}=x.useContext(Ls),{hash:o,pathname:i,search:l}=ic(e,{relative:s}),c=i;return n!=="/"&&(c=i==="/"?n:cn([n,i])),a.createHref({pathname:c,search:l,hash:o})}function oa(){return x.useContext(oc)!=null}function ps(){return oa()||Ne(!1),x.useContext(oc).location}function nw(e){x.useContext(Ls).static||x.useLayoutEffect(e)}function hs(){let{isDataRoute:e}=x.useContext(fs);return e?PC():hC()}function hC(){oa()||Ne(!1);let e=x.useContext(ac),{basename:t,future:s,navigator:n}=x.useContext(Ls),{matches:a}=x.useContext(fs),{pathname:o}=ps(),i=JSON.stringify(kp(a,s.v7_relativeSplatPath)),l=x.useRef(!1);return nw(()=>{l.current=!0}),x.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=Cp(u,JSON.parse(i),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:cn([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,i,o,e])}const mC=x.createContext(null);function xC(e){let t=x.useContext(fs).outlet;return t&&x.createElement(mC.Provider,{value:e},t)}function rw(){let{matches:e}=x.useContext(fs),t=e[e.length-1];return t?t.params:{}}function ic(e,t){let{relative:s}=t===void 0?{}:t,{future:n}=x.useContext(Ls),{matches:a}=x.useContext(fs),{pathname:o}=ps(),i=JSON.stringify(kp(a,n.v7_relativeSplatPath));return x.useMemo(()=>Cp(e,JSON.parse(i),o,s==="path"),[e,i,o,s])}function gC(e,t){return yC(e,t)}function yC(e,t,s,n){oa()||Ne(!1);let{navigator:a}=x.useContext(Ls),{matches:o}=x.useContext(fs),i=o[o.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=ps(),d;if(t){var f;let b=typeof t=="string"?aa(t):t;c==="/"||(f=b.pathname)!=null&&f.startsWith(c)||Ne(!1),d=b}else d=u;let h=d.pathname||"/",g=h;if(c!=="/"){let b=c.replace(/^\//,"").split("/");g="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let m=Hk(e,{pathname:g}),w=NC(m&&m.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:cn([c,a.encodeLocation?a.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:cn([c,a.encodeLocation?a.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,s,n);return t&&w?x.createElement(oc.Provider,{value:{location:vo({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Js.Pop}},w):w}function vC(){let e=AC(),t=dC(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),s?x.createElement("pre",{style:a},s):null,null)}const wC=x.createElement(vC,null);class bC extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?x.createElement(fs.Provider,{value:this.props.routeContext},x.createElement(sw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function jC(e){let{routeContext:t,match:s,children:n}=e,a=x.useContext(ac);return a&&a.static&&a.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=s.route.id),x.createElement(fs.Provider,{value:t},n)}function NC(e,t,s,n){var a;if(t===void 0&&(t=[]),s===void 0&&(s=null),n===void 0&&(n=null),e==null){var o;if(!s)return null;if(s.errors)e=s.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let i=e,l=(a=s)==null?void 0:a.errors;if(l!=null){let d=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Ne(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(s&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:g}=s,m=f.route.loader&&h[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||m){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,h)=>{let g,m=!1,w=null,b=null;s&&(g=l&&f.route.id?l[f.route.id]:void 0,w=f.route.errorElement||wC,c&&(u<0&&h===0?(EC("route-fallback"),m=!0,b=null):u===h&&(m=!0,b=f.route.hydrateFallbackElement||null)));let y=t.concat(i.slice(0,h+1)),p=()=>{let v;return g?v=w:m?v=b:f.route.Component?v=x.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=d,x.createElement(jC,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:s!=null},children:v})};return s&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?x.createElement(bC,{location:s.location,revalidation:s.revalidation,component:w,error:g,children:p(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):p()},null)}var aw=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(aw||{}),ow=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ow||{});function SC(e){let t=x.useContext(ac);return t||Ne(!1),t}function kC(e){let t=x.useContext(tw);return t||Ne(!1),t}function CC(e){let t=x.useContext(fs);return t||Ne(!1),t}function iw(e){let t=CC(),s=t.matches[t.matches.length-1];return s.route.id||Ne(!1),s.route.id}function AC(){var e;let t=x.useContext(sw),s=kC(),n=iw();return t!==void 0?t:(e=s.errors)==null?void 0:e[n]}function PC(){let{router:e}=SC(aw.UseNavigateStable),t=iw(ow.UseNavigateStable),s=x.useRef(!1);return nw(()=>{s.current=!0}),x.useCallback(function(a,o){o===void 0&&(o={}),s.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,vo({fromRouteId:t},o)))},[e,t])}const tx={};function EC(e,t,s){tx[e]||(tx[e]=!0)}function RC(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function hn(e){let{to:t,replace:s,state:n,relative:a}=e;oa()||Ne(!1);let{future:o,static:i}=x.useContext(Ls),{matches:l}=x.useContext(fs),{pathname:c}=ps(),u=hs(),d=Cp(t,kp(l,o.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return x.useEffect(()=>u(JSON.parse(f),{replace:s,state:n,relative:a}),[u,f,a,s,n]),null}function TC(e){return xC(e.context)}function J(e){Ne(!1)}function DC(e){let{basename:t="/",children:s=null,location:n,navigationType:a=Js.Pop,navigator:o,static:i=!1,future:l}=e;oa()&&Ne(!1);let c=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:c,navigator:o,static:i,future:vo({v7_relativeSplatPath:!1},l)}),[c,l,o,i]);typeof n=="string"&&(n=aa(n));let{pathname:d="/",search:f="",hash:h="",state:g=null,key:m="default"}=n,w=x.useMemo(()=>{let b=Kr(d,c);return b==null?null:{location:{pathname:b,search:f,hash:h,state:g,key:m},navigationType:a}},[c,d,f,h,g,m,a]);return w==null?null:x.createElement(Ls.Provider,{value:u},x.createElement(oc.Provider,{children:s,value:w}))}function _C(e){let{children:t,location:s}=e;return gC(Ud(t),s)}new Promise(()=>{});function Ud(e,t){t===void 0&&(t=[]);let s=[];return x.Children.forEach(e,(n,a)=>{if(!x.isValidElement(n))return;let o=[...t,a];if(n.type===x.Fragment){s.push.apply(s,Ud(n.props.children,o));return}n.type!==J&&Ne(!1),!n.props.index||!n.props.children||Ne(!1);let i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=Ud(n.props.children,o)),s.push(i)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nl(){return Nl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Nl.apply(this,arguments)}function lw(e,t){if(e==null)return{};var s={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(s[a]=e[a]);return s}function MC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function LC(e,t){return e.button===0&&(!t||t==="_self")&&!MC(e)}const IC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],OC=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],FC="6";try{window.__reactRouterVersion=FC}catch{}const zC=x.createContext({isTransitioning:!1}),UC="startTransition",sx=Mf[UC];function VC(e){let{basename:t,children:s,future:n,window:a}=e,o=x.useRef();o.current==null&&(o.current=$k({window:a,v5Compat:!0}));let i=o.current,[l,c]=x.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=x.useCallback(f=>{u&&sx?sx(()=>c(f)):c(f)},[c,u]);return x.useLayoutEffect(()=>i.listen(d),[i,d]),x.useEffect(()=>RC(n),[n]),x.createElement(DC,{basename:t,children:s,location:l.location,navigationType:l.action,navigator:i,future:n})}const $C=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",BC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Te=x.forwardRef(function(t,s){let{onClick:n,relative:a,reloadDocument:o,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=lw(t,IC),{basename:g}=x.useContext(Ls),m,w=!1;if(typeof u=="string"&&BC.test(u)&&(m=u,$C))try{let v=new URL(window.location.href),j=u.startsWith("//")?new URL(v.protocol+u):new URL(u),N=Kr(j.pathname,g);j.origin===v.origin&&N!=null?u=N+j.search+j.hash:w=!0}catch{}let b=pC(u,{relative:a}),y=HC(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function p(v){n&&n(v),v.defaultPrevented||y(v)}return x.createElement("a",Nl({},h,{href:m||b,onClick:w||o?n:p,ref:s,target:c}))}),Vd=x.forwardRef(function(t,s){let{"aria-current":n="page",caseSensitive:a=!1,className:o="",end:i=!1,style:l,to:c,viewTransition:u,children:d}=t,f=lw(t,OC),h=ic(c,{relative:f.relative}),g=ps(),m=x.useContext(tw),{navigator:w,basename:b}=x.useContext(Ls),y=m!=null&&qC(h)&&u===!0,p=w.encodeLocation?w.encodeLocation(h).pathname:h.pathname,v=g.pathname,j=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;a||(v=v.toLowerCase(),j=j?j.toLowerCase():null,p=p.toLowerCase()),j&&b&&(j=Kr(j,b)||j);const N=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let k=v===p||!i&&v.startsWith(p)&&v.charAt(N)==="/",P=j!=null&&(j===p||!i&&j.startsWith(p)&&j.charAt(p.length)==="/"),S={isActive:k,isPending:P,isTransitioning:y},R=k?n:void 0,T;typeof o=="function"?T=o(S):T=[o,k?"active":null,P?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let F=typeof l=="function"?l(S):l;return x.createElement(Te,Nl({},f,{"aria-current":R,className:T,ref:s,style:F,to:c,viewTransition:u}),typeof d=="function"?d(S):d)});var $d;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})($d||($d={}));var nx;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(nx||(nx={}));function WC(e){let t=x.useContext(ac);return t||Ne(!1),t}function HC(e,t){let{target:s,replace:n,state:a,preventScrollReset:o,relative:i,viewTransition:l}=t===void 0?{}:t,c=hs(),u=ps(),d=ic(e,{relative:i});return x.useCallback(f=>{if(LC(f,s)){f.preventDefault();let h=n!==void 0?n:jl(u)===jl(d);c(e,{replace:h,state:a,preventScrollReset:o,relative:i,viewTransition:l})}},[u,c,d,n,a,s,e,o,i,l])}function qC(e,t){t===void 0&&(t={});let s=x.useContext(zC);s==null&&Ne(!1);let{basename:n}=WC($d.useViewTransitionState),a=ic(e,{relative:t.relative});if(!s.isTransitioning)return!1;let o=Kr(s.currentLocation.pathname,n)||s.currentLocation.pathname,i=Kr(s.nextLocation.pathname,n)||s.nextLocation.pathname;return zd(a.pathname,i)!=null||zd(a.pathname,o)!=null}function cw(e){var t,s,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(s=cw(e[t]))&&(n&&(n+=" "),n+=s)}else for(s in e)e[s]&&(n&&(n+=" "),n+=s);return n}function uw(){for(var e,t,s=0,n="",a=arguments.length;s<a;s++)(e=arguments[s])&&(t=cw(e))&&(n&&(n+=" "),n+=t);return n}const Ap="-",GC=e=>{const t=YC(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const l=i.split(Ap);return l[0]===""&&l.length!==1&&l.shift(),dw(l,t)||KC(i)},getConflictingClassGroupIds:(i,l)=>{const c=s[i]||[];return l&&n[i]?[...c,...n[i]]:c}}},dw=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const s=e[0],n=t.nextPart.get(s),a=n?dw(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const o=e.join(Ap);return(i=t.validators.find(({validator:l})=>l(o)))==null?void 0:i.classGroupId},rx=/^\[(.+)\]$/,KC=e=>{if(rx.test(e)){const t=rx.exec(e)[1],s=t==null?void 0:t.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},YC=e=>{const{theme:t,prefix:s}=e,n={nextPart:new Map,validators:[]};return QC(Object.entries(e.classGroups),s).forEach(([o,i])=>{Bd(i,n,o,t)}),n},Bd=(e,t,s,n)=>{e.forEach(a=>{if(typeof a=="string"){const o=a===""?t:ax(t,a);o.classGroupId=s;return}if(typeof a=="function"){if(XC(a)){Bd(a(n),t,s,n);return}t.validators.push({validator:a,classGroupId:s});return}Object.entries(a).forEach(([o,i])=>{Bd(i,ax(t,o),s,n)})})},ax=(e,t)=>{let s=e;return t.split(Ap).forEach(n=>{s.nextPart.has(n)||s.nextPart.set(n,{nextPart:new Map,validators:[]}),s=s.nextPart.get(n)}),s},XC=e=>e.isThemeGetter,QC=(e,t)=>t?e.map(([s,n])=>{const a=n.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,l])=>[t+i,l])):o);return[s,a]}):e,JC=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,n=new Map;const a=(o,i)=>{s.set(o,i),t++,t>e&&(t=0,n=s,s=new Map)};return{get(o){let i=s.get(o);if(i!==void 0)return i;if((i=n.get(o))!==void 0)return a(o,i),i},set(o,i){s.has(o)?s.set(o,i):a(o,i)}}},fw="!",ZC=e=>{const{separator:t,experimentalParseClassName:s}=e,n=t.length===1,a=t[0],o=t.length,i=l=>{const c=[];let u=0,d=0,f;for(let b=0;b<l.length;b++){let y=l[b];if(u===0){if(y===a&&(n||l.slice(b,b+o)===t)){c.push(l.slice(d,b)),d=b+o;continue}if(y==="/"){f=b;continue}}y==="["?u++:y==="]"&&u--}const h=c.length===0?l:l.substring(d),g=h.startsWith(fw),m=g?h.substring(1):h,w=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:m,maybePostfixModifierPosition:w}};return s?l=>s({className:l,parseClassName:i}):i},eA=e=>{if(e.length<=1)return e;const t=[];let s=[];return e.forEach(n=>{n[0]==="["?(t.push(...s.sort(),n),s=[]):s.push(n)}),t.push(...s.sort()),t},tA=e=>({cache:JC(e.cacheSize),parseClassName:ZC(e),...GC(e)}),sA=/\s+/,nA=(e,t)=>{const{parseClassName:s,getClassGroupId:n,getConflictingClassGroupIds:a}=t,o=[],i=e.trim().split(sA);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:g}=s(u);let m=!!g,w=n(m?h.substring(0,g):h);if(!w){if(!m){l=u+(l.length>0?" "+l:l);continue}if(w=n(h),!w){l=u+(l.length>0?" "+l:l);continue}m=!1}const b=eA(d).join(":"),y=f?b+fw:b,p=y+w;if(o.includes(p))continue;o.push(p);const v=a(w,m);for(let j=0;j<v.length;++j){const N=v[j];o.push(y+N)}l=u+(l.length>0?" "+l:l)}return l};function rA(){let e=0,t,s,n="";for(;e<arguments.length;)(t=arguments[e++])&&(s=pw(t))&&(n&&(n+=" "),n+=s);return n}const pw=e=>{if(typeof e=="string")return e;let t,s="";for(let n=0;n<e.length;n++)e[n]&&(t=pw(e[n]))&&(s&&(s+=" "),s+=t);return s};function aA(e,...t){let s,n,a,o=i;function i(c){const u=t.reduce((d,f)=>f(d),e());return s=tA(u),n=s.cache.get,a=s.cache.set,o=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=nA(c,s);return a(c,d),d}return function(){return o(rA.apply(null,arguments))}}const me=e=>{const t=s=>s[e]||[];return t.isThemeGetter=!0,t},hw=/^\[(?:([a-z-]+):)?(.+)\]$/i,oA=/^\d+\/\d+$/,iA=new Set(["px","full","screen"]),lA=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,cA=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,uA=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,dA=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,fA=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,xs=e=>Ir(e)||iA.has(e)||oA.test(e),Vs=e=>ia(e,"length",wA),Ir=e=>!!e&&!Number.isNaN(Number(e)),iu=e=>ia(e,"number",Ir),ka=e=>!!e&&Number.isInteger(Number(e)),pA=e=>e.endsWith("%")&&Ir(e.slice(0,-1)),ee=e=>hw.test(e),$s=e=>lA.test(e),hA=new Set(["length","size","percentage"]),mA=e=>ia(e,hA,mw),xA=e=>ia(e,"position",mw),gA=new Set(["image","url"]),yA=e=>ia(e,gA,jA),vA=e=>ia(e,"",bA),Ca=()=>!0,ia=(e,t,s)=>{const n=hw.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):s(n[2]):!1},wA=e=>cA.test(e)&&!uA.test(e),mw=()=>!1,bA=e=>dA.test(e),jA=e=>fA.test(e),NA=()=>{const e=me("colors"),t=me("spacing"),s=me("blur"),n=me("brightness"),a=me("borderColor"),o=me("borderRadius"),i=me("borderSpacing"),l=me("borderWidth"),c=me("contrast"),u=me("grayscale"),d=me("hueRotate"),f=me("invert"),h=me("gap"),g=me("gradientColorStops"),m=me("gradientColorStopPositions"),w=me("inset"),b=me("margin"),y=me("opacity"),p=me("padding"),v=me("saturate"),j=me("scale"),N=me("sepia"),k=me("skew"),P=me("space"),S=me("translate"),R=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",ee,t],O=()=>[ee,t],W=()=>["",xs,Vs],U=()=>["auto",Ir,ee],q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],A=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],C=()=>["","0",ee],_=()=>["auto","avoid","all","avoid-page","page","left","right","column"],L=()=>[Ir,ee];return{cacheSize:500,separator:":",theme:{colors:[Ca],spacing:[xs,Vs],blur:["none","",$s,ee],brightness:L(),borderColor:[e],borderRadius:["none","","full",$s,ee],borderSpacing:O(),borderWidth:W(),contrast:L(),grayscale:C(),hueRotate:L(),invert:C(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[pA,Vs],inset:F(),margin:F(),opacity:L(),padding:O(),saturate:L(),scale:L(),sepia:C(),skew:L(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",ee]}],container:["container"],columns:[{columns:[$s]}],"break-after":[{"break-after":_()}],"break-before":[{"break-before":_()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...q(),ee]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ka,ee]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ee]}],grow:[{grow:C()}],shrink:[{shrink:C()}],order:[{order:["first","last","none",ka,ee]}],"grid-cols":[{"grid-cols":[Ca]}],"col-start-end":[{col:["auto",{span:["full",ka,ee]},ee]}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":[Ca]}],"row-start-end":[{row:["auto",{span:[ka,ee]},ee]}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ee]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ee]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ee,t]}],"min-w":[{"min-w":[ee,t,"min","max","fit"]}],"max-w":[{"max-w":[ee,t,"none","full","min","max","fit","prose",{screen:[$s]},$s]}],h:[{h:[ee,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ee,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ee,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ee,t,"auto","min","max","fit"]}],"font-size":[{text:["base",$s,Vs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",iu]}],"font-family":[{font:[Ca]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ee]}],"line-clamp":[{"line-clamp":["none",Ir,iu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",xs,ee]}],"list-image":[{"list-image":["none",ee]}],"list-style-type":[{list:["none","disc","decimal",ee]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...A(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",xs,Vs]}],"underline-offset":[{"underline-offset":["auto",xs,ee]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...q(),xA]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",mA]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},yA]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...A(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:A()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...A()]}],"outline-offset":[{"outline-offset":[xs,ee]}],"outline-w":[{outline:[xs,Vs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[xs,Vs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",$s,vA]}],"shadow-color":[{shadow:[Ca]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",$s,ee]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[v]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ee]}],duration:[{duration:L()}],ease:[{ease:["linear","in","out","in-out",ee]}],delay:[{delay:L()}],animate:[{animate:["none","spin","ping","pulse","bounce",ee]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[ka,ee]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ee]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ee]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ee]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[xs,Vs,iu]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},SA=aA(NA);function X(...e){return SA(uw(e))}function Q(e,t,{checkForDefaultPrevented:s=!0}={}){return function(a){if(e==null||e(a),s===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function ox(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function lc(...e){return t=>{let s=!1;const n=e.map(a=>{const o=ox(a,t);return!s&&typeof o=="function"&&(s=!0),o});if(s)return()=>{for(let a=0;a<n.length;a++){const o=n[a];typeof o=="function"?o():ox(e[a],null)}}}}function Oe(...e){return x.useCallback(lc(...e),e)}function jn(e,t=[]){let s=[];function n(o,i){const l=x.createContext(i),c=s.length;s=[...s,i];const u=f=>{var y;const{scope:h,children:g,...m}=f,w=((y=h==null?void 0:h[e])==null?void 0:y[c])||l,b=x.useMemo(()=>m,Object.values(m));return r.jsx(w.Provider,{value:b,children:g})};u.displayName=o+"Provider";function d(f,h){var w;const g=((w=h==null?void 0:h[e])==null?void 0:w[c])||l,m=x.useContext(g);if(m)return m;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const a=()=>{const o=s.map(i=>x.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,kA(a,...t)]}function kA(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return s.scopeName=t.scopeName,s}function wo(e){const t=AA(e),s=x.forwardRef((n,a)=>{const{children:o,...i}=n,l=x.Children.toArray(o),c=l.find(EA);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return r.jsx(t,{...i,ref:a,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return r.jsx(t,{...i,ref:a,children:o})});return s.displayName=`${e}.Slot`,s}var CA=wo("Slot");function AA(e){const t=x.forwardRef((s,n)=>{const{children:a,...o}=s,i=x.isValidElement(a)?TA(a):void 0,l=Oe(i,n);if(x.isValidElement(a)){const c=RA(o,a.props);return a.type!==x.Fragment&&(c.ref=l),x.cloneElement(a,c)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var PA=Symbol("radix.slottable");function EA(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===PA}function RA(e,t){const s={...t};for(const n in t){const a=e[n],o=t[n];/^on[A-Z]/.test(n)?a&&o?s[n]=(...l)=>{const c=o(...l);return a(...l),c}:a&&(s[n]=a):n==="style"?s[n]={...a,...o}:n==="className"&&(s[n]=[a,o].filter(Boolean).join(" "))}return{...e,...s}}function TA(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function Pp(e){const t=e+"CollectionProvider",[s,n]=jn(t),[a,o]=s(t,{collectionRef:{current:null},itemMap:new Map}),i=w=>{const{scope:b,children:y}=w,p=E.useRef(null),v=E.useRef(new Map).current;return r.jsx(a,{scope:b,itemMap:v,collectionRef:p,children:y})};i.displayName=t;const l=e+"CollectionSlot",c=wo(l),u=E.forwardRef((w,b)=>{const{scope:y,children:p}=w,v=o(l,y),j=Oe(b,v.collectionRef);return r.jsx(c,{ref:j,children:p})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=wo(d),g=E.forwardRef((w,b)=>{const{scope:y,children:p,...v}=w,j=E.useRef(null),N=Oe(b,j),k=o(d,y);return E.useEffect(()=>(k.itemMap.set(j,{ref:j,...v}),()=>void k.itemMap.delete(j))),r.jsx(h,{[f]:"",ref:N,children:p})});g.displayName=d;function m(w){const b=o(e+"CollectionConsumer",w);return E.useCallback(()=>{const p=b.collectionRef.current;if(!p)return[];const v=Array.from(p.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((k,P)=>v.indexOf(k.ref.current)-v.indexOf(P.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:i,Slot:u,ItemSlot:g},m,n]}var DA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],he=DA.reduce((e,t)=>{const s=wo(`Primitive.${t}`),n=x.forwardRef((a,o)=>{const{asChild:i,...l}=a,c=i?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Ep(e,t){e&&Lo.flushSync(()=>e.dispatchEvent(t))}function xt(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...s)=>{var n;return(n=t.current)==null?void 0:n.call(t,...s)},[])}function _A(e,t=globalThis==null?void 0:globalThis.document){const s=xt(e);x.useEffect(()=>{const n=a=>{a.key==="Escape"&&s(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[s,t])}var MA="DismissableLayer",Wd="dismissableLayer.update",LA="dismissableLayer.pointerDownOutside",IA="dismissableLayer.focusOutside",ix,xw=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Rp=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=e,u=x.useContext(xw),[d,f]=x.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=x.useState({}),m=Oe(t,P=>f(P)),w=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=w.indexOf(b),p=d?w.indexOf(d):-1,v=u.layersWithOutsidePointerEventsDisabled.size>0,j=p>=y,N=FA(P=>{const S=P.target,R=[...u.branches].some(T=>T.contains(S));!j||R||(a==null||a(P),i==null||i(P),P.defaultPrevented||l==null||l())},h),k=zA(P=>{const S=P.target;[...u.branches].some(T=>T.contains(S))||(o==null||o(P),i==null||i(P),P.defaultPrevented||l==null||l())},h);return _A(P=>{p===u.layers.size-1&&(n==null||n(P),!P.defaultPrevented&&l&&(P.preventDefault(),l()))},h),x.useEffect(()=>{if(d)return s&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(ix=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),lx(),()=>{s&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=ix)}},[d,h,s,u]),x.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),lx())},[d,u]),x.useEffect(()=>{const P=()=>g({});return document.addEventListener(Wd,P),()=>document.removeEventListener(Wd,P)},[]),r.jsx(he.div,{...c,ref:m,style:{pointerEvents:v?j?"auto":"none":void 0,...e.style},onFocusCapture:Q(e.onFocusCapture,k.onFocusCapture),onBlurCapture:Q(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Q(e.onPointerDownCapture,N.onPointerDownCapture)})});Rp.displayName=MA;var OA="DismissableLayerBranch",gw=x.forwardRef((e,t)=>{const s=x.useContext(xw),n=x.useRef(null),a=Oe(t,n);return x.useEffect(()=>{const o=n.current;if(o)return s.branches.add(o),()=>{s.branches.delete(o)}},[s.branches]),r.jsx(he.div,{...e,ref:a})});gw.displayName=OA;function FA(e,t=globalThis==null?void 0:globalThis.document){const s=xt(e),n=x.useRef(!1),a=x.useRef(()=>{});return x.useEffect(()=>{const o=l=>{if(l.target&&!n.current){let c=function(){yw(LA,s,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,s]),{onPointerDownCapture:()=>n.current=!0}}function zA(e,t=globalThis==null?void 0:globalThis.document){const s=xt(e),n=x.useRef(!1);return x.useEffect(()=>{const a=o=>{o.target&&!n.current&&yw(IA,s,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,s]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function lx(){const e=new CustomEvent(Wd);document.dispatchEvent(e)}function yw(e,t,s,{discrete:n}){const a=s.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&a.addEventListener(e,t,{once:!0}),n?Ep(a,o):a.dispatchEvent(o)}var UA=Rp,VA=gw,Ft=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},$A="Portal",Tp=x.forwardRef((e,t)=>{var l;const{container:s,...n}=e,[a,o]=x.useState(!1);Ft(()=>o(!0),[]);const i=s||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?Vk.createPortal(r.jsx(he.div,{...n,ref:t}),i):null});Tp.displayName=$A;function BA(e,t){return x.useReducer((s,n)=>t[s][n]??s,e)}var la=e=>{const{present:t,children:s}=e,n=WA(t),a=typeof s=="function"?s({present:n.isPresent}):x.Children.only(s),o=Oe(n.ref,HA(a));return typeof s=="function"||n.isPresent?x.cloneElement(a,{ref:o}):null};la.displayName="Presence";function WA(e){const[t,s]=x.useState(),n=x.useRef(null),a=x.useRef(e),o=x.useRef("none"),i=e?"mounted":"unmounted",[l,c]=BA(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=xi(n.current);o.current=l==="mounted"?u:"none"},[l]),Ft(()=>{const u=n.current,d=a.current;if(d!==e){const h=o.current,g=xi(u);e?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==g?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Ft(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=g=>{const w=xi(n.current).includes(g.animationName);if(g.target===t&&w&&(c("ANIMATION_END"),!a.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},h=g=>{g.target===t&&(o.current=xi(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(u=>{n.current=u?getComputedStyle(u):null,s(u)},[])}}function xi(e){return(e==null?void 0:e.animationName)||"none"}function HA(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var qA=Mf[" useInsertionEffect ".trim().toString()]||Ft;function cc({prop:e,defaultProp:t,onChange:s=()=>{},caller:n}){const[a,o,i]=GA({defaultProp:t,onChange:s}),l=e!==void 0,c=l?e:a;{const d=x.useRef(e!==void 0);x.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=x.useCallback(d=>{var f;if(l){const h=KA(d)?d(e):d;h!==e&&((f=i.current)==null||f.call(i,h))}else o(d)},[l,e,o,i]);return[c,u]}function GA({defaultProp:e,onChange:t}){const[s,n]=x.useState(e),a=x.useRef(s),o=x.useRef(t);return qA(()=>{o.current=t},[t]),x.useEffect(()=>{var i;a.current!==s&&((i=o.current)==null||i.call(o,s),a.current=s)},[s,a]),[s,n,o]}function KA(e){return typeof e=="function"}var YA=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),XA="VisuallyHidden",Dp=x.forwardRef((e,t)=>r.jsx(he.span,{...e,ref:t,style:{...YA,...e.style}}));Dp.displayName=XA;var _p="ToastProvider",[Mp,QA,JA]=Pp("Toast"),[vw]=jn("Toast",[JA]),[ZA,uc]=vw(_p),ww=e=>{const{__scopeToast:t,label:s="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:o=50,children:i}=e,[l,c]=x.useState(null),[u,d]=x.useState(0),f=x.useRef(!1),h=x.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${_p}\`. Expected non-empty \`string\`.`),r.jsx(Mp.Provider,{scope:t,children:r.jsx(ZA,{scope:t,label:s,duration:n,swipeDirection:a,swipeThreshold:o,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:x.useCallback(()=>d(g=>g+1),[]),onToastRemove:x.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:i})})};ww.displayName=_p;var bw="ToastViewport",eP=["F8"],Hd="toast.viewportPause",qd="toast.viewportResume",jw=x.forwardRef((e,t)=>{const{__scopeToast:s,hotkey:n=eP,label:a="Notifications ({hotkey})",...o}=e,i=uc(bw,s),l=QA(s),c=x.useRef(null),u=x.useRef(null),d=x.useRef(null),f=x.useRef(null),h=Oe(t,f,i.onViewportChange),g=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),m=i.toastCount>0;x.useEffect(()=>{const b=y=>{var v;n.length!==0&&n.every(j=>y[j]||y.code===j)&&((v=f.current)==null||v.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[n]),x.useEffect(()=>{const b=c.current,y=f.current;if(m&&b&&y){const p=()=>{if(!i.isClosePausedRef.current){const k=new CustomEvent(Hd);y.dispatchEvent(k),i.isClosePausedRef.current=!0}},v=()=>{if(i.isClosePausedRef.current){const k=new CustomEvent(qd);y.dispatchEvent(k),i.isClosePausedRef.current=!1}},j=k=>{!b.contains(k.relatedTarget)&&v()},N=()=>{b.contains(document.activeElement)||v()};return b.addEventListener("focusin",p),b.addEventListener("focusout",j),b.addEventListener("pointermove",p),b.addEventListener("pointerleave",N),window.addEventListener("blur",p),window.addEventListener("focus",v),()=>{b.removeEventListener("focusin",p),b.removeEventListener("focusout",j),b.removeEventListener("pointermove",p),b.removeEventListener("pointerleave",N),window.removeEventListener("blur",p),window.removeEventListener("focus",v)}}},[m,i.isClosePausedRef]);const w=x.useCallback(({tabbingDirection:b})=>{const p=l().map(v=>{const j=v.ref.current,N=[j,...pP(j)];return b==="forwards"?N:N.reverse()});return(b==="forwards"?p.reverse():p).flat()},[l]);return x.useEffect(()=>{const b=f.current;if(b){const y=p=>{var N,k,P;const v=p.altKey||p.ctrlKey||p.metaKey;if(p.key==="Tab"&&!v){const S=document.activeElement,R=p.shiftKey;if(p.target===b&&R){(N=u.current)==null||N.focus();return}const O=w({tabbingDirection:R?"backwards":"forwards"}),W=O.findIndex(U=>U===S);lu(O.slice(W+1))?p.preventDefault():R?(k=u.current)==null||k.focus():(P=d.current)==null||P.focus()}};return b.addEventListener("keydown",y),()=>b.removeEventListener("keydown",y)}},[l,w]),r.jsxs(VA,{ref:c,role:"region","aria-label":a.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:m?void 0:"none"},children:[m&&r.jsx(Gd,{ref:u,onFocusFromOutsideViewport:()=>{const b=w({tabbingDirection:"forwards"});lu(b)}}),r.jsx(Mp.Slot,{scope:s,children:r.jsx(he.ol,{tabIndex:-1,...o,ref:h})}),m&&r.jsx(Gd,{ref:d,onFocusFromOutsideViewport:()=>{const b=w({tabbingDirection:"backwards"});lu(b)}})]})});jw.displayName=bw;var Nw="ToastFocusProxy",Gd=x.forwardRef((e,t)=>{const{__scopeToast:s,onFocusFromOutsideViewport:n,...a}=e,o=uc(Nw,s);return r.jsx(Dp,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const l=i.relatedTarget;!((u=o.viewport)!=null&&u.contains(l))&&n()}})});Gd.displayName=Nw;var Io="Toast",tP="toast.swipeStart",sP="toast.swipeMove",nP="toast.swipeCancel",rP="toast.swipeEnd",Sw=x.forwardRef((e,t)=>{const{forceMount:s,open:n,defaultOpen:a,onOpenChange:o,...i}=e,[l,c]=cc({prop:n,defaultProp:a??!0,onChange:o,caller:Io});return r.jsx(la,{present:s||l,children:r.jsx(iP,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:xt(e.onPause),onResume:xt(e.onResume),onSwipeStart:Q(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Q(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Q(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Q(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});Sw.displayName=Io;var[aP,oP]=vw(Io,{onClose(){}}),iP=x.forwardRef((e,t)=>{const{__scopeToast:s,type:n="foreground",duration:a,open:o,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:g,...m}=e,w=uc(Io,s),[b,y]=x.useState(null),p=Oe(t,U=>y(U)),v=x.useRef(null),j=x.useRef(null),N=a||w.duration,k=x.useRef(0),P=x.useRef(N),S=x.useRef(0),{onToastAdd:R,onToastRemove:T}=w,F=xt(()=>{var q;(b==null?void 0:b.contains(document.activeElement))&&((q=w.viewport)==null||q.focus()),i()}),O=x.useCallback(U=>{!U||U===1/0||(window.clearTimeout(S.current),k.current=new Date().getTime(),S.current=window.setTimeout(F,U))},[F]);x.useEffect(()=>{const U=w.viewport;if(U){const q=()=>{O(P.current),u==null||u()},A=()=>{const V=new Date().getTime()-k.current;P.current=P.current-V,window.clearTimeout(S.current),c==null||c()};return U.addEventListener(Hd,A),U.addEventListener(qd,q),()=>{U.removeEventListener(Hd,A),U.removeEventListener(qd,q)}}},[w.viewport,N,c,u,O]),x.useEffect(()=>{o&&!w.isClosePausedRef.current&&O(N)},[o,N,w.isClosePausedRef,O]),x.useEffect(()=>(R(),()=>T()),[R,T]);const W=x.useMemo(()=>b?Tw(b):null,[b]);return w.viewport?r.jsxs(r.Fragment,{children:[W&&r.jsx(lP,{__scopeToast:s,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:W}),r.jsx(aP,{scope:s,onClose:F,children:Lo.createPortal(r.jsx(Mp.ItemSlot,{scope:s,children:r.jsx(UA,{asChild:!0,onEscapeKeyDown:Q(l,()=>{w.isFocusedToastEscapeKeyDownRef.current||F(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(he.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":w.swipeDirection,...m,ref:p,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Q(e.onKeyDown,U=>{U.key==="Escape"&&(l==null||l(U.nativeEvent),U.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:Q(e.onPointerDown,U=>{U.button===0&&(v.current={x:U.clientX,y:U.clientY})}),onPointerMove:Q(e.onPointerMove,U=>{if(!v.current)return;const q=U.clientX-v.current.x,A=U.clientY-v.current.y,V=!!j.current,D=["left","right"].includes(w.swipeDirection),C=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,_=D?C(0,q):0,L=D?0:C(0,A),B=U.pointerType==="touch"?10:2,re={x:_,y:L},se={originalEvent:U,delta:re};V?(j.current=re,gi(sP,f,se,{discrete:!1})):cx(re,w.swipeDirection,B)?(j.current=re,gi(tP,d,se,{discrete:!1}),U.target.setPointerCapture(U.pointerId)):(Math.abs(q)>B||Math.abs(A)>B)&&(v.current=null)}),onPointerUp:Q(e.onPointerUp,U=>{const q=j.current,A=U.target;if(A.hasPointerCapture(U.pointerId)&&A.releasePointerCapture(U.pointerId),j.current=null,v.current=null,q){const V=U.currentTarget,D={originalEvent:U,delta:q};cx(q,w.swipeDirection,w.swipeThreshold)?gi(rP,g,D,{discrete:!0}):gi(nP,h,D,{discrete:!0}),V.addEventListener("click",C=>C.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),lP=e=>{const{__scopeToast:t,children:s,...n}=e,a=uc(Io,t),[o,i]=x.useState(!1),[l,c]=x.useState(!1);return dP(()=>i(!0)),x.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:r.jsx(Tp,{asChild:!0,children:r.jsx(Dp,{...n,children:o&&r.jsxs(r.Fragment,{children:[a.label," ",s]})})})},cP="ToastTitle",kw=x.forwardRef((e,t)=>{const{__scopeToast:s,...n}=e;return r.jsx(he.div,{...n,ref:t})});kw.displayName=cP;var uP="ToastDescription",Cw=x.forwardRef((e,t)=>{const{__scopeToast:s,...n}=e;return r.jsx(he.div,{...n,ref:t})});Cw.displayName=uP;var Aw="ToastAction",Pw=x.forwardRef((e,t)=>{const{altText:s,...n}=e;return s.trim()?r.jsx(Rw,{altText:s,asChild:!0,children:r.jsx(Lp,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Aw}\`. Expected non-empty \`string\`.`),null)});Pw.displayName=Aw;var Ew="ToastClose",Lp=x.forwardRef((e,t)=>{const{__scopeToast:s,...n}=e,a=oP(Ew,s);return r.jsx(Rw,{asChild:!0,children:r.jsx(he.button,{type:"button",...n,ref:t,onClick:Q(e.onClick,a.onClose)})})});Lp.displayName=Ew;var Rw=x.forwardRef((e,t)=>{const{__scopeToast:s,altText:n,...a}=e;return r.jsx(he.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function Tw(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),fP(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!a)if(o){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...Tw(n))}}),t}function gi(e,t,s,{discrete:n}){const a=s.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s});t&&a.addEventListener(e,t,{once:!0}),n?Ep(a,o):a.dispatchEvent(o)}var cx=(e,t,s=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),o=n>a;return t==="left"||t==="right"?o&&n>s:!o&&a>s};function dP(e=()=>{}){const t=xt(e);Ft(()=>{let s=0,n=0;return s=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(n)}},[t])}function fP(e){return e.nodeType===e.ELEMENT_NODE}function pP(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function lu(e){const t=document.activeElement;return e.some(s=>s===t?!0:(s.focus(),document.activeElement!==t))}var hP=ww,Dw=jw,_w=Sw,Mw=kw,Lw=Cw,Iw=Pw,Ow=Lp;const ux=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,dx=uw,Ip=(e,t)=>s=>{var n;if((t==null?void 0:t.variants)==null)return dx(e,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:a,defaultVariants:o}=t,i=Object.keys(a).map(u=>{const d=s==null?void 0:s[u],f=o==null?void 0:o[u];if(d===null)return null;const h=ux(d)||ux(f);return a[u][h]}),l=s&&Object.entries(s).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...g}=d;return Object.entries(g).every(m=>{let[w,b]=m;return Array.isArray(b)?b.includes({...o,...l}[w]):{...o,...l}[w]===b})?[...u,f,h]:u},[]);return dx(e,i,c,s==null?void 0:s.class,s==null?void 0:s.className)};var mP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const xP=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),H=(e,t)=>{const s=x.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:i,children:l,...c},u)=>x.createElement("svg",{ref:u,...mP,width:a,height:a,stroke:n,strokeWidth:i?Number(o)*24/Number(a):o,className:`lucide lucide-${xP(e)}`,...c},[...t.map(([d,f])=>x.createElement(d,f)),...(Array.isArray(l)?l:[l])||[]]));return s.displayName=`${e}`,s},bo=H("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Kd=H("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Fw=H("AlertOctagon",[["polygon",{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2",key:"h1p8hx"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Is=H("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),zw=H("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Uw=H("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),jo=H("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Vw=H("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),gP=H("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),yP=H("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),vP=H("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.25V14",key:"re2vv1"}],["path",{d:"M22 16a6 6 0 1 1-12 0 6 6 0 0 1 12 0Z",key:"ame013"}]]),wP=H("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Oo=H("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),bP=H("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),Op=H("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),jP=H("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),NP=H("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),$w=H("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Yd=H("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),Bw=H("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),SP=H("CloudCog",[["circle",{cx:"12",cy:"17",r:"3",key:"1spfwm"}],["path",{d:"M4.2 15.1A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.2",key:"zaobp"}],["path",{d:"m15.7 18.4-.9-.3",key:"4qxpbn"}],["path",{d:"m9.2 15.9-.9-.3",key:"17q7o2"}],["path",{d:"m10.6 20.7.3-.9",key:"1pf4s2"}],["path",{d:"m13.1 14.2.3-.9",key:"1mnuqm"}],["path",{d:"m13.6 20.7-.4-1",key:"1jpd1m"}],["path",{d:"m10.8 14.3-.4-1",key:"17ugyy"}],["path",{d:"m8.3 18.6 1-.4",key:"s42vdx"}],["path",{d:"m14.7 15.8 1-.4",key:"2wizun"}]]),kP=H("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]),CP=H("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Ww=H("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),AP=H("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),PP=H("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Hw=H("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),Xd=H("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Qd=H("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),EP=H("FilePlus2",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7.5L14.5 2H6a2 2 0 0 0-2 2v4",key:"702lig"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M3 15h6",key:"4e2qda"}],["path",{d:"M6 12v6",key:"1u72j0"}]]),RP=H("FileSearch",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7.5L14.5 2H6a2 2 0 0 0-2 2v3",key:"am10z3"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M5 17a3 3 0 1 0 0-6 3 3 0 0 0 0 6z",key:"ychnub"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}]]),qw=H("FileSignature",[["path",{d:"M20 19.5v.5a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8.5L18 5.5",key:"kd5d3"}],["path",{d:"M8 18h1",key:"13wk12"}],["path",{d:"M18.42 9.61a2.1 2.1 0 1 1 2.97 2.97L16.95 17 13 18l.99-3.95 4.43-4.44Z",key:"johvi5"}]]),Yr=H("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),fx=H("FileWarning",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Gw=H("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),TP=H("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),DP=H("GaugeCircle",[["path",{d:"M15.6 2.7a10 10 0 1 0 5.7 5.7",key:"1e0p6d"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M13.4 10.6 19 5",key:"1kr7tw"}]]),px=H("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]),_P=H("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),dc=H("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]),MP=H("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),LP=H("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),IP=H("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),OP=H("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]),Rs=H("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),FP=H("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),zP=H("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),UP=H("MailPlus",[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8",key:"12jkf8"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M16 19h6",key:"xwg31i"}]]),Fp=H("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),VP=H("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),$P=H("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Os=H("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),fc=H("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),Nn=H("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),BP=H("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]),ca=H("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),WP=H("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),zp=H("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ua=H("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),ct=H("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),HP=H("ShieldHalf",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 22V2",key:"zs6s6o"}]]),qP=H("ShieldOff",[["path",{d:"M19.7 14a6.9 6.9 0 0 0 .3-2V5l-8-3-3.2 1.2",key:"342pvf"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M4.7 4.7 4 5v7c0 6 8 10 8 10a20.3 20.3 0 0 0 5.62-4.38",key:"p0ycf4"}]]),GP=H("ShieldPlus",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M8 11h8",key:"vwpz6n"}],["path",{d:"M12 15V7",key:"1ycneb"}]]),Xr=H("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),gt=H("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),zt=H("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),KP=H("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),YP=H("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Kw=H("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Sl=H("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),XP=H("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),Up=H("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]),kt=H("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),hx=H("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),QP=hP,Yw=E.forwardRef(({className:e,...t},s)=>r.jsx(Dw,{ref:s,className:X("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Yw.displayName=Dw.displayName;const JP=Ip("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Xw=E.forwardRef(({className:e,variant:t,...s},n)=>r.jsx(_w,{ref:n,className:X(JP({variant:t}),e),...s}));Xw.displayName=_w.displayName;const ZP=E.forwardRef(({className:e,...t},s)=>r.jsx(Iw,{ref:s,className:X("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));ZP.displayName=Iw.displayName;const Qw=E.forwardRef(({className:e,...t},s)=>r.jsx(Ow,{ref:s,className:X("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx(kt,{className:"h-4 w-4"})}));Qw.displayName=Ow.displayName;const Jw=E.forwardRef(({className:e,...t},s)=>r.jsx(Mw,{ref:s,className:X("text-sm font-semibold",e),...t}));Jw.displayName=Mw.displayName;const Zw=E.forwardRef(({className:e,...t},s)=>r.jsx(Lw,{ref:s,className:X("text-sm opacity-90",e),...t}));Zw.displayName=Lw.displayName;const eE=1;let cu=0;function tE(){return cu=(cu+1)%Number.MAX_VALUE,cu.toString()}const tt={state:{toasts:[]},listeners:[],getState:()=>tt.state,setState:e=>{typeof e=="function"?tt.state=e(tt.state):tt.state={...tt.state,...e},tt.listeners.forEach(t=>t(tt.state))},subscribe:e=>(tt.listeners.push(e),()=>{tt.listeners=tt.listeners.filter(t=>t!==e)})},sE=({...e})=>{const t=tE(),s=a=>tt.setState(o=>({...o,toasts:o.toasts.map(i=>i.id===t?{...i,...a}:i)})),n=()=>tt.setState(a=>({...a,toasts:a.toasts.filter(o=>o.id!==t)}));return tt.setState(a=>({...a,toasts:[{...e,id:t,dismiss:n},...a.toasts].slice(0,eE)})),{id:t,dismiss:n,update:s}};function Vt(){const[e,t]=x.useState(tt.getState());return x.useEffect(()=>tt.subscribe(n=>{t(n)}),[]),x.useEffect(()=>{const s=[];return e.toasts.forEach(n=>{if(n.duration===1/0)return;const a=setTimeout(()=>{n.dismiss()},n.duration||5e3);s.push(a)}),()=>{s.forEach(n=>clearTimeout(n))}},[e.toasts]),{toast:sE,toasts:e.toasts}}function nE(){const{toasts:e}=Vt();return r.jsxs(QP,{children:[e.map(({id:t,title:s,description:n,action:a,...o})=>r.jsxs(Xw,{...o,children:[r.jsxs("div",{className:"grid gap-1",children:[s&&r.jsx(Jw,{children:s}),n&&r.jsx(Zw,{children:n})]}),a,r.jsx(Qw,{})]},t)),r.jsx(Yw,{})]})}const rE=x.createContext(),aE=({children:e})=>{const[t,s]=x.useState(()=>{const a=localStorage.getItem("aura-theme");return a||"light"});x.useEffect(()=>{localStorage.setItem("aura-theme",t),document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(t)},[t]);const n=()=>{s(a=>a==="light"?"dark":"light")};return r.jsx(rE.Provider,{value:{theme:t,toggleTheme:n},children:e})};function eb(e,t){return function(){return e.apply(t,arguments)}}const{toString:oE}=Object.prototype,{getPrototypeOf:Vp}=Object,{iterator:pc,toStringTag:tb}=Symbol,hc=(e=>t=>{const s=oE.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Jt=e=>(e=e.toLowerCase(),t=>hc(t)===e),mc=e=>t=>typeof t===e,{isArray:da}=Array,Qr=mc("undefined");function Fo(e){return e!==null&&!Qr(e)&&e.constructor!==null&&!Qr(e.constructor)&&ht(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const sb=Jt("ArrayBuffer");function iE(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&sb(e.buffer),t}const lE=mc("string"),ht=mc("function"),nb=mc("number"),zo=e=>e!==null&&typeof e=="object",cE=e=>e===!0||e===!1,$i=e=>{if(hc(e)!=="object")return!1;const t=Vp(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(tb in e)&&!(pc in e)},uE=e=>{if(!zo(e)||Fo(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},dE=Jt("Date"),fE=Jt("File"),pE=Jt("Blob"),hE=Jt("FileList"),mE=e=>zo(e)&&ht(e.pipe),xE=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ht(e.append)&&((t=hc(e))==="formdata"||t==="object"&&ht(e.toString)&&e.toString()==="[object FormData]"))},gE=Jt("URLSearchParams"),[yE,vE,wE,bE]=["ReadableStream","Request","Response","Headers"].map(Jt),jE=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Uo(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),da(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(Fo(e))return;const o=s?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let l;for(n=0;n<i;n++)l=o[n],t.call(null,e[l],l,e)}}function rb(e,t){if(Fo(e))return null;t=t.toLowerCase();const s=Object.keys(e);let n=s.length,a;for(;n-- >0;)if(a=s[n],t===a.toLowerCase())return a;return null}const In=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ab=e=>!Qr(e)&&e!==In;function Jd(){const{caseless:e,skipUndefined:t}=ab(this)&&this||{},s={},n=(a,o)=>{const i=e&&rb(s,o)||o;$i(s[i])&&$i(a)?s[i]=Jd(s[i],a):$i(a)?s[i]=Jd({},a):da(a)?s[i]=a.slice():(!t||!Qr(a))&&(s[i]=a)};for(let a=0,o=arguments.length;a<o;a++)arguments[a]&&Uo(arguments[a],n);return s}const NE=(e,t,s,{allOwnKeys:n}={})=>(Uo(t,(a,o)=>{s&&ht(a)?e[o]=eb(a,s):e[o]=a},{allOwnKeys:n}),e),SE=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),kE=(e,t,s,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},CE=(e,t,s,n)=>{let a,o,i;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),o=a.length;o-- >0;)i=a[o],(!n||n(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=s!==!1&&Vp(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},AE=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const n=e.indexOf(t,s);return n!==-1&&n===s},PE=e=>{if(!e)return null;if(da(e))return e;let t=e.length;if(!nb(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},EE=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Vp(Uint8Array)),RE=(e,t)=>{const n=(e&&e[pc]).call(e);let a;for(;(a=n.next())&&!a.done;){const o=a.value;t.call(e,o[0],o[1])}},TE=(e,t)=>{let s;const n=[];for(;(s=e.exec(t))!==null;)n.push(s);return n},DE=Jt("HTMLFormElement"),_E=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,n,a){return n.toUpperCase()+a}),mx=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),ME=Jt("RegExp"),ob=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),n={};Uo(s,(a,o)=>{let i;(i=t(a,o,e))!==!1&&(n[o]=i||a)}),Object.defineProperties(e,n)},LE=e=>{ob(e,(t,s)=>{if(ht(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const n=e[s];if(ht(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},IE=(e,t)=>{const s={},n=a=>{a.forEach(o=>{s[o]=!0})};return da(e)?n(e):n(String(e).split(t)),s},OE=()=>{},FE=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function zE(e){return!!(e&&ht(e.append)&&e[tb]==="FormData"&&e[pc])}const UE=e=>{const t=new Array(10),s=(n,a)=>{if(zo(n)){if(t.indexOf(n)>=0)return;if(Fo(n))return n;if(!("toJSON"in n)){t[a]=n;const o=da(n)?[]:{};return Uo(n,(i,l)=>{const c=s(i,a+1);!Qr(c)&&(o[l]=c)}),t[a]=void 0,o}}return n};return s(e,0)},VE=Jt("AsyncFunction"),$E=e=>e&&(zo(e)||ht(e))&&ht(e.then)&&ht(e.catch),ib=((e,t)=>e?setImmediate:t?((s,n)=>(In.addEventListener("message",({source:a,data:o})=>{a===In&&o===s&&n.length&&n.shift()()},!1),a=>{n.push(a),In.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",ht(In.postMessage)),BE=typeof queueMicrotask<"u"?queueMicrotask.bind(In):typeof process<"u"&&process.nextTick||ib,WE=e=>e!=null&&ht(e[pc]),I={isArray:da,isArrayBuffer:sb,isBuffer:Fo,isFormData:xE,isArrayBufferView:iE,isString:lE,isNumber:nb,isBoolean:cE,isObject:zo,isPlainObject:$i,isEmptyObject:uE,isReadableStream:yE,isRequest:vE,isResponse:wE,isHeaders:bE,isUndefined:Qr,isDate:dE,isFile:fE,isBlob:pE,isRegExp:ME,isFunction:ht,isStream:mE,isURLSearchParams:gE,isTypedArray:EE,isFileList:hE,forEach:Uo,merge:Jd,extend:NE,trim:jE,stripBOM:SE,inherits:kE,toFlatObject:CE,kindOf:hc,kindOfTest:Jt,endsWith:AE,toArray:PE,forEachEntry:RE,matchAll:TE,isHTMLForm:DE,hasOwnProperty:mx,hasOwnProp:mx,reduceDescriptors:ob,freezeMethods:LE,toObjectSet:IE,toCamelCase:_E,noop:OE,toFiniteNumber:FE,findKey:rb,global:In,isContextDefined:ab,isSpecCompliantForm:zE,toJSONObject:UE,isAsyncFn:VE,isThenable:$E,setImmediate:ib,asap:BE,isIterable:WE};function Z(e,t,s,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}I.inherits(Z,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:I.toJSONObject(this.config),code:this.code,status:this.status}}});const lb=Z.prototype,cb={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{cb[e]={value:e}});Object.defineProperties(Z,cb);Object.defineProperty(lb,"isAxiosError",{value:!0});Z.from=(e,t,s,n,a,o)=>{const i=Object.create(lb);I.toFlatObject(e,i,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return Z.call(i,l,c,s,n,a),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",o&&Object.assign(i,o),i};const HE=null;function Zd(e){return I.isPlainObject(e)||I.isArray(e)}function ub(e){return I.endsWith(e,"[]")?e.slice(0,-2):e}function xx(e,t,s){return e?e.concat(t).map(function(a,o){return a=ub(a),!s&&o?"["+a+"]":a}).join(s?".":""):t}function qE(e){return I.isArray(e)&&!e.some(Zd)}const GE=I.toFlatObject(I,{},null,function(t){return/^is[A-Z]/.test(t)});function xc(e,t,s){if(!I.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=I.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,b){return!I.isUndefined(b[w])});const n=s.metaTokens,a=s.visitor||d,o=s.dots,i=s.indexes,c=(s.Blob||typeof Blob<"u"&&Blob)&&I.isSpecCompliantForm(t);if(!I.isFunction(a))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(I.isDate(m))return m.toISOString();if(I.isBoolean(m))return m.toString();if(!c&&I.isBlob(m))throw new Z("Blob is not supported. Use a Buffer instead.");return I.isArrayBuffer(m)||I.isTypedArray(m)?c&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,w,b){let y=m;if(m&&!b&&typeof m=="object"){if(I.endsWith(w,"{}"))w=n?w:w.slice(0,-2),m=JSON.stringify(m);else if(I.isArray(m)&&qE(m)||(I.isFileList(m)||I.endsWith(w,"[]"))&&(y=I.toArray(m)))return w=ub(w),y.forEach(function(v,j){!(I.isUndefined(v)||v===null)&&t.append(i===!0?xx([w],j,o):i===null?w:w+"[]",u(v))}),!1}return Zd(m)?!0:(t.append(xx(b,w,o),u(m)),!1)}const f=[],h=Object.assign(GE,{defaultVisitor:d,convertValue:u,isVisitable:Zd});function g(m,w){if(!I.isUndefined(m)){if(f.indexOf(m)!==-1)throw Error("Circular reference detected in "+w.join("."));f.push(m),I.forEach(m,function(y,p){(!(I.isUndefined(y)||y===null)&&a.call(t,y,I.isString(p)?p.trim():p,w,h))===!0&&g(y,w?w.concat(p):[p])}),f.pop()}}if(!I.isObject(e))throw new TypeError("data must be an object");return g(e),t}function gx(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function $p(e,t){this._pairs=[],e&&xc(e,this,t)}const db=$p.prototype;db.append=function(t,s){this._pairs.push([t,s])};db.toString=function(t){const s=t?function(n){return t.call(this,n,gx)}:gx;return this._pairs.map(function(a){return s(a[0])+"="+s(a[1])},"").join("&")};function KE(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function fb(e,t,s){if(!t)return e;const n=s&&s.encode||KE;I.isFunction(s)&&(s={serialize:s});const a=s&&s.serialize;let o;if(a?o=a(t,s):o=I.isURLSearchParams(t)?t.toString():new $p(t,s).toString(n),o){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class yx{constructor(){this.handlers=[]}use(t,s,n){return this.handlers.push({fulfilled:t,rejected:s,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){I.forEach(this.handlers,function(n){n!==null&&t(n)})}}const pb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},YE=typeof URLSearchParams<"u"?URLSearchParams:$p,XE=typeof FormData<"u"?FormData:null,QE=typeof Blob<"u"?Blob:null,JE={isBrowser:!0,classes:{URLSearchParams:YE,FormData:XE,Blob:QE},protocols:["http","https","file","blob","url","data"]},Bp=typeof window<"u"&&typeof document<"u",ef=typeof navigator=="object"&&navigator||void 0,ZE=Bp&&(!ef||["ReactNative","NativeScript","NS"].indexOf(ef.product)<0),eR=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",tR=Bp&&window.location.href||"http://localhost",sR=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Bp,hasStandardBrowserEnv:ZE,hasStandardBrowserWebWorkerEnv:eR,navigator:ef,origin:tR},Symbol.toStringTag,{value:"Module"})),Ye={...sR,...JE};function nR(e,t){return xc(e,new Ye.classes.URLSearchParams,{visitor:function(s,n,a,o){return Ye.isNode&&I.isBuffer(s)?(this.append(n,s.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function rR(e){return I.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function aR(e){const t={},s=Object.keys(e);let n;const a=s.length;let o;for(n=0;n<a;n++)o=s[n],t[o]=e[o];return t}function hb(e){function t(s,n,a,o){let i=s[o++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=o>=s.length;return i=!i&&I.isArray(a)?a.length:i,c?(I.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!l):((!a[i]||!I.isObject(a[i]))&&(a[i]=[]),t(s,n,a[i],o)&&I.isArray(a[i])&&(a[i]=aR(a[i])),!l)}if(I.isFormData(e)&&I.isFunction(e.entries)){const s={};return I.forEachEntry(e,(n,a)=>{t(rR(n),a,s,0)}),s}return null}function oR(e,t,s){if(I.isString(e))try{return(t||JSON.parse)(e),I.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(s||JSON.stringify)(e)}const Vo={transitional:pb,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const n=s.getContentType()||"",a=n.indexOf("application/json")>-1,o=I.isObject(t);if(o&&I.isHTMLForm(t)&&(t=new FormData(t)),I.isFormData(t))return a?JSON.stringify(hb(t)):t;if(I.isArrayBuffer(t)||I.isBuffer(t)||I.isStream(t)||I.isFile(t)||I.isBlob(t)||I.isReadableStream(t))return t;if(I.isArrayBufferView(t))return t.buffer;if(I.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return nR(t,this.formSerializer).toString();if((l=I.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return xc(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return o||a?(s.setContentType("application/json",!1),oR(t)):t}],transformResponse:[function(t){const s=this.transitional||Vo.transitional,n=s&&s.forcedJSONParsing,a=this.responseType==="json";if(I.isResponse(t)||I.isReadableStream(t))return t;if(t&&I.isString(t)&&(n&&!this.responseType||a)){const i=!(s&&s.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(i)throw l.name==="SyntaxError"?Z.from(l,Z.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ye.classes.FormData,Blob:Ye.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};I.forEach(["delete","get","head","post","put","patch"],e=>{Vo.headers[e]={}});const iR=I.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),lR=e=>{const t={};let s,n,a;return e&&e.split(`
`).forEach(function(i){a=i.indexOf(":"),s=i.substring(0,a).trim().toLowerCase(),n=i.substring(a+1).trim(),!(!s||t[s]&&iR[s])&&(s==="set-cookie"?t[s]?t[s].push(n):t[s]=[n]:t[s]=t[s]?t[s]+", "+n:n)}),t},vx=Symbol("internals");function Aa(e){return e&&String(e).trim().toLowerCase()}function Bi(e){return e===!1||e==null?e:I.isArray(e)?e.map(Bi):String(e)}function cR(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=s.exec(e);)t[n[1]]=n[2];return t}const uR=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function uu(e,t,s,n,a){if(I.isFunction(n))return n.call(this,t,s);if(a&&(t=s),!!I.isString(t)){if(I.isString(n))return t.indexOf(n)!==-1;if(I.isRegExp(n))return n.test(t)}}function dR(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,n)=>s.toUpperCase()+n)}function fR(e,t){const s=I.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+s,{value:function(a,o,i){return this[n].call(this,t,a,o,i)},configurable:!0})})}let mt=class{constructor(t){t&&this.set(t)}set(t,s,n){const a=this;function o(l,c,u){const d=Aa(c);if(!d)throw new Error("header name must be a non-empty string");const f=I.findKey(a,d);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||c]=Bi(l))}const i=(l,c)=>I.forEach(l,(u,d)=>o(u,d,c));if(I.isPlainObject(t)||t instanceof this.constructor)i(t,s);else if(I.isString(t)&&(t=t.trim())&&!uR(t))i(lR(t),s);else if(I.isObject(t)&&I.isIterable(t)){let l={},c,u;for(const d of t){if(!I.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?I.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}i(l,s)}else t!=null&&o(s,t,n);return this}get(t,s){if(t=Aa(t),t){const n=I.findKey(this,t);if(n){const a=this[n];if(!s)return a;if(s===!0)return cR(a);if(I.isFunction(s))return s.call(this,a,n);if(I.isRegExp(s))return s.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=Aa(t),t){const n=I.findKey(this,t);return!!(n&&this[n]!==void 0&&(!s||uu(this,this[n],n,s)))}return!1}delete(t,s){const n=this;let a=!1;function o(i){if(i=Aa(i),i){const l=I.findKey(n,i);l&&(!s||uu(n,n[l],l,s))&&(delete n[l],a=!0)}}return I.isArray(t)?t.forEach(o):o(t),a}clear(t){const s=Object.keys(this);let n=s.length,a=!1;for(;n--;){const o=s[n];(!t||uu(this,this[o],o,t,!0))&&(delete this[o],a=!0)}return a}normalize(t){const s=this,n={};return I.forEach(this,(a,o)=>{const i=I.findKey(n,o);if(i){s[i]=Bi(a),delete s[o];return}const l=t?dR(o):String(o).trim();l!==o&&delete s[o],s[l]=Bi(a),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return I.forEach(this,(n,a)=>{n!=null&&n!==!1&&(s[a]=t&&I.isArray(n)?n.join(", "):n)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const n=new this(t);return s.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[vx]=this[vx]={accessors:{}}).accessors,a=this.prototype;function o(i){const l=Aa(i);n[l]||(fR(a,i),n[l]=!0)}return I.isArray(t)?t.forEach(o):o(t),this}};mt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);I.reduceDescriptors(mt.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[s]=n}}});I.freezeMethods(mt);function du(e,t){const s=this||Vo,n=t||s,a=mt.from(n.headers);let o=n.data;return I.forEach(e,function(l){o=l.call(s,o,a.normalize(),t?t.status:void 0)}),a.normalize(),o}function mb(e){return!!(e&&e.__CANCEL__)}function fa(e,t,s){Z.call(this,e??"canceled",Z.ERR_CANCELED,t,s),this.name="CanceledError"}I.inherits(fa,Z,{__CANCEL__:!0});function xb(e,t,s){const n=s.config.validateStatus;!s.status||!n||n(s.status)?e(s):t(new Z("Request failed with status code "+s.status,[Z.ERR_BAD_REQUEST,Z.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function pR(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function hR(e,t){e=e||10;const s=new Array(e),n=new Array(e);let a=0,o=0,i;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[o];i||(i=u),s[a]=c,n[a]=u;let f=o,h=0;for(;f!==a;)h+=s[f++],f=f%e;if(a=(a+1)%e,a===o&&(o=(o+1)%e),u-i<t)return;const g=d&&u-d;return g?Math.round(h*1e3/g):void 0}}function mR(e,t){let s=0,n=1e3/t,a,o;const i=(u,d=Date.now())=>{s=d,a=null,o&&(clearTimeout(o),o=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-s;f>=n?i(u,d):(a=u,o||(o=setTimeout(()=>{o=null,i(a)},n-f)))},()=>a&&i(a)]}const kl=(e,t,s=3)=>{let n=0;const a=hR(50,250);return mR(o=>{const i=o.loaded,l=o.lengthComputable?o.total:void 0,c=i-n,u=a(c),d=i<=l;n=i;const f={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-i)/u:void 0,event:o,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},s)},wx=(e,t)=>{const s=e!=null;return[n=>t[0]({lengthComputable:s,total:e,loaded:n}),t[1]]},bx=e=>(...t)=>I.asap(()=>e(...t)),xR=Ye.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,Ye.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(Ye.origin),Ye.navigator&&/(msie|trident)/i.test(Ye.navigator.userAgent)):()=>!0,gR=Ye.hasStandardBrowserEnv?{write(e,t,s,n,a,o,i){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];I.isNumber(s)&&l.push(`expires=${new Date(s).toUTCString()}`),I.isString(n)&&l.push(`path=${n}`),I.isString(a)&&l.push(`domain=${a}`),o===!0&&l.push("secure"),I.isString(i)&&l.push(`SameSite=${i}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function yR(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function vR(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function gb(e,t,s){let n=!yR(t);return e&&(n||s==!1)?vR(e,t):t}const jx=e=>e instanceof mt?{...e}:e;function er(e,t){t=t||{};const s={};function n(u,d,f,h){return I.isPlainObject(u)&&I.isPlainObject(d)?I.merge.call({caseless:h},u,d):I.isPlainObject(d)?I.merge({},d):I.isArray(d)?d.slice():d}function a(u,d,f,h){if(I.isUndefined(d)){if(!I.isUndefined(u))return n(void 0,u,f,h)}else return n(u,d,f,h)}function o(u,d){if(!I.isUndefined(d))return n(void 0,d)}function i(u,d){if(I.isUndefined(d)){if(!I.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in t)return n(u,d);if(f in e)return n(void 0,u)}const c={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(u,d,f)=>a(jx(u),jx(d),f,!0)};return I.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||a,h=f(e[d],t[d],d);I.isUndefined(h)&&f!==l||(s[d]=h)}),s}const yb=e=>{const t=er({},e);let{data:s,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:o,headers:i,auth:l}=t;if(t.headers=i=mt.from(i),t.url=fb(gb(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),I.isFormData(s)){if(Ye.hasStandardBrowserEnv||Ye.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(I.isFunction(s.getHeaders)){const c=s.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&i.set(d,f)})}}if(Ye.hasStandardBrowserEnv&&(n&&I.isFunction(n)&&(n=n(t)),n||n!==!1&&xR(t.url))){const c=a&&o&&gR.read(o);c&&i.set(a,c)}return t},wR=typeof XMLHttpRequest<"u",bR=wR&&function(e){return new Promise(function(s,n){const a=yb(e);let o=a.data;const i=mt.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,d,f,h,g,m;function w(){g&&g(),m&&m(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let b=new XMLHttpRequest;b.open(a.method.toUpperCase(),a.url,!0),b.timeout=a.timeout;function y(){if(!b)return;const v=mt.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),N={data:!l||l==="text"||l==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:v,config:e,request:b};xb(function(P){s(P),w()},function(P){n(P),w()},N),b=null}"onloadend"in b?b.onloadend=y:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(y)},b.onabort=function(){b&&(n(new Z("Request aborted",Z.ECONNABORTED,e,b)),b=null)},b.onerror=function(j){const N=j&&j.message?j.message:"Network Error",k=new Z(N,Z.ERR_NETWORK,e,b);k.event=j||null,n(k),b=null},b.ontimeout=function(){let j=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const N=a.transitional||pb;a.timeoutErrorMessage&&(j=a.timeoutErrorMessage),n(new Z(j,N.clarifyTimeoutError?Z.ETIMEDOUT:Z.ECONNABORTED,e,b)),b=null},o===void 0&&i.setContentType(null),"setRequestHeader"in b&&I.forEach(i.toJSON(),function(j,N){b.setRequestHeader(N,j)}),I.isUndefined(a.withCredentials)||(b.withCredentials=!!a.withCredentials),l&&l!=="json"&&(b.responseType=a.responseType),u&&([h,m]=kl(u,!0),b.addEventListener("progress",h)),c&&b.upload&&([f,g]=kl(c),b.upload.addEventListener("progress",f),b.upload.addEventListener("loadend",g)),(a.cancelToken||a.signal)&&(d=v=>{b&&(n(!v||v.type?new fa(null,e,b):v),b.abort(),b=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const p=pR(a.url);if(p&&Ye.protocols.indexOf(p)===-1){n(new Z("Unsupported protocol "+p+":",Z.ERR_BAD_REQUEST,e));return}b.send(o||null)})},jR=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let n=new AbortController,a;const o=function(u){if(!a){a=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof Z?d:new fa(d instanceof Error?d.message:d))}};let i=t&&setTimeout(()=>{i=null,o(new Z(`timeout ${t} of ms exceeded`,Z.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(o):u.removeEventListener("abort",o)}),e=null)};e.forEach(u=>u.addEventListener("abort",o));const{signal:c}=n;return c.unsubscribe=()=>I.asap(l),c}},NR=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let n=0,a;for(;n<s;)a=n+t,yield e.slice(n,a),n=a},SR=async function*(e,t){for await(const s of kR(e))yield*NR(s,t)},kR=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:n}=await t.read();if(s)break;yield n}}finally{await t.cancel()}},Nx=(e,t,s,n)=>{const a=SR(e,t);let o=0,i,l=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){l(),c.close();return}let f=d.byteLength;if(s){let h=o+=f;s(h)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},Sx=64*1024,{isFunction:yi}=I,CR=(({Request:e,Response:t})=>({Request:e,Response:t}))(I.global),{ReadableStream:kx,TextEncoder:Cx}=I.global,Ax=(e,...t)=>{try{return!!e(...t)}catch{return!1}},AR=e=>{e=I.merge.call({skipUndefined:!0},CR,e);const{fetch:t,Request:s,Response:n}=e,a=t?yi(t):typeof fetch=="function",o=yi(s),i=yi(n);if(!a)return!1;const l=a&&yi(kx),c=a&&(typeof Cx=="function"?(m=>w=>m.encode(w))(new Cx):async m=>new Uint8Array(await new s(m).arrayBuffer())),u=o&&l&&Ax(()=>{let m=!1;const w=new s(Ye.origin,{body:new kx,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!w}),d=i&&l&&Ax(()=>I.isReadableStream(new n("").body)),f={stream:d&&(m=>m.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!f[m]&&(f[m]=(w,b)=>{let y=w&&w[m];if(y)return y.call(w);throw new Z(`Response type '${m}' is not supported`,Z.ERR_NOT_SUPPORT,b)})});const h=async m=>{if(m==null)return 0;if(I.isBlob(m))return m.size;if(I.isSpecCompliantForm(m))return(await new s(Ye.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(I.isArrayBufferView(m)||I.isArrayBuffer(m))return m.byteLength;if(I.isURLSearchParams(m)&&(m=m+""),I.isString(m))return(await c(m)).byteLength},g=async(m,w)=>{const b=I.toFiniteNumber(m.getContentLength());return b??h(w)};return async m=>{let{url:w,method:b,data:y,signal:p,cancelToken:v,timeout:j,onDownloadProgress:N,onUploadProgress:k,responseType:P,headers:S,withCredentials:R="same-origin",fetchOptions:T}=yb(m),F=t||fetch;P=P?(P+"").toLowerCase():"text";let O=jR([p,v&&v.toAbortSignal()],j),W=null;const U=O&&O.unsubscribe&&(()=>{O.unsubscribe()});let q;try{if(k&&u&&b!=="get"&&b!=="head"&&(q=await g(S,y))!==0){let L=new s(w,{method:"POST",body:y,duplex:"half"}),B;if(I.isFormData(y)&&(B=L.headers.get("content-type"))&&S.setContentType(B),L.body){const[re,se]=wx(q,kl(bx(k)));y=Nx(L.body,Sx,re,se)}}I.isString(R)||(R=R?"include":"omit");const A=o&&"credentials"in s.prototype,V={...T,signal:O,method:b.toUpperCase(),headers:S.normalize().toJSON(),body:y,duplex:"half",credentials:A?R:void 0};W=o&&new s(w,V);let D=await(o?F(W,T):F(w,V));const C=d&&(P==="stream"||P==="response");if(d&&(N||C&&U)){const L={};["status","statusText","headers"].forEach(fe=>{L[fe]=D[fe]});const B=I.toFiniteNumber(D.headers.get("content-length")),[re,se]=N&&wx(B,kl(bx(N),!0))||[];D=new n(Nx(D.body,Sx,re,()=>{se&&se(),U&&U()}),L)}P=P||"text";let _=await f[I.findKey(f,P)||"text"](D,m);return!C&&U&&U(),await new Promise((L,B)=>{xb(L,B,{data:_,headers:mt.from(D.headers),status:D.status,statusText:D.statusText,config:m,request:W})})}catch(A){throw U&&U(),A&&A.name==="TypeError"&&/Load failed|fetch/i.test(A.message)?Object.assign(new Z("Network Error",Z.ERR_NETWORK,m,W),{cause:A.cause||A}):Z.from(A,A&&A.code,m,W)}}},PR=new Map,vb=e=>{let t=e&&e.env||{};const{fetch:s,Request:n,Response:a}=t,o=[n,a,s];let i=o.length,l=i,c,u,d=PR;for(;l--;)c=o[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:AR(t)),d=u;return u};vb();const Wp={http:HE,xhr:bR,fetch:{get:vb}};I.forEach(Wp,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Px=e=>`- ${e}`,ER=e=>I.isFunction(e)||e===null||e===!1;function RR(e,t){e=I.isArray(e)?e:[e];const{length:s}=e;let n,a;const o={};for(let i=0;i<s;i++){n=e[i];let l;if(a=n,!ER(n)&&(a=Wp[(l=String(n)).toLowerCase()],a===void 0))throw new Z(`Unknown adapter '${l}'`);if(a&&(I.isFunction(a)||(a=a.get(t))))break;o[l||"#"+i]=a}if(!a){const i=Object.entries(o).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=s?i.length>1?`since :
`+i.map(Px).join(`
`):" "+Px(i[0]):"as no adapter specified";throw new Z("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const wb={getAdapter:RR,adapters:Wp};function fu(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new fa(null,e)}function Ex(e){return fu(e),e.headers=mt.from(e.headers),e.data=du.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),wb.getAdapter(e.adapter||Vo.adapter,e)(e).then(function(n){return fu(e),n.data=du.call(e,e.transformResponse,n),n.headers=mt.from(n.headers),n},function(n){return mb(n)||(fu(e),n&&n.response&&(n.response.data=du.call(e,e.transformResponse,n.response),n.response.headers=mt.from(n.response.headers))),Promise.reject(n)})}const bb="1.13.2",gc={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{gc[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Rx={};gc.transitional=function(t,s,n){function a(o,i){return"[Axios v"+bb+"] Transitional option '"+o+"'"+i+(n?". "+n:"")}return(o,i,l)=>{if(t===!1)throw new Z(a(i," has been removed"+(s?" in "+s:"")),Z.ERR_DEPRECATED);return s&&!Rx[i]&&(Rx[i]=!0,console.warn(a(i," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(o,i,l):!0}};gc.spelling=function(t){return(s,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function TR(e,t,s){if(typeof e!="object")throw new Z("options must be an object",Z.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const o=n[a],i=t[o];if(i){const l=e[o],c=l===void 0||i(l,o,e);if(c!==!0)throw new Z("option "+o+" must be "+c,Z.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new Z("Unknown option "+o,Z.ERR_BAD_OPTION)}}const Wi={assertOptions:TR,validators:gc},ns=Wi.validators;let Un=class{constructor(t){this.defaults=t||{},this.interceptors={request:new yx,response:new yx}}async request(t,s){try{return await this._request(t,s)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const o=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=er(this.defaults,s);const{transitional:n,paramsSerializer:a,headers:o}=s;n!==void 0&&Wi.assertOptions(n,{silentJSONParsing:ns.transitional(ns.boolean),forcedJSONParsing:ns.transitional(ns.boolean),clarifyTimeoutError:ns.transitional(ns.boolean)},!1),a!=null&&(I.isFunction(a)?s.paramsSerializer={serialize:a}:Wi.assertOptions(a,{encode:ns.function,serialize:ns.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Wi.assertOptions(s,{baseUrl:ns.spelling("baseURL"),withXsrfToken:ns.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let i=o&&I.merge(o.common,o[s.method]);o&&I.forEach(["delete","get","head","post","put","patch","common"],m=>{delete o[m]}),s.headers=mt.concat(i,o);const l=[];let c=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(s)===!1||(c=c&&w.synchronous,l.unshift(w.fulfilled,w.rejected))});const u=[];this.interceptors.response.forEach(function(w){u.push(w.fulfilled,w.rejected)});let d,f=0,h;if(!c){const m=[Ex.bind(this),void 0];for(m.unshift(...l),m.push(...u),h=m.length,d=Promise.resolve(s);f<h;)d=d.then(m[f++],m[f++]);return d}h=l.length;let g=s;for(;f<h;){const m=l[f++],w=l[f++];try{g=m(g)}catch(b){w.call(this,b);break}}try{d=Ex.call(this,g)}catch(m){return Promise.reject(m)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=er(this.defaults,t);const s=gb(t.baseURL,t.url,t.allowAbsoluteUrls);return fb(s,t.params,t.paramsSerializer)}};I.forEach(["delete","get","head","options"],function(t){Un.prototype[t]=function(s,n){return this.request(er(n||{},{method:t,url:s,data:(n||{}).data}))}});I.forEach(["post","put","patch"],function(t){function s(n){return function(o,i,l){return this.request(er(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}Un.prototype[t]=s(),Un.prototype[t+"Form"]=s(!0)});let DR=class jb{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(o){s=o});const n=this;this.promise.then(a=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](a);n._listeners=null}),this.promise.then=a=>{let o;const i=new Promise(l=>{n.subscribe(l),o=l}).then(a);return i.cancel=function(){n.unsubscribe(o)},i},t(function(o,i,l){n.reason||(n.reason=new fa(o,i,l),s(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=n=>{t.abort(n)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new jb(function(a){t=a}),cancel:t}}};function _R(e){return function(s){return e.apply(null,s)}}function MR(e){return I.isObject(e)&&e.isAxiosError===!0}const tf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(tf).forEach(([e,t])=>{tf[t]=e});function Nb(e){const t=new Un(e),s=eb(Un.prototype.request,t);return I.extend(s,Un.prototype,t,{allOwnKeys:!0}),I.extend(s,t,null,{allOwnKeys:!0}),s.create=function(a){return Nb(er(e,a))},s}const Ce=Nb(Vo);Ce.Axios=Un;Ce.CanceledError=fa;Ce.CancelToken=DR;Ce.isCancel=mb;Ce.VERSION=bb;Ce.toFormData=xc;Ce.AxiosError=Z;Ce.Cancel=Ce.CanceledError;Ce.all=function(t){return Promise.all(t)};Ce.spread=_R;Ce.isAxiosError=MR;Ce.mergeConfig=er;Ce.AxiosHeaders=mt;Ce.formToJSON=e=>hb(I.isHTMLForm(e)?new FormData(e):e);Ce.getAdapter=wb.getAdapter;Ce.HttpStatusCode=tf;Ce.default=Ce;const{Axios:fV,AxiosError:pV,CanceledError:hV,isCancel:mV,CancelToken:xV,VERSION:gV,all:yV,Cancel:vV,isAxiosError:wV,spread:bV,toFormData:jV,AxiosHeaders:NV,HttpStatusCode:SV,formToJSON:kV,getAdapter:CV,mergeConfig:AV}=Ce,Hp="aura-access-token",qp="aura-refresh-token",Gp="aura-user",Sb=()=>localStorage.getItem(Hp),sf=()=>localStorage.getItem(qp),Kp=(e,t)=>{localStorage.setItem(Hp,e),localStorage.setItem(qp,t)},Yp=()=>{localStorage.removeItem(Hp),localStorage.removeItem(qp)},Cl=e=>{localStorage.setItem(Gp,JSON.stringify(e))},nf=()=>{const e=localStorage.getItem(Gp);if(!e)return null;try{return JSON.parse(e)}catch{return null}},Xp=()=>{localStorage.removeItem(Gp)};let rf=null;const LR=e=>{rf=e},af=()=>{var e;if(Yp(),Xp(),rf)rf();else{const t=((e=window.location)==null?void 0:e.pathname)??"";(t.startsWith("/app")||t.startsWith("/onboarding"))&&window.location.replace("/login")}},IR=(e,t)=>{if(e.user)return e.user;if(!(e.user_id===void 0&&e.tenant_id===void 0&&!e.role))return{id:e.user_id,tenantId:e.tenant_id,role:e.role,email:e.email??t??""}},Hi=(e,t)=>({tokens:{accessToken:e.access_token,refreshToken:e.refresh_token},user:IR(e,t)}),kb=async e=>(await z.post("/auth/refresh",{refresh_token:e})).data,OR=(e,t)=>{if(Kp(e.accessToken,e.refreshToken),t)Cl(t);else{const s=nf();s&&Cl(s)}},Cb="/api".trim().length>0?"/api".trim():"/api",FR=e=>!e||/^https?:\/\//i.test(e)||e.startsWith("/")?e:`/${e}`,z=Ce.create({baseURL:Cb,headers:{"Content-Type":"application/json"},timeout:1e4});z.interceptors.request.use(e=>{const t=Sb();return e.url&&(e.url=FR(e.url)),t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e});let vi=!1,of=[];const Tx=e=>{of.forEach(t=>t(e)),of=[]};z.interceptors.response.use(e=>e,async e=>{var o,i,l,c;const t=e.config??{},s=(o=e==null?void 0:e.response)==null?void 0:o.status;if(s===401&&!t._retry){if(t._retry=!0,vi)return new Promise(d=>{of.push(f=>{f&&t.headers&&(t.headers.Authorization=`Bearer ${f}`),d(z(t))})});vi=!0;const u=sf();if(!u)return af(),Promise.reject(e);try{const d=await kb(u),{tokens:f}=Hi(d);return Kp(f.accessToken,f.refreshToken),vi=!1,Tx(f.accessToken),t.headers&&(t.headers.Authorization=`Bearer ${f.accessToken}`),z(t)}catch(d){return vi=!1,Tx(null),Yp(),Xp(),af(),Promise.reject(d)}}const n=((l=(i=e==null?void 0:e.response)==null?void 0:i.data)==null?void 0:l.message)??(e==null?void 0:e.message)??"Unknown error",a=new Error(n);return a.status=s,a.data=(c=e==null?void 0:e.response)==null?void 0:c.data,a.response=e==null?void 0:e.response,Promise.reject(a)});const Ab=x.createContext(void 0),zR=({children:e})=>{const t=hs(),s=ps(),{toast:n}=Vt(),[a,o]=x.useState(null),[i,l]=x.useState(null),[c,u]=x.useState(!1),d=x.useCallback((y,p)=>{Kp(y.accessToken,y.refreshToken),p&&(Cl(p),o(p)),l(y.accessToken),u(!0)},[]),f=x.useCallback(async()=>{const y=await z.get("/auth/me");if(!y.data)throw new Error("Failed to load user");return Cl(y.data),o(y.data),y.data},[]),h=x.useCallback(()=>{Yp(),Xp(),o(null),l(null),u(!1),(s.pathname.startsWith("/app")||s.pathname.startsWith("/onboarding"))&&t("/login",{replace:!0})},[s.pathname,t]);x.useEffect(()=>{LR(h)},[h]);const g=x.useCallback(async()=>{const y=sf();if(!y)return;const p=nf();try{const v=await kb(y),{tokens:j,user:N}=Hi(v);OR(j,N??p??void 0),d(j,N??p??void 0),await f()}catch{h(),n({variant:"destructive",title:"Session expired",description:"Please sign in again."})}},[f,h,d,n]);x.useEffect(()=>{(async()=>{const p=Sb(),v=sf(),j=nf();if(p&&v){l(p),j&&o(j),u(!0);try{await f(),await g()}catch{h()}}})()},[f,h,g]),x.useEffect(()=>{!c&&s.pathname.startsWith("/app")&&t("/login",{replace:!0})},[c,s.pathname,t]);const m=x.useCallback(async(y,p)=>{var v,j,N,k;try{const P=await z.post("/auth/login",{email:y,password:p}),{tokens:S,user:R}=Hi(P.data,y),T=R??{email:y,role:P.data.role,tenantId:P.data.tenant_id,id:P.data.user_id};return d(S,T),n({title:"Login Successful",description:"Welcome back!"}),t("/app/dashboard",{replace:!0}),T}catch(P){const S=((j=(v=P==null?void 0:P.response)==null?void 0:v.data)==null?void 0:j.error)||((k=(N=P==null?void 0:P.response)==null?void 0:N.data)==null?void 0:k.detail)||(P==null?void 0:P.message)||"Login failed. Please check your email and password or try again later.";throw n({variant:"destructive",title:"Login failed",description:S}),P}},[t,d,n]),w=x.useCallback(async(y,p)=>{const v=await z.post("/auth/register",{email:y,password:p}),{tokens:j}=Hi(v.data);d(j);try{const N=await f();return n({title:"Registration Successful",description:"Your account has been created."}),t("/app/dashboard",{replace:!0}),N}catch(N){throw h(),N}},[f,h,t,d,n]),b=x.useCallback(()=>{af()},[]);return r.jsx(Ab.Provider,{value:{user:a,accessToken:i,isAuthenticated:c,login:m,register:w,logout:b},children:e})},$t=()=>{const e=x.useContext(Ab);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Pb=x.createContext(void 0),Dx=null,_x=null,UR=({children:e})=>{const t=ps(),{isAuthenticated:s}=$t(),[n,a]=x.useState(Dx),[o,i]=x.useState(!1),[l,c]=x.useState(_x),[u,d]=x.useState(!1),[f,h]=x.useState(!1),[g,m]=x.useState(typeof navigator<"u"?!navigator.onLine:!1),w=x.useMemo(()=>{const v=new URLSearchParams(t.search).get("demo")==="1",j=t.pathname.startsWith("/demo");return v||j||!1},[t.pathname,t.search]),b=x.useCallback(async()=>{if(s){i(!0);try{const p=await z.get("/system/version");a(p.data)}catch{a(v=>v)}finally{i(!1)}}},[s]),y=x.useCallback(async()=>{var p,v;if(s){h(!0);try{const j=await z.get("/api/system/tenant-status"),N=((p=j.data)==null?void 0:p.plan)??null,k=!!((v=j.data)!=null&&v.is_test_tenant);c(N),d(k)}catch{c(N=>N),d(N=>N)}finally{h(!1)}}},[s]);return x.useEffect(()=>{const p=()=>m(!1),v=()=>m(!0);return window.addEventListener("online",p),window.addEventListener("offline",v),()=>{window.removeEventListener("online",p),window.removeEventListener("offline",v)}},[]),x.useEffect(()=>{s?(b(),y()):(a(Dx),c(_x),d(!1))},[s,y,b]),r.jsx(Pb.Provider,{value:{versionInfo:n,isVersionLoading:o,refreshVersion:b,demoMode:w,isOffline:g,tenantPlan:l,isTestTenant:u,isTenantStatusLoading:f,refreshTenantStatus:y},children:e})},Fs=()=>{const e=x.useContext(Pb);if(!e)throw new Error("useSystemStatus must be used within a SystemProvider");return e},pu={completed:!0},Eb=x.createContext(void 0),VR=({children:e})=>{const{isAuthenticated:t}=$t(),[s,n]=x.useState(pu),[a,o]=x.useState(t),i=x.useCallback(async()=>{if(t){o(!0);try{const u=(await z.get("/onboarding/state")).data??pu;n({completed:!!u.completed,currentStep:u.currentStep})}catch{n(u=>u)}finally{o(!1)}}},[t]),l=x.useCallback(async()=>{await z.patch("/onboarding/state",{completed:!0}),n(c=>({...c,completed:!0}))},[]);return x.useEffect(()=>{t?(o(!0),i()):(n(pu),o(!1))},[t,i]),r.jsx(Eb.Provider,{value:{state:s,loading:a,refresh:i,completeOnboarding:l},children:e})},Rb=()=>{const e=x.useContext(Eb);if(!e)throw new Error("useOnboarding must be used within an OnboardingProvider");return e},Mx={organizationDetails:!1,firstDsr:!1,policyGenerated:!1,dpiaCreated:!1,ropaAdded:!1,tomConfigured:!1,aiAuditRun:!1},Tb=x.createContext(void 0),$R=({children:e})=>{const{isAuthenticated:t}=$t(),[s,n]=x.useState(Mx),[a,o]=x.useState(!1),[i,l]=x.useState(null),c=x.useCallback(async()=>{if(t){o(!0),l(null);try{const d=await z.get("/user-progress");n(f=>({...f,...d.data??{}}))}catch(d){const f=d instanceof Error?d.message:"Failed to load progress.";l(f)}finally{o(!1)}}},[t]),u=x.useCallback(async d=>{n(f=>({...f,[d]:!0}));try{await z.patch("/user-progress",{[d]:!0})}catch(f){throw n(h=>({...h,[d]:!1})),f}},[]);return x.useEffect(()=>{t?c():(n(Mx),l(null))},[t,c]),r.jsx(Tb.Provider,{value:{progress:s,loading:a,error:i,refresh:c,markComplete:u},children:e})},Qp=()=>{const e=x.useContext(Tb);if(!e)throw new Error("useUserProgress must be used within a UserProgressProvider");return e},BR=e=>["dsr_deadline","policy_expiring","dpia_required","incident_alert","ai_recommendation","system_health"].includes(e)?e:"system_health",WR=e=>["info","warning","critical"].includes(e)?e:"info",hu=e=>({id:(e==null?void 0:e.id)??(e==null?void 0:e._id)??"",type:BR(e==null?void 0:e.type),title:(e==null?void 0:e.title)??"",description:(e==null?void 0:e.description)??"",createdAt:(e==null?void 0:e.createdAt)??(e==null?void 0:e.created_at)??"",read:!!(e!=null&&e.read),severity:WR(e==null?void 0:e.severity),link:(e==null?void 0:e.link)??(e==null?void 0:e.url)??void 0}),HR=e=>{if(Array.isArray(e))return e.map(hu);const t=e;return Array.isArray(t==null?void 0:t.items)?t.items.map(hu):Array.isArray(t==null?void 0:t.notifications)?t.notifications.map(hu):[]};async function qR(){const e=await z.get("/notifications");return HR(e.data)}async function GR(e){await z.patch(`/notifications/${e}/read`)}async function KR(){await z.post("/notifications/mark-all-read")}async function YR(e){await z.delete(`/notifications/${e}`)}const Db=E.createContext(void 0),XR=({children:e})=>{const[t,s]=E.useState([]),[n,a]=E.useState(!1),[o,i]=E.useState(!1),l=E.useCallback(async()=>{a(!0),i(!1);try{const h=await qR();s(h)}catch{i(!0)}finally{a(!1)}},[]);E.useEffect(()=>{l()},[l]);const c=E.useCallback(async h=>{s(g=>g.map(m=>m.id===h?{...m,read:!0}:m));try{await GR(h)}catch{i(!0)}},[]),u=E.useCallback(async()=>{s(h=>h.map(g=>({...g,read:!0})));try{await KR()}catch{i(!0)}},[]),d=E.useCallback(async h=>{s(g=>g.filter(m=>m.id!==h));try{await YR(h)}catch{i(!0)}},[]),f=E.useMemo(()=>({notifications:t,unreadCount:t.filter(h=>!h.read).length,markAsRead:c,markAllAsRead:u,remove:d,isLoading:n,isError:o}),[t,u,c,d,o,n]);return r.jsx(Db.Provider,{value:f,children:e})},QR=Ip("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),M=E.forwardRef(({className:e,variant:t,size:s,asChild:n=!1,...a},o)=>{const i=n?CA:"button";return r.jsx(i,{className:X(QR({variant:t,size:s,className:e})),ref:o,...a})});M.displayName="Button";const Y=E.forwardRef(({className:e,type:t,...s},n)=>r.jsx("input",{type:t,className:X("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...s}));Y.displayName="Input";var JR="Label",_b=x.forwardRef((e,t)=>r.jsx(he.label,{...e,ref:t,onMouseDown:s=>{var a;s.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));_b.displayName=JR;var Mb=_b;const ZR=Ip("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Xe=E.forwardRef(({className:e,...t},s)=>r.jsx(Mb,{ref:s,className:X(ZR(),e),...t}));Xe.displayName=Mb.displayName;const te=E.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:X("rounded-xl border bg-card text-card-foreground shadow-sm",e),...t}));te.displayName="Card";const ue=E.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:X("flex flex-col space-y-1.5 p-6",e),...t}));ue.displayName="CardHeader";const de=E.forwardRef(({className:e,...t},s)=>r.jsx("h3",{ref:s,className:X("text-2xl font-semibold leading-none tracking-tight",e),...t}));de.displayName="CardTitle";const Ut=E.forwardRef(({className:e,...t},s)=>r.jsx("p",{ref:s,className:X("text-sm text-muted-foreground",e),...t}));Ut.displayName="CardDescription";const ae=E.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:X("p-6 pt-0",e),...t}));ae.displayName="CardContent";const Jp=E.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:X("flex items-center p-6 pt-0",e),...t}));Jp.displayName="CardFooter";const Lb=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),yc=x.createContext({}),Zp=x.createContext(null),vc=typeof document<"u",eT=vc?x.useLayoutEffect:x.useEffect,Ib=x.createContext({strict:!1}),eh=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),tT="framerAppearId",Ob="data-"+eh(tT);function sT(e,t,s,n){const{visualElement:a}=x.useContext(yc),o=x.useContext(Ib),i=x.useContext(Zp),l=x.useContext(Lb).reducedMotion,c=x.useRef();n=n||o.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:a,props:s,presenceContext:i,blockInitialAnimation:i?i.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;x.useInsertionEffect(()=>{u&&u.update(s,i)});const d=x.useRef(!!(s[Ob]&&!window.HandoffComplete));return eT(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),x.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Cr(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function nT(e,t,s){return x.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),s&&(typeof s=="function"?s(n):Cr(s)&&(s.current=n))},[t])}function No(e){return typeof e=="string"||Array.isArray(e)}function wc(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const th=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],sh=["initial",...th];function bc(e){return wc(e.animate)||sh.some(t=>No(e[t]))}function Fb(e){return!!(bc(e)||e.variants)}function rT(e,t){if(bc(e)){const{initial:s,animate:n}=e;return{initial:s===!1||No(s)?s:void 0,animate:No(n)?n:void 0}}return e.inherit!==!1?t:{}}function aT(e){const{initial:t,animate:s}=rT(e,x.useContext(yc));return x.useMemo(()=>({initial:t,animate:s}),[Lx(t),Lx(s)])}function Lx(e){return Array.isArray(e)?e.join(" "):e}const Ix={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},So={};for(const e in Ix)So[e]={isEnabled:t=>Ix[e].some(s=>!!t[s])};function oT(e){for(const t in e)So[t]={...So[t],...e[t]}}const zb=x.createContext({}),Ub=x.createContext({}),iT=Symbol.for("motionComponentSymbol");function lT({preloadedFeatures:e,createVisualElement:t,useRender:s,useVisualState:n,Component:a}){e&&oT(e);function o(l,c){let u;const d={...x.useContext(Lb),...l,layoutId:cT(l)},{isStatic:f}=d,h=aT(l),g=n(l,f);if(!f&&vc){h.visualElement=sT(a,g,d,t);const m=x.useContext(Ub),w=x.useContext(Ib).strict;h.visualElement&&(u=h.visualElement.loadFeatures(d,w,e,m))}return x.createElement(yc.Provider,{value:h},u&&h.visualElement?x.createElement(u,{visualElement:h.visualElement,...d}):null,s(a,l,nT(g,h.visualElement,c),g,f,h.visualElement))}const i=x.forwardRef(o);return i[iT]=a,i}function cT({layoutId:e}){const t=x.useContext(zb).id;return t&&e!==void 0?t+"-"+e:e}function uT(e){function t(n,a={}){return lT(e(n,a))}if(typeof Proxy>"u")return t;const s=new Map;return new Proxy(t,{get:(n,a)=>(s.has(a)||s.set(a,t(a)),s.get(a))})}const dT=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function nh(e){return typeof e!="string"||e.includes("-")?!1:!!(dT.indexOf(e)>-1||/[A-Z]/.test(e))}const Al={};function fT(e){Object.assign(Al,e)}const $o=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],rr=new Set($o);function Vb(e,{layout:t,layoutId:s}){return rr.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!Al[e]||e==="opacity")}const yt=e=>!!(e&&e.getVelocity),pT={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},hT=$o.length;function mT(e,{enableHardwareAcceleration:t=!0,allowTransformNone:s=!0},n,a){let o="";for(let i=0;i<hT;i++){const l=$o[i];if(e[l]!==void 0){const c=pT[l]||l;o+=`${c}(${e[l]}) `}}return t&&!e.z&&(o+="translateZ(0)"),o=o.trim(),a?o=a(e,n?"":o):s&&n&&(o="none"),o}const $b=e=>t=>typeof t=="string"&&t.startsWith(e),Bb=$b("--"),lf=$b("var(--"),xT=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,gT=(e,t)=>t&&typeof e=="number"?t.transform(e):e,mn=(e,t,s)=>Math.min(Math.max(s,e),t),ar={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ya={...ar,transform:e=>mn(0,1,e)},wi={...ar,default:1},Xa=e=>Math.round(e*1e5)/1e5,jc=/(-)?([\d]*\.?[\d])+/g,Wb=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,yT=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Bo(e){return typeof e=="string"}const Wo=e=>({test:t=>Bo(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Bs=Wo("deg"),cs=Wo("%"),K=Wo("px"),vT=Wo("vh"),wT=Wo("vw"),Ox={...cs,parse:e=>cs.parse(e)/100,transform:e=>cs.transform(e*100)},Fx={...ar,transform:Math.round},Hb={borderWidth:K,borderTopWidth:K,borderRightWidth:K,borderBottomWidth:K,borderLeftWidth:K,borderRadius:K,radius:K,borderTopLeftRadius:K,borderTopRightRadius:K,borderBottomRightRadius:K,borderBottomLeftRadius:K,width:K,maxWidth:K,height:K,maxHeight:K,size:K,top:K,right:K,bottom:K,left:K,padding:K,paddingTop:K,paddingRight:K,paddingBottom:K,paddingLeft:K,margin:K,marginTop:K,marginRight:K,marginBottom:K,marginLeft:K,rotate:Bs,rotateX:Bs,rotateY:Bs,rotateZ:Bs,scale:wi,scaleX:wi,scaleY:wi,scaleZ:wi,skew:Bs,skewX:Bs,skewY:Bs,distance:K,translateX:K,translateY:K,translateZ:K,x:K,y:K,z:K,perspective:K,transformPerspective:K,opacity:Ya,originX:Ox,originY:Ox,originZ:K,zIndex:Fx,fillOpacity:Ya,strokeOpacity:Ya,numOctaves:Fx};function rh(e,t,s,n){const{style:a,vars:o,transform:i,transformOrigin:l}=e;let c=!1,u=!1,d=!0;for(const f in t){const h=t[f];if(Bb(f)){o[f]=h;continue}const g=Hb[f],m=gT(h,g);if(rr.has(f)){if(c=!0,i[f]=m,!d)continue;h!==(g.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,l[f]=m):a[f]=m}if(t.transform||(c||n?a.transform=mT(e.transform,s,d,n):a.transform&&(a.transform="none")),u){const{originX:f="50%",originY:h="50%",originZ:g=0}=l;a.transformOrigin=`${f} ${h} ${g}`}}const ah=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function qb(e,t,s){for(const n in t)!yt(t[n])&&!Vb(n,s)&&(e[n]=t[n])}function bT({transformTemplate:e},t,s){return x.useMemo(()=>{const n=ah();return rh(n,t,{enableHardwareAcceleration:!s},e),Object.assign({},n.vars,n.style)},[t])}function jT(e,t,s){const n=e.style||{},a={};return qb(a,n,e),Object.assign(a,bT(e,t,s)),e.transformValues?e.transformValues(a):a}function NT(e,t,s){const n={},a=jT(e,t,s);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=a,n}const ST=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Pl(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||ST.has(e)}let Gb=e=>!Pl(e);function kT(e){e&&(Gb=t=>t.startsWith("on")?!Pl(t):e(t))}try{kT(require("@emotion/is-prop-valid").default)}catch{}function CT(e,t,s){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(Gb(a)||s===!0&&Pl(a)||!t&&!Pl(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}function zx(e,t,s){return typeof e=="string"?e:K.transform(t+s*e)}function AT(e,t,s){const n=zx(t,e.x,e.width),a=zx(s,e.y,e.height);return`${n} ${a}`}const PT={offset:"stroke-dashoffset",array:"stroke-dasharray"},ET={offset:"strokeDashoffset",array:"strokeDasharray"};function RT(e,t,s=1,n=0,a=!0){e.pathLength=1;const o=a?PT:ET;e[o.offset]=K.transform(-n);const i=K.transform(t),l=K.transform(s);e[o.array]=`${i} ${l}`}function oh(e,{attrX:t,attrY:s,attrScale:n,originX:a,originY:o,pathLength:i,pathSpacing:l=1,pathOffset:c=0,...u},d,f,h){if(rh(e,u,d,h),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:m,dimensions:w}=e;g.transform&&(w&&(m.transform=g.transform),delete g.transform),w&&(a!==void 0||o!==void 0||m.transform)&&(m.transformOrigin=AT(w,a!==void 0?a:.5,o!==void 0?o:.5)),t!==void 0&&(g.x=t),s!==void 0&&(g.y=s),n!==void 0&&(g.scale=n),i!==void 0&&RT(g,i,l,c,!1)}const Kb=()=>({...ah(),attrs:{}}),ih=e=>typeof e=="string"&&e.toLowerCase()==="svg";function TT(e,t,s,n){const a=x.useMemo(()=>{const o=Kb();return oh(o,t,{enableHardwareAcceleration:!1},ih(n),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};qb(o,e.style,e),a.style={...o,...a.style}}return a}function DT(e=!1){return(s,n,a,{latestValues:o},i)=>{const c=(nh(s)?TT:NT)(n,o,i,s),d={...CT(n,typeof s=="string",e),...c,ref:a},{children:f}=n,h=x.useMemo(()=>yt(f)?f.get():f,[f]);return x.createElement(s,{...d,children:h})}}function Yb(e,{style:t,vars:s},n,a){Object.assign(e.style,t,a&&a.getProjectionStyles(n));for(const o in s)e.style.setProperty(o,s[o])}const Xb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Qb(e,t,s,n){Yb(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(Xb.has(a)?a:eh(a),t.attrs[a])}function lh(e,t){const{style:s}=e,n={};for(const a in s)(yt(s[a])||t.style&&yt(t.style[a])||Vb(a,e))&&(n[a]=s[a]);return n}function Jb(e,t){const s=lh(e,t);for(const n in e)if(yt(e[n])||yt(t[n])){const a=$o.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;s[a]=e[n]}return s}function ch(e,t,s,n={},a={}){return typeof t=="function"&&(t=t(s!==void 0?s:e.custom,n,a)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(s!==void 0?s:e.custom,n,a)),t}function _T(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const El=e=>Array.isArray(e),MT=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),LT=e=>El(e)?e[e.length-1]||0:e;function qi(e){const t=yt(e)?e.get():e;return MT(t)?t.toValue():t}function IT({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:s},n,a,o){const i={latestValues:OT(n,a,o,e),renderState:t()};return s&&(i.mount=l=>s(n,l,i)),i}const Zb=e=>(t,s)=>{const n=x.useContext(yc),a=x.useContext(Zp),o=()=>IT(e,t,n,a);return s?o():_T(o)};function OT(e,t,s,n){const a={},o=n(e,{});for(const h in o)a[h]=qi(o[h]);let{initial:i,animate:l}=e;const c=bc(e),u=Fb(e);t&&u&&!c&&e.inherit!==!1&&(i===void 0&&(i=t.initial),l===void 0&&(l=t.animate));let d=s?s.initial===!1:!1;d=d||i===!1;const f=d?l:i;return f&&typeof f!="boolean"&&!wc(f)&&(Array.isArray(f)?f:[f]).forEach(g=>{const m=ch(e,g);if(!m)return;const{transitionEnd:w,transition:b,...y}=m;for(const p in y){let v=y[p];if(Array.isArray(v)){const j=d?v.length-1:0;v=v[j]}v!==null&&(a[p]=v)}for(const p in w)a[p]=w[p]}),a}const Re=e=>e;class Ux{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const s=this.order.indexOf(t);s!==-1&&(this.order.splice(s,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function FT(e){let t=new Ux,s=new Ux,n=0,a=!1,o=!1;const i=new WeakSet,l={schedule:(c,u=!1,d=!1)=>{const f=d&&a,h=f?t:s;return u&&i.add(c),h.add(c)&&f&&a&&(n=t.order.length),c},cancel:c=>{s.remove(c),i.delete(c)},process:c=>{if(a){o=!0;return}if(a=!0,[t,s]=[s,t],s.clear(),n=t.order.length,n)for(let u=0;u<n;u++){const d=t.order[u];d(c),i.has(d)&&(l.schedule(d),e())}a=!1,o&&(o=!1,l.process(c))}};return l}const bi=["prepare","read","update","preRender","render","postRender"],zT=40;function UT(e,t){let s=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=bi.reduce((f,h)=>(f[h]=FT(()=>s=!0),f),{}),i=f=>o[f].process(a),l=()=>{const f=performance.now();s=!1,a.delta=n?1e3/60:Math.max(Math.min(f-a.timestamp,zT),1),a.timestamp=f,a.isProcessing=!0,bi.forEach(i),a.isProcessing=!1,s&&t&&(n=!1,e(l))},c=()=>{s=!0,n=!0,a.isProcessing||e(l)};return{schedule:bi.reduce((f,h)=>{const g=o[h];return f[h]=(m,w=!1,b=!1)=>(s||c(),g.schedule(m,w,b)),f},{}),cancel:f=>bi.forEach(h=>o[h].cancel(f)),state:a,steps:o}}const{schedule:ye,cancel:Ts,state:Ge,steps:mu}=UT(typeof requestAnimationFrame<"u"?requestAnimationFrame:Re,!0),VT={useVisualState:Zb({scrapeMotionValuesFromProps:Jb,createRenderState:Kb,onMount:(e,t,{renderState:s,latestValues:n})=>{ye.read(()=>{try{s.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{s.dimensions={x:0,y:0,width:0,height:0}}}),ye.render(()=>{oh(s,n,{enableHardwareAcceleration:!1},ih(t.tagName),e.transformTemplate),Qb(t,s)})}})},$T={useVisualState:Zb({scrapeMotionValuesFromProps:lh,createRenderState:ah})};function BT(e,{forwardMotionProps:t=!1},s,n){return{...nh(e)?VT:$T,preloadedFeatures:s,useRender:DT(t),createVisualElement:n,Component:e}}function bs(e,t,s,n={passive:!0}){return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s)}const ej=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Nc(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const WT=e=>t=>ej(t)&&e(t,Nc(t));function Ns(e,t,s,n){return bs(e,t,WT(s),n)}const HT=(e,t)=>s=>t(e(s)),un=(...e)=>e.reduce(HT);function tj(e){let t=null;return()=>{const s=()=>{t=null};return t===null?(t=e,s):!1}}const Vx=tj("dragHorizontal"),$x=tj("dragVertical");function sj(e){let t=!1;if(e==="y")t=$x();else if(e==="x")t=Vx();else{const s=Vx(),n=$x();s&&n?t=()=>{s(),n()}:(s&&s(),n&&n())}return t}function nj(){const e=sj(!0);return e?(e(),!1):!0}class Sn{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Bx(e,t){const s="pointer"+(t?"enter":"leave"),n="onHover"+(t?"Start":"End"),a=(o,i)=>{if(o.pointerType==="touch"||nj())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[n]&&ye.update(()=>l[n](o,i))};return Ns(e.current,s,a,{passive:!e.getProps()[n]})}class qT extends Sn{mount(){this.unmount=un(Bx(this.node,!0),Bx(this.node,!1))}unmount(){}}class GT extends Sn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=un(bs(this.node.current,"focus",()=>this.onFocus()),bs(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const rj=(e,t)=>t?e===t?!0:rj(e,t.parentElement):!1;function xu(e,t){if(!t)return;const s=new PointerEvent("pointer"+e);t(s,Nc(s))}class KT extends Sn{constructor(){super(...arguments),this.removeStartListeners=Re,this.removeEndListeners=Re,this.removeAccessibleListeners=Re,this.startPointerPress=(t,s)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),o=Ns(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps();ye.update(()=>{!f&&!rj(this.node.current,l.target)?d&&d(l,c):u&&u(l,c)})},{passive:!(n.onTap||n.onPointerUp)}),i=Ns(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=un(o,i),this.startPress(t,s)},this.startAccessiblePress=()=>{const t=o=>{if(o.key!=="Enter"||this.isPressing)return;const i=l=>{l.key!=="Enter"||!this.checkPressEnd()||xu("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&ye.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=bs(this.node.current,"keyup",i),xu("down",(l,c)=>{this.startPress(l,c)})},s=bs(this.node.current,"keydown",t),n=()=>{this.isPressing&&xu("cancel",(o,i)=>this.cancelPress(o,i))},a=bs(this.node.current,"blur",n);this.removeAccessibleListeners=un(s,a)}}startPress(t,s){this.isPressing=!0;const{onTapStart:n,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&ye.update(()=>n(t,s))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!nj()}cancelPress(t,s){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&ye.update(()=>n(t,s))}mount(){const t=this.node.getProps(),s=Ns(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=bs(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=un(s,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const cf=new WeakMap,gu=new WeakMap,YT=e=>{const t=cf.get(e.target);t&&t(e)},XT=e=>{e.forEach(YT)};function QT({root:e,...t}){const s=e||document;gu.has(s)||gu.set(s,{});const n=gu.get(s),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(XT,{root:e,...t})),n[a]}function JT(e,t,s){const n=QT(t);return cf.set(e,s),n.observe(e),()=>{cf.delete(e),n.unobserve(e)}}const ZT={some:0,all:1};class e4 extends Sn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:n,amount:a="some",once:o}=t,i={root:s?s.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:ZT[a]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return JT(this.node.current,i,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(t4(t,s))&&this.startObserver()}unmount(){}}function t4({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const s4={inView:{Feature:e4},tap:{Feature:KT},focus:{Feature:GT},hover:{Feature:qT}};function aj(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let n=0;n<s;n++)if(t[n]!==e[n])return!1;return!0}function n4(e){const t={};return e.values.forEach((s,n)=>t[n]=s.get()),t}function r4(e){const t={};return e.values.forEach((s,n)=>t[n]=s.getVelocity()),t}function Sc(e,t,s){const n=e.getProps();return ch(n,t,s!==void 0?s:n.custom,n4(e),r4(e))}let uh=Re;const Vn=e=>e*1e3,Ss=e=>e/1e3,a4={current:!1},oj=e=>Array.isArray(e)&&typeof e[0]=="number";function ij(e){return!!(!e||typeof e=="string"&&lj[e]||oj(e)||Array.isArray(e)&&e.every(ij))}const Oa=([e,t,s,n])=>`cubic-bezier(${e}, ${t}, ${s}, ${n})`,lj={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Oa([0,.65,.55,1]),circOut:Oa([.55,0,1,.45]),backIn:Oa([.31,.01,.66,-.59]),backOut:Oa([.33,1.53,.69,.99])};function cj(e){if(e)return oj(e)?Oa(e):Array.isArray(e)?e.map(cj):lj[e]}function o4(e,t,s,{delay:n=0,duration:a,repeat:o=0,repeatType:i="loop",ease:l,times:c}={}){const u={[t]:s};c&&(u.offset=c);const d=cj(l);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:n,duration:a,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:o+1,direction:i==="reverse"?"alternate":"normal"})}function i4(e,{repeat:t,repeatType:s="loop"}){const n=t&&s!=="loop"&&t%2===1?0:e.length-1;return e[n]}const uj=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,l4=1e-7,c4=12;function u4(e,t,s,n,a){let o,i,l=0;do i=t+(s-t)/2,o=uj(i,n,a)-e,o>0?s=i:t=i;while(Math.abs(o)>l4&&++l<c4);return i}function Ho(e,t,s,n){if(e===t&&s===n)return Re;const a=o=>u4(o,0,1,e,s);return o=>o===0||o===1?o:uj(a(o),t,n)}const d4=Ho(.42,0,1,1),f4=Ho(0,0,.58,1),dj=Ho(.42,0,.58,1),p4=e=>Array.isArray(e)&&typeof e[0]!="number",fj=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,pj=e=>t=>1-e(1-t),dh=e=>1-Math.sin(Math.acos(e)),hj=pj(dh),h4=fj(dh),mj=Ho(.33,1.53,.69,.99),fh=pj(mj),m4=fj(fh),x4=e=>(e*=2)<1?.5*fh(e):.5*(2-Math.pow(2,-10*(e-1))),g4={linear:Re,easeIn:d4,easeInOut:dj,easeOut:f4,circIn:dh,circInOut:h4,circOut:hj,backIn:fh,backInOut:m4,backOut:mj,anticipate:x4},Wx=e=>{if(Array.isArray(e)){uh(e.length===4);const[t,s,n,a]=e;return Ho(t,s,n,a)}else if(typeof e=="string")return g4[e];return e},ph=(e,t)=>s=>!!(Bo(s)&&yT.test(s)&&s.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(s,t)),xj=(e,t,s)=>n=>{if(!Bo(n))return n;const[a,o,i,l]=n.match(jc);return{[e]:parseFloat(a),[t]:parseFloat(o),[s]:parseFloat(i),alpha:l!==void 0?parseFloat(l):1}},y4=e=>mn(0,255,e),yu={...ar,transform:e=>Math.round(y4(e))},On={test:ph("rgb","red"),parse:xj("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:n=1})=>"rgba("+yu.transform(e)+", "+yu.transform(t)+", "+yu.transform(s)+", "+Xa(Ya.transform(n))+")"};function v4(e){let t="",s="",n="",a="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,s+=s,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const uf={test:ph("#"),parse:v4,transform:On.transform},Ar={test:ph("hsl","hue"),parse:xj("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:n=1})=>"hsla("+Math.round(e)+", "+cs.transform(Xa(t))+", "+cs.transform(Xa(s))+", "+Xa(Ya.transform(n))+")"},st={test:e=>On.test(e)||uf.test(e)||Ar.test(e),parse:e=>On.test(e)?On.parse(e):Ar.test(e)?Ar.parse(e):uf.parse(e),transform:e=>Bo(e)?e:e.hasOwnProperty("red")?On.transform(e):Ar.transform(e)},be=(e,t,s)=>-s*e+s*t+e;function vu(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function w4({hue:e,saturation:t,lightness:s,alpha:n}){e/=360,t/=100,s/=100;let a=0,o=0,i=0;if(!t)a=o=i=s;else{const l=s<.5?s*(1+t):s+t-s*t,c=2*s-l;a=vu(c,l,e+1/3),o=vu(c,l,e),i=vu(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(i*255),alpha:n}}const wu=(e,t,s)=>{const n=e*e;return Math.sqrt(Math.max(0,s*(t*t-n)+n))},b4=[uf,On,Ar],j4=e=>b4.find(t=>t.test(e));function Hx(e){const t=j4(e);let s=t.parse(e);return t===Ar&&(s=w4(s)),s}const gj=(e,t)=>{const s=Hx(e),n=Hx(t),a={...s};return o=>(a.red=wu(s.red,n.red,o),a.green=wu(s.green,n.green,o),a.blue=wu(s.blue,n.blue,o),a.alpha=be(s.alpha,n.alpha,o),On.transform(a))};function N4(e){var t,s;return isNaN(e)&&Bo(e)&&(((t=e.match(jc))===null||t===void 0?void 0:t.length)||0)+(((s=e.match(Wb))===null||s===void 0?void 0:s.length)||0)>0}const yj={regex:xT,countKey:"Vars",token:"${v}",parse:Re},vj={regex:Wb,countKey:"Colors",token:"${c}",parse:st.parse},wj={regex:jc,countKey:"Numbers",token:"${n}",parse:ar.parse};function bu(e,{regex:t,countKey:s,token:n,parse:a}){const o=e.tokenised.match(t);o&&(e["num"+s]=o.length,e.tokenised=e.tokenised.replace(t,n),e.values.push(...o.map(a)))}function Rl(e){const t=e.toString(),s={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return s.value.includes("var(--")&&bu(s,yj),bu(s,vj),bu(s,wj),s}function bj(e){return Rl(e).values}function jj(e){const{values:t,numColors:s,numVars:n,tokenised:a}=Rl(e),o=t.length;return i=>{let l=a;for(let c=0;c<o;c++)c<n?l=l.replace(yj.token,i[c]):c<n+s?l=l.replace(vj.token,st.transform(i[c])):l=l.replace(wj.token,Xa(i[c]));return l}}const S4=e=>typeof e=="number"?0:e;function k4(e){const t=bj(e);return jj(e)(t.map(S4))}const xn={test:N4,parse:bj,createTransformer:jj,getAnimatableNone:k4},Nj=(e,t)=>s=>`${s>0?t:e}`;function Sj(e,t){return typeof e=="number"?s=>be(e,t,s):st.test(e)?gj(e,t):e.startsWith("var(")?Nj(e,t):Cj(e,t)}const kj=(e,t)=>{const s=[...e],n=s.length,a=e.map((o,i)=>Sj(o,t[i]));return o=>{for(let i=0;i<n;i++)s[i]=a[i](o);return s}},C4=(e,t)=>{const s={...e,...t},n={};for(const a in s)e[a]!==void 0&&t[a]!==void 0&&(n[a]=Sj(e[a],t[a]));return a=>{for(const o in n)s[o]=n[o](a);return s}},Cj=(e,t)=>{const s=xn.createTransformer(t),n=Rl(e),a=Rl(t);return n.numVars===a.numVars&&n.numColors===a.numColors&&n.numNumbers>=a.numNumbers?un(kj(n.values,a.values),s):Nj(e,t)},ko=(e,t,s)=>{const n=t-e;return n===0?1:(s-e)/n},qx=(e,t)=>s=>be(e,t,s);function A4(e){return typeof e=="number"?qx:typeof e=="string"?st.test(e)?gj:Cj:Array.isArray(e)?kj:typeof e=="object"?C4:qx}function P4(e,t,s){const n=[],a=s||A4(e[0]),o=e.length-1;for(let i=0;i<o;i++){let l=a(e[i],e[i+1]);if(t){const c=Array.isArray(t)?t[i]||Re:t;l=un(c,l)}n.push(l)}return n}function Aj(e,t,{clamp:s=!0,ease:n,mixer:a}={}){const o=e.length;if(uh(o===t.length),o===1)return()=>t[0];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const i=P4(t,n,a),l=i.length,c=u=>{let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=ko(e[d],e[d+1],u);return i[d](f)};return s?u=>c(mn(e[0],e[o-1],u)):c}function E4(e,t){const s=e[e.length-1];for(let n=1;n<=t;n++){const a=ko(0,t,n);e.push(be(s,1,a))}}function R4(e){const t=[0];return E4(t,e.length-1),t}function T4(e,t){return e.map(s=>s*t)}function D4(e,t){return e.map(()=>t||dj).splice(0,e.length-1)}function Tl({duration:e=300,keyframes:t,times:s,ease:n="easeInOut"}){const a=p4(n)?n.map(Wx):Wx(n),o={done:!1,value:t[0]},i=T4(s&&s.length===t.length?s:R4(t),e),l=Aj(i,t,{ease:Array.isArray(a)?a:D4(t,a)});return{calculatedDuration:e,next:c=>(o.value=l(c),o.done=c>=e,o)}}function Pj(e,t){return t?e*(1e3/t):0}const _4=5;function Ej(e,t,s){const n=Math.max(t-_4,0);return Pj(s-e(n),t-n)}const ju=.001,M4=.01,L4=10,I4=.05,O4=1;function F4({duration:e=800,bounce:t=.25,velocity:s=0,mass:n=1}){let a,o,i=1-t;i=mn(I4,O4,i),e=mn(M4,L4,Ss(e)),i<1?(a=u=>{const d=u*i,f=d*e,h=d-s,g=df(u,i),m=Math.exp(-f);return ju-h/g*m},o=u=>{const f=u*i*e,h=f*s+s,g=Math.pow(i,2)*Math.pow(u,2)*e,m=Math.exp(-f),w=df(Math.pow(u,2),i);return(-a(u)+ju>0?-1:1)*((h-g)*m)/w}):(a=u=>{const d=Math.exp(-u*e),f=(u-s)*e+1;return-ju+d*f},o=u=>{const d=Math.exp(-u*e),f=(s-u)*(e*e);return d*f});const l=5/e,c=U4(a,o,l);if(e=Vn(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:i*2*Math.sqrt(n*u),duration:e}}}const z4=12;function U4(e,t,s){let n=s;for(let a=1;a<z4;a++)n=n-e(n)/t(n);return n}function df(e,t){return e*Math.sqrt(1-t*t)}const V4=["duration","bounce"],$4=["stiffness","damping","mass"];function Gx(e,t){return t.some(s=>e[s]!==void 0)}function B4(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Gx(e,$4)&&Gx(e,V4)){const s=F4(e);t={...t,...s,mass:1},t.isResolvedFromDuration=!0}return t}function Rj({keyframes:e,restDelta:t,restSpeed:s,...n}){const a=e[0],o=e[e.length-1],i={done:!1,value:a},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:h}=B4({...n,velocity:-Ss(n.velocity||0)}),g=f||0,m=c/(2*Math.sqrt(l*u)),w=o-a,b=Ss(Math.sqrt(l/u)),y=Math.abs(w)<5;s||(s=y?.01:2),t||(t=y?.005:.5);let p;if(m<1){const v=df(b,m);p=j=>{const N=Math.exp(-m*b*j);return o-N*((g+m*b*w)/v*Math.sin(v*j)+w*Math.cos(v*j))}}else if(m===1)p=v=>o-Math.exp(-b*v)*(w+(g+b*w)*v);else{const v=b*Math.sqrt(m*m-1);p=j=>{const N=Math.exp(-m*b*j),k=Math.min(v*j,300);return o-N*((g+m*b*w)*Math.sinh(k)+v*w*Math.cosh(k))/v}}return{calculatedDuration:h&&d||null,next:v=>{const j=p(v);if(h)i.done=v>=d;else{let N=g;v!==0&&(m<1?N=Ej(p,v,j):N=0);const k=Math.abs(N)<=s,P=Math.abs(o-j)<=t;i.done=k&&P}return i.value=i.done?o:j,i}}}function Kx({keyframes:e,velocity:t=0,power:s=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:i,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},g=S=>l!==void 0&&S<l||c!==void 0&&S>c,m=S=>l===void 0?c:c===void 0||Math.abs(l-S)<Math.abs(c-S)?l:c;let w=s*t;const b=f+w,y=i===void 0?b:i(b);y!==b&&(w=y-f);const p=S=>-w*Math.exp(-S/n),v=S=>y+p(S),j=S=>{const R=p(S),T=v(S);h.done=Math.abs(R)<=u,h.value=h.done?y:T};let N,k;const P=S=>{g(h.value)&&(N=S,k=Rj({keyframes:[h.value,m(h.value)],velocity:Ej(v,S,h.value),damping:a,stiffness:o,restDelta:u,restSpeed:d}))};return P(0),{calculatedDuration:null,next:S=>{let R=!1;return!k&&N===void 0&&(R=!0,j(S),P(S)),N!==void 0&&S>N?k.next(S-N):(!R&&j(S),h)}}}const W4=e=>{const t=({timestamp:s})=>e(s);return{start:()=>ye.update(t,!0),stop:()=>Ts(t),now:()=>Ge.isProcessing?Ge.timestamp:performance.now()}},Yx=2e4;function Xx(e){let t=0;const s=50;let n=e.next(t);for(;!n.done&&t<Yx;)t+=s,n=e.next(t);return t>=Yx?1/0:t}const H4={decay:Kx,inertia:Kx,tween:Tl,keyframes:Tl,spring:Rj};function Dl({autoplay:e=!0,delay:t=0,driver:s=W4,keyframes:n,type:a="keyframes",repeat:o=0,repeatDelay:i=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:f,...h}){let g=1,m=!1,w,b;const y=()=>{b=new Promise(L=>{w=L})};y();let p;const v=H4[a]||Tl;let j;v!==Tl&&typeof n[0]!="number"&&(j=Aj([0,100],n,{clamp:!1}),n=[0,100]);const N=v({...h,keyframes:n});let k;l==="mirror"&&(k=v({...h,keyframes:[...n].reverse(),velocity:-(h.velocity||0)}));let P="idle",S=null,R=null,T=null;N.calculatedDuration===null&&o&&(N.calculatedDuration=Xx(N));const{calculatedDuration:F}=N;let O=1/0,W=1/0;F!==null&&(O=F+i,W=O*(o+1)-i);let U=0;const q=L=>{if(R===null)return;g>0&&(R=Math.min(R,L)),g<0&&(R=Math.min(L-W/g,R)),S!==null?U=S:U=Math.round(L-R)*g;const B=U-t*(g>=0?1:-1),re=g>=0?B<0:B>W;U=Math.max(B,0),P==="finished"&&S===null&&(U=W);let se=U,fe=N;if(o){const We=Math.min(U,W)/O;let es=Math.floor(We),ts=We%1;!ts&&We>=1&&(ts=1),ts===1&&es--,es=Math.min(es,o+1),!!(es%2)&&(l==="reverse"?(ts=1-ts,i&&(ts-=i/O)):l==="mirror"&&(fe=k)),se=mn(0,1,ts)*O}const Pe=re?{done:!1,value:n[0]}:fe.next(se);j&&(Pe.value=j(Pe.value));let{done:Ue}=Pe;!re&&F!==null&&(Ue=g>=0?U>=W:U<=0);const kn=S===null&&(P==="finished"||P==="running"&&Ue);return f&&f(Pe.value),kn&&D(),Pe},A=()=>{p&&p.stop(),p=void 0},V=()=>{P="idle",A(),w(),y(),R=T=null},D=()=>{P="finished",d&&d(),A(),w()},C=()=>{if(m)return;p||(p=s(q));const L=p.now();c&&c(),S!==null?R=L-S:(!R||P==="finished")&&(R=L),P==="finished"&&y(),T=R,S=null,P="running",p.start()};e&&C();const _={then(L,B){return b.then(L,B)},get time(){return Ss(U)},set time(L){L=Vn(L),U=L,S!==null||!p||g===0?S=L:R=p.now()-L/g},get duration(){const L=N.calculatedDuration===null?Xx(N):N.calculatedDuration;return Ss(L)},get speed(){return g},set speed(L){L===g||!p||(g=L,_.time=Ss(U))},get state(){return P},play:C,pause:()=>{P="paused",S=U},stop:()=>{m=!0,P!=="idle"&&(P="idle",u&&u(),V())},cancel:()=>{T!==null&&q(T),V()},complete:()=>{P="finished"},sample:L=>(R=0,q(L))};return _}function q4(e){let t;return()=>(t===void 0&&(t=e()),t)}const G4=q4(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),K4=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),ji=10,Y4=2e4,X4=(e,t)=>t.type==="spring"||e==="backgroundColor"||!ij(t.ease);function Q4(e,t,{onUpdate:s,onComplete:n,...a}){if(!(G4()&&K4.has(t)&&!a.repeatDelay&&a.repeatType!=="mirror"&&a.damping!==0&&a.type!=="inertia"))return!1;let i=!1,l,c,u=!1;const d=()=>{c=new Promise(v=>{l=v})};d();let{keyframes:f,duration:h=300,ease:g,times:m}=a;if(X4(t,a)){const v=Dl({...a,repeat:0,delay:0});let j={done:!1,value:f[0]};const N=[];let k=0;for(;!j.done&&k<Y4;)j=v.sample(k),N.push(j.value),k+=ji;m=void 0,f=N,h=k-ji,g="linear"}const w=o4(e.owner.current,t,f,{...a,duration:h,ease:g,times:m}),b=()=>{u=!1,w.cancel()},y=()=>{u=!0,ye.update(b),l(),d()};return w.onfinish=()=>{u||(e.set(i4(f,a)),n&&n(),y())},{then(v,j){return c.then(v,j)},attachTimeline(v){return w.timeline=v,w.onfinish=null,Re},get time(){return Ss(w.currentTime||0)},set time(v){w.currentTime=Vn(v)},get speed(){return w.playbackRate},set speed(v){w.playbackRate=v},get duration(){return Ss(h)},play:()=>{i||(w.play(),Ts(b))},pause:()=>w.pause(),stop:()=>{if(i=!0,w.playState==="idle")return;const{currentTime:v}=w;if(v){const j=Dl({...a,autoplay:!1});e.setWithVelocity(j.sample(v-ji).value,j.sample(v).value,ji)}y()},complete:()=>{u||w.finish()},cancel:y}}function J4({keyframes:e,delay:t,onUpdate:s,onComplete:n}){const a=()=>(s&&s(e[e.length-1]),n&&n(),{time:0,speed:1,duration:0,play:Re,pause:Re,stop:Re,then:o=>(o(),Promise.resolve()),cancel:Re,complete:Re});return t?Dl({keyframes:[0,1],duration:0,delay:t,onComplete:a}):a()}const Z4={type:"spring",stiffness:500,damping:25,restSpeed:10},eD=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),tD={type:"keyframes",duration:.8},sD={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},nD=(e,{keyframes:t})=>t.length>2?tD:rr.has(e)?e.startsWith("scale")?eD(t[1]):Z4:sD,ff=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(xn.test(t)||t==="0")&&!t.startsWith("url(")),rD=new Set(["brightness","contrast","saturate","opacity"]);function aD(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=s.match(jc)||[];if(!n)return e;const a=s.replace(n,"");let o=rD.has(t)?1:0;return n!==s&&(o*=100),t+"("+o+a+")"}const oD=/([a-z-]*)\(.*?\)/g,pf={...xn,getAnimatableNone:e=>{const t=e.match(oD);return t?t.map(aD).join(" "):e}},iD={...Hb,color:st,backgroundColor:st,outlineColor:st,fill:st,stroke:st,borderColor:st,borderTopColor:st,borderRightColor:st,borderBottomColor:st,borderLeftColor:st,filter:pf,WebkitFilter:pf},hh=e=>iD[e];function Tj(e,t){let s=hh(e);return s!==pf&&(s=xn),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const Dj=e=>/^0[^.\s]+$/.test(e);function lD(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||Dj(e)}function cD(e,t,s,n){const a=ff(t,s);let o;Array.isArray(s)?o=[...s]:o=[null,s];const i=n.from!==void 0?n.from:e.get();let l;const c=[];for(let u=0;u<o.length;u++)o[u]===null&&(o[u]=u===0?i:o[u-1]),lD(o[u])&&c.push(u),typeof o[u]=="string"&&o[u]!=="none"&&o[u]!=="0"&&(l=o[u]);if(a&&c.length&&l)for(let u=0;u<c.length;u++){const d=c[u];o[d]=Tj(t,l)}return o}function uD({when:e,delay:t,delayChildren:s,staggerChildren:n,staggerDirection:a,repeat:o,repeatType:i,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function mh(e,t){return e[t]||e.default||e}const dD={skipAnimations:!1},xh=(e,t,s,n={})=>a=>{const o=mh(n,e)||{},i=o.delay||n.delay||0;let{elapsed:l=0}=n;l=l-Vn(i);const c=cD(t,e,s,o),u=c[0],d=c[c.length-1],f=ff(e,u),h=ff(e,d);let g={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...o,delay:-l,onUpdate:m=>{t.set(m),o.onUpdate&&o.onUpdate(m)},onComplete:()=>{a(),o.onComplete&&o.onComplete()}};if(uD(o)||(g={...g,...nD(e,g)}),g.duration&&(g.duration=Vn(g.duration)),g.repeatDelay&&(g.repeatDelay=Vn(g.repeatDelay)),!f||!h||a4.current||o.type===!1||dD.skipAnimations)return J4(g);if(!n.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const m=Q4(t,e,g);if(m)return m}return Dl(g)};function _l(e){return!!(yt(e)&&e.add)}const _j=e=>/^\-?\d*\.?\d+$/.test(e);function gh(e,t){e.indexOf(t)===-1&&e.push(t)}function yh(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}class vh{constructor(){this.subscriptions=[]}add(t){return gh(this.subscriptions,t),()=>yh(this.subscriptions,t)}notify(t,s,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,s,n);else for(let o=0;o<a;o++){const i=this.subscriptions[o];i&&i(t,s,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const fD=e=>!isNaN(parseFloat(e));class pD{constructor(t,s={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,a=!0)=>{this.prev=this.current,this.current=n;const{delta:o,timestamp:i}=Ge;this.lastUpdated!==i&&(this.timeDelta=o,this.lastUpdated=i,ye.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ye.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=fD(this.current),this.owner=s.owner}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new vh);const n=this.events[t].add(s);return t==="change"?()=>{n(),ye.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t,s=!0){!s||!this.passiveEffect?this.updateAndNotify(t,s):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,s,n){this.set(s),this.prev=t,this.timeDelta=n}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Pj(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Jr(e,t){return new pD(e,t)}const Mj=e=>t=>t.test(e),hD={test:e=>e==="auto",parse:e=>e},Lj=[ar,K,cs,Bs,wT,vT,hD],Pa=e=>Lj.find(Mj(e)),mD=[...Lj,st,xn],xD=e=>mD.find(Mj(e));function gD(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,Jr(s))}function yD(e,t){const s=Sc(e,t);let{transitionEnd:n={},transition:a={},...o}=s?e.makeTargetAnimatable(s,!1):{};o={...o,...n};for(const i in o){const l=LT(o[i]);gD(e,i,l)}}function vD(e,t,s){var n,a;const o=Object.keys(t).filter(l=>!e.hasValue(l)),i=o.length;if(i)for(let l=0;l<i;l++){const c=o[l],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(a=(n=s[c])!==null&&n!==void 0?n:e.readValue(c))!==null&&a!==void 0?a:t[c]),d!=null&&(typeof d=="string"&&(_j(d)||Dj(d))?d=parseFloat(d):!xD(d)&&xn.test(u)&&(d=Tj(c,u)),e.addValue(c,Jr(d,{owner:e})),s[c]===void 0&&(s[c]=d),d!==null&&e.setBaseTarget(c,d))}}function wD(e,t){return t?(t[e]||t.default||t).from:void 0}function bD(e,t,s){const n={};for(const a in e){const o=wD(a,t);if(o!==void 0)n[a]=o;else{const i=s.getValue(a);i&&(n[a]=i.get())}}return n}function jD({protectedKeys:e,needsAnimating:t},s){const n=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,n}function ND(e,t){const s=e.get();if(Array.isArray(t)){for(let n=0;n<t.length;n++)if(t[n]!==s)return!0}else return s!==t}function Ij(e,t,{delay:s=0,transitionOverride:n,type:a}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:i,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");n&&(o=n);const u=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const f in l){const h=e.getValue(f),g=l[f];if(!h||g===void 0||d&&jD(d,f))continue;const m={delay:s,elapsed:0,...mh(o||{},f)};if(window.HandoffAppearAnimations){const y=e.getProps()[Ob];if(y){const p=window.HandoffAppearAnimations(y,f,h,ye);p!==null&&(m.elapsed=p,m.isHandoff=!0)}}let w=!m.isHandoff&&!ND(h,g);if(m.type==="spring"&&(h.getVelocity()||m.velocity)&&(w=!1),h.animation&&(w=!1),w)continue;h.start(xh(f,h,g,e.shouldReduceMotion&&rr.has(f)?{type:!1}:m));const b=h.animation;_l(c)&&(c.add(f),b.then(()=>c.remove(f))),u.push(b)}return i&&Promise.all(u).then(()=>{i&&yD(e,i)}),u}function hf(e,t,s={}){const n=Sc(e,t,s.custom);let{transition:a=e.getDefaultTransition()||{}}=n||{};s.transitionOverride&&(a=s.transitionOverride);const o=n?()=>Promise.all(Ij(e,n,s)):()=>Promise.resolve(),i=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=a;return SD(e,t,u+c,d,f,s)}:()=>Promise.resolve(),{when:l}=a;if(l){const[c,u]=l==="beforeChildren"?[o,i]:[i,o];return c().then(()=>u())}else return Promise.all([o(),i(s.delay)])}function SD(e,t,s=0,n=0,a=1,o){const i=[],l=(e.variantChildren.size-1)*n,c=a===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(e.variantChildren).sort(kD).forEach((u,d)=>{u.notify("AnimationStart",t),i.push(hf(u,t,{...o,delay:s+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(i)}function kD(e,t){return e.sortNodePosition(t)}function CD(e,t,s={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(o=>hf(e,o,s));n=Promise.all(a)}else if(typeof t=="string")n=hf(e,t,s);else{const a=typeof t=="function"?Sc(e,t,s.custom):t;n=Promise.all(Ij(e,a,s))}return n.then(()=>e.notify("AnimationComplete",t))}const AD=[...th].reverse(),PD=th.length;function ED(e){return t=>Promise.all(t.map(({animation:s,options:n})=>CD(e,s,n)))}function RD(e){let t=ED(e);const s=DD();let n=!0;const a=(c,u)=>{const d=Sc(e,u);if(d){const{transition:f,transitionEnd:h,...g}=d;c={...c,...g,...h}}return c};function o(c){t=c(e)}function i(c,u){const d=e.getProps(),f=e.getVariantContext(!0)||{},h=[],g=new Set;let m={},w=1/0;for(let y=0;y<PD;y++){const p=AD[y],v=s[p],j=d[p]!==void 0?d[p]:f[p],N=No(j),k=p===u?v.isActive:null;k===!1&&(w=y);let P=j===f[p]&&j!==d[p]&&N;if(P&&n&&e.manuallyAnimateOnMount&&(P=!1),v.protectedKeys={...m},!v.isActive&&k===null||!j&&!v.prevProp||wc(j)||typeof j=="boolean")continue;let R=TD(v.prevProp,j)||p===u&&v.isActive&&!P&&N||y>w&&N,T=!1;const F=Array.isArray(j)?j:[j];let O=F.reduce(a,{});k===!1&&(O={});const{prevResolvedValues:W={}}=v,U={...W,...O},q=A=>{R=!0,g.has(A)&&(T=!0,g.delete(A)),v.needsAnimating[A]=!0};for(const A in U){const V=O[A],D=W[A];if(m.hasOwnProperty(A))continue;let C=!1;El(V)&&El(D)?C=!aj(V,D):C=V!==D,C?V!==void 0?q(A):g.add(A):V!==void 0&&g.has(A)?q(A):v.protectedKeys[A]=!0}v.prevProp=j,v.prevResolvedValues=O,v.isActive&&(m={...m,...O}),n&&e.blockInitialAnimation&&(R=!1),R&&(!P||T)&&h.push(...F.map(A=>({animation:A,options:{type:p,...c}})))}if(g.size){const y={};g.forEach(p=>{const v=e.getBaseTarget(p);v!==void 0&&(y[p]=v)}),h.push({animation:y})}let b=!!h.length;return n&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(b=!1),n=!1,b?t(h):Promise.resolve()}function l(c,u,d){var f;if(s[c].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(g=>{var m;return(m=g.animationState)===null||m===void 0?void 0:m.setActive(c,u)}),s[c].isActive=u;const h=i(d,c);for(const g in s)s[g].protectedKeys={};return h}return{animateChanges:i,setActive:l,setAnimateFunction:o,getState:()=>s}}function TD(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!aj(t,e):!1}function Cn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function DD(){return{animate:Cn(!0),whileInView:Cn(),whileHover:Cn(),whileTap:Cn(),whileDrag:Cn(),whileFocus:Cn(),exit:Cn()}}class _D extends Sn{constructor(t){super(t),t.animationState||(t.animationState=RD(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),wc(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){}}let MD=0;class LD extends Sn{constructor(){super(...arguments),this.id=MD++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s,custom:n}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const o=this.node.animationState.setActive("exit",!t,{custom:n??this.node.getProps().custom});s&&!t&&o.then(()=>s(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const ID={animation:{Feature:_D},exit:{Feature:LD}},Qx=(e,t)=>Math.abs(e-t);function OD(e,t){const s=Qx(e.x,t.x),n=Qx(e.y,t.y);return Math.sqrt(s**2+n**2)}class Oj{constructor(t,s,{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Su(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,g=OD(f.offset,{x:0,y:0})>=3;if(!h&&!g)return;const{point:m}=f,{timestamp:w}=Ge;this.history.push({...m,timestamp:w});const{onStart:b,onMove:y}=this.handlers;h||(b&&b(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Nu(h,this.transformPagePoint),ye.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:g,onSessionEnd:m,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Su(f.type==="pointercancel"?this.lastMoveEventInfo:Nu(h,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,b),m&&m(f,b)},!ej(t))return;this.dragSnapToOrigin=o,this.handlers=s,this.transformPagePoint=n,this.contextWindow=a||window;const i=Nc(t),l=Nu(i,this.transformPagePoint),{point:c}=l,{timestamp:u}=Ge;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=s;d&&d(t,Su(l,this.history)),this.removeListeners=un(Ns(this.contextWindow,"pointermove",this.handlePointerMove),Ns(this.contextWindow,"pointerup",this.handlePointerUp),Ns(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ts(this.updatePoint)}}function Nu(e,t){return t?{point:t(e.point)}:e}function Jx(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Su({point:e},t){return{point:e,delta:Jx(e,Fj(t)),offset:Jx(e,FD(t)),velocity:zD(t,.1)}}function FD(e){return e[0]}function Fj(e){return e[e.length-1]}function zD(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,n=null;const a=Fj(e);for(;s>=0&&(n=e[s],!(a.timestamp-n.timestamp>Vn(t)));)s--;if(!n)return{x:0,y:0};const o=Ss(a.timestamp-n.timestamp);if(o===0)return{x:0,y:0};const i={x:(a.x-n.x)/o,y:(a.y-n.y)/o};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function Ct(e){return e.max-e.min}function mf(e,t=0,s=.01){return Math.abs(e-t)<=s}function Zx(e,t,s,n=.5){e.origin=n,e.originPoint=be(t.min,t.max,e.origin),e.scale=Ct(s)/Ct(t),(mf(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=be(s.min,s.max,e.origin)-e.originPoint,(mf(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Qa(e,t,s,n){Zx(e.x,t.x,s.x,n?n.originX:void 0),Zx(e.y,t.y,s.y,n?n.originY:void 0)}function eg(e,t,s){e.min=s.min+t.min,e.max=e.min+Ct(t)}function UD(e,t,s){eg(e.x,t.x,s.x),eg(e.y,t.y,s.y)}function tg(e,t,s){e.min=t.min-s.min,e.max=e.min+Ct(t)}function Ja(e,t,s){tg(e.x,t.x,s.x),tg(e.y,t.y,s.y)}function VD(e,{min:t,max:s},n){return t!==void 0&&e<t?e=n?be(t,e,n.min):Math.max(e,t):s!==void 0&&e>s&&(e=n?be(s,e,n.max):Math.min(e,s)),e}function sg(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function $D(e,{top:t,left:s,bottom:n,right:a}){return{x:sg(e.x,s,a),y:sg(e.y,t,n)}}function ng(e,t){let s=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,n]=[n,s]),{min:s,max:n}}function BD(e,t){return{x:ng(e.x,t.x),y:ng(e.y,t.y)}}function WD(e,t){let s=.5;const n=Ct(e),a=Ct(t);return a>n?s=ko(t.min,t.max-n,e.min):n>a&&(s=ko(e.min,e.max-a,t.min)),mn(0,1,s)}function HD(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const xf=.35;function qD(e=xf){return e===!1?e=0:e===!0&&(e=xf),{x:rg(e,"left","right"),y:rg(e,"top","bottom")}}function rg(e,t,s){return{min:ag(e,t),max:ag(e,s)}}function ag(e,t){return typeof e=="number"?e:e[t]||0}const og=()=>({translate:0,scale:1,origin:0,originPoint:0}),Pr=()=>({x:og(),y:og()}),ig=()=>({min:0,max:0}),De=()=>({x:ig(),y:ig()});function Rt(e){return[e("x"),e("y")]}function zj({top:e,left:t,right:s,bottom:n}){return{x:{min:t,max:s},y:{min:e,max:n}}}function GD({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function KD(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:n.y,right:n.x}}function ku(e){return e===void 0||e===1}function gf({scale:e,scaleX:t,scaleY:s}){return!ku(e)||!ku(t)||!ku(s)}function Rn(e){return gf(e)||Uj(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Uj(e){return lg(e.x)||lg(e.y)}function lg(e){return e&&e!=="0%"}function Ml(e,t,s){const n=e-s,a=t*n;return s+a}function cg(e,t,s,n,a){return a!==void 0&&(e=Ml(e,a,n)),Ml(e,s,n)+t}function yf(e,t=0,s=1,n,a){e.min=cg(e.min,t,s,n,a),e.max=cg(e.max,t,s,n,a)}function Vj(e,{x:t,y:s}){yf(e.x,t.translate,t.scale,t.originPoint),yf(e.y,s.translate,s.scale,s.originPoint)}function YD(e,t,s,n=!1){const a=s.length;if(!a)return;t.x=t.y=1;let o,i;for(let l=0;l<a;l++){o=s[l],i=o.projectionDelta;const c=o.instance;c&&c.style&&c.style.display==="contents"||(n&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Er(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,Vj(e,i)),n&&Rn(o.latestValues)&&Er(e,o.latestValues))}t.x=ug(t.x),t.y=ug(t.y)}function ug(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Gs(e,t){e.min=e.min+t,e.max=e.max+t}function dg(e,t,[s,n,a]){const o=t[a]!==void 0?t[a]:.5,i=be(e.min,e.max,o);yf(e,t[s],t[n],i,t.scale)}const XD=["x","scaleX","originX"],QD=["y","scaleY","originY"];function Er(e,t){dg(e.x,t,XD),dg(e.y,t,QD)}function $j(e,t){return zj(KD(e.getBoundingClientRect(),t))}function JD(e,t,s){const n=$j(e,s),{scroll:a}=t;return a&&(Gs(n.x,a.offset.x),Gs(n.y,a.offset.y)),n}const Bj=({current:e})=>e?e.ownerDocument.defaultView:null,ZD=new WeakMap;class e3{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=De(),this.visualElement=t}start(t,{snapToCursor:s=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Nc(d,"page").point)},o=(d,f)=>{const{drag:h,dragPropagation:g,onDragStart:m}=this.getProps();if(h&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=sj(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Rt(b=>{let y=this.getAxisMotionValue(b).get()||0;if(cs.test(y)){const{projection:p}=this.visualElement;if(p&&p.layout){const v=p.layout.layoutBox[b];v&&(y=Ct(v)*(parseFloat(y)/100))}}this.originPoint[b]=y}),m&&ye.update(()=>m(d,f),!1,!0);const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},i=(d,f)=>{const{dragPropagation:h,dragDirectionLock:g,onDirectionLock:m,onDrag:w}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:b}=f;if(g&&this.currentDirection===null){this.currentDirection=t3(b),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",f.point,b),this.updateAxis("y",f.point,b),this.visualElement.render(),w&&w(d,f)},l=(d,f)=>this.stop(d,f),c=()=>Rt(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Oj(t,{onSessionStart:a,onStart:o,onMove:i,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Bj(this.visualElement)})}stop(t,s){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&ye.update(()=>o(t,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,n){const{drag:a}=this.getProps();if(!n||!Ni(t,a,this.currentDirection))return;const o=this.getAxisMotionValue(t);let i=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(i=VD(i,this.constraints[t],this.elastic[t])),o.set(i)}resolveConstraints(){var t;const{dragConstraints:s,dragElastic:n}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;s&&Cr(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&a?this.constraints=$D(a.layoutBox,s):this.constraints=!1,this.elastic=qD(n),o!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Rt(i=>{this.getAxisMotionValue(i)&&(this.constraints[i]=HD(a.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!Cr(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=JD(n,a.root,this.visualElement.getTransformPagePoint());let i=BD(a.layout.layoutBox,o);if(s){const l=s(GD(i));this.hasMutatedConstraints=!!l,l&&(i=zj(l))}return i}startAnimation(t){const{drag:s,dragMomentum:n,dragElastic:a,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Rt(d=>{if(!Ni(d,s,this.currentDirection))return;let f=c&&c[d]||{};i&&(f={min:0,max:0});const h=a?200:1e6,g=a?40:1e7,m={type:"inertia",velocity:n?t[d]:0,bounceStiffness:h,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(d,m)});return Promise.all(u).then(l)}startAxisValueAnimation(t,s){const n=this.getAxisMotionValue(t);return n.start(xh(t,n,0,s))}stopAnimation(){Rt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Rt(t=>{var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(t){const s="_drag"+t.toUpperCase(),n=this.visualElement.getProps(),a=n[s];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Rt(s=>{const{drag:n}=this.getProps();if(!Ni(s,n,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(s);if(a&&a.layout){const{min:i,max:l}=a.layout.layoutBox[s];o.set(t[s]-be(i,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:n}=this.visualElement;if(!Cr(s)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Rt(i=>{const l=this.getAxisMotionValue(i);if(l){const c=l.get();a[i]=WD({min:c,max:c},this.constraints[i])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Rt(i=>{if(!Ni(i,t,null))return;const l=this.getAxisMotionValue(i),{min:c,max:u}=this.constraints[i];l.set(be(c,u,a[i]))})}addListeners(){if(!this.visualElement.current)return;ZD.set(this.visualElement,this);const t=this.visualElement.current,s=Ns(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Cr(c)&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),n();const i=bs(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Rt(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{i(),s(),o(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:i=xf,dragMomentum:l=!0}=t;return{...t,drag:s,dragDirectionLock:n,dragPropagation:a,dragConstraints:o,dragElastic:i,dragMomentum:l}}}function Ni(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function t3(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class s3 extends Sn{constructor(t){super(t),this.removeGroupControls=Re,this.removeListeners=Re,this.controls=new e3(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Re}unmount(){this.removeGroupControls(),this.removeListeners()}}const fg=e=>(t,s)=>{e&&ye.update(()=>e(t,s))};class n3 extends Sn{constructor(){super(...arguments),this.removePointerDownListener=Re}onPointerDown(t){this.session=new Oj(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Bj(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:fg(t),onStart:fg(s),onMove:n,onEnd:(o,i)=>{delete this.session,a&&ye.update(()=>a(o,i))}}}mount(){this.removePointerDownListener=Ns(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function r3(){const e=x.useContext(Zp);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:s,register:n}=e,a=x.useId();return x.useEffect(()=>n(a),[]),!t&&s?[!1,()=>s&&s(a)]:[!0]}const Gi={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pg(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ea={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(K.test(e))e=parseFloat(e);else return e;const s=pg(e,t.target.x),n=pg(e,t.target.y);return`${s}% ${n}%`}},a3={correct:(e,{treeScale:t,projectionDelta:s})=>{const n=e,a=xn.parse(e);if(a.length>5)return n;const o=xn.createTransformer(e),i=typeof a[0]!="number"?1:0,l=s.x.scale*t.x,c=s.y.scale*t.y;a[0+i]/=l,a[1+i]/=c;const u=be(l,c,.5);return typeof a[2+i]=="number"&&(a[2+i]/=u),typeof a[3+i]=="number"&&(a[3+i]/=u),o(a)}};class o3 extends E.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n,layoutId:a}=this.props,{projection:o}=t;fT(i3),o&&(s.group&&s.group.add(o),n&&n.register&&a&&n.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Gi.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:n,drag:a,isPresent:o}=this.props,i=n.projection;return i&&(i.isPresent=o,a||t.layoutDependency!==s||s===void 0?i.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?i.promote():i.relegate()||ye.postRender(()=>{const l=i.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Wj(e){const[t,s]=r3(),n=x.useContext(zb);return E.createElement(o3,{...e,layoutGroup:n,switchLayoutGroup:x.useContext(Ub),isPresent:t,safeToRemove:s})}const i3={borderRadius:{...Ea,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ea,borderTopRightRadius:Ea,borderBottomLeftRadius:Ea,borderBottomRightRadius:Ea,boxShadow:a3},Hj=["TopLeft","TopRight","BottomLeft","BottomRight"],l3=Hj.length,hg=e=>typeof e=="string"?parseFloat(e):e,mg=e=>typeof e=="number"||K.test(e);function c3(e,t,s,n,a,o){a?(e.opacity=be(0,s.opacity!==void 0?s.opacity:1,u3(n)),e.opacityExit=be(t.opacity!==void 0?t.opacity:1,0,d3(n))):o&&(e.opacity=be(t.opacity!==void 0?t.opacity:1,s.opacity!==void 0?s.opacity:1,n));for(let i=0;i<l3;i++){const l=`border${Hj[i]}Radius`;let c=xg(t,l),u=xg(s,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||mg(c)===mg(u)?(e[l]=Math.max(be(hg(c),hg(u),n),0),(cs.test(u)||cs.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||s.rotate)&&(e.rotate=be(t.rotate||0,s.rotate||0,n))}function xg(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const u3=qj(0,.5,hj),d3=qj(.5,.95,Re);function qj(e,t,s){return n=>n<e?0:n>t?1:s(ko(e,t,n))}function gg(e,t){e.min=t.min,e.max=t.max}function Et(e,t){gg(e.x,t.x),gg(e.y,t.y)}function yg(e,t,s,n,a){return e-=t,e=Ml(e,1/s,n),a!==void 0&&(e=Ml(e,1/a,n)),e}function f3(e,t=0,s=1,n=.5,a,o=e,i=e){if(cs.test(t)&&(t=parseFloat(t),t=be(i.min,i.max,t/100)-i.min),typeof t!="number")return;let l=be(o.min,o.max,n);e===o&&(l-=t),e.min=yg(e.min,t,s,l,a),e.max=yg(e.max,t,s,l,a)}function vg(e,t,[s,n,a],o,i){f3(e,t[s],t[n],t[a],t.scale,o,i)}const p3=["x","scaleX","originX"],h3=["y","scaleY","originY"];function wg(e,t,s,n){vg(e.x,t,p3,s?s.x:void 0,n?n.x:void 0),vg(e.y,t,h3,s?s.y:void 0,n?n.y:void 0)}function bg(e){return e.translate===0&&e.scale===1}function Gj(e){return bg(e.x)&&bg(e.y)}function m3(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Kj(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function jg(e){return Ct(e.x)/Ct(e.y)}class x3{constructor(){this.members=[]}add(t){gh(this.members,t),t.scheduleRender()}remove(t){if(yh(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(a=>t===a);if(s===0)return!1;let n;for(let a=s;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){n=o;break}}return n?(this.promote(n),!0):!1}promote(t,s){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,s&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:n}=t;s.onExitComplete&&s.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Ng(e,t,s){let n="";const a=e.x.translate/t.x,o=e.y.translate/t.y;if((a||o)&&(n=`translate3d(${a}px, ${o}px, 0) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),s){const{rotate:c,rotateX:u,rotateY:d}=s;c&&(n+=`rotate(${c}deg) `),u&&(n+=`rotateX(${u}deg) `),d&&(n+=`rotateY(${d}deg) `)}const i=e.x.scale*t.x,l=e.y.scale*t.y;return(i!==1||l!==1)&&(n+=`scale(${i}, ${l})`),n||"none"}const g3=(e,t)=>e.depth-t.depth;class y3{constructor(){this.children=[],this.isDirty=!1}add(t){gh(this.children,t),this.isDirty=!0}remove(t){yh(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(g3),this.isDirty=!1,this.children.forEach(t)}}function v3(e,t){const s=performance.now(),n=({timestamp:a})=>{const o=a-s;o>=t&&(Ts(n),e(o-t))};return ye.read(n,!0),()=>Ts(n)}function w3(e){window.MotionDebug&&window.MotionDebug.record(e)}function b3(e){return e instanceof SVGElement&&e.tagName!=="svg"}function j3(e,t,s){const n=yt(e)?e:Jr(e);return n.start(xh("",n,t,s)),n.animation}const Sg=["","X","Y","Z"],N3={visibility:"hidden"},kg=1e3;let S3=0;const Tn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Yj({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(i={},l=t==null?void 0:t()){this.id=S3++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Tn.totalNodes=Tn.resolvedTargetDeltas=Tn.recalculatedProjection=0,this.nodes.forEach(A3),this.nodes.forEach(D3),this.nodes.forEach(_3),this.nodes.forEach(P3),w3(Tn)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new y3)}addEventListener(i,l){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new vh),this.eventHandlers.get(i).add(l)}notifyListeners(i,...l){const c=this.eventHandlers.get(i);c&&c.notify(...l)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=b3(i),this.instance=i;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=v3(h,250),Gi.hasAnimatedSinceResize&&(Gi.hasAnimatedSinceResize=!1,this.nodes.forEach(Ag))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:g,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||F3,{onLayoutAnimationStart:b,onLayoutAnimationComplete:y}=d.getProps(),p=!this.targetLayout||!Kj(this.targetLayout,m)||g,v=!h&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||v||h&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,v);const j={...mh(w,"layout"),onPlay:b,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else h||Ag(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ts(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(M3),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Cg);return}this.isUpdating||this.nodes.forEach(R3),this.isUpdating=!1,this.nodes.forEach(T3),this.nodes.forEach(k3),this.nodes.forEach(C3),this.clearAllSnapshots();const l=performance.now();Ge.delta=mn(0,1e3/60,l-Ge.timestamp),Ge.timestamp=l,Ge.isProcessing=!0,mu.update.process(Ge),mu.preRender.process(Ge),mu.render.process(Ge),Ge.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(E3),this.sharedNodes.forEach(L3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ye.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ye.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=De(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:i,isRoot:n(this.instance),offset:s(this.instance)})}resetTransform(){if(!a)return;const i=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!Gj(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;i&&(l||Rn(this.latestValues)||d)&&(a(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return i&&(c=this.removeTransform(c)),z3(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:i}=this.options;if(!i)return De();const l=i.measureViewportBox(),{scroll:c}=this.root;return c&&(Gs(l.x,c.offset.x),Gs(l.y,c.offset.y)),l}removeElementScroll(i){const l=De();Et(l,i);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){Et(l,i);const{scroll:h}=this.root;h&&(Gs(l.x,-h.offset.x),Gs(l.y,-h.offset.y))}Gs(l.x,d.offset.x),Gs(l.y,d.offset.y)}}return l}applyTransform(i,l=!1){const c=De();Et(c,i);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Er(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Rn(d.latestValues)&&Er(c,d.latestValues)}return Rn(this.latestValues)&&Er(c,this.latestValues),c}removeTransform(i){const l=De();Et(l,i);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Rn(u.latestValues))continue;gf(u.latestValues)&&u.updateSnapshot();const d=De(),f=u.measurePageBox();Et(d,f),wg(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Rn(this.latestValues)&&wg(l,this.latestValues),l}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ge.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(i||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=Ge.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=De(),this.relativeTargetOrigin=De(),Ja(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Et(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=De(),this.targetWithTransforms=De()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),UD(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Et(this.target,this.layout.layoutBox),Vj(this.target,this.targetDelta)):Et(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=De(),this.relativeTargetOrigin=De(),Ja(this.relativeTargetOrigin,this.target,g.target),Et(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Tn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||gf(this.parent.latestValues)||Uj(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ge.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Et(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,g=this.treeScale.y;YD(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:m}=l;if(!m){this.projectionTransform&&(this.projectionDelta=Pr(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Pr(),this.projectionDeltaWithTransform=Pr());const w=this.projectionTransform;Qa(this.projectionDelta,this.layoutCorrected,m,this.latestValues),this.projectionTransform=Ng(this.projectionDelta,this.treeScale),(this.projectionTransform!==w||this.treeScale.x!==h||this.treeScale.y!==g)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),Tn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),i){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(i,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Pr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=De(),g=c?c.source:void 0,m=this.layout?this.layout.source:void 0,w=g!==m,b=this.getStack(),y=!b||b.members.length<=1,p=!!(w&&!y&&this.options.crossfade===!0&&!this.path.some(O3));this.animationProgress=0;let v;this.mixTargetDelta=j=>{const N=j/1e3;Pg(f.x,i.x,N),Pg(f.y,i.y,N),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ja(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),I3(this.relativeTarget,this.relativeTargetOrigin,h,N),v&&m3(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=De()),Et(v,this.relativeTarget)),w&&(this.animationValues=d,c3(d,u,this.latestValues,N,p,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ts(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ye.update(()=>{Gi.hasAnimatedSinceResize=!0,this.currentAnimation=j3(0,kg,{...i,onUpdate:l=>{this.mixTargetDelta(l),i.onUpdate&&i.onUpdate(l)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(kg),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=i;if(!(!l||!c||!u)){if(this!==i&&this.layout&&u&&Xj(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||De();const f=Ct(this.layout.layoutBox.x);c.x.min=i.target.x.min,c.x.max=c.x.min+f;const h=Ct(this.layout.layoutBox.y);c.y.min=i.target.y.min,c.y.max=c.y.min+h}Et(l,c),Er(l,d),Qa(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(i,l){this.sharedNodes.has(i)||this.sharedNodes.set(i,new x3),this.sharedNodes.get(i).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:l}=this.options;return l?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:l}=this.options;return l?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),i&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetRotation(){const{visualElement:i}=this.options;if(!i)return;let l=!1;const{latestValues:c}=i;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<Sg.length;d++){const f="rotate"+Sg[d];c[f]&&(u[f]=c[f],i.setStaticValue(f,0))}i.render();for(const d in u)i.setStaticValue(d,u[d]);i.scheduleRender()}getProjectionStyles(i){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return N3;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=qi(i==null?void 0:i.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=qi(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!Rn(this.latestValues)&&(w.transform=d?d({},""):"none",this.hasProjected=!1),w}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=Ng(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:g,y:m}=this.projectionDelta;u.transformOrigin=`${g.origin*100}% ${m.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const w in Al){if(h[w]===void 0)continue;const{correct:b,applyTo:y}=Al[w],p=u.transform==="none"?h[w]:b(h[w],f);if(y){const v=y.length;for(let j=0;j<v;j++)u[y[j]]=p}else u[w]=p}return this.options.layoutId&&(u.pointerEvents=f===this?qi(i==null?void 0:i.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var l;return(l=i.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Cg),this.root.sharedNodes.clear()}}}function k3(e){e.updateLayout()}function C3(e){var t;const s=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&s&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:o}=e.options,i=s.source!==e.layout.source;o==="size"?Rt(f=>{const h=i?s.measuredBox[f]:s.layoutBox[f],g=Ct(h);h.min=n[f].min,h.max=h.min+g}):Xj(o,s.layoutBox,n)&&Rt(f=>{const h=i?s.measuredBox[f]:s.layoutBox[f],g=Ct(n[f]);h.max=h.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+g)});const l=Pr();Qa(l,n,s.layoutBox);const c=Pr();i?Qa(c,e.applyTransform(a,!0),s.measuredBox):Qa(c,n,s.layoutBox);const u=!Gj(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:g}=f;if(h&&g){const m=De();Ja(m,s.layoutBox,h.layoutBox);const w=De();Ja(w,n,g.layoutBox),Kj(m,w)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=m,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:s,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function A3(e){Tn.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function P3(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function E3(e){e.clearSnapshot()}function Cg(e){e.clearMeasurements()}function R3(e){e.isLayoutDirty=!1}function T3(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Ag(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function D3(e){e.resolveTargetDelta()}function _3(e){e.calcProjection()}function M3(e){e.resetRotation()}function L3(e){e.removeLeadSnapshot()}function Pg(e,t,s){e.translate=be(t.translate,0,s),e.scale=be(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function Eg(e,t,s,n){e.min=be(t.min,s.min,n),e.max=be(t.max,s.max,n)}function I3(e,t,s,n){Eg(e.x,t.x,s.x,n),Eg(e.y,t.y,s.y,n)}function O3(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const F3={duration:.45,ease:[.4,0,.1,1]},Rg=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),Tg=Rg("applewebkit/")&&!Rg("chrome/")?Math.round:Re;function Dg(e){e.min=Tg(e.min),e.max=Tg(e.max)}function z3(e){Dg(e.x),Dg(e.y)}function Xj(e,t,s){return e==="position"||e==="preserve-aspect"&&!mf(jg(t),jg(s),.2)}const U3=Yj({attachResizeListener:(e,t)=>bs(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Cu={current:void 0},Qj=Yj({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Cu.current){const e=new U3({});e.mount(window),e.setOptions({layoutScroll:!0}),Cu.current=e}return Cu.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),V3={pan:{Feature:n3},drag:{Feature:s3,ProjectionNode:Qj,MeasureLayout:Wj}},$3=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function B3(e){const t=$3.exec(e);if(!t)return[,];const[,s,n]=t;return[s,n]}function vf(e,t,s=1){const[n,a]=B3(e);if(!n)return;const o=window.getComputedStyle(t).getPropertyValue(n);if(o){const i=o.trim();return _j(i)?parseFloat(i):i}else return lf(a)?vf(a,t,s+1):a}function W3(e,{...t},s){const n=e.current;if(!(n instanceof Element))return{target:t,transitionEnd:s};s&&(s={...s}),e.values.forEach(a=>{const o=a.get();if(!lf(o))return;const i=vf(o,n);i&&a.set(i)});for(const a in t){const o=t[a];if(!lf(o))continue;const i=vf(o,n);i&&(t[a]=i,s||(s={}),s[a]===void 0&&(s[a]=o))}return{target:t,transitionEnd:s}}const H3=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Jj=e=>H3.has(e),q3=e=>Object.keys(e).some(Jj),_g=e=>e===ar||e===K,Mg=(e,t)=>parseFloat(e.split(", ")[t]),Lg=(e,t)=>(s,{transform:n})=>{if(n==="none"||!n)return 0;const a=n.match(/^matrix3d\((.+)\)$/);if(a)return Mg(a[1],t);{const o=n.match(/^matrix\((.+)\)$/);return o?Mg(o[1],e):0}},G3=new Set(["x","y","z"]),K3=$o.filter(e=>!G3.has(e));function Y3(e){const t=[];return K3.forEach(s=>{const n=e.getValue(s);n!==void 0&&(t.push([s,n.get()]),n.set(s.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Zr={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Lg(4,13),y:Lg(5,14)};Zr.translateX=Zr.x;Zr.translateY=Zr.y;const X3=(e,t,s)=>{const n=t.measureViewportBox(),a=t.current,o=getComputedStyle(a),{display:i}=o,l={};i==="none"&&t.setStaticValue("display",e.display||"block"),s.forEach(u=>{l[u]=Zr[u](n,o)}),t.render();const c=t.measureViewportBox();return s.forEach(u=>{const d=t.getValue(u);d&&d.jump(l[u]),e[u]=Zr[u](c,o)}),e},Q3=(e,t,s={},n={})=>{t={...t},n={...n};const a=Object.keys(t).filter(Jj);let o=[],i=!1;const l=[];if(a.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=s[c],f=Pa(d);const h=t[c];let g;if(El(h)){const m=h.length,w=h[0]===null?1:0;d=h[w],f=Pa(d);for(let b=w;b<m&&h[b]!==null;b++)g?uh(Pa(h[b])===g):g=Pa(h[b])}else g=Pa(h);if(f!==g)if(_g(f)&&_g(g)){const m=u.get();typeof m=="string"&&u.set(parseFloat(m)),typeof h=="string"?t[c]=parseFloat(h):Array.isArray(h)&&g===K&&(t[c]=h.map(parseFloat))}else f!=null&&f.transform&&(g!=null&&g.transform)&&(d===0||h===0)?d===0?u.set(g.transform(d)):t[c]=f.transform(h):(i||(o=Y3(e),i=!0),l.push(c),n[c]=n[c]!==void 0?n[c]:t[c],u.jump(h))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=X3(t,e,l);return o.length&&o.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),vc&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:n}}else return{target:t,transitionEnd:n}};function J3(e,t,s,n){return q3(t)?Q3(e,t,s,n):{target:t,transitionEnd:n}}const Z3=(e,t,s,n)=>{const a=W3(e,t,n);return t=a.target,n=a.transitionEnd,J3(e,t,s,n)},wf={current:null},Zj={current:!1};function e_(){if(Zj.current=!0,!!vc)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>wf.current=e.matches;e.addListener(t),t()}else wf.current=!1}function t_(e,t,s){const{willChange:n}=t;for(const a in t){const o=t[a],i=s[a];if(yt(o))e.addValue(a,o),_l(n)&&n.add(a);else if(yt(i))e.addValue(a,Jr(o,{owner:e})),_l(n)&&n.remove(a);else if(i!==o)if(e.hasValue(a)){const l=e.getValue(a);!l.hasAnimated&&l.set(o)}else{const l=e.getStaticValue(a);e.addValue(a,Jr(l!==void 0?l:o,{owner:e}))}}for(const a in s)t[a]===void 0&&e.removeValue(a);return t}const Ig=new WeakMap,eN=Object.keys(So),s_=eN.length,Og=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],n_=sh.length;class r_{constructor({parent:t,props:s,presenceContext:n,reducedMotionConfig:a,visualState:o},i={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ye.render(this.render,!1,!0);const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=s.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=s,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=i,this.isControllingVariants=bc(s),this.isVariantNode=Fb(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(s,{});for(const f in d){const h=d[f];l[f]!==void 0&&yt(h)&&(h.set(l[f],!1),_l(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,s){return{}}mount(t){this.current=t,Ig.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,n)=>this.bindToMotionValue(n,s)),Zj.current||e_(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:wf.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Ig.delete(this.current),this.projection&&this.projection.unmount(),Ts(this.notifyUpdate),Ts(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,s){const n=rr.has(t),a=s.on("change",i=>{this.latestValues[t]=i,this.props.onUpdate&&ye.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),o=s.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{a(),o()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...s},n,a,o){let i,l;for(let c=0;c<s_;c++){const u=eN[c],{isEnabled:d,Feature:f,ProjectionNode:h,MeasureLayout:g}=So[u];h&&(i=h),d(s)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),g&&(l=g))}if((this.type==="html"||this.type==="svg")&&!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:f,layoutScroll:h,layoutRoot:g}=s;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||f&&Cr(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,layoutScroll:h,layoutRoot:g})}return l}updateFeatures(){for(const t in this.features){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):De()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}makeTargetAnimatable(t,s=!0){return this.makeTargetAnimatableFromInstance(t,this.props,s)}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let n=0;n<Og.length;n++){const a=Og[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o=t["on"+a];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=t_(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const s={};for(let n=0;n<n_;n++){const a=sh[n],o=this.props[a];(No(o)||o===!1)&&(s[a]=o)}return s}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){s!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,s)),this.values.set(t,s),this.latestValues[t]=s.get()}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&s!==void 0&&(n=Jr(s,{owner:this}),this.addValue(t,n)),n}readValue(t){var s;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(s=this.getBaseTargetFromProps(this.props,t))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var s;const{initial:n}=this.props,a=typeof n=="string"||typeof n=="object"?(s=ch(this.props,n))===null||s===void 0?void 0:s[t]:void 0;if(n&&a!==void 0)return a;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!yt(o)?o:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new vh),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}}class tN extends r_{sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:n}){delete s[t],delete n[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:s,...n},{transformValues:a},o){let i=bD(n,t||{},this);if(a&&(s&&(s=a(s)),n&&(n=a(n)),i&&(i=a(i))),o){vD(this,n,i);const l=Z3(this,n,i,s);s=l.transitionEnd,n=l.target}return{transition:t,transitionEnd:s,...n}}}function a_(e){return window.getComputedStyle(e)}class o_ extends tN{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,s){if(rr.has(s)){const n=hh(s);return n&&n.default||0}else{const n=a_(t),a=(Bb(s)?n.getPropertyValue(s):n[s])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:s}){return $j(t,s)}build(t,s,n,a){rh(t,s,n,a.transformTemplate)}scrapeMotionValuesFromProps(t,s){return lh(t,s)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;yt(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}renderInstance(t,s,n,a){Yb(t,s,n,a)}}class i_ extends tN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(rr.has(s)){const n=hh(s);return n&&n.default||0}return s=Xb.has(s)?s:eh(s),t.getAttribute(s)}measureInstanceViewportBox(){return De()}scrapeMotionValuesFromProps(t,s){return Jb(t,s)}build(t,s,n,a){oh(t,s,n,this.isSVGTag,a.transformTemplate)}renderInstance(t,s,n,a){Qb(t,s,n,a)}mount(t){this.isSVGTag=ih(t.tagName),super.mount(t)}}const l_=(e,t)=>nh(e)?new i_(t,{enableHardwareAcceleration:!1}):new o_(t,{enableHardwareAcceleration:!0}),c_={layout:{ProjectionNode:Qj,MeasureLayout:Wj}},u_={...ID,...s4,...V3,...c_},Qe=uT((e,t)=>BT(e,t,u_,l_)),d_=()=>{const[e,t]=x.useState(""),[s,n]=x.useState(""),[a,o]=x.useState(!1),[i,l]=x.useState(!1),{login:c}=$t(),u=async d=>{d.preventDefault(),l(!0);try{await c(e,s)}catch{}finally{l(!1)}};return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-sky-900 to-purple-900 p-4",children:r.jsx(Qe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},children:r.jsxs(te,{className:"w-full max-w-md shadow-2xl bg-slate-800/70 backdrop-blur-lg border-slate-700",children:[r.jsxs(ue,{className:"text-center",children:[r.jsx(ct,{className:"mx-auto h-16 w-16 text-sky-400 mb-4"}),r.jsx(de,{className:"text-3xl font-bold text-slate-100",children:"Welcome to AURA GDPR"}),r.jsx(Ut,{className:"text-slate-400",children:"Sign in to access your compliance dashboard."})]}),r.jsx(ae,{children:r.jsxs("form",{onSubmit:u,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Xe,{htmlFor:"email",className:"text-slate-300",children:"Email"}),r.jsx(Y,{id:"email",type:"email",placeholder:"you@example.com",value:e,onChange:d=>t(d.target.value),required:!0,className:"bg-slate-700 border-slate-600 text-slate-100 placeholder-slate-400 focus:ring-sky-500 focus:border-sky-500"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Xe,{htmlFor:"password",className:"text-slate-300",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(Y,{id:"password",type:a?"text":"password",placeholder:"********",value:s,onChange:d=>n(d.target.value),required:!0,className:"bg-slate-700 border-slate-600 text-slate-100 placeholder-slate-400 focus:ring-sky-500 focus:border-sky-500 pr-10"}),r.jsx(M,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 text-slate-400 hover:text-sky-400",onClick:()=>o(!a),children:a?r.jsx(Xd,{className:"h-4 w-4"}):r.jsx(Qd,{className:"h-4 w-4"})})]})]}),r.jsx(M,{type:"submit",className:"w-full bg-gradient-to-r from-sky-500 to-purple-600 hover:from-sky-600 hover:to-purple-700 text-white font-semibold py-3 text-base",disabled:i,children:i?"Signing in...":"Sign In"})]})}),r.jsxs(Jp,{className:"flex flex-col items-center space-y-2",children:[r.jsx(Te,{to:"/forgot-password",className:"text-sm text-sky-400 hover:underline",children:"Forgot password?"}),r.jsxs("p",{className:"text-sm text-slate-400",children:["Don't have an account?"," ",r.jsx(Te,{to:"/register",className:"font-medium text-sky-400 hover:underline",children:"Sign up"})]})]})]})})})},f_=()=>{const[e,t]=x.useState(""),[s,n]=x.useState(""),[a,o]=x.useState(""),[i,l]=x.useState(!1),[c,u]=x.useState(!1),[d,f]=x.useState(!1),h=hs(),{register:g}=$t(),{toast:m}=Vt(),w=async b=>{if(b.preventDefault(),s!==a){m({variant:"destructive",title:"Registration Error",description:"Passwords do not match."});return}f(!0);try{await g(e,s),h("/app/dashboard")}catch(y){m({variant:"destructive",title:"Registration Failed",description:(y==null?void 0:y.message)??"Could not create your account. Please try again."})}finally{f(!1)}};return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-sky-900 to-purple-900 p-4",children:r.jsx(Qe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},children:r.jsxs(te,{className:"w-full max-w-md shadow-2xl bg-slate-800/70 backdrop-blur-lg border-slate-700",children:[r.jsxs(ue,{className:"text-center",children:[r.jsx(YP,{className:"mx-auto h-16 w-16 text-sky-400 mb-4"}),r.jsx(de,{className:"text-3xl font-bold text-slate-100",children:"Create your AURA Account"}),r.jsx(Ut,{className:"text-slate-400",children:"Join us to simplify your GDPR compliance."})]}),r.jsx(ae,{children:r.jsxs("form",{onSubmit:w,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Xe,{htmlFor:"email-register",className:"text-slate-300",children:"Email"}),r.jsx(Y,{id:"email-register",type:"email",placeholder:"you@example.com",value:e,onChange:b=>t(b.target.value),required:!0,className:"bg-slate-700 border-slate-600 text-slate-100 placeholder-slate-400 focus:ring-sky-500 focus:border-sky-500"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Xe,{htmlFor:"password-register",className:"text-slate-300",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(Y,{id:"password-register",type:i?"text":"password",placeholder:"********",value:s,onChange:b=>n(b.target.value),required:!0,className:"bg-slate-700 border-slate-600 text-slate-100 placeholder-slate-400 focus:ring-sky-500 focus:border-sky-500 pr-10"}),r.jsx(M,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 text-slate-400 hover:text-sky-400",onClick:()=>l(!i),children:i?r.jsx(Xd,{className:"h-4 w-4"}):r.jsx(Qd,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Xe,{htmlFor:"confirm-password",className:"text-slate-300",children:"Confirm Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(Y,{id:"confirm-password",type:c?"text":"password",placeholder:"********",value:a,onChange:b=>o(b.target.value),required:!0,className:"bg-slate-700 border-slate-600 text-slate-100 placeholder-slate-400 focus:ring-sky-500 focus:border-sky-500 pr-10"}),r.jsx(M,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 text-slate-400 hover:text-sky-400",onClick:()=>u(!c),children:c?r.jsx(Xd,{className:"h-4 w-4"}):r.jsx(Qd,{className:"h-4 w-4"})})]})]}),r.jsx(M,{type:"submit",className:"w-full bg-gradient-to-r from-sky-500 to-purple-600 hover:from-sky-600 hover:to-purple-700 text-white font-semibold py-3 text-base",disabled:d,children:d?"Creating Account...":"Sign Up"})]})}),r.jsx(Jp,{className:"flex justify-center",children:r.jsxs("p",{className:"text-sm text-slate-400",children:["Already have an account?"," ",r.jsx(Te,{to:"/login",className:"font-medium text-sky-400 hover:underline",children:"Sign in"})]})})]})})})},Me=E.forwardRef(({className:e,...t},s)=>r.jsx("textarea",{className:X("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...t}));Me.displayName="Textarea";async function p_(e){try{return(await z.post("/ai/answer",{question:e})).data}catch{throw new Error("Failed to get answer from AURA AI")}}function h_(){const[e,t]=x.useState(""),[s,n]=x.useState(null),[a,o]=x.useState([]),[i,l]=x.useState(!1),[c,u]=x.useState(null),d=x.useCallback(async h=>{const g=(h??e).trim();if(!g){u("Please enter a question.");return}l(!0),u(null);try{const m=await p_(g);t(g),n(m.answer),o(m.sources??[])}catch(m){u((m==null?void 0:m.message)??"Failed to get answer from AURA AI")}finally{l(!1)}},[e]),f=x.useCallback(()=>{t(""),n(null),o([]),u(null)},[]);return{question:e,setQuestion:t,answer:s,sources:a,isLoading:i,error:c,submit:d,reset:f}}const m_=({isOpen:e,onClose:t})=>{const{question:s,setQuestion:n,answer:a,sources:o,isLoading:i,error:l,submit:c}=h_(),u=E.useRef(null);if(E.useEffect(()=>{if(!e)return;const h=m=>{m.key==="Escape"&&t()};window.addEventListener("keydown",h);const g=window.setTimeout(()=>{var m;return(m=u.current)==null?void 0:m.focus()},50);return()=>{window.removeEventListener("keydown",h),window.clearTimeout(g)}},[e,t]),!e)return null;const d=async h=>{h==null||h.preventDefault(),await c(s)},f=()=>i?r.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[r.jsx(Rs,{className:"h-4 w-4 animate-spin text-sky-600"}),"Generating answer with AURA"]}):a?a.split(`
`).filter(h=>h.trim().length>0).map((h,g)=>r.jsx("p",{className:"text-sm text-slate-800",children:h.trim()},g)):r.jsx("p",{className:"text-sm text-slate-500",children:"Ask a question about your GDPR data, policies, or activities."});return r.jsxs("div",{className:"fixed inset-0 z-50 flex",children:[r.jsx("div",{className:"flex-1 bg-slate-900/40 backdrop-blur-sm",onClick:t,"aria-hidden":!0}),r.jsxs("div",{className:"relative flex h-full w-full max-w-xl flex-col bg-white shadow-2xl",children:[r.jsxs("header",{className:"flex items-start justify-between border-b border-slate-200 px-5 py-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-900",children:[r.jsx(gt,{className:"h-5 w-5 text-sky-600"}),r.jsx("h2",{className:"text-lg font-semibold",children:"Ask AURA"})]}),r.jsx("p",{className:"text-sm text-slate-600",children:"Ask a question about your GDPR data, policies or activities."})]}),r.jsx("button",{type:"button",onClick:t,className:"rounded-full p-2 text-slate-500 transition hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close assistant",children:r.jsx(kt,{className:"h-5 w-5"})})]}),r.jsxs("div",{className:"flex-1 space-y-4 overflow-y-auto px-5 py-4",children:[r.jsxs("form",{onSubmit:d,className:"space-y-3",children:[r.jsx(Me,{ref:u,value:s,onChange:h=>n(h.target.value),placeholder:"Ask a question (e.g., Do we have a retention policy for HR data?)",disabled:i,className:"min-h-[100px]"}),r.jsxs("div",{className:"flex items-center justify-between gap-2",children:[r.jsx("p",{className:"text-xs text-slate-500",children:"AURA uses your data to return grounded answers."}),r.jsxs(M,{type:"submit",disabled:i,children:[i&&r.jsx(Rs,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":!0}),i?"Thinking":"Ask"]})]}),l&&r.jsx("p",{className:"text-xs text-rose-600",children:l})]}),r.jsxs("div",{className:"space-y-2 rounded-lg border border-slate-200 bg-slate-50 p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-slate-900",children:[r.jsx(Vw,{className:"h-4 w-4 text-sky-600"}),"Answer"]}),r.jsx("div",{className:"space-y-2",children:f()})]}),r.jsxs("div",{className:"space-y-2 rounded-lg border border-slate-200 bg-white p-4 shadow-sm",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"Sources"}),o.length===0&&r.jsx("p",{className:"text-sm text-slate-500",children:"No specific sources were returned for this answer."}),o.map(h=>r.jsxs("div",{className:"rounded-md border border-slate-200 p-3",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:h.title}),r.jsx("p",{className:"text-sm text-slate-600",children:h.snippet})]},h.id))]})]})]})]})},x_=[{title:"Overview",items:[{label:"Dashboard",path:"/app/dashboard",icon:LP}]},{title:"Compliance",items:[{label:"Documents",path:"/app/documents",icon:Yr},{label:"Templates",path:"/app/templates",icon:Yd},{label:"Policies",path:"/app/policies",icon:ct},{label:"Data Subject Requests",path:"/app/dsr",icon:dc},{label:"DPIA",path:"/app/dpia",icon:qw},{label:"ROPA",path:"/app/ropa",icon:AP},{label:"Cookies",path:"/app/cookies",icon:kP},{label:"TOMs",path:"/app/toms",icon:Xr},{label:"Incidents",path:"/app/incidents",icon:Is}]},{title:"Governance",items:[{label:"Tasks",path:"/app/tasks",icon:bP},{label:"Projects",path:"/app/projects",icon:gP},{label:"Risk Matrix",path:"/app/risk-matrix",icon:bo},{label:"Audit Dashboard",path:"/app/audit",icon:Yd},{label:"Logs",path:"/app/logs",icon:bo},{label:"Notifications",path:"/app/notifications",icon:jo},{label:"Admin",path:"/app/admin",icon:ct,adminOnly:!0},{label:"Users & Roles",path:"/app/admin/workspace/users",icon:ct,adminOnly:!0}]},{title:"AI Tools",items:[{label:"AI Assistant",path:"/app/ai-assistant",icon:gt},{label:"AI Policy Generator",icon:Yr,disabled:!0},{label:"AI Audit Engine",path:"/app/ai-audit",icon:px},{label:"AI Audit v2",path:"/app/ai/audit-v2",icon:px}]},{title:"Account",items:[{label:"Billing",path:"/app/billing",icon:Ww},{label:"Settings",path:"/app/settings",icon:zp},{label:"IAM",path:"/app/iam",icon:ct},{label:"Security health",path:"/app/security-health",icon:ua}]},{title:"Platform",items:[{label:"Platform Admin",path:"/app/platform-admin",icon:ct,platformAdminOnly:!0}]}],g_=({isOpen:e,onClose:t})=>{var f,h;const{user:s}=$t(),{tenantPlan:n,isTestTenant:a}=Fs(),o=(f=s==null?void 0:s.role)==null?void 0:f.toString().toLowerCase(),i=o==="admin"||o==="owner",l=((h=s==null?void 0:s.email)==null?void 0:h.toLowerCase())==="admin@aura-gdpr.se",c=a||n==="pro",u=E.useMemo(()=>x_.map(g=>{const m=g.items.map(w=>w.label==="AI Policy Generator"&&c?{...w,disabled:!1,path:"/app/policies"}:w);return{...g,items:m.filter(w=>w.platformAdminOnly?l:w.adminOnly?i:!0)}}).filter(g=>g.items.length>0),[c,i,l]),d=g=>!g.path||g.disabled?r.jsxs("div",{className:"flex items-center gap-3 rounded-md border-l-2 border-transparent bg-white/50 px-3 py-2 text-sm font-medium text-slate-400",children:[r.jsx(g.icon,{className:"h-5 w-5"}),r.jsx("span",{children:g.label})]},g.label):r.jsxs(Vd,{to:g.path,onClick:t,className:({isActive:m})=>X("group flex items-center gap-3 rounded-md border-l-2 px-3 py-2 text-sm font-medium transition-all",m?"border-sky-500 bg-white shadow-sm text-slate-900":"border-transparent text-slate-600 hover:border-slate-200 hover:bg-white/80"),children:[r.jsx(g.icon,{className:"h-5 w-5 text-slate-500 group-hover:text-slate-800"}),r.jsx("span",{children:g.label})]},g.label);return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:X("fixed inset-0 z-30 bg-slate-900/40 backdrop-blur-sm transition-opacity lg:hidden",e?"opacity-100":"pointer-events-none opacity-0"),onClick:t}),r.jsxs("aside",{className:X("fixed inset-y-0 left-0 z-40 w-72 transform border-r border-slate-200 bg-white/90 backdrop-blur shadow-xl transition-transform duration-200 lg:static lg:z-auto lg:flex lg:w-72 lg:translate-x-0 lg:flex-col lg:shadow-none",e?"translate-x-0":"-translate-x-full"),children:[r.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-slate-200 bg-white/70 backdrop-blur",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Workspace"}),r.jsx("p",{className:"text-lg font-semibold text-slate-900",children:"AURA-GDPR"})]}),r.jsx(M,{variant:"ghost",size:"icon",className:"lg:hidden text-slate-500 hover:text-slate-900",onClick:t,"aria-label":"Close navigation",children:r.jsx(kt,{className:"h-5 w-5"})})]}),r.jsx("nav",{className:"flex-1 space-y-6 overflow-y-auto px-4 py-4",children:u.map(g=>r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"px-3 text-xs font-semibold uppercase tracking-wide text-slate-500",children:g.title}),r.jsx("div",{className:"space-y-1",children:g.items.map(m=>d(m))})]},g.title))})]})]})};var sN={exports:{}},nN={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ea=x;function y_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var v_=typeof Object.is=="function"?Object.is:y_,w_=ea.useState,b_=ea.useEffect,j_=ea.useLayoutEffect,N_=ea.useDebugValue;function S_(e,t){var s=t(),n=w_({inst:{value:s,getSnapshot:t}}),a=n[0].inst,o=n[1];return j_(function(){a.value=s,a.getSnapshot=t,Au(a)&&o({inst:a})},[e,s,t]),b_(function(){return Au(a)&&o({inst:a}),e(function(){Au(a)&&o({inst:a})})},[e]),N_(s),s}function Au(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!v_(e,s)}catch{return!0}}function k_(e,t){return t()}var C_=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?k_:S_;nN.useSyncExternalStore=ea.useSyncExternalStore!==void 0?ea.useSyncExternalStore:C_;sN.exports=nN;var A_=sN.exports;function P_(){return A_.useSyncExternalStore(E_,()=>!0,()=>!1)}function E_(){return()=>{}}var wh="Avatar",[R_]=jn(wh),[T_,rN]=R_(wh),aN=x.forwardRef((e,t)=>{const{__scopeAvatar:s,...n}=e,[a,o]=x.useState("idle");return r.jsx(T_,{scope:s,imageLoadingStatus:a,onImageLoadingStatusChange:o,children:r.jsx(he.span,{...n,ref:t})})});aN.displayName=wh;var oN="AvatarImage",iN=x.forwardRef((e,t)=>{const{__scopeAvatar:s,src:n,onLoadingStatusChange:a=()=>{},...o}=e,i=rN(oN,s),l=D_(n,o),c=xt(u=>{a(u),i.onImageLoadingStatusChange(u)});return Ft(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?r.jsx(he.img,{...o,ref:t,src:n}):null});iN.displayName=oN;var lN="AvatarFallback",cN=x.forwardRef((e,t)=>{const{__scopeAvatar:s,delayMs:n,...a}=e,o=rN(lN,s),[i,l]=x.useState(n===void 0);return x.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),i&&o.imageLoadingStatus!=="loaded"?r.jsx(he.span,{...a,ref:t}):null});cN.displayName=lN;function Fg(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function D_(e,{referrerPolicy:t,crossOrigin:s}){const n=P_(),a=x.useRef(null),o=n?(a.current||(a.current=new window.Image),a.current):null,[i,l]=x.useState(()=>Fg(o,e));return Ft(()=>{l(Fg(o,e))},[o,e]),Ft(()=>{const c=f=>()=>{l(f)};if(!o)return;const u=c("loaded"),d=c("error");return o.addEventListener("load",u),o.addEventListener("error",d),t&&(o.referrerPolicy=t),typeof s=="string"&&(o.crossOrigin=s),()=>{o.removeEventListener("load",u),o.removeEventListener("error",d)}},[o,s,t]),i}var uN=aN,dN=iN,fN=cN;const pN=E.forwardRef(({className:e,...t},s)=>r.jsx(uN,{ref:s,className:X("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));pN.displayName=uN.displayName;const hN=E.forwardRef(({className:e,...t},s)=>r.jsx(dN,{ref:s,className:X("aspect-square h-full w-full",e),...t}));hN.displayName=dN.displayName;const mN=E.forwardRef(({className:e,...t},s)=>r.jsx(fN,{ref:s,className:X("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));mN.displayName=fN.displayName;const __={default:"bg-primary text-primary-foreground",secondary:"bg-secondary text-secondary-foreground",outline:"border border-border text-foreground"},Je=x.forwardRef(({className:e,variant:t="default",...s},n)=>r.jsx("div",{ref:n,className:X("inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold",__[t],e),...s}));Je.displayName="Badge";var M_=x.createContext(void 0);function xN(e){const t=x.useContext(M_);return e||t||"ltr"}var Pu=0;function L_(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??zg()),document.body.insertAdjacentElement("beforeend",e[1]??zg()),Pu++,()=>{Pu===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Pu--}},[])}function zg(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Eu="focusScope.autoFocusOnMount",Ru="focusScope.autoFocusOnUnmount",Ug={bubbles:!1,cancelable:!0},I_="FocusScope",gN=x.forwardRef((e,t)=>{const{loop:s=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...i}=e,[l,c]=x.useState(null),u=xt(a),d=xt(o),f=x.useRef(null),h=Oe(t,w=>c(w)),g=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let w=function(v){if(g.paused||!l)return;const j=v.target;l.contains(j)?f.current=j:Ws(f.current,{select:!0})},b=function(v){if(g.paused||!l)return;const j=v.relatedTarget;j!==null&&(l.contains(j)||Ws(f.current,{select:!0}))},y=function(v){if(document.activeElement===document.body)for(const N of v)N.removedNodes.length>0&&Ws(l)};document.addEventListener("focusin",w),document.addEventListener("focusout",b);const p=new MutationObserver(y);return l&&p.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",b),p.disconnect()}}},[n,l,g.paused]),x.useEffect(()=>{if(l){$g.add(g);const w=document.activeElement;if(!l.contains(w)){const y=new CustomEvent(Eu,Ug);l.addEventListener(Eu,u),l.dispatchEvent(y),y.defaultPrevented||(O_($_(yN(l)),{select:!0}),document.activeElement===w&&Ws(l))}return()=>{l.removeEventListener(Eu,u),setTimeout(()=>{const y=new CustomEvent(Ru,Ug);l.addEventListener(Ru,d),l.dispatchEvent(y),y.defaultPrevented||Ws(w??document.body,{select:!0}),l.removeEventListener(Ru,d),$g.remove(g)},0)}}},[l,u,d,g]);const m=x.useCallback(w=>{if(!s&&!n||g.paused)return;const b=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,y=document.activeElement;if(b&&y){const p=w.currentTarget,[v,j]=F_(p);v&&j?!w.shiftKey&&y===j?(w.preventDefault(),s&&Ws(v,{select:!0})):w.shiftKey&&y===v&&(w.preventDefault(),s&&Ws(j,{select:!0})):y===p&&w.preventDefault()}},[s,n,g.paused]);return r.jsx(he.div,{tabIndex:-1,...i,ref:h,onKeyDown:m})});gN.displayName=I_;function O_(e,{select:t=!1}={}){const s=document.activeElement;for(const n of e)if(Ws(n,{select:t}),document.activeElement!==s)return}function F_(e){const t=yN(e),s=Vg(t,e),n=Vg(t.reverse(),e);return[s,n]}function yN(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function Vg(e,t){for(const s of e)if(!z_(s,{upTo:t}))return s}function z_(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function U_(e){return e instanceof HTMLInputElement&&"select"in e}function Ws(e,{select:t=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&U_(e)&&t&&e.select()}}var $g=V_();function V_(){let e=[];return{add(t){const s=e[0];t!==s&&(s==null||s.pause()),e=Bg(e,t),e.unshift(t)},remove(t){var s;e=Bg(e,t),(s=e[0])==null||s.resume()}}}function Bg(e,t){const s=[...e],n=s.indexOf(t);return n!==-1&&s.splice(n,1),s}function $_(e){return e.filter(t=>t.tagName!=="A")}var B_=Mf[" useId ".trim().toString()]||(()=>{}),W_=0;function bf(e){const[t,s]=x.useState(B_());return Ft(()=>{s(n=>n??String(W_++))},[e]),t?`radix-${t}`:""}const H_=["top","right","bottom","left"],gn=Math.min,wt=Math.max,Ll=Math.round,Si=Math.floor,us=e=>({x:e,y:e}),q_={left:"right",right:"left",bottom:"top",top:"bottom"},G_={start:"end",end:"start"};function jf(e,t,s){return wt(e,gn(t,s))}function Ds(e,t){return typeof e=="function"?e(t):e}function _s(e){return e.split("-")[0]}function pa(e){return e.split("-")[1]}function bh(e){return e==="x"?"y":"x"}function jh(e){return e==="y"?"height":"width"}function ks(e){return["top","bottom"].includes(_s(e))?"y":"x"}function Nh(e){return bh(ks(e))}function K_(e,t,s){s===void 0&&(s=!1);const n=pa(e),a=Nh(e),o=jh(a);let i=a==="x"?n===(s?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=Il(i)),[i,Il(i)]}function Y_(e){const t=Il(e);return[Nf(e),t,Nf(t)]}function Nf(e){return e.replace(/start|end/g,t=>G_[t])}function X_(e,t,s){const n=["left","right"],a=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return s?t?a:n:t?n:a;case"left":case"right":return t?o:i;default:return[]}}function Q_(e,t,s,n){const a=pa(e);let o=X_(_s(e),s==="start",n);return a&&(o=o.map(i=>i+"-"+a),t&&(o=o.concat(o.map(Nf)))),o}function Il(e){return e.replace(/left|right|bottom|top/g,t=>q_[t])}function J_(e){return{top:0,right:0,bottom:0,left:0,...e}}function vN(e){return typeof e!="number"?J_(e):{top:e,right:e,bottom:e,left:e}}function Ol(e){const{x:t,y:s,width:n,height:a}=e;return{width:n,height:a,top:s,left:t,right:t+n,bottom:s+a,x:t,y:s}}function Wg(e,t,s){let{reference:n,floating:a}=e;const o=ks(t),i=Nh(t),l=jh(i),c=_s(t),u=o==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let g;switch(c){case"top":g={x:d,y:n.y-a.height};break;case"bottom":g={x:d,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:f};break;case"left":g={x:n.x-a.width,y:f};break;default:g={x:n.x,y:n.y}}switch(pa(t)){case"start":g[i]-=h*(s&&u?-1:1);break;case"end":g[i]+=h*(s&&u?-1:1);break}return g}const Z_=async(e,t,s)=>{const{placement:n="bottom",strategy:a="absolute",middleware:o=[],platform:i}=s,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=Wg(u,n,c),h=n,g={},m=0;for(let w=0;w<l.length;w++){const{name:b,fn:y}=l[w],{x:p,y:v,data:j,reset:N}=await y({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:g,rects:u,platform:i,elements:{reference:e,floating:t}});d=p??d,f=v??f,g={...g,[b]:{...g[b],...j}},N&&m<=50&&(m++,typeof N=="object"&&(N.placement&&(h=N.placement),N.rects&&(u=N.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:a}):N.rects),{x:d,y:f}=Wg(u,h,c)),w=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:g}};async function Co(e,t){var s;t===void 0&&(t={});const{x:n,y:a,platform:o,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:g=0}=Ds(t,e),m=vN(g),b=l[h?f==="floating"?"reference":"floating":f],y=Ol(await o.getClippingRect({element:(s=await(o.isElement==null?void 0:o.isElement(b)))==null||s?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),p=f==="floating"?{x:n,y:a,width:i.floating.width,height:i.floating.height}:i.reference,v=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),j=await(o.isElement==null?void 0:o.isElement(v))?await(o.getScale==null?void 0:o.getScale(v))||{x:1,y:1}:{x:1,y:1},N=Ol(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:p,offsetParent:v,strategy:c}):p);return{top:(y.top-N.top+m.top)/j.y,bottom:(N.bottom-y.bottom+m.bottom)/j.y,left:(y.left-N.left+m.left)/j.x,right:(N.right-y.right+m.right)/j.x}}const e5=e=>({name:"arrow",options:e,async fn(t){const{x:s,y:n,placement:a,rects:o,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Ds(e,t)||{};if(u==null)return{};const f=vN(d),h={x:s,y:n},g=Nh(a),m=jh(g),w=await i.getDimensions(u),b=g==="y",y=b?"top":"left",p=b?"bottom":"right",v=b?"clientHeight":"clientWidth",j=o.reference[m]+o.reference[g]-h[g]-o.floating[m],N=h[g]-o.reference[g],k=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let P=k?k[v]:0;(!P||!await(i.isElement==null?void 0:i.isElement(k)))&&(P=l.floating[v]||o.floating[m]);const S=j/2-N/2,R=P/2-w[m]/2-1,T=gn(f[y],R),F=gn(f[p],R),O=T,W=P-w[m]-F,U=P/2-w[m]/2+S,q=jf(O,U,W),A=!c.arrow&&pa(a)!=null&&U!==q&&o.reference[m]/2-(U<O?T:F)-w[m]/2<0,V=A?U<O?U-O:U-W:0;return{[g]:h[g]+V,data:{[g]:q,centerOffset:U-q-V,...A&&{alignmentOffset:V}},reset:A}}}),t5=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var s,n;const{placement:a,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:w=!0,...b}=Ds(e,t);if((s=o.arrow)!=null&&s.alignmentOffset)return{};const y=_s(a),p=ks(l),v=_s(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=h||(v||!w?[Il(l)]:Y_(l)),k=m!=="none";!h&&k&&N.push(...Q_(l,w,m,j));const P=[l,...N],S=await Co(t,b),R=[];let T=((n=o.flip)==null?void 0:n.overflows)||[];if(d&&R.push(S[y]),f){const q=K_(a,i,j);R.push(S[q[0]],S[q[1]])}if(T=[...T,{placement:a,overflows:R}],!R.every(q=>q<=0)){var F,O;const q=(((F=o.flip)==null?void 0:F.index)||0)+1,A=P[q];if(A){var W;const D=f==="alignment"?p!==ks(A):!1,C=((W=T[0])==null?void 0:W.overflows[0])>0;if(!D||C)return{data:{index:q,overflows:T},reset:{placement:A}}}let V=(O=T.filter(D=>D.overflows[0]<=0).sort((D,C)=>D.overflows[1]-C.overflows[1])[0])==null?void 0:O.placement;if(!V)switch(g){case"bestFit":{var U;const D=(U=T.filter(C=>{if(k){const _=ks(C.placement);return _===p||_==="y"}return!0}).map(C=>[C.placement,C.overflows.filter(_=>_>0).reduce((_,L)=>_+L,0)]).sort((C,_)=>C[1]-_[1])[0])==null?void 0:U[0];D&&(V=D);break}case"initialPlacement":V=l;break}if(a!==V)return{reset:{placement:V}}}return{}}}};function Hg(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function qg(e){return H_.some(t=>e[t]>=0)}const s5=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:s}=t,{strategy:n="referenceHidden",...a}=Ds(e,t);switch(n){case"referenceHidden":{const o=await Co(t,{...a,elementContext:"reference"}),i=Hg(o,s.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:qg(i)}}}case"escaped":{const o=await Co(t,{...a,altBoundary:!0}),i=Hg(o,s.floating);return{data:{escapedOffsets:i,escaped:qg(i)}}}default:return{}}}}};async function n5(e,t){const{placement:s,platform:n,elements:a}=e,o=await(n.isRTL==null?void 0:n.isRTL(a.floating)),i=_s(s),l=pa(s),c=ks(s)==="y",u=["left","top"].includes(i)?-1:1,d=o&&c?-1:1,f=Ds(t,e);let{mainAxis:h,crossAxis:g,alignmentAxis:m}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof m=="number"&&(g=l==="end"?m*-1:m),c?{x:g*d,y:h*u}:{x:h*u,y:g*d}}const r5=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var s,n;const{x:a,y:o,placement:i,middlewareData:l}=t,c=await n5(t,e);return i===((s=l.offset)==null?void 0:s.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:o+c.y,data:{...c,placement:i}}}}},a5=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:s,y:n,placement:a}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:b=>{let{x:y,y:p}=b;return{x:y,y:p}}},...c}=Ds(e,t),u={x:s,y:n},d=await Co(t,c),f=ks(_s(a)),h=bh(f);let g=u[h],m=u[f];if(o){const b=h==="y"?"top":"left",y=h==="y"?"bottom":"right",p=g+d[b],v=g-d[y];g=jf(p,g,v)}if(i){const b=f==="y"?"top":"left",y=f==="y"?"bottom":"right",p=m+d[b],v=m-d[y];m=jf(p,m,v)}const w=l.fn({...t,[h]:g,[f]:m});return{...w,data:{x:w.x-s,y:w.y-n,enabled:{[h]:o,[f]:i}}}}}},o5=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:s,y:n,placement:a,rects:o,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Ds(e,t),d={x:s,y:n},f=ks(a),h=bh(f);let g=d[h],m=d[f];const w=Ds(l,t),b=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(c){const v=h==="y"?"height":"width",j=o.reference[h]-o.floating[v]+b.mainAxis,N=o.reference[h]+o.reference[v]-b.mainAxis;g<j?g=j:g>N&&(g=N)}if(u){var y,p;const v=h==="y"?"width":"height",j=["top","left"].includes(_s(a)),N=o.reference[f]-o.floating[v]+(j&&((y=i.offset)==null?void 0:y[f])||0)+(j?0:b.crossAxis),k=o.reference[f]+o.reference[v]+(j?0:((p=i.offset)==null?void 0:p[f])||0)-(j?b.crossAxis:0);m<N?m=N:m>k&&(m=k)}return{[h]:g,[f]:m}}}},i5=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var s,n;const{placement:a,rects:o,platform:i,elements:l}=t,{apply:c=()=>{},...u}=Ds(e,t),d=await Co(t,u),f=_s(a),h=pa(a),g=ks(a)==="y",{width:m,height:w}=o.floating;let b,y;f==="top"||f==="bottom"?(b=f,y=h===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(y=f,b=h==="end"?"top":"bottom");const p=w-d.top-d.bottom,v=m-d.left-d.right,j=gn(w-d[b],p),N=gn(m-d[y],v),k=!t.middlewareData.shift;let P=j,S=N;if((s=t.middlewareData.shift)!=null&&s.enabled.x&&(S=v),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(P=p),k&&!h){const T=wt(d.left,0),F=wt(d.right,0),O=wt(d.top,0),W=wt(d.bottom,0);g?S=m-2*(T!==0||F!==0?T+F:wt(d.left,d.right)):P=w-2*(O!==0||W!==0?O+W:wt(d.top,d.bottom))}await c({...t,availableWidth:S,availableHeight:P});const R=await i.getDimensions(l.floating);return m!==R.width||w!==R.height?{reset:{rects:!0}}:{}}}};function kc(){return typeof window<"u"}function ha(e){return wN(e)?(e.nodeName||"").toLowerCase():"#document"}function Nt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ms(e){var t;return(t=(wN(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function wN(e){return kc()?e instanceof Node||e instanceof Nt(e).Node:!1}function Xt(e){return kc()?e instanceof Element||e instanceof Nt(e).Element:!1}function ds(e){return kc()?e instanceof HTMLElement||e instanceof Nt(e).HTMLElement:!1}function Gg(e){return!kc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Nt(e).ShadowRoot}function qo(e){const{overflow:t,overflowX:s,overflowY:n,display:a}=Qt(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+s)&&!["inline","contents"].includes(a)}function l5(e){return["table","td","th"].includes(ha(e))}function Cc(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Sh(e){const t=kh(),s=Xt(e)?Qt(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>s[n]?s[n]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!t&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!t&&(s.filter?s.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(s.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(s.contain||"").includes(n))}function c5(e){let t=yn(e);for(;ds(t)&&!ta(t);){if(Sh(t))return t;if(Cc(t))return null;t=yn(t)}return null}function kh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ta(e){return["html","body","#document"].includes(ha(e))}function Qt(e){return Nt(e).getComputedStyle(e)}function Ac(e){return Xt(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function yn(e){if(ha(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Gg(e)&&e.host||ms(e);return Gg(t)?t.host:t}function bN(e){const t=yn(e);return ta(t)?e.ownerDocument?e.ownerDocument.body:e.body:ds(t)&&qo(t)?t:bN(t)}function Ao(e,t,s){var n;t===void 0&&(t=[]),s===void 0&&(s=!0);const a=bN(e),o=a===((n=e.ownerDocument)==null?void 0:n.body),i=Nt(a);if(o){const l=Sf(i);return t.concat(i,i.visualViewport||[],qo(a)?a:[],l&&s?Ao(l):[])}return t.concat(a,Ao(a,[],s))}function Sf(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function jN(e){const t=Qt(e);let s=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=ds(e),o=a?e.offsetWidth:s,i=a?e.offsetHeight:n,l=Ll(s)!==o||Ll(n)!==i;return l&&(s=o,n=i),{width:s,height:n,$:l}}function Ch(e){return Xt(e)?e:e.contextElement}function Or(e){const t=Ch(e);if(!ds(t))return us(1);const s=t.getBoundingClientRect(),{width:n,height:a,$:o}=jN(t);let i=(o?Ll(s.width):s.width)/n,l=(o?Ll(s.height):s.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const u5=us(0);function NN(e){const t=Nt(e);return!kh()||!t.visualViewport?u5:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function d5(e,t,s){return t===void 0&&(t=!1),!s||t&&s!==Nt(e)?!1:t}function tr(e,t,s,n){t===void 0&&(t=!1),s===void 0&&(s=!1);const a=e.getBoundingClientRect(),o=Ch(e);let i=us(1);t&&(n?Xt(n)&&(i=Or(n)):i=Or(e));const l=d5(o,s,n)?NN(o):us(0);let c=(a.left+l.x)/i.x,u=(a.top+l.y)/i.y,d=a.width/i.x,f=a.height/i.y;if(o){const h=Nt(o),g=n&&Xt(n)?Nt(n):n;let m=h,w=Sf(m);for(;w&&n&&g!==m;){const b=Or(w),y=w.getBoundingClientRect(),p=Qt(w),v=y.left+(w.clientLeft+parseFloat(p.paddingLeft))*b.x,j=y.top+(w.clientTop+parseFloat(p.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,f*=b.y,c+=v,u+=j,m=Nt(w),w=Sf(m)}}return Ol({width:d,height:f,x:c,y:u})}function Ah(e,t){const s=Ac(e).scrollLeft;return t?t.left+s:tr(ms(e)).left+s}function SN(e,t,s){s===void 0&&(s=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(s?0:Ah(e,n)),o=n.top+t.scrollTop;return{x:a,y:o}}function f5(e){let{elements:t,rect:s,offsetParent:n,strategy:a}=e;const o=a==="fixed",i=ms(n),l=t?Cc(t.floating):!1;if(n===i||l&&o)return s;let c={scrollLeft:0,scrollTop:0},u=us(1);const d=us(0),f=ds(n);if((f||!f&&!o)&&((ha(n)!=="body"||qo(i))&&(c=Ac(n)),ds(n))){const g=tr(n);u=Or(n),d.x=g.x+n.clientLeft,d.y=g.y+n.clientTop}const h=i&&!f&&!o?SN(i,c,!0):us(0);return{width:s.width*u.x,height:s.height*u.y,x:s.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:s.y*u.y-c.scrollTop*u.y+d.y+h.y}}function p5(e){return Array.from(e.getClientRects())}function h5(e){const t=ms(e),s=Ac(e),n=e.ownerDocument.body,a=wt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=wt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-s.scrollLeft+Ah(e);const l=-s.scrollTop;return Qt(n).direction==="rtl"&&(i+=wt(t.clientWidth,n.clientWidth)-a),{width:a,height:o,x:i,y:l}}function m5(e,t){const s=Nt(e),n=ms(e),a=s.visualViewport;let o=n.clientWidth,i=n.clientHeight,l=0,c=0;if(a){o=a.width,i=a.height;const u=kh();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:o,height:i,x:l,y:c}}function x5(e,t){const s=tr(e,!0,t==="fixed"),n=s.top+e.clientTop,a=s.left+e.clientLeft,o=ds(e)?Or(e):us(1),i=e.clientWidth*o.x,l=e.clientHeight*o.y,c=a*o.x,u=n*o.y;return{width:i,height:l,x:c,y:u}}function Kg(e,t,s){let n;if(t==="viewport")n=m5(e,s);else if(t==="document")n=h5(ms(e));else if(Xt(t))n=x5(t,s);else{const a=NN(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Ol(n)}function kN(e,t){const s=yn(e);return s===t||!Xt(s)||ta(s)?!1:Qt(s).position==="fixed"||kN(s,t)}function g5(e,t){const s=t.get(e);if(s)return s;let n=Ao(e,[],!1).filter(l=>Xt(l)&&ha(l)!=="body"),a=null;const o=Qt(e).position==="fixed";let i=o?yn(e):e;for(;Xt(i)&&!ta(i);){const l=Qt(i),c=Sh(i);!c&&l.position==="fixed"&&(a=null),(o?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||qo(i)&&!c&&kN(e,i))?n=n.filter(d=>d!==i):a=l,i=yn(i)}return t.set(e,n),n}function y5(e){let{element:t,boundary:s,rootBoundary:n,strategy:a}=e;const i=[...s==="clippingAncestors"?Cc(t)?[]:g5(t,this._c):[].concat(s),n],l=i[0],c=i.reduce((u,d)=>{const f=Kg(t,d,a);return u.top=wt(f.top,u.top),u.right=gn(f.right,u.right),u.bottom=gn(f.bottom,u.bottom),u.left=wt(f.left,u.left),u},Kg(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function v5(e){const{width:t,height:s}=jN(e);return{width:t,height:s}}function w5(e,t,s){const n=ds(t),a=ms(t),o=s==="fixed",i=tr(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=us(0);function u(){c.x=Ah(a)}if(n||!n&&!o)if((ha(t)!=="body"||qo(a))&&(l=Ac(t)),n){const g=tr(t,!0,o,t);c.x=g.x+t.clientLeft,c.y=g.y+t.clientTop}else a&&u();o&&!n&&a&&u();const d=a&&!n&&!o?SN(a,l):us(0),f=i.left+l.scrollLeft-c.x-d.x,h=i.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:i.width,height:i.height}}function Tu(e){return Qt(e).position==="static"}function Yg(e,t){if(!ds(e)||Qt(e).position==="fixed")return null;if(t)return t(e);let s=e.offsetParent;return ms(e)===s&&(s=s.ownerDocument.body),s}function CN(e,t){const s=Nt(e);if(Cc(e))return s;if(!ds(e)){let a=yn(e);for(;a&&!ta(a);){if(Xt(a)&&!Tu(a))return a;a=yn(a)}return s}let n=Yg(e,t);for(;n&&l5(n)&&Tu(n);)n=Yg(n,t);return n&&ta(n)&&Tu(n)&&!Sh(n)?s:n||c5(e)||s}const b5=async function(e){const t=this.getOffsetParent||CN,s=this.getDimensions,n=await s(e.floating);return{reference:w5(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function j5(e){return Qt(e).direction==="rtl"}const N5={convertOffsetParentRelativeRectToViewportRelativeRect:f5,getDocumentElement:ms,getClippingRect:y5,getOffsetParent:CN,getElementRects:b5,getClientRects:p5,getDimensions:v5,getScale:Or,isElement:Xt,isRTL:j5};function AN(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function S5(e,t){let s=null,n;const a=ms(e);function o(){var l;clearTimeout(n),(l=s)==null||l.disconnect(),s=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:g}=u;if(l||t(),!h||!g)return;const m=Si(f),w=Si(a.clientWidth-(d+h)),b=Si(a.clientHeight-(f+g)),y=Si(d),v={rootMargin:-m+"px "+-w+"px "+-b+"px "+-y+"px",threshold:wt(0,gn(1,c))||1};let j=!0;function N(k){const P=k[0].intersectionRatio;if(P!==c){if(!j)return i();P?i(!1,P):n=setTimeout(()=>{i(!1,1e-7)},1e3)}P===1&&!AN(u,e.getBoundingClientRect())&&i(),j=!1}try{s=new IntersectionObserver(N,{...v,root:a.ownerDocument})}catch{s=new IntersectionObserver(N,v)}s.observe(e)}return i(!0),o}function k5(e,t,s,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Ch(e),d=a||o?[...u?Ao(u):[],...Ao(t)]:[];d.forEach(y=>{a&&y.addEventListener("scroll",s,{passive:!0}),o&&y.addEventListener("resize",s)});const f=u&&l?S5(u,s):null;let h=-1,g=null;i&&(g=new ResizeObserver(y=>{let[p]=y;p&&p.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var v;(v=g)==null||v.observe(t)})),s()}),u&&!c&&g.observe(u),g.observe(t));let m,w=c?tr(e):null;c&&b();function b(){const y=tr(e);w&&!AN(w,y)&&s(),w=y,m=requestAnimationFrame(b)}return s(),()=>{var y;d.forEach(p=>{a&&p.removeEventListener("scroll",s),o&&p.removeEventListener("resize",s)}),f==null||f(),(y=g)==null||y.disconnect(),g=null,c&&cancelAnimationFrame(m)}}const C5=r5,A5=a5,P5=t5,E5=i5,R5=s5,Xg=e5,T5=o5,D5=(e,t,s)=>{const n=new Map,a={platform:N5,...s},o={...a.platform,_c:n};return Z_(e,t,{...a,platform:o})};var Ki=typeof document<"u"?x.useLayoutEffect:x.useEffect;function Fl(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let s,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(s=e.length,s!==t.length)return!1;for(n=s;n--!==0;)if(!Fl(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),s=a.length,s!==Object.keys(t).length)return!1;for(n=s;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=s;n--!==0;){const o=a[n];if(!(o==="_owner"&&e.$$typeof)&&!Fl(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function PN(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Qg(e,t){const s=PN(e);return Math.round(t*s)/s}function Du(e){const t=x.useRef(e);return Ki(()=>{t.current=e}),t}function _5(e){e===void 0&&(e={});const{placement:t="bottom",strategy:s="absolute",middleware:n=[],platform:a,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=x.useState({x:0,y:0,strategy:s,placement:t,middlewareData:{},isPositioned:!1}),[h,g]=x.useState(n);Fl(h,n)||g(n);const[m,w]=x.useState(null),[b,y]=x.useState(null),p=x.useCallback(D=>{D!==k.current&&(k.current=D,w(D))},[]),v=x.useCallback(D=>{D!==P.current&&(P.current=D,y(D))},[]),j=o||m,N=i||b,k=x.useRef(null),P=x.useRef(null),S=x.useRef(d),R=c!=null,T=Du(c),F=Du(a),O=Du(u),W=x.useCallback(()=>{if(!k.current||!P.current)return;const D={placement:t,strategy:s,middleware:h};F.current&&(D.platform=F.current),D5(k.current,P.current,D).then(C=>{const _={...C,isPositioned:O.current!==!1};U.current&&!Fl(S.current,_)&&(S.current=_,Lo.flushSync(()=>{f(_)}))})},[h,t,s,F,O]);Ki(()=>{u===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,f(D=>({...D,isPositioned:!1})))},[u]);const U=x.useRef(!1);Ki(()=>(U.current=!0,()=>{U.current=!1}),[]),Ki(()=>{if(j&&(k.current=j),N&&(P.current=N),j&&N){if(T.current)return T.current(j,N,W);W()}},[j,N,W,T,R]);const q=x.useMemo(()=>({reference:k,floating:P,setReference:p,setFloating:v}),[p,v]),A=x.useMemo(()=>({reference:j,floating:N}),[j,N]),V=x.useMemo(()=>{const D={position:s,left:0,top:0};if(!A.floating)return D;const C=Qg(A.floating,d.x),_=Qg(A.floating,d.y);return l?{...D,transform:"translate("+C+"px, "+_+"px)",...PN(A.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:C,top:_}},[s,l,A.floating,d.x,d.y]);return x.useMemo(()=>({...d,update:W,refs:q,elements:A,floatingStyles:V}),[d,W,q,A,V])}const M5=e=>{function t(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:e,fn(s){const{element:n,padding:a}=typeof e=="function"?e(s):e;return n&&t(n)?n.current!=null?Xg({element:n.current,padding:a}).fn(s):{}:n?Xg({element:n,padding:a}).fn(s):{}}}},L5=(e,t)=>({...C5(e),options:[e,t]}),I5=(e,t)=>({...A5(e),options:[e,t]}),O5=(e,t)=>({...T5(e),options:[e,t]}),F5=(e,t)=>({...P5(e),options:[e,t]}),z5=(e,t)=>({...E5(e),options:[e,t]}),U5=(e,t)=>({...R5(e),options:[e,t]}),V5=(e,t)=>({...M5(e),options:[e,t]});var $5="Arrow",EN=x.forwardRef((e,t)=>{const{children:s,width:n=10,height:a=5,...o}=e;return r.jsx(he.svg,{...o,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?s:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});EN.displayName=$5;var B5=EN;function RN(e){const[t,s]=x.useState(void 0);return Ft(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;s({width:i,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else s(void 0)},[e]),t}var Ph="Popper",[TN,DN]=jn(Ph),[W5,_N]=TN(Ph),MN=e=>{const{__scopePopper:t,children:s}=e,[n,a]=x.useState(null);return r.jsx(W5,{scope:t,anchor:n,onAnchorChange:a,children:s})};MN.displayName=Ph;var LN="PopperAnchor",IN=x.forwardRef((e,t)=>{const{__scopePopper:s,virtualRef:n,...a}=e,o=_N(LN,s),i=x.useRef(null),l=Oe(t,i);return x.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:r.jsx(he.div,{...a,ref:l})});IN.displayName=LN;var Eh="PopperContent",[H5,q5]=TN(Eh),ON=x.forwardRef((e,t)=>{var Ue,kn,We,es,ts,_c;const{__scopePopper:s,side:n="bottom",sideOffset:a=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:g="optimized",onPlaced:m,...w}=e,b=_N(Eh,s),[y,p]=x.useState(null),v=Oe(t,xa=>p(xa)),[j,N]=x.useState(null),k=RN(j),P=(k==null?void 0:k.width)??0,S=(k==null?void 0:k.height)??0,R=n+(o!=="center"?"-"+o:""),T=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},F=Array.isArray(u)?u:[u],O=F.length>0,W={padding:T,boundary:F.filter(K5),altBoundary:O},{refs:U,floatingStyles:q,placement:A,isPositioned:V,middlewareData:D}=_5({strategy:"fixed",placement:R,whileElementsMounted:(...xa)=>k5(...xa,{animationFrame:g==="always"}),elements:{reference:b.anchor},middleware:[L5({mainAxis:a+S,alignmentAxis:i}),c&&I5({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?O5():void 0,...W}),c&&F5({...W}),z5({...W,apply:({elements:xa,rects:Vh,availableWidth:d2,availableHeight:f2})=>{const{width:p2,height:h2}=Vh.reference,Jo=xa.floating.style;Jo.setProperty("--radix-popper-available-width",`${d2}px`),Jo.setProperty("--radix-popper-available-height",`${f2}px`),Jo.setProperty("--radix-popper-anchor-width",`${p2}px`),Jo.setProperty("--radix-popper-anchor-height",`${h2}px`)}}),j&&V5({element:j,padding:l}),Y5({arrowWidth:P,arrowHeight:S}),h&&U5({strategy:"referenceHidden",...W})]}),[C,_]=UN(A),L=xt(m);Ft(()=>{V&&(L==null||L())},[V,L]);const B=(Ue=D.arrow)==null?void 0:Ue.x,re=(kn=D.arrow)==null?void 0:kn.y,se=((We=D.arrow)==null?void 0:We.centerOffset)!==0,[fe,Pe]=x.useState();return Ft(()=>{y&&Pe(window.getComputedStyle(y).zIndex)},[y]),r.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:V?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:fe,"--radix-popper-transform-origin":[(es=D.transformOrigin)==null?void 0:es.x,(ts=D.transformOrigin)==null?void 0:ts.y].join(" "),...((_c=D.hide)==null?void 0:_c.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(H5,{scope:s,placedSide:C,onArrowChange:N,arrowX:B,arrowY:re,shouldHideArrow:se,children:r.jsx(he.div,{"data-side":C,"data-align":_,...w,ref:v,style:{...w.style,animation:V?void 0:"none"}})})})});ON.displayName=Eh;var FN="PopperArrow",G5={top:"bottom",right:"left",bottom:"top",left:"right"},zN=x.forwardRef(function(t,s){const{__scopePopper:n,...a}=t,o=q5(FN,n),i=G5[o.placedSide];return r.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:r.jsx(B5,{...a,ref:s,style:{...a.style,display:"block"}})})});zN.displayName=FN;function K5(e){return e!==null}var Y5=e=>({name:"transformOrigin",options:e,fn(t){var b,y,p;const{placement:s,rects:n,middlewareData:a}=t,i=((b=a.arrow)==null?void 0:b.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=UN(s),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=a.arrow)==null?void 0:y.x)??0)+l/2,g=(((p=a.arrow)==null?void 0:p.y)??0)+c/2;let m="",w="";return u==="bottom"?(m=i?f:`${h}px`,w=`${-c}px`):u==="top"?(m=i?f:`${h}px`,w=`${n.floating.height+c}px`):u==="right"?(m=`${-c}px`,w=i?f:`${g}px`):u==="left"&&(m=`${n.floating.width+c}px`,w=i?f:`${g}px`),{data:{x:m,y:w}}}});function UN(e){const[t,s="center"]=e.split("-");return[t,s]}var X5=MN,Q5=IN,J5=ON,Z5=zN,_u="rovingFocusGroup.onEntryFocus",eM={bubbles:!1,cancelable:!0},Go="RovingFocusGroup",[kf,VN,tM]=Pp(Go),[sM,$N]=jn(Go,[tM]),[nM,rM]=sM(Go),BN=x.forwardRef((e,t)=>r.jsx(kf.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(kf.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(aM,{...e,ref:t})})}));BN.displayName=Go;var aM=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,orientation:n,loop:a=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=x.useRef(null),g=Oe(t,h),m=xN(o),[w,b]=cc({prop:i,defaultProp:l??null,onChange:c,caller:Go}),[y,p]=x.useState(!1),v=xt(u),j=VN(s),N=x.useRef(!1),[k,P]=x.useState(0);return x.useEffect(()=>{const S=h.current;if(S)return S.addEventListener(_u,v),()=>S.removeEventListener(_u,v)},[v]),r.jsx(nM,{scope:s,orientation:n,dir:m,loop:a,currentTabStopId:w,onItemFocus:x.useCallback(S=>b(S),[b]),onItemShiftTab:x.useCallback(()=>p(!0),[]),onFocusableItemAdd:x.useCallback(()=>P(S=>S+1),[]),onFocusableItemRemove:x.useCallback(()=>P(S=>S-1),[]),children:r.jsx(he.div,{tabIndex:y||k===0?-1:0,"data-orientation":n,...f,ref:g,style:{outline:"none",...e.style},onMouseDown:Q(e.onMouseDown,()=>{N.current=!0}),onFocus:Q(e.onFocus,S=>{const R=!N.current;if(S.target===S.currentTarget&&R&&!y){const T=new CustomEvent(_u,eM);if(S.currentTarget.dispatchEvent(T),!T.defaultPrevented){const F=j().filter(A=>A.focusable),O=F.find(A=>A.active),W=F.find(A=>A.id===w),q=[O,W,...F].filter(Boolean).map(A=>A.ref.current);qN(q,d)}}N.current=!1}),onBlur:Q(e.onBlur,()=>p(!1))})})}),WN="RovingFocusGroupItem",HN=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,focusable:n=!0,active:a=!1,tabStopId:o,children:i,...l}=e,c=bf(),u=o||c,d=rM(WN,s),f=d.currentTabStopId===u,h=VN(s),{onFocusableItemAdd:g,onFocusableItemRemove:m,currentTabStopId:w}=d;return x.useEffect(()=>{if(n)return g(),()=>m()},[n,g,m]),r.jsx(kf.ItemSlot,{scope:s,id:u,focusable:n,active:a,children:r.jsx(he.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:Q(e.onMouseDown,b=>{n?d.onItemFocus(u):b.preventDefault()}),onFocus:Q(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Q(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const y=lM(b,d.orientation,d.dir);if(y!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let v=h().filter(j=>j.focusable).map(j=>j.ref.current);if(y==="last")v.reverse();else if(y==="prev"||y==="next"){y==="prev"&&v.reverse();const j=v.indexOf(b.currentTarget);v=d.loop?cM(v,j+1):v.slice(j+1)}setTimeout(()=>qN(v))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:w!=null}):i})})});HN.displayName=WN;var oM={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function iM(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function lM(e,t,s){const n=iM(e.key,s);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return oM[n]}function qN(e,t=!1){const s=document.activeElement;for(const n of e)if(n===s||(n.focus({preventScroll:t}),document.activeElement!==s))return}function cM(e,t){return e.map((s,n)=>e[(t+n)%e.length])}var uM=BN,dM=HN,fM=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},cr=new WeakMap,ki=new WeakMap,Ci={},Mu=0,GN=function(e){return e&&(e.host||GN(e.parentNode))},pM=function(e,t){return t.map(function(s){if(e.contains(s))return s;var n=GN(s);return n&&e.contains(n)?n:(console.error("aria-hidden",s,"in not contained inside",e,". Doing nothing"),null)}).filter(function(s){return!!s})},hM=function(e,t,s,n){var a=pM(t,Array.isArray(e)?e:[e]);Ci[s]||(Ci[s]=new WeakMap);var o=Ci[s],i=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var g=h.getAttribute(n),m=g!==null&&g!=="false",w=(cr.get(h)||0)+1,b=(o.get(h)||0)+1;cr.set(h,w),o.set(h,b),i.push(h),w===1&&m&&ki.set(h,!0),b===1&&h.setAttribute(s,"true"),m||h.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return d(t),l.clear(),Mu++,function(){i.forEach(function(f){var h=cr.get(f)-1,g=o.get(f)-1;cr.set(f,h),o.set(f,g),h||(ki.has(f)||f.removeAttribute(n),ki.delete(f)),g||f.removeAttribute(s)}),Mu--,Mu||(cr=new WeakMap,cr=new WeakMap,ki=new WeakMap,Ci={})}},mM=function(e,t,s){s===void 0&&(s="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=fM(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),hM(n,a,s,"aria-hidden")):function(){return null}},os=function(){return os=Object.assign||function(t){for(var s,n=1,a=arguments.length;n<a;n++){s=arguments[n];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o])}return t},os.apply(this,arguments)};function KN(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(s[n[a]]=e[n[a]]);return s}function xM(e,t,s){if(s||arguments.length===2)for(var n=0,a=t.length,o;n<a;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var Yi="right-scroll-bar-position",Xi="width-before-scroll-bar",gM="with-scroll-bars-hidden",yM="--removed-body-scroll-bar-size";function Lu(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function vM(e,t){var s=x.useState(function(){return{value:e,callback:t,facade:{get current(){return s.value},set current(n){var a=s.value;a!==n&&(s.value=n,s.callback(n,a))}}}})[0];return s.callback=t,s.facade}var wM=typeof window<"u"?x.useLayoutEffect:x.useEffect,Jg=new WeakMap;function bM(e,t){var s=vM(null,function(n){return e.forEach(function(a){return Lu(a,n)})});return wM(function(){var n=Jg.get(s);if(n){var a=new Set(n),o=new Set(e),i=s.current;a.forEach(function(l){o.has(l)||Lu(l,null)}),o.forEach(function(l){a.has(l)||Lu(l,i)})}Jg.set(s,e)},[e]),s}function jM(e){return e}function NM(e,t){t===void 0&&(t=jM);var s=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:e},useMedium:function(o){var i=t(o,n);return s.push(i),function(){s=s.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(n=!0;s.length;){var i=s;s=[],i.forEach(o)}s={push:function(l){return o(l)},filter:function(){return s}}},assignMedium:function(o){n=!0;var i=[];if(s.length){var l=s;s=[],l.forEach(o),i=s}var c=function(){var d=i;i=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),s={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),s}}}};return a}function SM(e){e===void 0&&(e={});var t=NM(null);return t.options=os({async:!0,ssr:!1},e),t}var YN=function(e){var t=e.sideCar,s=KN(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,os({},s))};YN.isSideCarExport=!0;function kM(e,t){return e.useMedium(t),YN}var XN=SM(),Iu=function(){},Pc=x.forwardRef(function(e,t){var s=x.useRef(null),n=x.useState({onScrollCapture:Iu,onWheelCapture:Iu,onTouchMoveCapture:Iu}),a=n[0],o=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,g=e.noIsolation,m=e.inert,w=e.allowPinchZoom,b=e.as,y=b===void 0?"div":b,p=e.gapMode,v=KN(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,N=bM([s,t]),k=os(os({},v),a);return x.createElement(x.Fragment,null,d&&x.createElement(j,{sideCar:XN,removeScrollBar:u,shards:f,noIsolation:g,inert:m,setCallbacks:o,allowPinchZoom:!!w,lockRef:s,gapMode:p}),i?x.cloneElement(x.Children.only(l),os(os({},k),{ref:N})):x.createElement(y,os({},k,{className:c,ref:N}),l))});Pc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Pc.classNames={fullWidth:Xi,zeroRight:Yi};var CM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function AM(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=CM();return t&&e.setAttribute("nonce",t),e}function PM(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function EM(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var RM=function(){var e=0,t=null;return{add:function(s){e==0&&(t=AM())&&(PM(t,s),EM(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},TM=function(){var e=RM();return function(t,s){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&s])}},QN=function(){var e=TM(),t=function(s){var n=s.styles,a=s.dynamic;return e(n,a),null};return t},DM={left:0,top:0,right:0,gap:0},Ou=function(e){return parseInt(e||"",10)||0},_M=function(e){var t=window.getComputedStyle(document.body),s=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Ou(s),Ou(n),Ou(a)]},MM=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return DM;var t=_M(e),s=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-s+t[2]-t[0])}},LM=QN(),Fr="data-scroll-locked",IM=function(e,t,s,n){var a=e.left,o=e.top,i=e.right,l=e.gap;return s===void 0&&(s="margin"),`
  .`.concat(gM,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Fr,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),s==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),s==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Yi,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Xi,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Yi," .").concat(Yi,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Xi," .").concat(Xi,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Fr,`] {
    `).concat(yM,": ").concat(l,`px;
  }
`)},Zg=function(){var e=parseInt(document.body.getAttribute(Fr)||"0",10);return isFinite(e)?e:0},OM=function(){x.useEffect(function(){return document.body.setAttribute(Fr,(Zg()+1).toString()),function(){var e=Zg()-1;e<=0?document.body.removeAttribute(Fr):document.body.setAttribute(Fr,e.toString())}},[])},FM=function(e){var t=e.noRelative,s=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;OM();var o=x.useMemo(function(){return MM(a)},[a]);return x.createElement(LM,{styles:IM(o,!t,a,s?"":"!important")})},Cf=!1;if(typeof window<"u")try{var Ai=Object.defineProperty({},"passive",{get:function(){return Cf=!0,!0}});window.addEventListener("test",Ai,Ai),window.removeEventListener("test",Ai,Ai)}catch{Cf=!1}var ur=Cf?{passive:!1}:!1,zM=function(e){return e.tagName==="TEXTAREA"},JN=function(e,t){if(!(e instanceof Element))return!1;var s=window.getComputedStyle(e);return s[t]!=="hidden"&&!(s.overflowY===s.overflowX&&!zM(e)&&s[t]==="visible")},UM=function(e){return JN(e,"overflowY")},VM=function(e){return JN(e,"overflowX")},e0=function(e,t){var s=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=ZN(e,n);if(a){var o=e1(e,n),i=o[1],l=o[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==s.body);return!1},$M=function(e){var t=e.scrollTop,s=e.scrollHeight,n=e.clientHeight;return[t,s,n]},BM=function(e){var t=e.scrollLeft,s=e.scrollWidth,n=e.clientWidth;return[t,s,n]},ZN=function(e,t){return e==="v"?UM(t):VM(t)},e1=function(e,t){return e==="v"?$M(t):BM(t)},WM=function(e,t){return e==="h"&&t==="rtl"?-1:1},HM=function(e,t,s,n,a){var o=WM(e,window.getComputedStyle(t).direction),i=o*n,l=s.target,c=t.contains(l),u=!1,d=i>0,f=0,h=0;do{var g=e1(e,l),m=g[0],w=g[1],b=g[2],y=w-b-o*m;(m||y)&&ZN(e,l)&&(f+=y,h+=m),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},Pi=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},t0=function(e){return[e.deltaX,e.deltaY]},s0=function(e){return e&&"current"in e?e.current:e},qM=function(e,t){return e[0]===t[0]&&e[1]===t[1]},GM=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},KM=0,dr=[];function YM(e){var t=x.useRef([]),s=x.useRef([0,0]),n=x.useRef(),a=x.useState(KM++)[0],o=x.useState(QN)[0],i=x.useRef(e);x.useEffect(function(){i.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var w=xM([e.lockRef.current],(e.shards||[]).map(s0),!0).filter(Boolean);return w.forEach(function(b){return b.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),w.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=x.useCallback(function(w,b){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!i.current.allowPinchZoom;var y=Pi(w),p=s.current,v="deltaX"in w?w.deltaX:p[0]-y[0],j="deltaY"in w?w.deltaY:p[1]-y[1],N,k=w.target,P=Math.abs(v)>Math.abs(j)?"h":"v";if("touches"in w&&P==="h"&&k.type==="range")return!1;var S=e0(P,k);if(!S)return!0;if(S?N=P:(N=P==="v"?"h":"v",S=e0(P,k)),!S)return!1;if(!n.current&&"changedTouches"in w&&(v||j)&&(n.current=N),!N)return!0;var R=n.current||N;return HM(R,b,w,R==="h"?v:j)},[]),c=x.useCallback(function(w){var b=w;if(!(!dr.length||dr[dr.length-1]!==o)){var y="deltaY"in b?t0(b):Pi(b),p=t.current.filter(function(N){return N.name===b.type&&(N.target===b.target||b.target===N.shadowParent)&&qM(N.delta,y)})[0];if(p&&p.should){b.cancelable&&b.preventDefault();return}if(!p){var v=(i.current.shards||[]).map(s0).filter(Boolean).filter(function(N){return N.contains(b.target)}),j=v.length>0?l(b,v[0]):!i.current.noIsolation;j&&b.cancelable&&b.preventDefault()}}},[]),u=x.useCallback(function(w,b,y,p){var v={name:w,delta:b,target:y,should:p,shadowParent:XM(y)};t.current.push(v),setTimeout(function(){t.current=t.current.filter(function(j){return j!==v})},1)},[]),d=x.useCallback(function(w){s.current=Pi(w),n.current=void 0},[]),f=x.useCallback(function(w){u(w.type,t0(w),w.target,l(w,e.lockRef.current))},[]),h=x.useCallback(function(w){u(w.type,Pi(w),w.target,l(w,e.lockRef.current))},[]);x.useEffect(function(){return dr.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,ur),document.addEventListener("touchmove",c,ur),document.addEventListener("touchstart",d,ur),function(){dr=dr.filter(function(w){return w!==o}),document.removeEventListener("wheel",c,ur),document.removeEventListener("touchmove",c,ur),document.removeEventListener("touchstart",d,ur)}},[]);var g=e.removeScrollBar,m=e.inert;return x.createElement(x.Fragment,null,m?x.createElement(o,{styles:GM(a)}):null,g?x.createElement(FM,{gapMode:e.gapMode}):null)}function XM(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const QM=kM(XN,YM);var t1=x.forwardRef(function(e,t){return x.createElement(Pc,os({},e,{ref:t,sideCar:QM}))});t1.classNames=Pc.classNames;var Af=["Enter"," "],JM=["ArrowDown","PageUp","Home"],s1=["ArrowUp","PageDown","End"],ZM=[...JM,...s1],eL={ltr:[...Af,"ArrowRight"],rtl:[...Af,"ArrowLeft"]},tL={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ko="Menu",[Po,sL,nL]=Pp(Ko),[or,n1]=jn(Ko,[nL,DN,$N]),Ec=DN(),r1=$N(),[rL,ir]=or(Ko),[aL,Yo]=or(Ko),a1=e=>{const{__scopeMenu:t,open:s=!1,children:n,dir:a,onOpenChange:o,modal:i=!0}=e,l=Ec(t),[c,u]=x.useState(null),d=x.useRef(!1),f=xt(o),h=xN(a);return x.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",m,{capture:!0,once:!0}),document.addEventListener("pointermove",m,{capture:!0,once:!0})},m=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",m,{capture:!0}),document.removeEventListener("pointermove",m,{capture:!0})}},[]),r.jsx(X5,{...l,children:r.jsx(rL,{scope:t,open:s,onOpenChange:f,content:c,onContentChange:u,children:r.jsx(aL,{scope:t,onClose:x.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:i,children:n})})})};a1.displayName=Ko;var oL="MenuAnchor",Rh=x.forwardRef((e,t)=>{const{__scopeMenu:s,...n}=e,a=Ec(s);return r.jsx(Q5,{...a,...n,ref:t})});Rh.displayName=oL;var Th="MenuPortal",[iL,o1]=or(Th,{forceMount:void 0}),i1=e=>{const{__scopeMenu:t,forceMount:s,children:n,container:a}=e,o=ir(Th,t);return r.jsx(iL,{scope:t,forceMount:s,children:r.jsx(la,{present:s||o.open,children:r.jsx(Tp,{asChild:!0,container:a,children:n})})})};i1.displayName=Th;var Lt="MenuContent",[lL,Dh]=or(Lt),l1=x.forwardRef((e,t)=>{const s=o1(Lt,e.__scopeMenu),{forceMount:n=s.forceMount,...a}=e,o=ir(Lt,e.__scopeMenu),i=Yo(Lt,e.__scopeMenu);return r.jsx(Po.Provider,{scope:e.__scopeMenu,children:r.jsx(la,{present:n||o.open,children:r.jsx(Po.Slot,{scope:e.__scopeMenu,children:i.modal?r.jsx(cL,{...a,ref:t}):r.jsx(uL,{...a,ref:t})})})})}),cL=x.forwardRef((e,t)=>{const s=ir(Lt,e.__scopeMenu),n=x.useRef(null),a=Oe(t,n);return x.useEffect(()=>{const o=n.current;if(o)return mM(o)},[]),r.jsx(_h,{...e,ref:a,trapFocus:s.open,disableOutsidePointerEvents:s.open,disableOutsideScroll:!0,onFocusOutside:Q(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>s.onOpenChange(!1)})}),uL=x.forwardRef((e,t)=>{const s=ir(Lt,e.__scopeMenu);return r.jsx(_h,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>s.onOpenChange(!1)})}),dL=wo("MenuContent.ScrollLock"),_h=x.forwardRef((e,t)=>{const{__scopeMenu:s,loop:n=!1,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:g,disableOutsideScroll:m,...w}=e,b=ir(Lt,s),y=Yo(Lt,s),p=Ec(s),v=r1(s),j=sL(s),[N,k]=x.useState(null),P=x.useRef(null),S=Oe(t,P,b.onContentChange),R=x.useRef(0),T=x.useRef(""),F=x.useRef(0),O=x.useRef(null),W=x.useRef("right"),U=x.useRef(0),q=m?t1:x.Fragment,A=m?{as:dL,allowPinchZoom:!0}:void 0,V=C=>{var Ue,kn;const _=T.current+C,L=j().filter(We=>!We.disabled),B=document.activeElement,re=(Ue=L.find(We=>We.ref.current===B))==null?void 0:Ue.textValue,se=L.map(We=>We.textValue),fe=NL(se,_,re),Pe=(kn=L.find(We=>We.textValue===fe))==null?void 0:kn.ref.current;(function We(es){T.current=es,window.clearTimeout(R.current),es!==""&&(R.current=window.setTimeout(()=>We(""),1e3))})(_),Pe&&setTimeout(()=>Pe.focus())};x.useEffect(()=>()=>window.clearTimeout(R.current),[]),L_();const D=x.useCallback(C=>{var L,B;return W.current===((L=O.current)==null?void 0:L.side)&&kL(C,(B=O.current)==null?void 0:B.area)},[]);return r.jsx(lL,{scope:s,searchRef:T,onItemEnter:x.useCallback(C=>{D(C)&&C.preventDefault()},[D]),onItemLeave:x.useCallback(C=>{var _;D(C)||((_=P.current)==null||_.focus(),k(null))},[D]),onTriggerLeave:x.useCallback(C=>{D(C)&&C.preventDefault()},[D]),pointerGraceTimerRef:F,onPointerGraceIntentChange:x.useCallback(C=>{O.current=C},[]),children:r.jsx(q,{...A,children:r.jsx(gN,{asChild:!0,trapped:a,onMountAutoFocus:Q(o,C=>{var _;C.preventDefault(),(_=P.current)==null||_.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:r.jsx(Rp,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:g,children:r.jsx(uM,{asChild:!0,...v,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:N,onCurrentTabStopIdChange:k,onEntryFocus:Q(c,C=>{y.isUsingKeyboardRef.current||C.preventDefault()}),preventScrollOnEntryFocus:!0,children:r.jsx(J5,{role:"menu","aria-orientation":"vertical","data-state":S1(b.open),"data-radix-menu-content":"",dir:y.dir,...p,...w,ref:S,style:{outline:"none",...w.style},onKeyDown:Q(w.onKeyDown,C=>{const L=C.target.closest("[data-radix-menu-content]")===C.currentTarget,B=C.ctrlKey||C.altKey||C.metaKey,re=C.key.length===1;L&&(C.key==="Tab"&&C.preventDefault(),!B&&re&&V(C.key));const se=P.current;if(C.target!==se||!ZM.includes(C.key))return;C.preventDefault();const Pe=j().filter(Ue=>!Ue.disabled).map(Ue=>Ue.ref.current);s1.includes(C.key)&&Pe.reverse(),bL(Pe)}),onBlur:Q(e.onBlur,C=>{C.currentTarget.contains(C.target)||(window.clearTimeout(R.current),T.current="")}),onPointerMove:Q(e.onPointerMove,Eo(C=>{const _=C.target,L=U.current!==C.clientX;if(C.currentTarget.contains(_)&&L){const B=C.clientX>U.current?"right":"left";W.current=B,U.current=C.clientX}}))})})})})})})});l1.displayName=Lt;var fL="MenuGroup",Mh=x.forwardRef((e,t)=>{const{__scopeMenu:s,...n}=e;return r.jsx(he.div,{role:"group",...n,ref:t})});Mh.displayName=fL;var pL="MenuLabel",c1=x.forwardRef((e,t)=>{const{__scopeMenu:s,...n}=e;return r.jsx(he.div,{...n,ref:t})});c1.displayName=pL;var zl="MenuItem",n0="menu.itemSelect",Rc=x.forwardRef((e,t)=>{const{disabled:s=!1,onSelect:n,...a}=e,o=x.useRef(null),i=Yo(zl,e.__scopeMenu),l=Dh(zl,e.__scopeMenu),c=Oe(t,o),u=x.useRef(!1),d=()=>{const f=o.current;if(!s&&f){const h=new CustomEvent(n0,{bubbles:!0,cancelable:!0});f.addEventListener(n0,g=>n==null?void 0:n(g),{once:!0}),Ep(f,h),h.defaultPrevented?u.current=!1:i.onClose()}};return r.jsx(u1,{...a,ref:c,disabled:s,onClick:Q(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:Q(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:Q(e.onKeyDown,f=>{const h=l.searchRef.current!=="";s||h&&f.key===" "||Af.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Rc.displayName=zl;var u1=x.forwardRef((e,t)=>{const{__scopeMenu:s,disabled:n=!1,textValue:a,...o}=e,i=Dh(zl,s),l=r1(s),c=x.useRef(null),u=Oe(t,c),[d,f]=x.useState(!1),[h,g]=x.useState("");return x.useEffect(()=>{const m=c.current;m&&g((m.textContent??"").trim())},[o.children]),r.jsx(Po.ItemSlot,{scope:s,disabled:n,textValue:a??h,children:r.jsx(dM,{asChild:!0,...l,focusable:!n,children:r.jsx(he.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:u,onPointerMove:Q(e.onPointerMove,Eo(m=>{n?i.onItemLeave(m):(i.onItemEnter(m),m.defaultPrevented||m.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Q(e.onPointerLeave,Eo(m=>i.onItemLeave(m))),onFocus:Q(e.onFocus,()=>f(!0)),onBlur:Q(e.onBlur,()=>f(!1))})})})}),hL="MenuCheckboxItem",d1=x.forwardRef((e,t)=>{const{checked:s=!1,onCheckedChange:n,...a}=e;return r.jsx(x1,{scope:e.__scopeMenu,checked:s,children:r.jsx(Rc,{role:"menuitemcheckbox","aria-checked":Ul(s)?"mixed":s,...a,ref:t,"data-state":Ih(s),onSelect:Q(a.onSelect,()=>n==null?void 0:n(Ul(s)?!0:!s),{checkForDefaultPrevented:!1})})})});d1.displayName=hL;var f1="MenuRadioGroup",[mL,xL]=or(f1,{value:void 0,onValueChange:()=>{}}),p1=x.forwardRef((e,t)=>{const{value:s,onValueChange:n,...a}=e,o=xt(n);return r.jsx(mL,{scope:e.__scopeMenu,value:s,onValueChange:o,children:r.jsx(Mh,{...a,ref:t})})});p1.displayName=f1;var h1="MenuRadioItem",m1=x.forwardRef((e,t)=>{const{value:s,...n}=e,a=xL(h1,e.__scopeMenu),o=s===a.value;return r.jsx(x1,{scope:e.__scopeMenu,checked:o,children:r.jsx(Rc,{role:"menuitemradio","aria-checked":o,...n,ref:t,"data-state":Ih(o),onSelect:Q(n.onSelect,()=>{var i;return(i=a.onValueChange)==null?void 0:i.call(a,s)},{checkForDefaultPrevented:!1})})})});m1.displayName=h1;var Lh="MenuItemIndicator",[x1,gL]=or(Lh,{checked:!1}),g1=x.forwardRef((e,t)=>{const{__scopeMenu:s,forceMount:n,...a}=e,o=gL(Lh,s);return r.jsx(la,{present:n||Ul(o.checked)||o.checked===!0,children:r.jsx(he.span,{...a,ref:t,"data-state":Ih(o.checked)})})});g1.displayName=Lh;var yL="MenuSeparator",y1=x.forwardRef((e,t)=>{const{__scopeMenu:s,...n}=e;return r.jsx(he.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});y1.displayName=yL;var vL="MenuArrow",v1=x.forwardRef((e,t)=>{const{__scopeMenu:s,...n}=e,a=Ec(s);return r.jsx(Z5,{...a,...n,ref:t})});v1.displayName=vL;var wL="MenuSub",[EV,w1]=or(wL),Fa="MenuSubTrigger",b1=x.forwardRef((e,t)=>{const s=ir(Fa,e.__scopeMenu),n=Yo(Fa,e.__scopeMenu),a=w1(Fa,e.__scopeMenu),o=Dh(Fa,e.__scopeMenu),i=x.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=o,u={__scopeMenu:e.__scopeMenu},d=x.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return x.useEffect(()=>d,[d]),x.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),r.jsx(Rh,{asChild:!0,...u,children:r.jsx(u1,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":a.contentId,"data-state":S1(s.open),...e,ref:lc(t,a.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),s.open||s.onOpenChange(!0))},onPointerMove:Q(e.onPointerMove,Eo(f=>{o.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!s.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{s.onOpenChange(!0),d()},100))})),onPointerLeave:Q(e.onPointerLeave,Eo(f=>{var g,m;d();const h=(g=s.content)==null?void 0:g.getBoundingClientRect();if(h){const w=(m=s.content)==null?void 0:m.dataset.side,b=w==="right",y=b?-5:5,p=h[b?"left":"right"],v=h[b?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x:p,y:h.top},{x:v,y:h.top},{x:v,y:h.bottom},{x:p,y:h.bottom}],side:w}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:Q(e.onKeyDown,f=>{var g;const h=o.searchRef.current!=="";e.disabled||h&&f.key===" "||eL[n.dir].includes(f.key)&&(s.onOpenChange(!0),(g=s.content)==null||g.focus(),f.preventDefault())})})})});b1.displayName=Fa;var j1="MenuSubContent",N1=x.forwardRef((e,t)=>{const s=o1(Lt,e.__scopeMenu),{forceMount:n=s.forceMount,...a}=e,o=ir(Lt,e.__scopeMenu),i=Yo(Lt,e.__scopeMenu),l=w1(j1,e.__scopeMenu),c=x.useRef(null),u=Oe(t,c);return r.jsx(Po.Provider,{scope:e.__scopeMenu,children:r.jsx(la,{present:n||o.open,children:r.jsx(Po.Slot,{scope:e.__scopeMenu,children:r.jsx(_h,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;i.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Q(e.onFocusOutside,d=>{d.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:Q(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:Q(e.onKeyDown,d=>{var g;const f=d.currentTarget.contains(d.target),h=tL[i.dir].includes(d.key);f&&h&&(o.onOpenChange(!1),(g=l.trigger)==null||g.focus(),d.preventDefault())})})})})})});N1.displayName=j1;function S1(e){return e?"open":"closed"}function Ul(e){return e==="indeterminate"}function Ih(e){return Ul(e)?"indeterminate":e?"checked":"unchecked"}function bL(e){const t=document.activeElement;for(const s of e)if(s===t||(s.focus(),document.activeElement!==t))return}function jL(e,t){return e.map((s,n)=>e[(t+n)%e.length])}function NL(e,t,s){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=s?e.indexOf(s):-1;let i=jL(e,Math.max(o,0));a.length===1&&(i=i.filter(u=>u!==s));const c=i.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==s?c:void 0}function SL(e,t){const{x:s,y:n}=e;let a=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o],c=t[i],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&s<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function kL(e,t){if(!t)return!1;const s={x:e.clientX,y:e.clientY};return SL(s,t)}function Eo(e){return t=>t.pointerType==="mouse"?e(t):void 0}var CL=a1,AL=Rh,PL=i1,EL=l1,RL=Mh,TL=c1,DL=Rc,_L=d1,ML=p1,LL=m1,IL=g1,OL=y1,FL=v1,zL=b1,UL=N1,Tc="DropdownMenu",[VL]=jn(Tc,[n1]),it=n1(),[$L,k1]=VL(Tc),C1=e=>{const{__scopeDropdownMenu:t,children:s,dir:n,open:a,defaultOpen:o,onOpenChange:i,modal:l=!0}=e,c=it(t),u=x.useRef(null),[d,f]=cc({prop:a,defaultProp:o??!1,onChange:i,caller:Tc});return r.jsx($L,{scope:t,triggerId:bf(),triggerRef:u,contentId:bf(),open:d,onOpenChange:f,onOpenToggle:x.useCallback(()=>f(h=>!h),[f]),modal:l,children:r.jsx(CL,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:s})})};C1.displayName=Tc;var A1="DropdownMenuTrigger",P1=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,disabled:n=!1,...a}=e,o=k1(A1,s),i=it(s);return r.jsx(AL,{asChild:!0,...i,children:r.jsx(he.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:lc(t,o.triggerRef),onPointerDown:Q(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:Q(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});P1.displayName=A1;var BL="DropdownMenuPortal",E1=e=>{const{__scopeDropdownMenu:t,...s}=e,n=it(t);return r.jsx(PL,{...n,...s})};E1.displayName=BL;var R1="DropdownMenuContent",T1=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=k1(R1,s),o=it(s),i=x.useRef(!1);return r.jsx(EL,{id:a.contentId,"aria-labelledby":a.triggerId,...o,...n,ref:t,onCloseAutoFocus:Q(e.onCloseAutoFocus,l=>{var c;i.current||(c=a.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:Q(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});T1.displayName=R1;var WL="DropdownMenuGroup",HL=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=it(s);return r.jsx(RL,{...a,...n,ref:t})});HL.displayName=WL;var qL="DropdownMenuLabel",D1=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=it(s);return r.jsx(TL,{...a,...n,ref:t})});D1.displayName=qL;var GL="DropdownMenuItem",_1=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=it(s);return r.jsx(DL,{...a,...n,ref:t})});_1.displayName=GL;var KL="DropdownMenuCheckboxItem",M1=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=it(s);return r.jsx(_L,{...a,...n,ref:t})});M1.displayName=KL;var YL="DropdownMenuRadioGroup",XL=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=it(s);return r.jsx(ML,{...a,...n,ref:t})});XL.displayName=YL;var QL="DropdownMenuRadioItem",L1=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=it(s);return r.jsx(LL,{...a,...n,ref:t})});L1.displayName=QL;var JL="DropdownMenuItemIndicator",I1=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=it(s);return r.jsx(IL,{...a,...n,ref:t})});I1.displayName=JL;var ZL="DropdownMenuSeparator",O1=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=it(s);return r.jsx(OL,{...a,...n,ref:t})});O1.displayName=ZL;var eI="DropdownMenuArrow",tI=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=it(s);return r.jsx(FL,{...a,...n,ref:t})});tI.displayName=eI;var sI="DropdownMenuSubTrigger",F1=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=it(s);return r.jsx(zL,{...a,...n,ref:t})});F1.displayName=sI;var nI="DropdownMenuSubContent",z1=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=it(s);return r.jsx(UL,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});z1.displayName=nI;var rI=C1,aI=P1,oI=E1,U1=T1,V1=D1,$1=_1,B1=M1,W1=L1,H1=I1,q1=O1,G1=F1,K1=z1;const r0=rI,a0=aI,iI=E.forwardRef(({className:e,inset:t,children:s,...n},a)=>r.jsxs(G1,{ref:a,className:X("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[s,r.jsx(NP,{className:"ml-auto h-4 w-4"})]}));iI.displayName=G1.displayName;const lI=E.forwardRef(({className:e,...t},s)=>r.jsx(K1,{ref:s,className:X("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));lI.displayName=K1.displayName;const Pf=E.forwardRef(({className:e,sideOffset:t=4,...s},n)=>r.jsx(oI,{children:r.jsx(U1,{ref:n,sideOffset:t,className:X("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));Pf.displayName=U1.displayName;const Dn=E.forwardRef(({className:e,inset:t,...s},n)=>r.jsx($1,{ref:n,className:X("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...s}));Dn.displayName=$1.displayName;const cI=E.forwardRef(({className:e,children:t,checked:s,...n},a)=>r.jsxs(B1,{ref:a,className:X("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:s,...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(H1,{children:r.jsx(Op,{className:"h-4 w-4"})})}),t]}));cI.displayName=B1.displayName;const uI=E.forwardRef(({className:e,children:t,...s},n)=>r.jsxs(W1,{ref:n,className:X("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(H1,{children:r.jsx($w,{className:"h-2 w-2 fill-current"})})}),t]}));uI.displayName=W1.displayName;const Qi=E.forwardRef(({className:e,inset:t,...s},n)=>r.jsx(V1,{ref:n,className:X("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...s}));Qi.displayName=V1.displayName;const za=E.forwardRef(({className:e,...t},s)=>r.jsx(q1,{ref:s,className:X("-mx-1 my-1 h-px bg-muted",e),...t}));za.displayName=q1.displayName;const Oh=()=>{const e=E.useContext(Db);if(!e)throw new Error("useNotifications must be used within NotificationsProvider");return e},dI={"/app/dashboard":"Dashboard","/app/documents":"Documents","/app/ai-assistant":"AI Assistant","/app/tasks":"Tasks","/app/projects":"Projects","/app/audit":"Audit Log","/app/risk-matrix":"Risk Matrix","/app/dsr":"Data Subject Requests","/app/dpia":"DPIA","/app/policies":"Policies","/app/incidents":"Incidents","/app/templates":"Templates","/app/billing":"Billing","/app/settings":"Settings","/app/settings/notifications":"Notification Settings","/app/admin":"Admin","/app/admin/workspace/users":"Workspace Users & Roles","/app/platform-admin":"Platform Admin","/app/admin/dsr-portal":"DSR Portal Admin","/app/notifications":"Notifications","/app/logs":"Audit Logs"},fI=e=>{const t=e.trim().split(" ");return t.length===1?t[0].slice(0,2).toUpperCase():`${t[0][0].toUpperCase()}${t[t.length-1][0].toUpperCase()}`},pI=({onMenuClick:e,onAskAura:t})=>{const{user:s,logout:n}=$t(),{notifications:a,unreadCount:o,markAsRead:i}=Oh(),{tenantPlan:l,isTestTenant:c}=Fs(),u=hs(),d=ps(),f=(s==null?void 0:s.name)||(s==null?void 0:s.email)||"AURA User",h=s!=null&&s.role?s.role:"",g=(s==null?void 0:s.tenantName)||"Acme Privacy Ltd.",m=l?`${l.charAt(0).toUpperCase()}${l.slice(1)} plan`:"Workspace plan",w=dI[d.pathname]??"Dashboard",b=()=>{n()};return r.jsx("header",{className:"sticky top-0 z-30 border-b border-slate-200 bg-white/80 backdrop-blur",children:r.jsxs("div",{className:"flex h-16 items-center gap-3 px-4 lg:px-8",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(M,{variant:"ghost",size:"icon",className:"lg:hidden text-slate-600 hover:text-slate-900",onClick:e,"aria-label":"Open navigation",children:r.jsx(VP,{className:"h-5 w-5"})}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-gradient-to-br from-sky-500 to-indigo-500 text-sm font-semibold text-white shadow-sm",children:"AG"}),r.jsxs("div",{className:"leading-tight",children:[r.jsx("p",{className:"text-xs text-slate-500",children:"AURA-GDPR"}),r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:g})]})]})]}),r.jsxs("div",{className:"hidden flex-1 items-center md:flex",children:[r.jsx("div",{className:"mx-6 h-10 w-px bg-slate-200"}),r.jsx("p",{className:"text-sm font-medium text-slate-700",children:w})]}),r.jsxs("div",{className:"flex flex-1 items-center justify-end gap-2 sm:gap-3 md:flex-none",children:[r.jsxs("div",{className:"hidden items-center gap-2 sm:flex",children:[r.jsxs(Je,{className:"inline-flex items-center gap-2 border border-sky-100 bg-sky-50 text-sky-700 shadow-sm",children:[r.jsx(Oo,{className:"h-4 w-4"}),m]}),c&&r.jsxs(Je,{className:"inline-flex items-center gap-2 border border-indigo-100 bg-indigo-50 text-indigo-700 shadow-sm",children:[r.jsx(gt,{className:"h-4 w-4"}),"Test mode: AI unlocked"]})]}),r.jsxs(M,{size:"sm",className:"hidden sm:inline-flex items-center gap-2 bg-sky-600 text-white hover:bg-sky-700",onClick:()=>t==null?void 0:t(),children:[r.jsx(gt,{className:"h-4 w-4"}),"Ask AURA"]}),r.jsxs(r0,{children:[r.jsx(a0,{asChild:!0,children:r.jsxs(M,{variant:"ghost",size:"icon",className:"relative text-slate-600 hover:text-slate-900","aria-label":"Notifications",children:[r.jsx(jo,{className:"h-5 w-5"}),o>0&&r.jsx("span",{className:"absolute -right-1 -top-1 flex h-5 w-5 items-center justify-center rounded-full bg-amber-500 text-[10px] font-semibold text-white",children:o})]})}),r.jsxs(Pf,{align:"end",className:"w-80 p-2",children:[r.jsx(Qi,{className:"text-xs uppercase text-slate-500",children:"Notifications"}),r.jsx(za,{}),r.jsxs("div",{className:"max-h-80 space-y-1 overflow-y-auto",children:[a.slice(0,5).map(y=>r.jsxs(Dn,{className:"items-start gap-3 px-2 py-2",onSelect:async p=>{p.preventDefault(),await i(y.id),y.link&&u(y.link)},children:[r.jsx("span",{className:X("mt-1 h-2.5 w-2.5 rounded-full",y.severity==="info"?"bg-sky-500":y.severity==="warning"?"bg-amber-500":"bg-rose-500"),"aria-hidden":!0}),r.jsxs("div",{className:"space-y-0.5",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:y.title}),r.jsx("p",{className:"text-xs text-slate-600 line-clamp-2",children:y.description})]})]},y.id)),a.length===0&&r.jsx("div",{className:"px-2 py-3 text-sm text-slate-500",children:"No notifications yet."})]}),r.jsx(za,{}),r.jsx(Dn,{className:"justify-center text-sm font-semibold text-sky-700",onSelect:y=>{y.preventDefault(),u("/app/notifications")},children:"View all notifications"})]})]}),r.jsxs(r0,{children:[r.jsx(a0,{asChild:!0,children:r.jsxs(M,{variant:"ghost",className:"flex items-center gap-3 px-2",children:[r.jsxs("div",{className:"hidden text-right sm:block",children:[r.jsx("div",{className:"text-sm font-semibold text-slate-900",children:f}),r.jsx("div",{className:"text-xs text-slate-500",children:h})]}),r.jsxs(pN,{className:"h-10 w-10 border border-slate-200",children:[r.jsx(hN,{src:s==null?void 0:s.avatarUrl,alt:f}),r.jsx(mN,{className:"bg-slate-100 text-slate-600",children:fI(f)})]})]})}),r.jsxs(Pf,{align:"end",className:"w-56",children:[r.jsx(Qi,{className:"text-sm font-semibold text-slate-900",children:f}),r.jsx(Qi,{className:"text-xs font-normal text-slate-500",children:g}),r.jsx(za,{}),r.jsxs(Dn,{onSelect:()=>u("/app/settings"),className:"gap-2",children:[r.jsx(Kw,{className:"h-4 w-4 text-slate-500"}),r.jsx("span",{children:"Profile"})]}),r.jsxs(Dn,{onSelect:()=>u("/app/billing"),className:"gap-2",children:[r.jsx(Ww,{className:"h-4 w-4 text-slate-500"}),r.jsx("span",{children:"Billing"})]}),r.jsxs(Dn,{onSelect:()=>u("/app/settings/notifications"),className:"gap-2",children:[r.jsx(zp,{className:"h-4 w-4 text-slate-500"}),r.jsx("span",{children:"Settings"})]}),r.jsx(za,{}),r.jsxs(Dn,{onSelect:b,className:"gap-2 text-red-600 focus:text-red-600",children:[r.jsx(zP,{className:"h-4 w-4"}),r.jsx("span",{children:"Sign out"})]})]})]})]})]})})},hI=()=>{const[e,t]=E.useState(!1),[s,n]=E.useState(!1),{demoMode:a,isOffline:o,versionInfo:i,isTestTenant:l,tenantPlan:c}=Fs(),u=i!=null&&i.version&&i.version.length>0?`AURA-GDPR v${i.version}${i.build?` (build ${i.build})`:""}`:"AURA-GDPR";return r.jsxs("div",{className:"flex min-h-screen bg-slate-50 text-slate-900",children:[r.jsx(g_,{isOpen:e,onClose:()=>t(!1)}),r.jsxs("div",{className:"relative flex min-h-screen flex-1 flex-col",children:[r.jsxs("div",{className:"sticky top-0 z-30",children:[a&&r.jsx("div",{className:"flex items-center justify-center border-b border-amber-200 bg-amber-50 px-4 py-2 text-xs font-semibold text-amber-800",children:"Demo mode  all data is simulated and read-only."}),o&&r.jsx("div",{className:"flex items-center justify-center border-b border-rose-200 bg-rose-50 px-4 py-2 text-xs font-semibold text-rose-700",children:"You are offline. Changes may not be saved until connectivity returns."}),l&&r.jsx("div",{className:"flex items-center justify-center border-b border-indigo-200 bg-indigo-50 px-4 py-2 text-xs font-semibold text-indigo-700",children:"Test mode: All AI features are enabled for this tenant."}),r.jsx(pI,{onMenuClick:()=>t(!0),onAskAura:()=>n(!0)})]}),r.jsx("main",{className:"flex-1 overflow-y-auto bg-slate-50 px-4 py-6 lg:px-8",children:r.jsx("div",{className:"mx-auto max-w-6xl",children:r.jsx(TC,{})})}),r.jsx("footer",{className:"border-t border-slate-200 bg-white/80",children:r.jsx("div",{className:"mx-auto max-w-6xl px-6 py-3 text-sm text-slate-600",children:u})}),r.jsxs(M,{className:"fixed bottom-6 right-6 z-40 shadow-lg",size:"lg",onClick:()=>n(!0),children:[r.jsx(gt,{className:"mr-2 h-4 w-4"}),"Ask AURA"]}),r.jsx(m_,{isOpen:s,onClose:()=>n(!1)})]})]})},mI=()=>x.useMemo(()=>({summary:{complianceScore:78,openDsrs:3,policiesExpiringSoon:2,ongoingDpiaCount:4,activeIncidents:1,overallRiskLevel:"medium"},deadlines:[{id:"dl-1",type:"DSR",title:"Respond to DSR: Jane Doe",dueDate:"2025-12-08T10:00:00Z",status:"in_progress"},{id:"dl-2",type:"Policy",title:"Review Data Retention Policy",dueDate:"2025-12-18T09:00:00Z",status:"open"},{id:"dl-3",type:"DPIA",title:"DPIA for AI Chatbot",dueDate:"2026-01-05T12:00:00Z",status:"open"}],activities:[{id:"act-1",timestamp:"2025-12-01T09:14:00Z",actor:"System",action:"Closed DSR request for John Doe.",resourceType:"DSR",resourceName:"DSR-4412"},{id:"act-2",timestamp:"2025-11-30T15:22:00Z",actor:"Admin user",action:"Approved DPIA for Customer Analytics.",resourceType:"DPIA",resourceName:"DPIA-103"},{id:"act-3",timestamp:"2025-11-30T11:08:00Z",actor:"System",action:"Flagged Policy update overdue by 7 days.",resourceType:"Policy",resourceName:"Access Control Policy"},{id:"act-4",timestamp:"2025-11-29T18:45:00Z",actor:"Privacy Officer",action:"Opened new incident: Vendor outage.",resourceType:"Incident",resourceName:"INC-208"}],aiInsights:[{id:"ai-1",title:"High-risk processing without DPIA",description:"You have 3 high-risk processing activities without a completed DPIA.",severity:"critical"},{id:"ai-2",title:"Policies overdue for review",description:"Two policies have not been reviewed in over 18 months.",severity:"warning"},{id:"ai-3",title:"DSR response time healthy",description:"Average DSR response time is 4.2 days, within SLA.",severity:"info"}],riskOverview:{overallRiskLevel:"medium",highRiskSystems:["Marketing Automation","Data Lake"],openIncidents:1,dpiaRequiredCount:3}}),[]),xI={blue:"text-sky-600 bg-sky-50 border-sky-100",amber:"text-amber-600 bg-amber-50 border-amber-100",emerald:"text-emerald-600 bg-emerald-50 border-emerald-100",red:"text-rose-600 bg-rose-50 border-rose-100",slate:"text-slate-600 bg-slate-50 border-slate-100"},fr=({label:e,value:t,icon:s,hint:n,accent:a="slate",progress:o})=>r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm transition hover:-translate-y-0.5 hover:shadow-md",children:[r.jsxs("div",{className:"flex items-start justify-between gap-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:e}),r.jsxs("div",{className:"mt-2 flex items-baseline gap-2",children:[r.jsx("span",{className:"text-2xl font-semibold text-slate-900",children:t}),n&&r.jsx("span",{className:"text-xs text-slate-500",children:n})]})]}),r.jsx("div",{className:X("flex h-10 w-10 items-center justify-center rounded-lg border",xI[a]),children:s})]}),typeof o=="number"&&r.jsxs("div",{className:"mt-3",children:[r.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[r.jsx("span",{children:"Progress"}),r.jsxs("span",{children:[o,"%"]})]}),r.jsx("div",{className:"mt-1 h-2 w-full rounded-full bg-slate-100",children:r.jsx("div",{className:X("h-2 rounded-full bg-sky-500 transition-all"),style:{width:`${Math.min(Math.max(o,0),100)}%`}})})]})]}),gI={low:"Low",medium:"Medium",high:"High"},yI=({summary:e})=>r.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-3",children:[r.jsx(fr,{label:"Compliance Score",value:`${e.complianceScore}%`,icon:r.jsx(ct,{className:"h-5 w-5"}),accent:"blue",progress:e.complianceScore}),r.jsx(fr,{label:"Open Data Subject Requests",value:e.openDsrs,icon:r.jsx(dc,{className:"h-5 w-5"}),hint:"Within SLA",accent:"emerald"}),r.jsx(fr,{label:"Policies Expiring Soon",value:e.policiesExpiringSoon,icon:r.jsx(Yr,{className:"h-5 w-5"}),hint:"Next 30 days",accent:"amber"}),r.jsx(fr,{label:"Ongoing DPIAs",value:e.ongoingDpiaCount,icon:r.jsx(GP,{className:"h-5 w-5"}),hint:"Includes AI projects",accent:"slate"}),r.jsx(fr,{label:"Active Incidents",value:e.activeIncidents,icon:r.jsx(Is,{className:"h-5 w-5"}),hint:"Across all systems",accent:"red"}),r.jsx(fr,{label:"Overall Risk Level",value:gI[e.overallRiskLevel],icon:r.jsx(HP,{className:"h-5 w-5"}),hint:"Last updated 24h",accent:"blue"})]}),vI={DSR:r.jsx(dc,{className:"h-4 w-4"}),Policy:r.jsx(Yr,{className:"h-4 w-4"}),DPIA:r.jsx(ct,{className:"h-4 w-4"})},wI={open:"bg-amber-50 text-amber-700 border-amber-100",in_progress:"bg-sky-50 text-sky-700 border-sky-100",done:"bg-emerald-50 text-emerald-700 border-emerald-100"},bI=e=>new Date(e).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"}),jI=({deadlines:e})=>{const t=[...e].sort((s,n)=>new Date(s.dueDate).getTime()-new Date(n.dueDate).getTime());return r.jsxs(te,{className:"h-full",children:[r.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0",children:[r.jsxs("div",{children:[r.jsx(de,{className:"text-lg",children:"Upcoming deadlines"}),r.jsx("p",{className:"text-sm text-slate-500",children:"Stay ahead of DSR, DPIA, and policy commitments."})]}),r.jsx(vP,{className:"h-5 w-5 text-slate-400"})]}),r.jsxs(ae,{className:"space-y-3",children:[t.length===0&&r.jsx("div",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50 px-4 py-6 text-center text-sm text-slate-500",children:"No upcoming deadlines. You are all caught up."}),t.map(s=>r.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-200 bg-white px-3 py-3 shadow-sm",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-md bg-slate-100 text-slate-700",children:vI[s.type]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:s.title}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[r.jsx("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-100 px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide text-slate-700",children:s.type}),r.jsx("span",{children:bI(s.dueDate)})]})]})]}),r.jsx("span",{className:X("rounded-full border px-3 py-1 text-xs font-semibold capitalize",wI[s.status]),children:s.status==="in_progress"?"In progress":s.status})]},s.id))]})]})},NI={info:"bg-sky-50 text-sky-700 border-sky-100",warning:"bg-amber-50 text-amber-700 border-amber-100",critical:"bg-rose-50 text-rose-700 border-rose-100"},SI=({insights:e})=>r.jsxs(te,{className:"h-full",children:[r.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0",children:[r.jsxs("div",{children:[r.jsx(de,{className:"text-lg",children:"AI insights"}),r.jsx("p",{className:"text-sm text-slate-500",children:"Recommendations to improve your GDPR posture."})]}),r.jsx(gt,{className:"h-5 w-5 text-amber-500"})]}),r.jsx(ae,{className:"space-y-3",children:e.map(t=>r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-3 shadow-sm hover:border-slate-300",children:[r.jsxs("div",{className:"flex items-center justify-between gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-md bg-slate-100 text-slate-700",children:r.jsx(IP,{className:"h-4 w-4"})}),r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:t.title})]}),r.jsx("span",{className:X("rounded-full border px-2.5 py-1 text-xs font-semibold capitalize",NI[t.severity]),children:t.severity})]}),r.jsx("p",{className:"mt-2 text-sm text-slate-600",children:t.description})]},t.id))})]}),kI=e=>new Date(e).toLocaleString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),CI=({activities:e})=>r.jsxs(te,{className:"h-full",children:[r.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0",children:[r.jsxs("div",{children:[r.jsx(de,{className:"text-lg",children:"Recent activity"}),r.jsx("p",{className:"text-sm text-slate-500",children:"Latest actions across your workspace."})]}),r.jsx(Bw,{className:"h-5 w-5 text-slate-400"})]}),r.jsx(ae,{className:"space-y-4",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute left-4 top-0 h-full w-px bg-slate-200"}),r.jsx("div",{className:"space-y-4",children:e.map((t,s)=>r.jsxs("div",{className:"relative pl-10",children:[r.jsx("div",{className:X("absolute left-2.5 top-1.5 flex h-4 w-4 items-center justify-center rounded-full border-2 border-white bg-sky-500 shadow-sm",s===0&&"ring-2 ring-sky-200")}),r.jsxs("div",{className:"flex items-center justify-between gap-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:t.action}),r.jsxs("div",{className:"mt-1 flex items-center gap-2 text-xs text-slate-500",children:[r.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-100 px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide text-slate-700",children:[r.jsx(bo,{className:"h-3 w-3"}),t.resourceType]}),r.jsx("span",{children:t.resourceName}),r.jsx("span",{children:""}),r.jsx("span",{children:t.actor})]})]}),r.jsx("span",{className:"text-xs text-slate-500",children:kI(t.timestamp)})]})]},t.id))})]})})]}),AI={low:{label:"Low",bg:"bg-emerald-50 text-emerald-700 border-emerald-100",icon:r.jsx(ct,{className:"h-4 w-4"})},medium:{label:"Medium",bg:"bg-amber-50 text-amber-700 border-amber-100",icon:r.jsx(Xr,{className:"h-4 w-4"})},high:{label:"High",bg:"bg-rose-50 text-rose-700 border-rose-100",icon:r.jsx(Is,{className:"h-4 w-4"})}},PI=({risk:e})=>{const t=AI[e.overallRiskLevel];return r.jsxs(te,{className:"h-full",children:[r.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0",children:[r.jsxs("div",{children:[r.jsx(de,{className:"text-lg",children:"Risk & incidents"}),r.jsx("p",{className:"text-sm text-slate-500",children:"High-level posture across systems."})]}),r.jsx(ua,{className:"h-5 w-5 text-rose-500"})]}),r.jsxs(ae,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3 rounded-lg border border-slate-200 bg-white px-3 py-3 shadow-sm",children:[r.jsxs("span",{className:X("inline-flex items-center gap-2 rounded-full border px-3 py-1 text-xs font-semibold",t.bg),children:[t.icon,t.label," risk"]}),r.jsx("p",{className:"text-sm text-slate-600",children:"Overall assessment updated daily."})]}),r.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-3 shadow-sm",children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"High-risk systems"}),r.jsx("p",{className:"mt-2 text-2xl font-semibold text-slate-900",children:e.highRiskSystems.length}),r.jsxs("p",{className:"mt-1 text-sm text-slate-600",children:["Key systems: ",e.highRiskSystems.join(", ")]})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-3 shadow-sm",children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Open incidents"}),r.jsx("p",{className:"mt-2 text-2xl font-semibold text-slate-900",children:e.openIncidents}),r.jsx("p",{className:"mt-1 text-sm text-slate-600",children:"Tracked across vendors and assets."})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-3 shadow-sm sm:col-span-2",children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Processing activities needing DPIA"}),r.jsx("p",{className:"mt-2 text-2xl font-semibold text-slate-900",children:e.dpiaRequiredCount}),r.jsx("p",{className:"mt-1 text-sm text-slate-600",children:"Prioritize assessments for AI-related automations and marketing data flows."})]})]})]})]})},EI=[{key:"organizationDetails",label:"Add your organization details",description:"Company name, contact email, and tenant basics.",path:"/app/settings"},{key:"firstDsr",label:"Create your first data subject request",description:"Open your first request and track SLA deadlines.",path:"/app/dsr"},{key:"policyGenerated",label:"Generate your first policy with AI",description:"Draft a baseline security or privacy policy.",path:"/app/policies"},{key:"dpiaCreated",label:"Create a DPIA",description:"Assess high-risk processing activities.",path:"/app/dpia"},{key:"ropaAdded",label:"Add a record of processing (ROPA)",description:"Document processing activities, systems, and purposes.",path:"/app/ropa"},{key:"tomConfigured",label:"Configure at least one TOM",description:"Capture technical and organizational measures.",path:"/app/toms"},{key:"aiAuditRun",label:"Run an AI audit",description:"Generate findings and recommendations automatically.",path:"/app/ai-audit"}],RI=()=>{const{progress:e,markComplete:t,loading:s}=Qp(),{demoMode:n}=Fs(),{toast:a}=Vt(),o=hs(),i=c=>c instanceof Error?c.message:"Please try again.",l=async c=>{try{await t(c),a({title:"Marked as done",description:"Progress updated."})}catch(u){a({variant:"destructive",title:"Unable to update progress",description:i(u)})}};return r.jsxs(te,{className:"border-sky-100 shadow-sm",children:[r.jsx(ue,{children:r.jsx(de,{className:"text-base text-slate-800",children:"Getting started with AURA-GDPR"})}),r.jsx(ae,{className:"space-y-3",children:EI.map(c=>{const u=e[c.key];return r.jsxs("div",{className:"flex flex-col gap-2 rounded-lg border border-slate-200 bg-white/80 p-3 shadow-sm",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[u?r.jsx(Oo,{className:"mt-0.5 h-5 w-5 text-emerald-600","aria-label":"Completed"}):r.jsx($w,{className:"mt-0.5 h-5 w-5 text-slate-400","aria-label":"Incomplete"}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:c.label}),r.jsx("p",{className:"text-xs text-slate-600",children:c.description})]})]}),r.jsxs("div",{className:"flex flex-wrap gap-2 pl-8",children:[r.jsxs(M,{variant:u?"outline":"default",size:"sm",onClick:()=>o(c.path),disabled:n,children:["Go to module",r.jsx(Hw,{className:"ml-2 h-4 w-4"})]}),!u&&r.jsx(M,{variant:"ghost",size:"sm",onClick:()=>l(c.key),disabled:s||n,children:"Mark done"})]})]},c.key)})})]})},TI=e=>{const t=typeof e=="string"?e.toLowerCase():"";return t==="low"||t==="medium"||t==="high"?t:"medium"},Ra=(e,t=0)=>{const s=Number(e);return Number.isFinite(s)?s:t},DI=e=>{const t=(e==null?void 0:e.overallRiskLevel)??(e==null?void 0:e.riskLevel)??(e==null?void 0:e.risk)??(e==null?void 0:e.overall_risk_level)??(e==null?void 0:e.risk_level);return{complianceScore:Ra((e==null?void 0:e.complianceScore)??(e==null?void 0:e.compliance_score)??(e==null?void 0:e.compliance)??(e==null?void 0:e.compliance_score_pct)),openDsrs:Ra((e==null?void 0:e.openDsrs)??(e==null?void 0:e.open_dsr)??(e==null?void 0:e.open_dsr_count)??(e==null?void 0:e.dsr_open)??(e==null?void 0:e.dsr_count)),policiesExpiringSoon:Ra((e==null?void 0:e.policiesExpiringSoon)??(e==null?void 0:e.policies_expiring_soon)??(e==null?void 0:e.policies_due)??(e==null?void 0:e.policy_expiring)??(e==null?void 0:e.policy_count_due)),ongoingDpiaCount:Ra((e==null?void 0:e.ongoingDpiaCount)??(e==null?void 0:e.dpia_count)??(e==null?void 0:e.ongoing_dpia_count)??(e==null?void 0:e.dpia_open)),activeIncidents:Ra((e==null?void 0:e.activeIncidents)??(e==null?void 0:e.incident_count)??(e==null?void 0:e.incidents)??(e==null?void 0:e.active_incidents)),overallRiskLevel:TI(t)}},_I=()=>{const[e,t]=x.useState(null),[s,n]=x.useState(!0),[a,o]=x.useState(null),i=x.useCallback(async()=>{try{n(!0),o(null);const l=await z.get("/dashboard/summary");t(DI(l.data??{}))}catch(l){o((l==null?void 0:l.message)??"Unable to load dashboard"),t(null)}finally{n(!1)}},[]);return x.useEffect(()=>{i()},[i]),{data:e,loading:s,error:a,reload:i}},MI={complianceScore:0,openDsrs:0,policiesExpiringSoon:0,ongoingDpiaCount:0,activeIncidents:0,overallRiskLevel:"medium"},LI=()=>{const{demoMode:e}=Fs(),t=mI(),{data:s,loading:n,error:a,reload:o}=_I(),i=e,l=i?t.summary:s??MI,c=i?t.riskOverview:{overallRiskLevel:l.overallRiskLevel,highRiskSystems:[],openIncidents:l.activeIncidents,dpiaRequiredCount:l.ongoingDpiaCount},u=i?t.deadlines:[],d=i?t.activities:[],f=i?t.aiInsights:[];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between rounded-xl border border-slate-200 bg-white/95 p-6 shadow-sm",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:"Dashboard"}),r.jsx("p",{className:"text-sm text-slate-600",children:"This is your GDPR control center."}),r.jsx("p",{className:"text-sm text-slate-600",children:"See open risks, ongoing requests, and key compliance indicators at a glance."})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(M,{variant:"outline",size:"sm",onClick:o,disabled:n||i,children:[r.jsx(fc,{className:"mr-2 h-4 w-4"}),"Refresh"]}),r.jsxs(M,{size:"sm",children:[r.jsx(PP,{className:"mr-2 h-4 w-4"}),"Export"]})]})]}),i&&r.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-amber-200 bg-amber-50 px-3 py-2 text-sm text-amber-700",children:[r.jsx(Kd,{className:"h-4 w-4"}),"Demo mode is active. Showing sample dashboard data."]}),r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white/95 p-6 shadow-sm",children:[r.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Dashboard guidance"}),r.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-4 text-sm text-slate-700",children:[r.jsx("li",{children:"Global GDPR overview shows live posture across all modules."}),r.jsx("li",{children:"Compliance score explains how close you are to meeting baseline controls."}),r.jsx("li",{children:"Open tasks highlight the next actions to reduce risk."}),r.jsx("li",{children:"Deadlines overview surfaces upcoming due dates for DSRs, DPIAs, and reviews."}),r.jsx("li",{children:"Modules live in the left navigation: DSRs, Documents, ROPA, DPIA, Incidents, Policies, Settings."})]})]}),!i&&a&&r.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-sm text-rose-700",children:[r.jsx(Kd,{className:"h-4 w-4"}),a]}),r.jsx("section",{"aria-label":"Key metrics and onboarding",className:"rounded-xl border border-slate-200 bg-white/95 p-6 shadow-sm",children:r.jsxs("div",{className:"grid gap-4 lg:grid-cols-3",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsx(yI,{summary:l})}),r.jsx(RI,{})]})}),r.jsx("section",{"aria-label":"Deadlines and AI insights",className:"rounded-xl border border-slate-200 bg-white/95 p-6 shadow-sm",children:r.jsxs("div",{className:"grid gap-4 lg:grid-cols-3",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsx(jI,{deadlines:u})}),r.jsx(SI,{insights:f})]})}),r.jsx("section",{"aria-label":"Activity and risk",className:"rounded-xl border border-slate-200 bg-white/95 p-6 shadow-sm",children:r.jsxs("div",{className:"grid gap-4 lg:grid-cols-3",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsx(CI,{activities:d})}),r.jsx(PI,{risk:c})]})})]})},et=({title:e,subtitle:t,description:s,actions:n,className:a})=>{const o=t??s;return r.jsxs("div",{className:`mb-6 flex flex-col gap-3 md:flex-row md:items-start md:justify-between ${a??""}`,children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-sky-700",children:"AURA-GDPR"}),r.jsx("h1",{className:"text-3xl font-bold tracking-tight text-slate-900",children:e}),o?r.jsx("p",{className:"text-sm text-slate-600",children:o}):null]}),n?r.jsx("div",{className:"flex flex-wrap items-center gap-2",children:n}):null]})},Zt=({title:e,subtitle:t,bullets:s=[],className:n})=>r.jsxs("div",{className:X("mb-6 rounded-lg border border-blue-200 bg-blue-50 p-4",n),children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:e}),t?r.jsx("p",{className:"mt-1 text-sm text-slate-700",children:t}):null,s.length>0?r.jsx("ul",{className:"mt-3 list-disc space-y-1 pl-5 text-sm text-slate-700",children:s.map(a=>r.jsx("li",{children:a},a))}):null]}),ce=({title:e,subtitle:t,actions:s,children:n,className:a,headerClassName:o,bodyClassName:i})=>r.jsxs("div",{className:X("rounded-xl border bg-white p-6 shadow-sm",a),children:[(e||t||s)&&r.jsxs("div",{className:X("mb-4 flex flex-col gap-2 md:flex-row md:items-start md:justify-between",o),children:[r.jsxs("div",{children:[e?r.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:e}):null,t?r.jsx("p",{className:"text-sm text-slate-600",children:t}):null]}),s?r.jsx("div",{className:"flex flex-wrap items-center gap-2",children:s}):null]}),r.jsx("div",{className:X("space-y-3",i),children:n})]}),$n=e=>({...e,id:(e==null?void 0:e.id)??(e==null?void 0:e._id)??(e==null?void 0:e.document_id)??"",lastUpdated:(e==null?void 0:e.lastUpdated)??(e==null?void 0:e.last_updated)??(e==null?void 0:e.updated_at)??(e==null?void 0:e.updatedAt)??"",createdAt:(e==null?void 0:e.createdAt)??(e==null?void 0:e.created_at)??"",tags:(e==null?void 0:e.tags)??[]}),II=e=>{if(Array.isArray(e))return e.map($n);const t=e;return Array.isArray(t==null?void 0:t.items)?t.items.map($n):Array.isArray(t==null?void 0:t.documents)?t.documents.map($n):[]};async function OI(){try{const e=await z.get("/api/documents");return II(e.data)}catch(e){if((e==null?void 0:e.status)===404)return[];throw e}}async function FI(e){const t=await z.get(`/api/documents/${e}`);return $n(t.data)}async function zI(e){const t=await z.post("/api/documents",e);return $n(t.data)}async function UI(e,t){const s=await z.put(`/api/documents/${e}`,t);return $n(s.data)}async function VI(e,t){const s=await z.patch(`/api/documents/${e}`,t);return $n(s.data)}const $I="Something went wrong while loading data. Please try again.";function BI(){const[e,t]=x.useState([]),[s,n]=x.useState(!1),[a,o]=x.useState(!1),[i,l]=x.useState(!1),[c,u]=x.useState(null),d=x.useRef(!0);x.useEffect(()=>()=>{d.current=!1},[]);const f=x.useCallback(async()=>{n(!0),u(null);try{const b=await OI();d.current&&t(b)}catch(b){d.current&&((b==null?void 0:b.status)===404?(t([]),u(null)):u($I))}finally{d.current&&n(!1)}},[]);x.useEffect(()=>{f()},[f]);const h=x.useCallback(async b=>{o(!0);try{const y=await FI(b);return d.current&&t(p=>p.map(v=>v.id===y.id?y:v)),y}finally{d.current&&o(!1)}},[]),g=x.useCallback(async b=>{l(!0);try{const y=await zI(b);return d.current&&t(p=>[y,...p]),y}finally{d.current&&l(!1)}},[]),m=x.useCallback(async(b,y)=>{l(!0);try{const p=await UI(b,y);return d.current&&t(v=>v.map(j=>j.id===p.id?p:j)),p}finally{d.current&&l(!1)}},[]),w=x.useCallback(async(b,y)=>{const p=await VI(b,y);return d.current&&t(v=>v.map(j=>j.id===p.id?p:j)),p},[]);return{documents:e,loading:s,detailLoading:a,saving:i,error:c,refresh:f,fetchOne:h,create:g,update:m,patch:w}}const Vl={draft:"Draft",in_review:"In review",approved:"Approved",published:"Published",archived:"Archived"},$l={privacy_policy:"Privacy Policy",cookie_policy:"Cookie Policy",data_processing_agreement:"Data Processing Agreement",security_policy:"Information Security Policy",internal_guideline:"Internal Guideline",other:"Other"},WI=({search:e,status:t,type:s,onSearch:n,onStatusChange:a,onTypeChange:o})=>r.jsxs("div",{className:"flex flex-col gap-3 rounded-xl border border-slate-200 bg-white p-4 shadow-sm md:flex-row md:items-center md:justify-between",children:[r.jsx("div",{className:"flex flex-1 items-center gap-3",children:r.jsx("input",{type:"text",value:e,onChange:i=>n(i.target.value),placeholder:"Search documents...",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100"})}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:t,onChange:i=>a(i.target.value),children:[r.jsx("option",{value:"all",children:"All statuses"}),Object.keys(Vl).map(i=>r.jsx("option",{value:i,children:Vl[i]},i))]}),r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:s,onChange:i=>o(i.target.value),children:[r.jsx("option",{value:"all",children:"All types"}),Object.keys($l).map(i=>r.jsx("option",{value:i,children:$l[i]},i))]})]})]}),Se=({title:e,description:t,actionLabel:s,onAction:n,className:a,icon:o})=>r.jsxs(te,{className:X("border border-dashed border-slate-200 bg-slate-50",a),children:[r.jsxs(ue,{className:"flex flex-row items-start gap-3",children:[r.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-white text-sky-600 shadow-sm",children:o??r.jsx("span",{className:"text-lg",children:""})}),r.jsxs("div",{children:[r.jsx(de,{className:"text-lg text-slate-900",children:e}),r.jsx(Ut,{className:"text-slate-600",children:t})]})]}),s?r.jsx(ae,{children:r.jsx(M,{size:"sm",onClick:n,children:s})}):null]}),HI={draft:"bg-slate-100 text-slate-700 border-slate-200",in_review:"bg-amber-50 text-amber-700 border-amber-200",approved:"bg-sky-50 text-sky-700 border-sky-200",published:"bg-emerald-50 text-emerald-700 border-emerald-200",archived:"bg-slate-50 text-slate-500 border-slate-200"},Y1=({status:e})=>r.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-semibold ${HI[e]}`,children:Vl[e]}),qI=e=>{const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},GI=({document:e,onClick:t})=>r.jsxs("tr",{className:"cursor-pointer border-b last:border-0 hover:bg-slate-50 focus-within:bg-slate-50",tabIndex:0,role:"button",onClick:t,onKeyDown:s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),t())},children:[r.jsx("td",{className:"py-3 pr-4 font-semibold text-foreground",children:e.name}),r.jsx("td",{className:"py-3 pr-4 text-foreground capitalize",children:e.type.replaceAll("_"," ")}),r.jsx("td",{className:"py-3 pr-4",children:r.jsx(Y1,{status:e.status})}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:e.owner}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:qI(e.lastUpdated)})]}),KI=({documents:e,onSelect:t,isLoading:s,isError:n,errorMessage:a,onRetry:o,hasDocuments:i,onCreate:l})=>s?r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading documents..."}):n?r.jsx(Se,{title:"Unable to load documents",description:a||"Something went wrong while loading data. Please try again.",actionLabel:o?"Retry":void 0,onAction:o,className:"bg-rose-50 border-rose-200"}):e.length===0?i?r.jsx(Se,{title:"No documents match these filters",description:"Try adjusting filters or create a new document.",actionLabel:"New document",onAction:l}):r.jsx(Se,{title:"No documents yet",description:"Start by creating your first GDPR document. Draft data processing agreements, privacy notices, and more.",actionLabel:"New document",onAction:l}):r.jsx("div",{className:"overflow-auto rounded-lg border border-slate-200 bg-white shadow-sm",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b bg-slate-50 text-left text-slate-500",children:[r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Name"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Type"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Status"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Owner"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Last updated"})]})}),r.jsx("tbody",{children:e.map(c=>r.jsx(GI,{document:c,onClick:()=>t(c)},c.id))})]})});async function YI(e){console.log("PDF export stub called with payload:",e),await new Promise(t=>setTimeout(t,1200))}function XI(e){const[t,s]=x.useState(!1);return{isExporting:t,exportPdf:async(a,o)=>{s(!0);try{await YI({resourceType:a,resourceId:o}),e!=null&&e.onSuccess||alert("PDF export completed. In a future update this will download the generated PDF.")}catch(i){console.error("Failed to export PDF",i),alert("Failed to export PDF. Please try again.")}finally{s(!1)}}}}const X1=({resourceType:e,resourceId:t,className:s})=>{const{isExporting:n,exportPdf:a}=XI(),o=()=>{a(e,t)};return r.jsx("button",{type:"button",onClick:o,disabled:n,className:s??"inline-flex items-center rounded-md border border-slate-200 px-3 py-1.5 text-sm font-medium text-slate-700 shadow-sm hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-60",children:n?"Exporting":"Export to PDF"})},QI=["draft","in_review","approved","published","archived"],JI=["privacy_policy","cookie_policy","data_processing_agreement","security_policy","internal_guideline","other"],o0=e=>{if(!e)return"N/A";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},ZI=({document:e,isOpen:t,onClose:s,onSave:n,mode:a,isLoading:o=!1,isSaving:i=!1})=>{var p;const[l,c]=E.useState(e),[u,d]=E.useState(null),{tenantPlan:f,isTestTenant:h}=Fs(),g=h||f==="pro";if(E.useEffect(()=>{t&&(c(e),d(null))},[e,t]),E.useEffect(()=>{if(!t)return;const v=j=>{j.key==="Escape"&&s()};return e.addEventListener("keydown",v),()=>e.removeEventListener("keydown",v)},[t,s]),!t||!l)return null;const m=a==="create",w=(v,j)=>{c(N=>N&&{...N,[v]:j})},b=()=>{w("description","This document was generated as a placeholder. Replace with your organization-specific policy language."),d("AI generation preview placeholder. Replace with real content later.")},y=()=>{l.name.trim()&&n(l)};return r.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/30 backdrop-blur-sm",children:r.jsxs("div",{className:"flex h-full w-full max-w-xl flex-col overflow-y-auto bg-white shadow-2xl",children:[r.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-5 py-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:l.name||"Untitled document"}),r.jsx(Y1,{status:l.status})]}),r.jsx("p",{className:"text-sm text-slate-600 capitalize",children:$l[l.type]})]}),r.jsx("button",{type:"button",onClick:s,className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:r.jsx(kt,{className:"h-5 w-5"})})]}),r.jsxs("div",{className:"space-y-4 p-5",children:[o&&r.jsx("p",{className:"text-sm text-slate-500",children:"Loading document details..."}),r.jsxs("div",{className:"space-y-3 rounded-lg border border-slate-200 bg-white p-4",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Name"}),r.jsx("input",{type:"text",value:l.name,onChange:v=>w("name",v.target.value),disabled:!m||i,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Type"}),r.jsx("select",{value:l.type,onChange:v=>w("type",v.target.value),disabled:!m||i,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:JI.map(v=>r.jsx("option",{value:v,children:$l[v]},v))})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Status"}),r.jsx("select",{value:l.status,onChange:v=>w("status",v.target.value),disabled:!m||i,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:QI.map(v=>r.jsx("option",{value:v,children:Vl[v]},v))})]})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Owner"}),r.jsx("input",{type:"text",value:l.owner,onChange:v=>w("owner",v.target.value),disabled:!m||i,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Tags (comma separated)"}),r.jsx("input",{type:"text",value:((p=l.tags)==null?void 0:p.join(", "))||"",onChange:v=>w("tags",v.target.value.split(",").map(j=>j.trim()).filter(Boolean)),disabled:!m||i,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Description"}),r.jsx("textarea",{value:l.description||"",onChange:v=>w("description",v.target.value),disabled:!m||i,className:"min-h-[120px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",placeholder:"Summary or key points for this document."})]}),r.jsxs("button",{type:"button",disabled:!g,onClick:b,className:"inline-flex items-center gap-2 text-sm text-sky-600 disabled:cursor-not-allowed",title:g?"Generate a first draft with AI assistance.":"AI generation requires an upgraded tenant.",children:[r.jsx(gt,{className:"h-4 w-4"}),g?"Generate with AI":"Generate with AI (locked)"]}),u&&r.jsx("p",{className:"text-xs text-slate-500",children:u})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 rounded-lg border border-slate-200 bg-slate-50 p-4 text-sm text-slate-700 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-800",children:"Created"}),r.jsx("p",{children:o0(l.createdAt)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-800",children:"Last updated"}),r.jsx("p",{children:o0(l.lastUpdated)})]})]})]}),r.jsx("div",{className:"sticky bottom-0 border-t border-slate-200 bg-white p-4",children:r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[!m&&l.id&&r.jsx(X1,{resourceType:"document",resourceId:l.id}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(M,{variant:"outline",onClick:s,children:"Cancel"}),m?r.jsx(M,{onClick:y,disabled:i,children:i?"Saving...":"Create document"}):r.jsx(M,{variant:"outline",onClick:s,children:"Close"})]})]})})]})})},eO=[{name:"Privacy Policy",type:"privacy_policy",description:"Standard privacy policy template."},{name:"Cookie Policy",type:"cookie_policy",description:"Covers cookie usage and consent."},{name:"Data Processing Agreement",type:"data_processing_agreement",description:"DPA for processors."},{name:"Information Security Policy",type:"security_policy",description:"Outlines security controls."}],tO=({onNewBlank:e,onTemplateSelect:t})=>{const[s,n]=E.useState(!1);return r.jsxs("div",{className:"relative",children:[r.jsxs(M,{className:"inline-flex items-center gap-2",onClick:()=>n(a=>!a),children:[r.jsx(EP,{className:"h-4 w-4"}),"New document",r.jsx(jP,{className:"h-4 w-4"})]}),s&&r.jsxs("div",{className:"absolute right-0 z-20 mt-2 w-64 rounded-lg border border-slate-200 bg-white shadow-lg",children:[r.jsxs("button",{type:"button",className:"flex w-full items-start gap-2 px-4 py-3 text-left text-sm text-slate-800 hover:bg-slate-50",onClick:()=>{e(),n(!1)},children:[r.jsx("span",{className:"font-semibold",children:"Blank document"}),r.jsx("span",{className:"text-xs text-slate-500",children:"Start from scratch"})]}),r.jsxs("div",{className:"border-t border-slate-200",children:[r.jsx("p",{className:"px-4 py-2 text-xs font-semibold uppercase tracking-wide text-slate-500",children:"From template"}),eO.map(a=>r.jsxs("button",{type:"button",className:"flex w-full flex-col items-start px-4 py-3 text-left text-sm text-slate-800 hover:bg-slate-50",onClick:()=>{t(a),n(!1)},children:[r.jsx("span",{className:"font-semibold",children:a.name}),r.jsx("span",{className:"text-xs text-slate-500",children:a.description})]},a.name))]})]})]})},sO=()=>{const{documents:e,loading:t,detailLoading:s,saving:n,error:a,refresh:o,create:i,update:l,fetchOne:c}=BI(),[u,d]=E.useState(""),[f,h]=E.useState("all"),[g,m]=E.useState("all"),[w,b]=E.useState(null),[y,p]=E.useState("view"),[v,j]=E.useState(""),[N,k]=E.useState(""),[P,S]=E.useState(""),[R,T]=E.useState(null),[F,O]=E.useState(!1),W=e.length>0,U=E.useMemo(()=>e.filter(_=>{const L=_.name.toLowerCase().includes(u.toLowerCase())||(_.tags||[]).some(se=>se.toLowerCase().includes(u.toLowerCase())),B=f==="all"?!0:_.status===f,re=g==="all"?!0:_.type===g;return L&&B&&re}),[e,u,f,g]),q=_=>{b(_),p("view"),_.id&&c(_.id).then(L=>b(L)).catch(()=>{})},A=()=>{const _=new Date().toISOString();b({id:"",name:"New document",type:"other",status:"draft",owner:"",lastUpdated:_,createdAt:_,description:"",tags:[]}),p("create")},V=_=>{const L=new Date().toISOString();b({id:"",name:_.name,type:_.type,status:"draft",owner:"",lastUpdated:L,createdAt:L,description:_.description??"",tags:["template"]}),p("create")},D=async _=>{if(y==="create"){const{id:L,...B}=_;await i(B)}else _.id&&await l(_.id,_);await o(),b(null),p("view")},C=async()=>{var _,L;O(!0),T(null);try{const B=await z.post("/ai/documents/improve",{content:v,instructions:N}),re=((_=B.data)==null?void 0:_.content)??((L=B.data)==null?void 0:L.improved)??"";S(re||"AI did not return improved content.")}catch(B){T(B instanceof Error?B.message:"AI request failed.")}finally{O(!1)}};return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsx(et,{title:"Documents",subtitle:"Store and manage all GDPR-related documents in one place.",actions:r.jsx(tO,{onNewBlank:A,onTemplateSelect:V})}),r.jsx(Zt,{title:"What you can do here",subtitle:"Centralize policies, agreements, and evidence.",bullets:["Upload and categorize documents by status and type.","Filter drafts and published versions quickly.","Use AI to improve drafts before sharing."]}),r.jsx(ce,{title:"Documents guidance",subtitle:"Tips to keep your evidence organized.",children:r.jsxs("ul",{className:"list-disc space-y-1 pl-4 text-sm text-slate-700",children:[r.jsx("li",{children:"Use this space to store GDPR evidence, templates, and signed agreements."}),r.jsx("li",{children:"Track versions so you know who changed what and when."}),r.jsx("li",{children:"AI-assisted generation drafts policies and notices faster."}),r.jsx("li",{children:"Upload rules: PDF and DOCX are supported for storage and review."})]})}),r.jsxs(ce,{title:"Documents",subtitle:"Filter and manage your library.",children:[r.jsx(WI,{search:u,status:f,type:g,onSearch:d,onStatusChange:h,onTypeChange:m}),r.jsx(KI,{documents:U,onSelect:q,isLoading:t,isError:!!a,errorMessage:a,onRetry:o,hasDocuments:W,onCreate:A})]}),r.jsx(ce,{title:"Improve document with AI",subtitle:"Send a draft to AURA and get improved wording back.",actions:r.jsx(M,{size:"sm",variant:"outline",onClick:C,disabled:F,children:F?"Improving...":"Run AI"}),children:r.jsxs("div",{className:"space-y-3",children:[r.jsx(Me,{placeholder:"Paste your document text",value:v,onChange:_=>j(_.target.value),rows:4}),r.jsx(Me,{placeholder:"Instructions for AI (tone, focus areas, audience)",value:N,onChange:_=>k(_.target.value),rows:3}),R?r.jsx("p",{className:"text-xs text-rose-600",children:R}):null,P?r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[r.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"AI suggestion"}),r.jsx("p",{className:"mt-1 text-sm text-slate-800 whitespace-pre-wrap",children:P})]}):null,r.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-600",children:[r.jsx(gt,{className:"h-4 w-4 text-sky-600"}),r.jsx("span",{children:"AI responses are drafts; review before publishing."})]})]})}),r.jsx(ZI,{document:w,isOpen:!!w,onClose:()=>b(null),onSave:D,mode:y,isLoading:s,isSaving:n})]})},nO=()=>{const{user:e}=$t();return(e==null?void 0:e.role)==="Pro"||(e==null?void 0:e.role)==="Admin"?r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Qe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight text-foreground",children:"AI Compliance Assistant"}),r.jsx("p",{className:"text-md text-muted-foreground",children:"Leverage AI to analyze documents and identify GDPR compliance gaps."})]}),r.jsx(Qe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.5},children:r.jsxs(te,{className:"bg-card/70 dark:bg-slate-800/70 backdrop-blur-sm border-border/50 shadow-lg",children:[r.jsxs(ue,{children:[r.jsxs(de,{className:"flex items-center text-xl",children:[r.jsx(RP,{className:"mr-2 h-6 w-6 text-sky-500"}),"Analyze Document"]}),r.jsx(Ut,{children:"Select a document to begin AI analysis. Ensure it's a PDF."})]}),r.jsxs(ae,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Select a document from your library:"}),r.jsxs("select",{className:"w-full p-2 border rounded-md bg-input text-foreground border-border focus:ring-primary focus:border-primary",children:[r.jsx("option",{children:"Privacy Policy v2.1.pdf"}),r.jsx("option",{children:"Data Processing Agreement - VendorX.pdf"})]})]}),r.jsxs(M,{className:"w-full bg-gradient-to-r from-sky-500 to-purple-600 hover:from-sky-600 hover:to-purple-700 text-white",children:[r.jsx(hx,{className:"mr-2 h-4 w-4"})," Analyze with AI"]}),r.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:[r.jsx(ct,{className:"inline h-3 w-3 mr-1 text-green-500"}),"AI analysis is performed in an isolated environment. Your data remains secure."]})]})]})}),r.jsxs(Qe.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4,duration:.5},className:"mt-8",children:[r.jsx("h2",{className:"text-2xl font-semibold text-foreground mb-4",children:"Analysis Results"}),r.jsx(te,{className:"bg-card/70 dark:bg-slate-800/70 backdrop-blur-sm border-border/50 shadow-md",children:r.jsx(ae,{className:"p-6",children:r.jsxs("div",{className:"flex flex-col items-center justify-center text-center text-muted-foreground h-40",children:[r.jsx(Fw,{className:"h-12 w-12 mb-2"}),r.jsx("p",{children:'No analysis performed yet. Select a document and click "Analyze with AI".'})]})})})]})]}):r.jsxs(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col items-center justify-center h-full text-center p-8",children:[r.jsx(hx,{className:"h-24 w-24 text-yellow-400 mb-6"}),r.jsx("h1",{className:"text-4xl font-bold text-foreground mb-3",children:"Unlock AI Compliance Assistant"}),r.jsx("p",{className:"text-lg text-muted-foreground mb-8 max-w-md",children:"Upgrade to Pro to access automated document analysis, risk flagging, and GDPR insights powered by our isolated AI."}),r.jsx(M,{size:"lg",className:"bg-gradient-to-r from-yellow-400 to-orange-500 hover:from-yellow-500 hover:to-orange-600 text-white text-lg px-8 py-3",asChild:!0,children:r.jsx(Te,{to:"/app/billing",children:"Upgrade to Pro"})}),r.jsx("p",{className:"text-sm text-muted-foreground mt-4",children:"Your privacy is paramount. Our AI operates in an isolated environment."})]})},Q1=({title:e,description:t})=>r.jsxs("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded",children:[r.jsx("h2",{className:"font-semibold text-blue-900",children:e}),r.jsx("p",{className:"text-sm text-blue-700 mt-1",children:t})]}),rO=(e,t)=>new Intl.NumberFormat(void 0,{style:"currency",currency:t}).format(e),aO=({plan:e,isLoading:t,onManageBilling:s})=>{const n=()=>{alert("Plan changes will be managed in a future update.")},a=()=>{alert("Plan changes will be managed in a future update.")},o=()=>{s==null||s()};return t||!e?r.jsx("div",{className:"rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading current plan..."})}):r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:[r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Current plan"}),r.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:e.name}),r.jsx("p",{className:"text-sm text-slate-600",children:e.isTrial&&e.trialDaysLeft&&e.trialDaysLeft>0?`Free trial - ${e.trialDaysLeft} days left`:`${rO(e.pricePerMonth,e.currency)} / month`})]}),r.jsx("span",{className:"rounded-full bg-sky-50 px-3 py-1 text-xs font-semibold text-sky-700",children:e.type})]}),r.jsx("ul",{className:"mt-4 space-y-2 text-sm text-slate-700",children:e.features.map(i=>r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"mt-1 h-1.5 w-1.5 rounded-full bg-sky-500"}),r.jsx("span",{children:i})]},i))}),r.jsxs("div",{className:"mt-5 flex flex-wrap gap-2",children:[r.jsx(M,{onClick:n,children:"Upgrade plan"}),r.jsx(M,{variant:"outline",onClick:a,children:"Downgrade or cancel"}),r.jsx(M,{variant:"ghost",onClick:o,children:"Manage billing"})]})]})},oO=({usage:e,isLoading:t})=>{if(t||!e)return r.jsx("div",{className:"rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading usage data..."})});const n=((a,o)=>!o||o===0?0:Math.min(100,Math.round(a/o*100)))(e.aiCallsThisMonth,e.maxAiCallsPerMonth);return r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Usage this month"}),r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Usage overview"})]})}),r.jsxs("div",{className:"mt-4 space-y-3 text-sm text-slate-700",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{children:"Data subject requests"}),r.jsx("span",{className:"font-semibold text-slate-900",children:e.dsrCountThisMonth})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{children:"Documents"}),r.jsx("span",{className:"font-semibold text-slate-900",children:e.documentsCount})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{children:"Policies"}),r.jsx("span",{className:"font-semibold text-slate-900",children:e.policiesCount})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{children:"AI calls"}),r.jsxs("span",{className:"font-semibold text-slate-900",children:[e.aiCallsThisMonth,e.maxAiCallsPerMonth?` / ${e.maxAiCallsPerMonth}`:""]})]}),e.maxAiCallsPerMonth&&r.jsx("div",{className:"h-2 w-full rounded-full bg-slate-100",children:r.jsx("div",{className:"h-2 rounded-full bg-sky-500",style:{width:`${n}%`}})})]})]})]})},iO={paid:"bg-emerald-50 text-emerald-700 border-emerald-200",pending:"bg-amber-50 text-amber-700 border-amber-200",failed:"bg-rose-50 text-rose-700 border-rose-200"},lO=e=>{const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},cO=(e,t)=>new Intl.NumberFormat(void 0,{style:"currency",currency:t}).format(e),uO=({history:e})=>e.length===0?r.jsx("p",{className:"text-sm text-muted-foreground",children:"No invoices found yet."}):r.jsx("div",{className:"overflow-auto rounded-xl border border-slate-200 bg-white shadow-sm",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b bg-slate-50 text-left text-slate-500",children:[r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Date"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Description"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Amount"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Status"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Actions"})]})}),r.jsx("tbody",{children:e.map(t=>r.jsxs("tr",{className:"border-b last:border-0",children:[r.jsx("td",{className:"py-3 pr-4 text-foreground",children:lO(t.date)}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:t.description}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:cO(t.amount,t.currency)}),r.jsx("td",{className:"py-3 pr-4",children:r.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-semibold ${iO[t.status]}`,children:t.status})}),r.jsx("td",{className:"py-3 pr-4",children:t.invoiceUrl?r.jsx("a",{href:t.invoiceUrl,className:"text-sky-600 hover:underline",target:"_blank",rel:"noreferrer",children:"Download invoice"}):r.jsx("span",{className:"text-slate-400",children:"Not available"})})]},t.id))})]})}),dO=e=>({type:(e==null?void 0:e.type)??"free",name:(e==null?void 0:e.name)??"Plan",pricePerMonth:(e==null?void 0:e.pricePerMonth)??(e==null?void 0:e.price_per_month)??0,currency:(e==null?void 0:e.currency)??"EUR",isTrial:!!((e==null?void 0:e.isTrial)??(e==null?void 0:e.is_trial)??!1),trialDaysLeft:(e==null?void 0:e.trialDaysLeft)??(e==null?void 0:e.trial_days_left)??void 0,features:(e==null?void 0:e.features)??[]}),fO=e=>({dsrCountThisMonth:(e==null?void 0:e.dsrCountThisMonth)??(e==null?void 0:e.dsr_count_this_month)??0,documentsCount:(e==null?void 0:e.documentsCount)??(e==null?void 0:e.documents_count)??0,policiesCount:(e==null?void 0:e.policiesCount)??(e==null?void 0:e.policies_count)??0,aiCallsThisMonth:(e==null?void 0:e.aiCallsThisMonth)??(e==null?void 0:e.ai_calls_this_month)??0,maxDsrsPerMonth:(e==null?void 0:e.maxDsrsPerMonth)??(e==null?void 0:e.max_dsrs_per_month)??void 0,maxAiCallsPerMonth:(e==null?void 0:e.maxAiCallsPerMonth)??(e==null?void 0:e.max_ai_calls_per_month)??void 0}),Fu=e=>({id:(e==null?void 0:e.id)??(e==null?void 0:e._id)??"",date:(e==null?void 0:e.date)??(e==null?void 0:e.created_at)??"",amount:(e==null?void 0:e.amount)??0,currency:(e==null?void 0:e.currency)??"EUR",description:(e==null?void 0:e.description)??"",status:(e==null?void 0:e.status)??"paid",invoiceUrl:(e==null?void 0:e.invoiceUrl)??(e==null?void 0:e.invoice_url)??void 0}),pO=e=>{if(Array.isArray(e))return e.map(Fu);const t=e;return Array.isArray(t==null?void 0:t.items)?t.items.map(Fu):Array.isArray(t==null?void 0:t.invoices)?t.invoices.map(Fu):[]};async function hO(){const e=await z.get("/billing/plan");return dO(e.data)}async function mO(){const e=await z.get("/billing/usage");return fO(e.data)}async function xO(){const e=await z.get("/billing/invoices");return pO(e.data)}async function gO(){var s;const e=await z.post("/billing/portal"),t=(s=e==null?void 0:e.data)==null?void 0:s.url;if(t)window.open(t,"_blank");else throw new Error("Billing portal URL not available.")}function yO(){const[e,t]=x.useState(null),[s,n]=x.useState(null),[a,o]=x.useState([]),[i,l]=x.useState(!1),[c,u]=x.useState(!1),d=x.useRef(!0);x.useEffect(()=>()=>{d.current=!1},[]);const f=x.useCallback(async()=>{l(!0),u(!1);try{const[g,m,w]=await Promise.all([hO(),mO(),xO()]);if(!d.current)return;t(g),n(m),o(w)}catch{d.current&&u(!0)}finally{d.current&&l(!1)}},[]);x.useEffect(()=>{f()},[f]);const h=x.useCallback(async()=>{await gO()},[]);return{currentPlan:e,usage:s,history:a,isLoading:i,isError:c,openPortal:h,refresh:f}}const vO=()=>{const{currentPlan:e,usage:t,history:s,isLoading:n,isError:a,openPortal:o}=yO(),i=async()=>{try{await o()}catch{alert("Unable to open billing portal right now.")}};return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-slate-900",children:"Billing & subscription"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Manage your plan, usage, and invoices."})]}),r.jsx(Q1,{title:"Billing overview",description:"Review your current plan, usage, and invoice history. PayPal/checkout integration will be added later."}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsx(aO,{plan:e,isLoading:n,onManageBilling:i}),r.jsx(oO,{usage:t,isLoading:n})]}),a&&r.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 p-4 text-sm text-rose-700",children:"Failed to load billing data. Please try again."}),r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Billing history"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Invoices and payment status."}),r.jsxs("div",{className:"mt-3",children:[n&&r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading billing history..."}),a&&r.jsx("p",{className:"text-sm text-red-600",children:"Failed to load billing history."}),!n&&!a&&r.jsx(uO,{history:s})]})]})]})};function wO(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function bO(e){const t=jO(e),s=x.forwardRef((n,a)=>{const{children:o,...i}=n,l=x.Children.toArray(o),c=l.find(SO);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return r.jsx(t,{...i,ref:a,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return r.jsx(t,{...i,ref:a,children:o})});return s.displayName=`${e}.Slot`,s}function jO(e){const t=x.forwardRef((s,n)=>{const{children:a,...o}=s;if(x.isValidElement(a)){const i=CO(a),l=kO(o,a.props);return a.type!==x.Fragment&&(l.ref=n?lc(n,i):i),x.cloneElement(a,l)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var NO=Symbol("radix.slottable");function SO(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===NO}function kO(e,t){const s={...t};for(const n in t){const a=e[n],o=t[n];/^on[A-Z]/.test(n)?a&&o?s[n]=(...l)=>{const c=o(...l);return a(...l),c}:a&&(s[n]=a):n==="style"?s[n]={...a,...o}:n==="className"&&(s[n]=[a,o].filter(Boolean).join(" "))}return{...e,...s}}function CO(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var AO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],J1=AO.reduce((e,t)=>{const s=bO(`Primitive.${t}`),n=x.forwardRef((a,o)=>{const{asChild:i,...l}=a,c=i?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Dc="Switch",[PO]=jn(Dc),[EO,RO]=PO(Dc),Z1=x.forwardRef((e,t)=>{const{__scopeSwitch:s,name:n,checked:a,defaultChecked:o,required:i,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,g]=x.useState(null),m=Oe(t,v=>g(v)),w=x.useRef(!1),b=h?d||!!h.closest("form"):!0,[y,p]=cc({prop:a,defaultProp:o??!1,onChange:u,caller:Dc});return r.jsxs(EO,{scope:s,checked:y,disabled:l,children:[r.jsx(J1.button,{type:"button",role:"switch","aria-checked":y,"aria-required":i,"data-state":n2(y),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:m,onClick:Q(e.onClick,v=>{p(j=>!j),b&&(w.current=v.isPropagationStopped(),w.current||v.stopPropagation())})}),b&&r.jsx(s2,{control:h,bubbles:!w.current,name:n,value:c,checked:y,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});Z1.displayName=Dc;var e2="SwitchThumb",t2=x.forwardRef((e,t)=>{const{__scopeSwitch:s,...n}=e,a=RO(e2,s);return r.jsx(J1.span,{"data-state":n2(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});t2.displayName=e2;var TO="SwitchBubbleInput",s2=x.forwardRef(({__scopeSwitch:e,control:t,checked:s,bubbles:n=!0,...a},o)=>{const i=x.useRef(null),l=Oe(i,o),c=wO(s),u=RN(t);return x.useEffect(()=>{const d=i.current;if(!d)return;const f=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==s&&g){const m=new Event("click",{bubbles:n});g.call(d,s),d.dispatchEvent(m)}},[c,s,n]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});s2.displayName=TO;function n2(e){return e?"checked":"unchecked"}var r2=Z1,DO=t2;const ma=x.forwardRef(({className:e,...t},s)=>r.jsx(r2,{className:X("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-muted",e),...t,ref:s,children:r.jsx(DO,{className:X("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));ma.displayName=r2.displayName;const ie=({className:e,...t})=>r.jsx("div",{className:X("animate-pulse rounded-md bg-muted",e),...t}),_O=()=>{const{toast:e}=Vt(),[t,s]=E.useState({companyName:"",contactEmail:"",publicDsrEnabled:!1,publicDsrLink:""}),[n,a]=E.useState("{}"),[o,i]=E.useState(!1),[l,c]=E.useState(!1),[u,d]=E.useState(!1),[f,h]=E.useState(null),g=E.useCallback(async()=>{i(!0),h(null);try{const[b,y]=await Promise.allSettled([z.get("/api/settings/tenant"),z.get("/api/settings")]);if(b.status==="fulfilled"){const p=b.value.data??{};s({companyName:p.company_name??p.companyName??"",contactEmail:p.contact_email??p.contactEmail??"",publicDsrEnabled:!!(p.public_dsr_enabled??p.publicDsrEnabled),publicDsrLink:p.public_dsr_link??p.publicDsrLink??""})}y.status==="fulfilled"&&a(JSON.stringify(y.value.data??{},null,2))}catch(b){h(b instanceof Error?b.message:"Unable to load settings.")}finally{i(!1)}},[]);E.useEffect(()=>{g()},[g]);const m=async()=>{c(!0);try{await z.patch("/api/settings/tenant",{company_name:t.companyName,contact_email:t.contactEmail,public_dsr_enabled:t.publicDsrEnabled,public_dsr_link:t.publicDsrLink}),e({title:"Tenant settings saved",description:"Settings updated successfully."})}catch(b){e({variant:"destructive",title:"Unable to save tenant settings",description:b instanceof Error?b.message:"Please try again."})}finally{c(!1)}},w=async()=>{d(!0);try{const b=n.trim().length===0?{}:JSON.parse(n);await z.patch("/api/settings",b),e({title:"System settings saved",description:"JSON configuration updated."})}catch(b){e({variant:"destructive",title:"Invalid settings",description:b instanceof Error?b.message:"Please provide valid JSON."})}finally{d(!1)}};return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsx(et,{title:"Settings",subtitle:"Manage tenant details and system configuration.",actions:r.jsx(M,{variant:"outline",size:"sm",onClick:g,children:"Reload"})}),r.jsx(Zt,{title:"What you can do here",subtitle:"Keep tenant metadata and system flags up to date.",bullets:["Update company name and contact email for notices.","Manage public DSR portal availability and link.","Edit raw system settings as JSON for advanced configuration."]}),r.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[r.jsx(ce,{title:"Tenant settings",subtitle:"Workspace-level metadata for emails and the DSR portal.",children:o?r.jsx(ie,{className:"h-32 w-full rounded-md"}):r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(Xe,{htmlFor:"companyName",children:"Company name"}),r.jsx(Y,{id:"companyName",value:t.companyName,onChange:b=>s(y=>({...y,companyName:b.target.value}))})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx(Xe,{htmlFor:"contactEmail",children:"Contact email"}),r.jsx(Y,{id:"contactEmail",type:"email",value:t.contactEmail,onChange:b=>s(y=>({...y,contactEmail:b.target.value}))})]}),r.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-200 px-3 py-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-800",children:"Public DSR portal"}),r.jsx("p",{className:"text-xs text-slate-600",children:"Enable to accept requests via the public link."})]}),r.jsx(ma,{checked:t.publicDsrEnabled,onCheckedChange:b=>s(y=>({...y,publicDsrEnabled:b}))})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx(Xe,{htmlFor:"publicLink",children:"Public DSR link"}),r.jsx(Y,{id:"publicLink",value:t.publicDsrLink,onChange:b=>s(y=>({...y,publicDsrLink:b.target.value})),placeholder:"https://app.example.com/public/dsr/..."})]}),f?r.jsx("p",{className:"text-xs text-rose-600",children:f}):null,r.jsx(M,{size:"sm",onClick:m,disabled:l,children:"Save tenant settings"})]})}),r.jsx(ce,{title:"System settings",subtitle:"Advanced configuration as JSON key-value pairs.",children:o?r.jsx(ie,{className:"h-40 w-full rounded-md"}):r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{value:n,onChange:b=>a(b.target.value),rows:14,className:"font-mono text-xs"}),r.jsx(M,{size:"sm",onClick:w,disabled:u,children:"Save system settings"})]})})]})]})},MO=e=>["active","disabled","pending_invite"].includes(e)?e:"active",LO=e=>["owner","admin","editor","viewer"].includes(e)?e:"viewer",Bn=e=>({id:(e==null?void 0:e.id)??(e==null?void 0:e._id)??"",name:(e==null?void 0:e.name)??"",email:(e==null?void 0:e.email)??"",role:LO(e==null?void 0:e.role),status:MO(e==null?void 0:e.status),lastLogin:(e==null?void 0:e.lastLogin)??(e==null?void 0:e.last_login)??(e==null?void 0:e.last_login_at)??void 0,createdAt:(e==null?void 0:e.createdAt)??(e==null?void 0:e.created_at)??"",updatedAt:(e==null?void 0:e.updatedAt)??(e==null?void 0:e.updated_at)??void 0}),IO=e=>{if(Array.isArray(e))return e.map(Bn);const t=e;return Array.isArray(t==null?void 0:t.items)?t.items.map(Bn):Array.isArray(t==null?void 0:t.users)?t.users.map(Bn):[]};async function a2(){const e=await z.get("/iam/users");return IO(e.data)}async function OO(e){const t=await z.get(`/iam/users/${e}`);return Bn(t.data)}async function FO(e){const t=await z.post("/iam/users/invite",e);return Bn(t.data)}async function zO(e,t){const s=await z.put(`/iam/users/${e}`,t);return Bn(s.data)}async function UO(e,t){const s=await z.patch(`/iam/users/${e}`,t);return Bn(s.data)}const i0=[{id:"u1",name:"Alice Wonderland",email:"alice@example.com",plan:"Pro",status:"Active",docCount:15,joinDate:"2025-01-15"},{id:"u2",name:"Bob The Builder",email:"bob@example.com",plan:"Free",status:"Active",docCount:3,joinDate:"2025-03-22"},{id:"u3",name:"Charlie Brown",email:"charlie@example.com",plan:"Pro",status:"Inactive",docCount:8,joinDate:"2024-11-05"},{id:"u4",name:"Diana Prince",email:"diana@example.com",plan:"Free",status:"Active",docCount:1,joinDate:"2025-05-10"}],VO=()=>{const{user:e}=$t(),{demoMode:t}=Fs(),[s,n]=E.useState(""),[a,o]=E.useState(i0),[i,l]=E.useState(!1),[c,u]=E.useState(null);if((e==null?void 0:e.role)!=="Admin")return r.jsx(hn,{to:"/app/dashboard",replace:!0});E.useEffect(()=>{if(t){o(i0),u(null);return}(async()=>{try{l(!0),u(null);const w=(await a2()).map((b,y)=>({id:b.id||`u-${y}`,name:b.name||b.email||"User",email:b.email||"N/A",plan:"Pro",status:b.status==="disabled"?"Inactive":"Active",docCount:0,joinDate:b.createdAt||"N/A"}));o(w)}catch(m){u((m==null?void 0:m.message)??"Failed to load users."),o([])}finally{l(!1)}})()},[t]);const d=a.filter(g=>g.name.toLowerCase().includes(s.toLowerCase())||g.email.toLowerCase().includes(s.toLowerCase())),f={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},h={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Qe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[r.jsxs("h1",{className:"text-3xl font-bold tracking-tight text-foreground flex items-center",children:[r.jsx(ua,{className:"mr-3 h-8 w-8 text-purple-500"})," Admin Panel"]}),r.jsx("p",{className:"text-md text-muted-foreground",children:"Manage users and system settings."})]}),r.jsxs(Qe.div,{variants:h,initial:"hidden",animate:"visible",className:"grid md:grid-cols-3 gap-6",children:[r.jsxs(te,{className:"bg-card/70 dark:bg-slate-800/70 backdrop-blur-sm border-border/50 shadow-md",children:[r.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(de,{className:"text-sm font-medium text-muted-foreground",children:"Total Users"}),r.jsx(Sl,{className:"h-5 w-5 text-sky-500"})]}),r.jsx(ae,{children:r.jsx("div",{className:"text-3xl font-bold text-sky-500",children:a.length})})]}),r.jsxs(te,{className:"bg-card/70 dark:bg-slate-800/70 backdrop-blur-sm border-border/50 shadow-md",children:[r.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(de,{className:"text-sm font-medium text-muted-foreground",children:"Pro Users"}),r.jsx(Sl,{className:"h-5 w-5 text-purple-500"})]}),r.jsx(ae,{children:r.jsx("div",{className:"text-3xl font-bold text-purple-500",children:a.filter(g=>g.plan==="Pro").length})})]}),r.jsxs(te,{className:"bg-card/70 dark:bg-slate-800/70 backdrop-blur-sm border-border/50 shadow-md",children:[r.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(de,{className:"text-sm font-medium text-muted-foreground",children:"Total Documents"}),r.jsx(Yr,{className:"h-5 w-5 text-green-500"})]}),r.jsx(ae,{children:r.jsx("div",{className:"text-3xl font-bold text-green-500",children:a.reduce((g,m)=>g+m.docCount,0)})})]})]}),r.jsx(Qe.div,{variants:h,initial:"hidden",animate:"visible",children:r.jsxs(te,{className:"bg-card/70 dark:bg-slate-800/70 backdrop-blur-sm border-border/50 shadow-lg",children:[r.jsxs(ue,{children:[r.jsx(de,{className:"text-xl",children:"User Management"}),r.jsx(Ut,{children:"View, filter, and manage user accounts."}),r.jsxs("div",{className:"pt-4 flex gap-4",children:[r.jsxs("div",{className:"relative flex-grow",children:[r.jsx(WP,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),r.jsx(Y,{type:"search",placeholder:"Search users by name or email...",className:"pl-10 w-full bg-input",value:s,onChange:g=>n(g.target.value)})]}),r.jsxs(M,{variant:"outline",className:"border-sky-500 text-sky-500 hover:bg-sky-500 hover:text-white",children:[r.jsx(Gw,{className:"mr-2 h-4 w-4"})," Filter Users"]})]})]}),r.jsxs(ae,{children:[r.jsxs("div",{className:"overflow-x-auto",children:[!t&&i&&r.jsx("p",{className:"p-2 text-sm text-muted-foreground",children:"Loading users..."}),!t&&c&&r.jsxs("div",{className:"mb-3 flex items-center gap-2 rounded-md border border-rose-200 bg-rose-50 p-2 text-sm text-rose-700",children:[r.jsx(Kd,{className:"h-4 w-4"}),c]}),r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{className:"text-left text-muted-foreground",children:r.jsxs("tr",{children:[r.jsx("th",{className:"p-2",children:"Name"}),r.jsx("th",{className:"p-2",children:"Email"}),r.jsx("th",{className:"p-2",children:"Plan"}),r.jsx("th",{className:"p-2",children:"Status"}),r.jsx("th",{className:"p-2",children:"Docs"}),r.jsx("th",{className:"p-2",children:"Joined"}),r.jsx("th",{className:"p-2",children:"Actions"})]})}),r.jsx(Qe.tbody,{variants:f,initial:"hidden",animate:"visible",children:d.map(g=>r.jsxs(Qe.tr,{variants:h,className:"border-b border-border/50 hover:bg-slate-100 dark:hover:bg-slate-700/50 transition-colors",children:[r.jsx("td",{className:"p-2 font-medium",children:g.name}),r.jsx("td",{className:"p-2 text-muted-foreground",children:g.email}),r.jsx("td",{className:"p-2",children:r.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${g.plan==="Pro"?"bg-purple-200 text-purple-700 dark:bg-purple-700 dark:text-purple-200":"bg-sky-200 text-sky-700 dark:bg-sky-700 dark:text-sky-200"}`,children:g.plan})}),r.jsx("td",{className:"p-2",children:r.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${g.status==="Active"?"bg-green-200 text-green-700 dark:bg-green-700 dark:text-green-200":"bg-red-200 text-red-700 dark:bg-red-700 dark:text-red-200"}`,children:g.status})}),r.jsx("td",{className:"p-2 text-muted-foreground",children:g.docCount}),r.jsx("td",{className:"p-2 text-muted-foreground",children:g.joinDate}),r.jsx("td",{className:"p-2",children:r.jsx(M,{variant:"ghost",size:"sm",className:"text-red-500 hover:bg-red-100 dark:hover:bg-red-700/50",children:"Deactivate"})})]},g.id))})]})]}),d.length===0&&r.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No users match your search criteria."})]})]})})]})},$O=e=>["open","in_progress","blocked","completed","cancelled"].includes(e)?e:"open",BO=e=>["low","medium","high","urgent"].includes(e)?e:"medium",Wn=e=>{const t=(e==null?void 0:e.createdAt)??(e==null?void 0:e.created_at)??new Date().toISOString(),s=(e==null?void 0:e.updatedAt)??(e==null?void 0:e.updated_at)??t;return{id:(e==null?void 0:e.id)??(e==null?void 0:e._id)??"",title:(e==null?void 0:e.title)??"",description:(e==null?void 0:e.description)??"",status:$O(e==null?void 0:e.status),priority:BO(e==null?void 0:e.priority),dueDate:(e==null?void 0:e.dueDate)??(e==null?void 0:e.due_date)??"",createdAt:t,updatedAt:s,assignee:(e==null?void 0:e.assignee)??"",resourceType:(e==null?void 0:e.resourceType)??(e==null?void 0:e.resource_type)??"general",resourceId:(e==null?void 0:e.resourceId)??(e==null?void 0:e.resource_id)??"",resourceName:(e==null?void 0:e.resourceName)??(e==null?void 0:e.resource_name)??""}},WO=e=>{if(Array.isArray(e))return e.map(Wn);const t=e;return Array.isArray(t==null?void 0:t.items)?t.items.map(Wn):Array.isArray(t==null?void 0:t.tasks)?t.tasks.map(Wn):[]};async function HO(){try{const e=await z.get("/api/tasks");return WO(e.data)}catch(e){if((e==null?void 0:e.status)===404)return[];throw e}}async function qO(e){const t=await z.get(`/api/tasks/${e}`);return Wn(t.data)}async function GO(e){const t=await z.post("/api/tasks",e);return Wn(t.data)}async function KO(e,t){const s=await z.put(`/api/tasks/${e}`,t);return Wn(s.data)}async function YO(e,t){const s=await z.patch(`/api/tasks/${e}`,t);return Wn(s.data)}async function XO(e){await z.delete(`/api/tasks/${e}`)}const QO="Something went wrong while loading data. Please try again.";function JO(){const[e,t]=x.useState([]),[s,n]=x.useState(!1),[a,o]=x.useState(!1),[i,l]=x.useState(!1),[c,u]=x.useState(null),d=x.useRef(!0);x.useEffect(()=>()=>{d.current=!1},[]);const f=x.useCallback(async()=>{n(!0),u(null);try{const y=await HO();d.current&&t(y)}catch(y){d.current&&((y==null?void 0:y.status)===404?(t([]),u(null)):u(QO))}finally{d.current&&n(!1)}},[]);x.useEffect(()=>{f()},[f]);const h=x.useCallback(async y=>{o(!0);try{const p=await qO(y);return d.current&&t(v=>v.some(N=>N.id===p.id)?v.map(N=>N.id===p.id?p:N):[p,...v]),p}finally{d.current&&o(!1)}},[]),g=x.useCallback(async y=>{l(!0),u(null);try{const p=await GO(y);return d.current&&t(v=>[p,...v]),p}catch(p){throw d.current&&u((p==null?void 0:p.message)??"Failed to create task."),p}finally{d.current&&l(!1)}},[]),m=x.useCallback(async(y,p)=>{l(!0),u(null);try{const v=await KO(y,p);return d.current&&t(j=>j.map(N=>N.id===v.id?v:N)),v}catch(v){throw d.current&&u((v==null?void 0:v.message)??"Failed to update task."),v}finally{d.current&&l(!1)}},[]),w=x.useCallback(async(y,p)=>{l(!0),u(null);try{const v=await YO(y,p);return d.current&&t(j=>j.map(N=>N.id===v.id?v:N)),v}catch(v){throw d.current&&u((v==null?void 0:v.message)??"Failed to update task."),v}finally{d.current&&l(!1)}},[]),b=x.useCallback(async y=>{await XO(y),d.current&&t(p=>p.filter(v=>v.id!==y))},[]);return{tasks:e,loading:s,detailLoading:a,saving:i,error:c,refresh:f,fetchOne:h,create:g,update:m,patch:w,remove:b}}const l0=["open","in_progress","blocked","completed","cancelled"],ZO=["dsr","policy","document","dpia","ropa","incident","toms","general"],c0=()=>({title:"",description:"",status:"open",dueDate:"",resourceType:"general",resourceId:"",assignee:""}),e6=e=>({id:e.id,title:e.title,description:e.description,status:e.status,dueDate:e.dueDate,resourceType:e.resourceType,resourceId:e.resourceId??"",assignee:e.assignee}),t6=e=>e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"",s6=()=>{const{tasks:e,loading:t,saving:s,error:n,refresh:a,create:o,update:i,patch:l,remove:c}=JO(),[u,d]=E.useState(c0()),[f,h]=E.useState(""),[g,m]=E.useState("all"),[w,b]=E.useState(null),y=E.useMemo(()=>e.filter(R=>{const T=R.title.toLowerCase().includes(f.toLowerCase()),F=g==="all"?!0:R.status===g;return T&&F}),[e,f,g]),p=()=>{d(c0()),b(null)},v=R=>{b(R.id),d(e6(R))},j=R=>({...R,title:u.title||"Task",description:u.description,status:u.status,priority:(R==null?void 0:R.priority)??"medium",dueDate:u.dueDate,resourceType:u.resourceType,resourceId:u.resourceId,assignee:u.assignee,createdAt:(R==null?void 0:R.createdAt)??new Date().toISOString(),updatedAt:new Date().toISOString()}),N=async()=>{const R=w?e.find(F=>F.id===w):void 0,T=j(R);w?await i(w,T):await o(T),await a(),p()},k=async R=>{!R||!window.confirm("Delete this task?")||(await c(R),await a(),w===R&&p())},P=async R=>{await l(R,{status:"completed"}),await a()},S=()=>t?r.jsx("tbody",{children:Array.from({length:4}).map((R,T)=>r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"p-3",children:r.jsx(ie,{className:"h-10 w-full rounded-md"})})},T))}):n?r.jsx("tbody",{children:r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"p-4",children:r.jsx(Se,{title:"Unable to load tasks",description:"We could not fetch tasks. Retry to try again.",actionLabel:"Retry",onAction:a})})})}):y.length===0?r.jsx("tbody",{children:r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"p-4",children:r.jsx(Se,{title:e.length===0?"No tasks yet":"No matches",description:e.length===0?"Create your first task to keep teams accountable.":"Adjust filters or add a new task.",actionLabel:"New task",onAction:p})})})}):r.jsx("tbody",{className:"divide-y divide-slate-100",children:y.map(R=>r.jsxs("tr",{className:"hover:bg-slate-50",children:[r.jsxs("td",{className:"p-3",children:[r.jsx("div",{className:"font-semibold text-slate-900",children:R.title}),r.jsx("p",{className:"text-xs text-slate-500",children:R.description.slice(0,80)})]}),r.jsx("td",{className:"p-3 text-sm text-slate-700",children:t6(R.dueDate)}),r.jsx("td",{className:"p-3",children:r.jsx(Je,{className:"bg-slate-100 text-slate-800 capitalize",children:R.status.replace("_"," ")})}),r.jsxs("td",{className:"p-3 text-sm text-slate-700",children:[R.resourceType,R.resourceId?`  ${R.resourceId}`:""]}),r.jsx("td",{className:"p-3",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(M,{size:"sm",variant:"outline",onClick:()=>v(R),children:"Edit"}),r.jsxs(M,{size:"sm",variant:"ghost",className:"text-emerald-700",onClick:()=>P(R.id),children:[r.jsx(Oo,{className:"mr-1 h-4 w-4"}),"Complete"]}),r.jsxs(M,{size:"sm",variant:"ghost",className:"text-rose-600",onClick:()=>k(R.id),children:[r.jsx(zt,{className:"mr-1 h-4 w-4"}),"Delete"]})]})})]},R.id))});return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsx(et,{title:"Tasks",subtitle:"Assign and complete tasks across DPIA, ROPA, incidents, and policies.",actions:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(M,{variant:"outline",size:"sm",onClick:a,children:[r.jsx(Nn,{className:"mr-2 h-4 w-4"}),"Refresh"]}),r.jsxs(M,{size:"sm",onClick:p,children:[r.jsx(Os,{className:"mr-2 h-4 w-4"}),"New task"]})]})}),r.jsx(Zt,{title:"What you can do here",subtitle:"Keep all compliance tasks visible and actionable.",bullets:["Create tasks tied to DPIA, ROPA, incidents, or documents.","Set due dates and mark tasks complete when finished.","Filter by status to focus on what is due now."]}),r.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsx(ce,{title:"Task list",subtitle:"Every task for your tenant.",actions:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("select",{className:"rounded-lg border border-slate-200 px-2 py-2 text-sm text-slate-700",value:g,onChange:R=>m(R.target.value),children:[r.jsx("option",{value:"all",children:"All statuses"}),l0.map(R=>r.jsx("option",{value:R,children:R.replace("_"," ")},R))]}),r.jsx(Y,{placeholder:"Search",value:f,onChange:R=>h(R.target.value),className:"h-9 w-44"})]}),children:r.jsx("div",{className:"overflow-hidden rounded-lg border border-slate-200",children:r.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[r.jsx("thead",{className:"bg-slate-50 text-left text-xs font-semibold uppercase tracking-wide text-slate-600",children:r.jsxs("tr",{children:[r.jsx("th",{className:"p-3",children:"Title"}),r.jsx("th",{className:"p-3",children:"Due date"}),r.jsx("th",{className:"p-3",children:"Status"}),r.jsx("th",{className:"p-3",children:"Related module"}),r.jsx("th",{className:"p-3",children:"Actions"})]})}),S()]})})})}),r.jsx("div",{children:r.jsx(ce,{title:w?"Edit task":"Create task",subtitle:"Track work items across modules.",actions:w?r.jsxs(M,{variant:"ghost",className:"text-rose-600",size:"sm",onClick:()=>k(w),children:[r.jsx(zt,{className:"mr-1 h-4 w-4"}),"Delete"]}):null,children:r.jsxs("div",{className:"space-y-3",children:[r.jsx(Y,{placeholder:"Title",value:u.title,onChange:R=>d(T=>({...T,title:R.target.value}))}),r.jsx(Me,{placeholder:"Description",rows:3,value:u.description,onChange:R=>d(T=>({...T,description:R.target.value}))}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Status"}),r.jsx("select",{className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800",value:u.status,onChange:R=>d(T=>({...T,status:R.target.value})),children:l0.map(R=>r.jsx("option",{value:R,children:R.replace("_"," ")},R))})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Due date"}),r.jsx(Y,{type:"date",value:u.dueDate?u.dueDate.slice(0,10):"",onChange:R=>d(T=>({...T,dueDate:R.target.value}))})]})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Related module"}),r.jsx("select",{className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 capitalize",value:u.resourceType,onChange:R=>d(T=>({...T,resourceType:R.target.value})),children:ZO.map(R=>r.jsx("option",{value:R,children:R},R))})]}),r.jsx(Y,{placeholder:"Related ID (optional)",value:u.resourceId,onChange:R=>d(T=>({...T,resourceId:R.target.value}))}),r.jsx(Y,{placeholder:"Assignee",value:u.assignee,onChange:R=>d(T=>({...T,assignee:R.target.value}))}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsxs(M,{size:"sm",onClick:N,disabled:s,children:[r.jsx(ca,{className:"mr-2 h-4 w-4"}),"Save"]}),r.jsx(M,{size:"sm",variant:"outline",onClick:p,children:"Clear"})]})]})})})]})]})},n6=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:[r.jsx(et,{title:"Projects",description:"Manage GDPR projects and processing initiatives.",actions:r.jsxs(M,{size:"sm",className:"bg-gradient-to-r from-sky-500 to-purple-600 text-white",children:[r.jsx(Os,{className:"h-4 w-4 mr-2"}),"New Project"]})}),r.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Use this page to track processing activities, owners, milestones, and risks associated with each GDPR project."})]}),r.jsxs(te,{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:[r.jsxs(ue,{className:"px-0 pt-0",children:[r.jsx(de,{children:"Projects"}),r.jsx(Ut,{children:"Project list and wizard will be added next."})]}),r.jsx(ae,{className:"px-0",children:r.jsx(Se,{title:"No projects yet",description:"Start by creating your first GDPR project to track processing workstreams.",actionLabel:"New Project",onAction:()=>{}})})]})]}),An=(e,t=0)=>typeof e=="number"?e:t;async function r6(){const t=(await z.get("/api/audit/summary")).data??{};return{complianceScore:An(t.compliance_score??t.complianceScore,0),openDsrs:An(t.open_dsrs??t.openDsrs,0),overdueDsrs:An(t.overdue_dsrs??t.overdueDsrs,0),missingDpia:An(t.missing_dpia??t.missingDpia,0),missingRopa:An(t.missing_ropa??t.missingRopa,0),openIncidents:An(t.open_incidents??t.openIncidents,0),policyCoverage:An(t.policy_coverage??t.policyCoverage,0)}}const Xo=e=>Array.isArray(e)?e.map(t=>{if(typeof t!="object"||!t)return null;const s=t,n=typeof s.id=="string"?s.id:typeof s._id=="string"?s._id:void 0;return n?{id:n,title:typeof s.title=="string"?s.title:"Source",snippet:typeof s.snippet=="string"?s.snippet:void 0,url:typeof s.url=="string"?s.url:void 0}:null}).filter(t=>!!(t!=null&&t.id)):[],Qo=e=>e instanceof Error?e.message:typeof e=="string"?e:typeof e=="object"&&e&&"message"in e&&typeof e.message=="string"?e.message:"Unknown error while calling AI service";async function a6(e){try{const s=(await z.post("/ai/explain",e)).data??{};return{explanation:typeof s.explanation=="string"?s.explanation:typeof s.answer=="string"?s.answer:"",sources:Xo(s.sources??[])}}catch(t){throw new Error(Qo(t))}}function o6(){const[e,t]=x.useState(null),[s,n]=x.useState(!1),[a,o]=x.useState(null),i=x.useCallback(async l=>{n(!0),o(null);try{const c=await a6(l);return t(c),c}catch(c){const u=c instanceof Error?c.message:"Failed to explain content with AI";throw o(u),c}finally{n(!1)}},[]);return{result:e,loading:s,error:a,explain:i}}const i6=({value:e})=>{const t=Math.max(0,Math.min(100,e));return r.jsxs("div",{className:"relative h-32 w-32",children:[r.jsx("div",{className:"absolute inset-0 rounded-full",style:{background:`conic-gradient(#0ea5e9 ${t*3.6}deg, #e2e8f0 0deg)`}}),r.jsx("div",{className:"absolute inset-3 flex items-center justify-center rounded-full bg-white shadow-inner",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:[t,"%"]}),r.jsx("p",{className:"text-xs text-slate-500",children:"Compliance"})]})})]})},l6=()=>{const[e,t]=E.useState(null),[s,n]=E.useState(!1),[a,o]=E.useState(null),{result:i,loading:l,error:c,explain:u}=o6(),[d,f]=E.useState(""),h=E.useCallback(async()=>{n(!0),o(null);try{const w=await r6();t(w)}catch(w){o(w instanceof Error?w.message:"Unable to load audit summary.")}finally{n(!1)}},[]);E.useEffect(()=>{h()},[h]);const g=async()=>{const w=d.trim().length>0?d:"Explain the current audit readiness and priorities for leadership.";await u({text:w,audience:"audit_team"})},m=[{label:"Open DSRs",value:(e==null?void 0:e.openDsrs)??0,icon:r.jsx(ct,{className:"h-5 w-5 text-sky-600"})},{label:"Overdue DSRs",value:(e==null?void 0:e.overdueDsrs)??0,icon:r.jsx(Is,{className:"h-5 w-5 text-amber-600"})},{label:"Missing DPIA",value:(e==null?void 0:e.missingDpia)??0,icon:r.jsx(fx,{className:"h-5 w-5 text-rose-600"})},{label:"Missing ROPA",value:(e==null?void 0:e.missingRopa)??0,icon:r.jsx(fx,{className:"h-5 w-5 text-rose-600"})},{label:"Open incidents",value:(e==null?void 0:e.openIncidents)??0,icon:r.jsx(qP,{className:"h-5 w-5 text-rose-600"})},{label:"Policy coverage",value:`${(e==null?void 0:e.policyCoverage)??0}%`,icon:r.jsx(bo,{className:"h-5 w-5 text-emerald-600"})}];return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsx(et,{title:"Audit dashboard",subtitle:"Track compliance posture across key GDPR modules.",actions:r.jsx(M,{variant:"outline",size:"sm",onClick:h,children:"Refresh"})}),r.jsx(Zt,{title:"What you can do here",subtitle:"Use this overview to understand risk hotspots.",bullets:["Monitor compliance score and policy coverage.","Spot missing DPIAs or ROPA entries quickly.","Track DSR and incident workload."]}),r.jsx(ce,{title:"Compliance score",subtitle:"Calculated from coverage across DPIA, ROPA, incidents, and policies.",children:s&&!e?r.jsx(ie,{className:"h-32 w-32 rounded-full"}):e?r.jsx(i6,{value:e.complianceScore}):r.jsx("p",{className:"text-sm text-rose-600",children:a})}),r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:m.map(w=>r.jsx(ce,{title:w.label,subtitle:"",className:"h-full",children:s&&!e?r.jsx(ie,{className:"h-10 w-20 rounded-md"}):r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-slate-100",children:w.icon}),r.jsx("p",{className:"text-2xl font-semibold text-slate-900",children:w.value})]})},w.label))}),r.jsxs(ce,{title:"Audit explanation (AI)",subtitle:"Generate a quick narrative for stakeholders.",actions:r.jsx(M,{size:"sm",variant:"outline",onClick:g,disabled:l,children:l?"Explaining...":"Generate explanation"}),children:[r.jsx(Me,{placeholder:"Ask AURA to explain audit readiness...",value:d,onChange:w=>f(w.target.value),rows:4}),c?r.jsx("p",{className:"text-xs text-rose-600",children:c}):null,i?r.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3 text-sm text-slate-800",children:i.explanation}):null]})]})},c6=e=>["info","warning","critical"].includes(e)?e:"info",u6=e=>{const t=["dsr","policy","document","dpia","ropa","incident","toms","user","tenant","system"];return t.includes(e)?e:typeof e=="string"&&t.includes(e.toLowerCase())?e.toLowerCase():"system"},zu=e=>{const t=(e==null?void 0:e.timestamp)??(e==null?void 0:e.created_at)??(e==null?void 0:e.createdAt)??new Date().toISOString();return{id:(e==null?void 0:e.id)??(e==null?void 0:e._id)??`${t}-${(e==null?void 0:e.action)??"log"}`,timestamp:t,actor:(e==null?void 0:e.actor)??(e==null?void 0:e.user)??(e==null?void 0:e.user_id)??"system",action:(e==null?void 0:e.action)??(e==null?void 0:e.event)??"",resourceType:u6((e==null?void 0:e.resource_type)??(e==null?void 0:e.target_type)??(e==null?void 0:e.module)),resourceId:(e==null?void 0:e.resource_id)??(e==null?void 0:e.target_id)??"",resourceName:(e==null?void 0:e.resource_name)??"",targetType:(e==null?void 0:e.target_type)??"",targetId:(e==null?void 0:e.target_id)??"",userId:(e==null?void 0:e.user_id)??"",severity:c6(e==null?void 0:e.severity),ipAddress:(e==null?void 0:e.ip)??(e==null?void 0:e.ip_address),userAgent:(e==null?void 0:e.user_agent)??"",details:(e==null?void 0:e.details)??(e==null?void 0:e.metadata)??""}},d6=e=>{if(Array.isArray(e))return e.map(zu);const t=e;return Array.isArray(t==null?void 0:t.items)?t.items.map(zu):Array.isArray(t==null?void 0:t.logs)?t.logs.map(zu):[]};async function f6(e){const t=await z.get("/api/logs",{params:e});return d6(t.data)}const p6="Something went wrong while loading audit logs. Please try again.";function h6(e={}){const[t,s]=x.useState([]),[n,a]=x.useState(!1),[o,i]=x.useState(!1),[l,c]=x.useState(null),u=x.useRef(e),d=x.useCallback(async f=>{a(!0),i(!1),c(null);try{const h={...u.current,...f??{}},g=await f6(h);u.current=h,s(g)}catch(h){i(!0),c(h instanceof Error?h.message:p6)}finally{a(!1)}},[]);return x.useEffect(()=>{d(u.current)},[d]),{items:t,isLoading:n,isError:o,errorMessage:l,refresh:d}}const m6=e=>{const t=Date.now();return e==="24h"?t-24*60*60*1e3:e==="7d"?t-7*24*60*60*1e3:e==="30d"?t-30*24*60*60*1e3:0},x6=e=>new Date(e).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),g6=()=>{const{items:e,isLoading:t,isError:s,errorMessage:n,refresh:a}=h6(),[o,i]=E.useState(""),[l,c]=E.useState("all"),[u,d]=E.useState("7d"),f=E.useMemo(()=>{const m=m6(u);return e.filter(w=>{const b=new Date(w.timestamp).getTime(),y=m===0?!0:b>=m,p=w.action.toLowerCase().includes(o.toLowerCase())||(w.targetType||"").toLowerCase().includes(o.toLowerCase())||(w.userId||w.actor||"").toLowerCase().includes(o.toLowerCase()),v=l==="all"?!0:w.action===l;return y&&p&&v})},[e,o,u,l]),h=E.useMemo(()=>Array.from(new Set(e.map(m=>m.action))),[e]),g=()=>t?r.jsx("tbody",{children:Array.from({length:5}).map((m,w)=>r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"p-3",children:r.jsx(ie,{className:"h-10 w-full rounded-md"})})},w))}):s?r.jsx("tbody",{children:r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"p-4",children:r.jsx(Se,{title:"Unable to load logs",description:n??"Something went wrong loading audit logs.",actionLabel:"Retry",onAction:()=>a()})})})}):f.length===0?r.jsx("tbody",{children:r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"p-4",children:r.jsx(Se,{title:e.length===0?"No audit events":"No matches",description:e.length===0?"Logs will appear here as users perform actions.":"Adjust filters or date range to see more events.",actionLabel:"Refresh",onAction:()=>a()})})})}):r.jsx("tbody",{className:"divide-y divide-slate-100",children:f.map(m=>r.jsxs("tr",{className:"hover:bg-slate-50",children:[r.jsx("td",{className:"p-3 text-sm text-slate-700",children:x6(m.timestamp)}),r.jsx("td",{className:"p-3 text-sm text-slate-800 font-semibold",children:m.action}),r.jsx("td",{className:"p-3 text-sm text-slate-700",children:m.targetType??m.resourceType}),r.jsx("td",{className:"p-3 text-sm text-slate-700",children:m.targetId??m.resourceId??""}),r.jsx("td",{className:"p-3 text-sm text-slate-700",children:m.userId??m.actor??"system"})]},m.id))});return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsx(et,{title:"Audit trail",subtitle:"Review every action performed in your tenant across modules.",actions:r.jsxs(M,{variant:"outline",size:"sm",onClick:()=>a(),children:[r.jsx(Nn,{className:"mr-2 h-4 w-4"}),"Refresh"]})}),r.jsx(Zt,{title:"What you can do here",subtitle:"Filter and export audit events for compliance.",bullets:["Search by action, target, or user.","Filter by common date ranges.","Export events for regulator or customer requests."]}),r.jsx(ce,{title:"Filters",subtitle:"Narrow down the audit trail.",actions:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("select",{className:"rounded-lg border border-slate-200 px-2 py-2 text-sm text-slate-700",value:u,onChange:m=>d(m.target.value),children:[r.jsx("option",{value:"24h",children:"Last 24h"}),r.jsx("option",{value:"7d",children:"Last 7 days"}),r.jsx("option",{value:"30d",children:"Last 30 days"}),r.jsx("option",{value:"all",children:"All time"})]}),r.jsxs("select",{className:"rounded-lg border border-slate-200 px-2 py-2 text-sm text-slate-700",value:l,onChange:m=>c(m.target.value),children:[r.jsx("option",{value:"all",children:"All actions"}),h.map(m=>r.jsx("option",{value:m,children:m},m))]}),r.jsx(Y,{placeholder:"Search",value:o,onChange:m=>i(m.target.value),className:"h-9 w-44"})]}),children:r.jsx("div",{className:"overflow-hidden rounded-lg border border-slate-200",children:r.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[r.jsx("thead",{className:"bg-slate-50 text-left text-xs font-semibold uppercase tracking-wide text-slate-600",children:r.jsxs("tr",{children:[r.jsx("th",{className:"p-3",children:"Timestamp"}),r.jsx("th",{className:"p-3",children:"Action"}),r.jsx("th",{className:"p-3",children:"Target type"}),r.jsx("th",{className:"p-3",children:"Target ID"}),r.jsx("th",{className:"p-3",children:"User"})]})}),g()]})})})]})},y6={low:"bg-green-100 dark:bg-green-900/40 hover:bg-green-200 dark:hover:bg-green-800",medium:"bg-amber-100 dark:bg-amber-900/40 hover:bg-amber-200 dark:hover:bg-amber-800",high:"bg-red-100 dark:bg-red-900/40 hover:bg-red-200 dark:hover:bg-red-800"},Uu=({label:e,count:t,tone:s,onClick:n})=>r.jsx("button",{onClick:n,className:`w-full rounded-md border border-border px-4 py-6 text-left transition ${y6[s]}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-semibold capitalize",children:e}),r.jsx(Je,{children:t})]})}),v6=({grouped:e,onSelect:t})=>r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(Uu,{label:"Low",count:e.low.length,tone:"low",onClick:()=>t("low")}),r.jsx(Uu,{label:"Medium",count:e.medium.length,tone:"medium",onClick:()=>t("medium")}),r.jsx(Uu,{label:"High",count:e.high.length,tone:"high",onClick:()=>t("high")})]}),w6=({open:e,riskLevel:t,items:s,onClose:n})=>{const a=hs();return r.jsxs(r.Fragment,{children:[e&&r.jsx("div",{className:"fixed inset-0 bg-black/40 z-40",onClick:n}),r.jsxs("div",{className:`fixed top-0 right-0 h-full w-full max-w-3xl bg-background shadow-2xl z-50 transform transition-transform ${e?"translate-x-0":"translate-x-full"}`,children:[r.jsxs("div",{className:"flex items-center justify-between border-b border-border px-4 py-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase text-muted-foreground",children:"Risks"}),r.jsx("h3",{className:"text-xl font-semibold capitalize",children:t?`${t} risk`:"Risks"})]}),r.jsx(M,{variant:"ghost",size:"icon",onClick:n,"aria-label":"Close risk list",children:r.jsx(kt,{className:"h-5 w-5"})})]}),r.jsx("div",{className:"p-4 space-y-3 overflow-auto h-[calc(100%-56px)]",children:s.length===0?r.jsx("div",{className:"text-sm text-muted-foreground",children:"No items for this risk level."}):s.map(o=>r.jsx(te,{children:r.jsxs(ae,{className:"p-4 flex items-start justify-between gap-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"text-sm font-semibold",children:o.title}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[r.jsx(Je,{variant:"secondary",className:"capitalize",children:o.type}),r.jsx(Je,{className:"capitalize",children:o.risk}),o.source&&r.jsx("span",{children:o.source})]})]}),o.link&&r.jsx(M,{size:"sm",variant:"outline",onClick:()=>{a(o.link),n()},children:"Open"})]})},`${o.type}-${o.id}`))})]})]})},Vu=e=>{if(typeof e=="number")return e>=16?"high":e>=9?"medium":"low";const t=(e||"").toString().toLowerCase();return t==="high"||t==="critical"?"high":t==="medium"?"medium":"low"},b6=()=>{const[e,t]=x.useState([]),[s,n]=x.useState(!0),[a,o]=x.useState(null),i=x.useCallback(async()=>{var c,u,d;try{n(!0),o(null);const f=async p=>{try{return(await z.get(p)).data}catch(v){if((v==null?void 0:v.status)===404)return null;throw v}},[h,g,m]=await Promise.all([f("/api/dpia"),f("/api/incidents"),f("/api/projects")]),w=((c=h==null?void 0:h.items)==null?void 0:c.map(p=>({id:p.id,type:"dpia",title:p.title,risk:Vu(p.overall_risk),source:`DPIA (${p.overall_risk})`,link:`/app/dpia/${p.id}`})))??[],b=((u=g==null?void 0:g.items)==null?void 0:u.map(p=>{const v=(p.severity||"").toString().toLowerCase(),N=Vu(v==="critical"||v==="high"?16:v==="medium"?9:4);return{id:p.id,type:"incident",title:p.title||`Incident ${p.id}`,risk:N,source:`Incident (${p.severity??"unknown"})`,link:"/app/incidents"}}))??[],y=((d=m==null?void 0:m.items)==null?void 0:d.map(p=>({id:p.id,type:"project",title:p.name,risk:Vu(p.risk_level),source:`Project (${p.risk_level??"unknown"})`,link:"/app/projects"})))??[];t([...w,...b,...y])}catch{o("Something went wrong while loading data. Please try again."),t([])}finally{n(!1)}},[]);x.useEffect(()=>{i()},[i]);const l=x.useMemo(()=>e.reduce((c,u)=>(c[u.risk].push(u),c),{low:[],medium:[],high:[]}),[e]);return{data:e,grouped:l,loading:s,error:a,reload:i}},j6=()=>{const{data:e,grouped:t,loading:s,error:n,reload:a}=b6(),[o,i]=x.useState(null),l=u=>{i(u)},c=o?t[o]:[];return r.jsxs("div",{className:"space-y-6",children:[r.jsx(et,{title:"Risk Matrix",description:"Aggregate risks across DPIAs, Incidents, and Projects.",actions:r.jsxs(M,{variant:"outline",size:"sm",onClick:a,disabled:s,children:[r.jsx(fc,{className:"h-4 w-4 mr-2"}),"Refresh"]})}),n&&r.jsx(te,{children:r.jsxs(ae,{className:"p-4 text-sm text-destructive flex items-center justify-between",children:[r.jsxs("span",{children:["Failed to load risks: ",n]}),r.jsx(M,{size:"sm",variant:"outline",onClick:a,children:"Retry"})]})}),s?r.jsx(te,{children:r.jsx(ae,{className:"p-4",children:r.jsx(ie,{className:"h-24 w-full"})})}):e.length===0?r.jsx(te,{children:r.jsx(ae,{className:"p-6 text-sm text-muted-foreground text-center",children:"No risks found yet."})}):r.jsx(v6,{grouped:t,onSelect:l}),r.jsx(w6,{open:!!o,riskLevel:o,items:c,onClose:()=>i(null)})]})},Hn=e=>({...e,id:(e==null?void 0:e.id)??(e==null?void 0:e._id)??(e==null?void 0:e.dpia_id)??"",createdAt:(e==null?void 0:e.createdAt)??(e==null?void 0:e.created_at)??"",lastUpdated:(e==null?void 0:e.lastUpdated)??(e==null?void 0:e.last_updated)??(e==null?void 0:e.updated_at)??(e==null?void 0:e.updatedAt)??"",risk:(e==null?void 0:e.risk)??(e==null?void 0:e.risk_rating)??(e==null?void 0:e.riskRating)??{likelihood:1,impact:1,overallScore:1,level:"low"}}),N6=e=>{if(Array.isArray(e))return e.map(Hn);const t=e;return Array.isArray(t==null?void 0:t.items)?t.items.map(Hn):Array.isArray(t==null?void 0:t.dpias)?t.dpias.map(Hn):[]};async function S6(){try{const e=await z.get("/api/dpia");return N6(e.data)}catch(e){if((e==null?void 0:e.status)===404)return[];throw e}}async function k6(e){const t=await z.get(`/api/dpia/${e}`);return Hn(t.data)}async function C6(e){const t=await z.post("/api/dpia",e);return Hn(t.data)}async function A6(e,t){const s=await z.put(`/api/dpia/${e}`,t);return Hn(s.data)}async function P6(e,t){const s=await z.patch(`/api/dpia/${e}`,t);return Hn(s.data)}async function E6(e){await z.delete(`/api/dpia/${e}`)}const R6="Something went wrong while loading data. Please try again.";function T6(){const[e,t]=x.useState([]),[s,n]=x.useState(!1),[a,o]=x.useState(!1),[i,l]=x.useState(!1),[c,u]=x.useState(null),d=x.useRef(!0);x.useEffect(()=>()=>{d.current=!1},[]);const f=x.useCallback(async()=>{n(!0),u(null);try{const y=await S6();d.current&&t(y)}catch(y){d.current&&((y==null?void 0:y.status)===404?(t([]),u(null)):u(R6))}finally{d.current&&n(!1)}},[]);x.useEffect(()=>{f()},[f]);const h=x.useCallback(async y=>{o(!0);try{const p=await k6(y);return d.current&&t(v=>v.map(j=>j.id===p.id?p:j)),p}finally{d.current&&o(!1)}},[]),g=x.useCallback(async y=>{l(!0);try{const p=await C6(y);return d.current&&t(v=>[p,...v]),p}finally{d.current&&l(!1)}},[]),m=x.useCallback(async(y,p)=>{l(!0);try{const v=await A6(y,p);return d.current&&t(j=>j.map(N=>N.id===v.id?v:N)),v}finally{d.current&&l(!1)}},[]),w=x.useCallback(async(y,p)=>{const v=await P6(y,p);return d.current&&t(j=>j.map(N=>N.id===v.id?v:N)),v},[]),b=x.useCallback(async y=>{await E6(y),d.current&&t(p=>p.filter(v=>v.id!==y))},[]);return{dpias:e,loading:s,detailLoading:a,saving:i,error:c,refresh:f,fetchOne:h,create:g,update:m,patch:w,remove:b}}const pr=(e,t="")=>typeof e=="string"?e:t;async function D6(e){try{const s=(await z.post("/ai/dpia/generate",e)).data??{};return{purpose:pr(s.purpose??s.goal??""),processingDescription:pr(s.processing_description??s.processingDescription??s.description??""),dataSubjects:pr(s.data_subjects??s.dataSubjects??""),dataCategories:pr(s.data_categories??s.dataCategories??""),legalBasis:pr(s.legal_basis??s.legalBasis??""),mitigationMeasures:pr(s.mitigation_measures??s.mitigationMeasures??""),sources:Xo(s.sources??[])}}catch(t){throw new Error(Qo(t))}}function _6(){const[e,t]=x.useState(null),[s,n]=x.useState(!1),[a,o]=x.useState(null),i=x.useCallback(async l=>{n(!0),o(null);try{const c=await D6(l);return t(c),c}catch(c){const u=c instanceof Error?c.message:"Failed to generate DPIA with AI";throw o(u),c}finally{n(!1)}},[]);return{result:e,loading:s,error:a,generate:i}}const u0=["draft","in_review","approved","rejected","archived"],d0=["low","medium","high"],M6=`{
  "likelihood": 1,
  "impact": 1,
  "overallScore": 1,
  "level": "low"
}`,o2=`{
  "controls": [
    "Data minimisation",
    "Encryption at rest",
    "Access reviews"
  ]
}`,f0=()=>({title:"",description:"",risksInput:M6,measuresInput:o2,riskLevel:"low",status:"draft"}),L6=e=>e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"",I6=e=>{var t;return{id:e.id,title:e.name,description:e.processingDescription??"",risksInput:JSON.stringify(e.risk??{},null,2),measuresInput:e.mitigationMeasures?JSON.stringify(e.mitigationMeasures,null,2):o2,riskLevel:((t=e.risk)==null?void 0:t.level)??"low",status:e.status,createdAt:e.createdAt}},O6=()=>{const{dpias:e,loading:t,saving:s,error:n,refresh:a,create:o,update:i,remove:l}=T6(),{generate:c,loading:u,error:d}=_6(),[f,h]=E.useState(f0()),[g,m]=E.useState(null),[w,b]=E.useState(""),[y,p]=E.useState("all"),[v,j]=E.useState("all"),[N,k]=E.useState(null),[P,S]=E.useState(""),[R,T]=E.useState(""),F=E.useMemo(()=>e.filter(C=>{const _=C.name.toLowerCase().includes(w.toLowerCase())||C.processingDescription.toLowerCase().includes(w.toLowerCase()),L=y==="all"?!0:C.status===y,B=v==="all"?!0:C.risk.level===v;return _&&L&&B}),[e,w,y,v]),O=()=>{h(f0()),k(null),m(null)},W=C=>{k(C.id),h(I6(C)),m(null)},U=C=>{let _={},L={};try{_=f.risksInput?JSON.parse(f.risksInput):{}}catch{return m("Risks must be valid JSON."),null}try{L=f.measuresInput?JSON.parse(f.measuresInput):{}}catch{return m("Measures must be valid JSON."),null}const B=(C==null?void 0:C.risk)??{likelihood:1,impact:1,level:f.riskLevel},re=_.likelihood??B.likelihood??1,se=_.impact??B.impact??1;return{...C,name:f.title||"Untitled DPIA",systemName:(C==null?void 0:C.systemName)??f.title,status:f.status,processingDescription:f.description,mitigationMeasures:L,risk:{likelihood:re,impact:se,overallScore:_.overallScore??re*se,level:f.riskLevel},purpose:(C==null?void 0:C.purpose)??"",legalBasis:(C==null?void 0:C.legalBasis)??"",dataSubjects:(C==null?void 0:C.dataSubjects)??"",dataCategories:(C==null?void 0:C.dataCategories)??"",recipients:(C==null?void 0:C.recipients)??"",transfersOutsideEU:(C==null?void 0:C.transfersOutsideEU)??"",createdAt:f.createdAt??(C==null?void 0:C.createdAt)??new Date().toISOString(),lastUpdated:new Date().toISOString(),owner:(C==null?void 0:C.owner)??"Data Protection"}},q=async()=>{const C=N?e.find(L=>L.id===N):void 0,_=U(C);_&&(m(null),N?await i(N,_):await o(_),await a(),O())},A=async C=>{!C||!window.confirm("Delete this DPIA? This cannot be undone.")||(await l(C),await a(),N===C&&O())},V=async()=>{if(!P.trim()){m("Add a processing activity before running AI generation.");return}m(null);try{const C=await c({processingActivity:P,context:R});h(_=>({..._,title:_.title||P,description:C.processingDescription||_.description,measuresInput:C.mitigationMeasures?JSON.stringify({details:C.mitigationMeasures},null,2):_.measuresInput}))}catch{}},D=()=>t?r.jsx("tbody",{children:Array.from({length:4}).map((C,_)=>r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"p-3",children:r.jsx(ie,{className:"h-10 w-full rounded-md"})})},_))}):n?r.jsx("tbody",{children:r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"p-4",children:r.jsx(Se,{title:"Unable to load DPIAs",description:"We could not load DPIA records. Retry to fetch again.",actionLabel:"Retry",onAction:a})})})}):F.length===0?r.jsx("tbody",{children:r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"p-4",children:r.jsx(Se,{title:e.length===0?"No DPIAs yet":"No results for these filters",description:e.length===0?"Start by creating your first DPIA to document high-risk processing.":"Update the search or filters, or add a new DPIA.",actionLabel:"New DPIA",onAction:O})})})}):r.jsx("tbody",{className:"divide-y divide-slate-100",children:F.map(C=>r.jsxs("tr",{className:"hover:bg-slate-50",children:[r.jsxs("td",{className:"p-3",children:[r.jsx("div",{className:"font-semibold text-slate-900",children:C.name}),r.jsx("p",{className:"text-xs text-slate-500",children:C.systemName})]}),r.jsx("td",{className:"p-3",children:r.jsx(Je,{className:C.risk.level==="high"?"bg-rose-100 text-rose-700":C.risk.level==="medium"?"bg-amber-100 text-amber-700":"bg-emerald-100 text-emerald-700",children:C.risk.level})}),r.jsx("td",{className:"p-3",children:r.jsx(Je,{className:"bg-slate-100 text-slate-800 capitalize",children:C.status.replace("_"," ")})}),r.jsx("td",{className:"p-3 text-sm text-slate-600",children:L6(C.createdAt)}),r.jsx("td",{className:"p-3",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx(M,{size:"sm",variant:"outline",onClick:()=>W(C),children:"Edit"}),r.jsxs(M,{size:"sm",variant:"ghost",className:"text-rose-600",onClick:()=>A(C.id),children:[r.jsx(zt,{className:"mr-1 h-4 w-4"}),"Delete"]})]})})]},C.id))});return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsx(et,{title:"Data Protection Impact Assessments",subtitle:"Track high-risk processing, document risks and mitigations, and keep your DPIA register audit ready.",actions:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(M,{variant:"outline",size:"sm",onClick:a,children:[r.jsx(Nn,{className:"mr-2 h-4 w-4"}),"Refresh"]}),r.jsxs(M,{size:"sm",onClick:O,children:[r.jsx(Os,{className:"mr-2 h-4 w-4"}),"New DPIA"]})]})}),r.jsx(Zt,{title:"What you can do here",subtitle:"Maintain a complete DPIA register for regulators and auditors.",bullets:["Create DPIAs with risk scoring and mitigation plans.","Filter by status or risk level to prioritise reviews.","Export evidence for audits and stakeholder updates."]}),r.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[r.jsx("div",{className:"lg:col-span-2 space-y-4",children:r.jsx(ce,{title:"DPIA list",subtitle:"All DPIAs recorded for this tenant.",actions:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("select",{className:"rounded-lg border border-slate-200 px-2 py-2 text-sm text-slate-700",value:y,onChange:C=>p(C.target.value),children:[r.jsx("option",{value:"all",children:"All statuses"}),u0.map(C=>r.jsx("option",{value:C,children:C.replace("_"," ")},C))]}),r.jsxs("select",{className:"rounded-lg border border-slate-200 px-2 py-2 text-sm text-slate-700",value:v,onChange:C=>j(C.target.value),children:[r.jsx("option",{value:"all",children:"All risk levels"}),d0.map(C=>r.jsx("option",{value:C,children:C},C))]}),r.jsx(Y,{placeholder:"Search DPIA",value:w,onChange:C=>b(C.target.value),className:"h-9 w-40"})]}),children:r.jsx("div",{className:"overflow-hidden rounded-lg border border-slate-200",children:r.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[r.jsx("thead",{className:"bg-slate-50 text-left text-xs font-semibold uppercase tracking-wide text-slate-600",children:r.jsxs("tr",{children:[r.jsx("th",{className:"p-3",children:"Title"}),r.jsx("th",{className:"p-3",children:"Risk"}),r.jsx("th",{className:"p-3",children:"Status"}),r.jsx("th",{className:"p-3",children:"Created"}),r.jsx("th",{className:"p-3",children:"Actions"})]})}),D()]})})})}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(ce,{title:N?"Edit DPIA":"Create DPIA",subtitle:"Capture risks, mitigations, and approval status.",actions:N?r.jsxs(M,{variant:"ghost",className:"text-rose-600",size:"sm",onClick:()=>A(N),children:[r.jsx(zt,{className:"mr-1 h-4 w-4"}),"Delete"]}):null,children:r.jsxs("div",{className:"space-y-3",children:[r.jsx(Y,{placeholder:"Title",value:f.title,onChange:C=>h(_=>({..._,title:C.target.value}))}),r.jsx(Me,{placeholder:"Description",value:f.description,onChange:C=>h(_=>({..._,description:C.target.value})),rows:3}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Risk level"}),r.jsx("select",{className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800",value:f.riskLevel,onChange:C=>h(_=>({..._,riskLevel:C.target.value})),children:d0.map(C=>r.jsx("option",{value:C,children:C},C))})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Status"}),r.jsx("select",{className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 capitalize",value:f.status,onChange:C=>h(_=>({..._,status:C.target.value})),children:u0.map(C=>r.jsx("option",{value:C,children:C.replace("_"," ")},C))})]})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Risks (JSON)"}),r.jsx(Me,{value:f.risksInput,onChange:C=>h(_=>({..._,risksInput:C.target.value})),rows:6,className:"font-mono text-xs"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Measures (JSON)"}),r.jsx(Me,{value:f.measuresInput,onChange:C=>h(_=>({..._,measuresInput:C.target.value})),rows:6,className:"font-mono text-xs"})]}),g?r.jsx("p",{className:"text-xs text-rose-600",children:g}):null,d?r.jsx("p",{className:"text-xs text-rose-600",children:d}):null,r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsxs(M,{size:"sm",onClick:q,disabled:s,children:[r.jsx(ca,{className:"mr-2 h-4 w-4"}),"Save"]}),r.jsx(M,{variant:"outline",size:"sm",onClick:O,children:"Reset"})]})]})}),r.jsxs(ce,{title:"AI draft",subtitle:"Let AURA draft a DPIA summary for you.",children:[r.jsx(Y,{placeholder:"Processing activity",value:P,onChange:C=>S(C.target.value)}),r.jsx(Me,{placeholder:"Context or risks to consider (optional)",value:R,onChange:C=>T(C.target.value),rows:3}),r.jsxs(M,{size:"sm",variant:"outline",onClick:V,disabled:u,children:[r.jsx(Up,{className:"mr-2 h-4 w-4"}),u?"Generating...":"Generate DPIA with AI"]})]})]})]})]})},p0={received:{label:"Received",classes:"bg-slate-100 text-slate-800 border-slate-200"},identity_required:{label:"Identity verification",classes:"bg-sky-50 text-sky-700 border-sky-200"},in_progress:{label:"In progress",classes:"bg-sky-100 text-sky-800 border-sky-200"},waiting_for_information:{label:"Waiting for information",classes:"bg-amber-50 text-amber-700 border-amber-200"},completed:{label:"Completed",classes:"bg-emerald-50 text-emerald-700 border-emerald-200"},rejected:{label:"Rejected",classes:"bg-rose-50 text-rose-700 border-rose-200"}},Fh=({status:e})=>{const t=p0[e]??p0.received;return r.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-semibold ${t.classes}`,children:t.label})},F6=[{value:"received",label:"Received"},{value:"identity_required",label:"Identity verification"},{value:"in_progress",label:"In progress"},{value:"completed",label:"Completed"},{value:"rejected",label:"Rejected"}],z6=({open:e,currentStatus:t,onClose:s,onSubmit:n,isSubmitting:a})=>{const[o,i]=E.useState(t),[l,c]=E.useState("");E.useEffect(()=>{e&&(i(t),c(""))},[t,e]);const u=async()=>{o!==t&&await n(o,l.trim()?l.trim():void 0)};return e?r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/40 backdrop-blur-sm",onClick:s,"aria-modal":"true",role:"dialog",children:r.jsxs("div",{className:"w-full max-w-xl rounded-xl border border-slate-200 bg-white p-6 shadow-2xl",onClick:d=>d.stopPropagation(),children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Change status"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Update the request status and add an optional note."})]}),r.jsxs("div",{className:"mt-4 space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Xe,{className:"text-sm font-semibold text-slate-900",children:"New status"}),r.jsx("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-2",children:F6.map(d=>r.jsxs("button",{type:"button",onClick:()=>i(d.value),className:`flex items-center justify-between rounded-lg border px-3 py-2 text-sm transition focus:outline-none focus:ring-2 focus:ring-sky-200 ${o===d.value?"border-sky-300 bg-sky-50 text-slate-900":"border-slate-200 bg-white text-slate-700 hover:border-slate-300"}`,disabled:a,children:[r.jsx("span",{children:d.label}),r.jsx(Fh,{status:d.value})]},d.value))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Xe,{htmlFor:"dsr-status-note",className:"text-sm font-semibold text-slate-900",children:"Note (optional)"}),r.jsx(Me,{id:"dsr-status-note",value:l,onChange:d=>c(d.target.value),placeholder:"Add context for this status change.",disabled:a}),r.jsx("p",{className:"text-xs text-slate-500",children:"Notes are saved with the status update."})]})]}),r.jsxs("div",{className:"mt-6 flex flex-wrap items-center justify-end gap-2",children:[r.jsx(M,{variant:"outline",onClick:s,disabled:a,children:"Cancel"}),r.jsxs(M,{onClick:u,disabled:a||o===t,className:"inline-flex items-center gap-2",children:[a&&r.jsx(gt,{className:"h-4 w-4 animate-spin"}),a?"Updating...":"Update status"]})]})]})}):null},h0={received:["identity_required","in_progress"],identity_required:["in_progress"],in_progress:["waiting_for_information","completed","rejected"],waiting_for_information:["in_progress","completed","rejected"],completed:[],rejected:[]},U6={received:"Mark as received",identity_required:"Mark as identity required",in_progress:"Mark as in progress",waiting_for_information:"Mark as waiting for information",completed:"Mark as completed",rejected:"Mark as rejected"},m0=e=>{if(!e)return"N/A";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},V6=e=>{if(!e)return"N/A";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},$6=e=>{if(!e)return{label:"No due date set",tone:"ok"};const t=new Date,s=new Date(e);if(Number.isNaN(s.getTime()))return{label:e,tone:"ok"};const n=s.getTime()-t.getTime(),a=Math.floor(n/(1e3*60*60*24));return a>1?{label:`Due in ${a} days`,tone:a<=7?"soon":"ok"}:a===1?{label:"Due tomorrow",tone:"soon"}:a===0?{label:"Due today",tone:"soon"}:{label:`Overdue by ${Math.abs(a)} days`,tone:"late"}},B6=e=>[{label:"Request created",timestamp:e.createdAt??e.created_at??e.received_at??""},{label:`Status set to ${e.status}`,timestamp:e.updatedAt??e.updated_at??""}].filter(s=>s.timestamp),W6=({dsr:e,isOpen:t,onClose:s,onStatusChange:n,isUpdating:a=!1,error:o,isLoading:i=!1})=>{const l=E.useRef(null);if(E.useEffect(()=>{var g;if(!t)return;const f=m=>{if(m.key==="Escape"&&s(),m.key==="Tab"&&l.current){const w=l.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(w.length===0)return;const b=w[0],y=w[w.length-1];!m.shiftKey&&document.activeElement===y?(m.preventDefault(),b.focus()):m.shiftKey&&document.activeElement===b&&(m.preventDefault(),y.focus())}};document.addEventListener("keydown",f);const h=(g=l.current)==null?void 0:g.querySelector("button, [href], input, select, textarea");return h==null||h.focus(),()=>document.removeEventListener("keydown",f)},[t,s]),!t||!e)return null;const c=$6(e.dueDate??e.due_at??null),u=e.events&&e.events.length>0?e.events:B6(e),d=f=>{f.target===f.currentTarget&&s()};return r.jsx("div",{className:"fixed inset-0 z-40 flex justify-end bg-slate-900/30 backdrop-blur-sm",onMouseDown:d,children:r.jsxs("div",{className:"h-full w-full max-w-xl overflow-y-auto bg-white shadow-2xl",ref:l,children:[r.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-5 py-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:e.data_subject}),r.jsx(Fh,{status:e.status})]}),r.jsx("p",{className:"text-sm text-slate-600",children:e.type})]}),r.jsx("button",{type:"button",onClick:s,className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:r.jsx(kt,{className:"h-5 w-5"})})]}),r.jsxs("div",{className:"space-y-4 p-5",children:[i&&r.jsx("p",{className:"text-sm text-slate-500",children:"Loading request details..."}),r.jsxs("div",{className:"grid gap-3 rounded-lg border border-slate-200 bg-slate-50 p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-700",children:[r.jsx(Fp,{className:"h-4 w-4 text-slate-500"}),r.jsx("span",{children:e.email||"No email provided"})]}),e.identifier&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-700",children:[r.jsx(_P,{className:"h-4 w-4 text-slate-500"}),r.jsx("span",{children:e.identifier})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-700",children:[r.jsx(Kw,{className:"h-4 w-4 text-slate-500"}),r.jsx("span",{className:"capitalize",children:e.type})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-700",children:[r.jsx(wP,{className:"h-4 w-4 text-slate-500"}),r.jsxs("span",{children:["Created: ",m0(e.createdAt??e.created_at)]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-700",children:[r.jsx(Bw,{className:"h-4 w-4 text-slate-500"}),r.jsxs("span",{children:["Due: ",V6(e.dueDate??e.due_at)," -"," ",r.jsx("span",{className:c.tone==="ok"?"text-emerald-600":c.tone==="soon"?"text-amber-600":"text-rose-600",children:c.label})]})]})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(MP,{className:"h-4 w-4 text-sky-600"}),r.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Details"})]}),r.jsx("p",{className:"mt-2 whitespace-pre-wrap text-sm text-slate-700",children:e.description||"No additional details provided."})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Is,{className:"h-4 w-4 text-sky-600"}),r.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Activity"})]}),r.jsxs("div",{className:"mt-3 space-y-3",children:[u.map(f=>r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"mt-1 h-2 w-2 rounded-full bg-sky-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-slate-900",children:f.label}),r.jsx("p",{className:"text-xs text-slate-500",children:m0(f.timestamp)})]})]},f.timestamp+f.label)),u.length===0&&r.jsx("p",{className:"text-sm text-slate-500",children:"No activity logged."})]})]})]}),r.jsxs("div",{className:"sticky bottom-0 border-t border-slate-200 bg-white p-4",children:[r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.id?r.jsx(X1,{resourceType:"dsr",resourceId:e.id}):r.jsx("div",{className:"h-9","aria-hidden":!0}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[h0[e.status].length===0&&r.jsx(M,{variant:"outline",disabled:!0,className:"cursor-not-allowed",children:"No further actions"}),h0[e.status].map(f=>r.jsx(M,{variant:"outline",size:"sm",disabled:a||i,onClick:()=>n(f),children:U6[f]||"Update status"},f))]})]}),o&&r.jsx("p",{className:"mt-2 text-sm text-rose-600",children:o})]})]})})},H6=e=>["received","identity_required","in_progress","waiting_for_information","completed","rejected"].includes(e)?e:"received",q6=e=>["access","rectification","erasure","restriction","portability","objection","other"].includes(e)?e:"access",zr=e=>({...e,type:q6(e==null?void 0:e.type),status:H6(e==null?void 0:e.status),dueDate:(e==null?void 0:e.dueDate)??(e==null?void 0:e.due_at)??null,createdAt:(e==null?void 0:e.createdAt)??(e==null?void 0:e.created_at),updatedAt:(e==null?void 0:e.updatedAt)??(e==null?void 0:e.updated_at),is_overdue:(e==null?void 0:e.is_overdue)??(e==null?void 0:e.overdue)??!1}),G6=e=>{if(Array.isArray(e))return e.map(zr);const t=e;return Array.isArray(t==null?void 0:t.items)?t.items.map(zr):Array.isArray(t==null?void 0:t.requests)?t.requests.map(zr):[]},zh=e=>{const t=(e==null?void 0:e.public_key)??(e==null?void 0:e.publicKey)??null;return{enabled:!!((e==null?void 0:e.enabled)??!!t),publicKey:t??null}};async function K6(e){try{const t={};e!=null&&e.status&&(t.status=Array.isArray(e.status)?e.status.join(","):e.status),typeof(e==null?void 0:e.overdue)=="boolean"&&(t.overdue=e.overdue);const s=await z.get("/api/dsr",{params:t});return G6(s.data)}catch(t){if((t==null?void 0:t.status)===404)return[];throw t}}async function Y6(e){const t=await z.get(`/api/dsr/${e}`);return zr(t.data)}async function i2(e){const t=await z.post("/api/dsr",e);return zr(t.data)}async function X6(e,t,s){const n=await z.patch(`/api/dsr/${e}/status`,{status:t,note:s});return zr(n.data)}async function Q6(){const e=await z.get("/api/dsr/public-link");return zh(e.data)}async function J6(){const e=await z.post("/api/dsr/public-link/enable");return zh(e.data)}async function Z6(){const e=await z.post("/api/dsr/public-link/disable");return zh(e.data)}const eF="Something went wrong while loading data. Please try again.",tF=()=>{const[e,t]=x.useState([]),[s,n]=x.useState(!1),[a,o]=x.useState(!1),[i,l]=x.useState(null),[c,u]=x.useState(void 0),[d,f]=x.useState(!1),h=x.useRef(!0);x.useEffect(()=>()=>{h.current=!1},[]);const g=x.useCallback(async()=>{n(!0),l(null);try{const y=await K6({status:c,overdue:d?!0:void 0});h.current&&t(y)}catch(y){h.current&&((y==null?void 0:y.status)===404?(t([]),l(null)):(l(eF),t([])))}finally{h.current&&n(!1)}},[d,c]);x.useEffect(()=>{g()},[g]);const m=x.useCallback(async y=>{const p=await i2(y);return h.current&&t(v=>[p,...v]),p},[]),w=x.useCallback(async(y,p,v)=>{const j=await X6(y,p,v);return h.current&&t(N=>N.map(k=>k.id===j.id?j:k)),j},[]),b=x.useCallback(async y=>{o(!0);try{const p=await Y6(y);return h.current&&t(v=>v.map(j=>j.id===p.id?p:j)),p}finally{h.current&&o(!1)}},[]);return{data:e,loading:s,detailLoading:a,error:i,reload:g,create:m,updateStatus:w,fetchDetail:b,statusFilter:c,setStatusFilter:u,overdueOnly:d,setOverdueOnly:f}},sF=({onSuccess:e}={})=>{const{toast:t}=Vt(),[s,n]=x.useState(!1),[a,o]=x.useState(null);return{createRequest:x.useCallback(async l=>{n(!0),o(null);const c={type:l.request_type,data_subject:l.name.trim(),email:l.email.trim(),description:l.description.trim(),due_at:l.deadline,priority:l.priority};try{const u=await i2(c);return t({title:"Request created successfully"}),await(e==null?void 0:e(u)),u}catch(u){const d=(u==null?void 0:u.message)??"Failed to create request.";throw o(d),new Error(d)}finally{n(!1)}},[e,t]),loading:s,error:a}},nF=[{value:"access",label:"Access Request"},{value:"erasure",label:"Erasure Request"},{value:"rectification",label:"Rectification Request"},{value:"objection",label:"Objection Request"},{value:"restriction",label:"Restriction Request"},{value:"portability",label:"Data Portability Request"},{value:"other",label:"Other"}],rF=[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"}],x0=()=>{const e=new Date;return e.setDate(e.getDate()+30),e.toISOString().split("T")[0]},aF=({open:e,onClose:t,onSubmit:s,submitting:n=!1,error:a})=>{const[o,i]=E.useState({request_type:"access",name:"",email:"",description:"",priority:"medium",deadline:x0()}),[l,c]=E.useState({}),[u,d]=E.useState(null);E.useEffect(()=>{e&&(i({request_type:"access",name:"",email:"",description:"",priority:"medium",deadline:x0()}),c({}),d(null))},[e]);const f=()=>{const g={};return o.request_type||(g.request_type="Request type is required."),o.name.trim()||(g.name="Name is required."),o.email.trim()?/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(o.email.trim())||(g.email="Enter a valid email address."):g.email="Email is required.",c(g),Object.keys(g).length===0},h=async g=>{if(g.preventDefault(),!!f()){d(null);try{await s({...o,name:o.name.trim(),email:o.email.trim(),description:o.description.trim()})}catch(m){d((m==null?void 0:m.message)??"Unable to create request. Please try again.")}}};return e?r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/50 px-4 backdrop-blur-sm",role:"dialog","aria-modal":"true","aria-labelledby":"new-dsr-title",onMouseDown:g=>{g.target===g.currentTarget&&t()},children:r.jsxs("div",{className:"w-full max-w-2xl rounded-xl bg-white shadow-2xl",onMouseDown:g=>g.stopPropagation(),children:[r.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-6 py-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-sky-600",children:"New DSR"}),r.jsx("h2",{id:"new-dsr-title",className:"text-lg font-semibold text-slate-900",children:"Create new request"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Capture the details of a new data subject request."})]}),r.jsx("button",{type:"button",onClick:t,className:"rounded-full p-2 text-slate-500 transition hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:r.jsx(kt,{className:"h-5 w-5"})})]}),r.jsxs("form",{className:"space-y-4 px-6 py-5",onSubmit:h,children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsxs("span",{className:"font-medium",children:["Request Type ",r.jsx("span",{className:"text-rose-600",children:"*"})]}),r.jsx("select",{className:"w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-200 disabled:opacity-60",value:o.request_type,onChange:g=>i(m=>({...m,request_type:g.target.value})),disabled:n,required:!0,children:nF.map(g=>r.jsx("option",{value:g.value,children:g.label},g.value))}),l.request_type&&r.jsx("p",{className:"text-xs text-rose-600",children:l.request_type})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsxs("span",{className:"font-medium",children:["Priority ",r.jsx("span",{className:"text-rose-600",children:"*"})]}),r.jsx("select",{className:"w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-200 disabled:opacity-60",value:o.priority,onChange:g=>i(m=>({...m,priority:g.target.value})),disabled:n,required:!0,children:rF.map(g=>r.jsx("option",{value:g.value,children:g.label},g.value))})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsxs("span",{className:"font-medium",children:["Data Subject Name ",r.jsx("span",{className:"text-rose-600",children:"*"})]}),r.jsx("input",{type:"text",className:"w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-200 disabled:opacity-60",value:o.name,onChange:g=>i(m=>({...m,name:g.target.value})),disabled:n,placeholder:"Full name of the data subject",required:!0}),l.name&&r.jsx("p",{className:"text-xs text-rose-600",children:l.name})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsxs("span",{className:"font-medium",children:["Email ",r.jsx("span",{className:"text-rose-600",children:"*"})]}),r.jsx("input",{type:"email",className:"w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-200 disabled:opacity-60",value:o.email,onChange:g=>i(m=>({...m,email:g.target.value})),disabled:n,placeholder:"contact@example.com",required:!0}),l.email&&r.jsx("p",{className:"text-xs text-rose-600",children:l.email})]})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Description"}),r.jsx("textarea",{className:"min-h-[110px] w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-200 disabled:opacity-60",value:o.description,onChange:g=>i(m=>({...m,description:g.target.value})),disabled:n,placeholder:"Add any context provided by the requester."})]}),r.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Deadline (30 days)"}),r.jsx("input",{type:"date",value:o.deadline,readOnly:!0,className:"w-full cursor-not-allowed rounded-md border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 shadow-sm"})]})}),(u||a)&&r.jsx("div",{className:"rounded-md border border-rose-200 bg-rose-50 px-3 py-2 text-sm text-rose-700",children:u||a}),r.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2",children:[r.jsx(M,{type:"button",variant:"outline",onClick:t,disabled:n,children:"Cancel"}),r.jsxs(M,{type:"submit",disabled:n,children:[n&&r.jsx(Rs,{className:"mr-2 h-4 w-4 animate-spin"}),n?"Creating...":"Create Request"]})]})]})]})}):null},g0={enabled:!1,publicKey:null},oF=()=>{const[e,t]=x.useState(g0),[s,n]=x.useState(!0),[a,o]=x.useState(!1),[i,l]=x.useState(null),c=x.useCallback(async()=>{n(!0),l(null);try{const f=await Q6();t(f)}catch(f){l((f==null?void 0:f.message)??"Failed to load public DSR link."),t(g0)}finally{n(!1)}},[]);x.useEffect(()=>{c()},[c]);const u=x.useCallback(async()=>{o(!0),l(null);try{const f=await J6();return t(f),f}catch(f){const h=(f==null?void 0:f.message)??"Failed to enable public DSR form.";throw l(h),new Error(h)}finally{o(!1)}},[]),d=x.useCallback(async()=>{o(!0),l(null);try{const f=await Z6();return t(f),f}catch(f){const h=(f==null?void 0:f.message)??"Failed to disable public DSR form.";throw l(h),new Error(h)}finally{o(!1)}},[]);return{link:e,loading:s,saving:a,error:i,reload:c,enable:u,disable:d}},iF=e=>{var s;if(!e)return"";const t=typeof window<"u"&&((s=window.location)!=null&&s.origin)?window.location.origin:"";return t?`${t}/public/dsr/${e}`:`/public/dsr/${e}`},lF=()=>{const{toast:e}=Vt(),{link:t,loading:s,saving:n,error:a,enable:o,disable:i}=oF(),[l,c]=E.useState(null),u=E.useMemo(()=>iF(t.publicKey),[t.publicKey]),d=async h=>{c(null);try{h?(await o(),e({title:"Public DSR form enabled",description:"Share the link below with data subjects to collect requests."})):(await i(),e({title:"Public DSR form disabled"}))}catch(g){const m=(g==null?void 0:g.message)??"Unable to update public DSR settings.";c(m)}},f=async()=>{if(u)try{await navigator.clipboard.writeText(u),e({title:"Public DSR link copied"})}catch{e({variant:"destructive",title:"Unable to copy link",description:"Please copy the URL manually."})}};return r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[r.jsxs("div",{className:"flex items-start justify-between gap-3",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-sky-600",children:"Public DSR Form"}),r.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Share a secure request form"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Allow individuals to submit GDPR data subject requests without logging in. Use the toggle to generate or disable your public form link."})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[n&&r.jsx(Rs,{className:"h-4 w-4 animate-spin text-sky-600","aria-hidden":!0}),r.jsx(ma,{checked:t.enabled,onCheckedChange:d,disabled:s||n,"aria-label":"Enable public DSR form"})]})]}),(a||l)&&r.jsx("div",{className:"mt-3 rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-sm text-rose-700",children:l||a}),s&&!t.enabled?r.jsx("p",{className:"mt-3 text-sm text-slate-600",children:"Loading public link status..."}):null,t.enabled&&r.jsxs("div",{className:"mt-4 space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase tracking-wide text-slate-500",children:[r.jsx(Hw,{className:"h-4 w-4"}),r.jsx("span",{children:"Public link"})]}),r.jsxs("div",{className:"flex flex-col gap-2 md:flex-row",children:[r.jsx(Y,{readOnly:!0,value:u,className:"flex-1 bg-slate-50"}),r.jsxs(M,{type:"button",variant:"outline",onClick:f,disabled:!u||n,children:[r.jsx(CP,{className:"mr-2 h-4 w-4"}),"Copy link"]})]}),r.jsx("p",{className:"text-xs text-slate-600",children:"Share this link externally so individuals can submit GDPR requests directly into AURA-GDPR."})]})]})},y0=e=>{if(!e)return"N/A";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},cF=e=>e?e.slice(0,1).toUpperCase()+e.slice(1):"N/A",uF=["received","identity_required","in_progress","waiting_for_information"],dF=e=>{if(!e)return"";const t=new Date,s=new Date(e);if(Number.isNaN(s.getTime()))return"";const n=s.getTime()-t.getTime(),a=Math.floor(n/(1e3*60*60*24));return a<0?"text-rose-600":a<=3?"text-amber-600":""},fF=()=>{const{data:e,loading:t,detailLoading:s,error:n,reload:a,updateStatus:o,fetchDetail:i,setStatusFilter:l,overdueOnly:c,setOverdueOnly:u}=tF(),{toast:d}=Vt(),{demoMode:f}=Fs(),{markComplete:h}=Qp(),[g,m]=E.useState(!1),[w,b]=E.useState("all"),[y,p]=E.useState(null),[v,j]=E.useState(null),[N,k]=E.useState(!1),[P,S]=E.useState(!1),[R,T]=E.useState(null),F=e.length>0,{createRequest:O,loading:W,error:U}=sF({onSuccess:async()=>{m(!1),await a(),h("firstDsr").catch(()=>{})}});E.useEffect(()=>{l(w==="all"?void 0:w==="open"?uF:w)},[l,w]);const q=e,A=L=>{p(L),j(null),L.id&&i(L.id).then(B=>p(B)).catch(B=>j((B==null?void 0:B.message)??"Failed to load request details."))},V=async(L,B,re)=>{const se=re??y;if(se!=null&&se.id&&L!==se.status){k(!0),j(null);try{const fe=await o(se.id,L,B);(y==null?void 0:y.id)===fe.id&&p(fe),await a(),d({title:"Status updated",description:"Status updated successfully."})}catch(fe){j((fe==null?void 0:fe.message)??"Failed to update status. Please try again."),d({variant:"destructive",title:"Failed to update status",description:(fe==null?void 0:fe.message)??"Please try again."})}finally{k(!1)}}},D=async(L,B)=>{!(R!=null&&R.id)||L===R.status||(await V(L,B,R),S(!1),T(null))},C=()=>{p(null),j(null)},_=async L=>{try{await O(L)}catch(B){d({variant:"destructive",title:"Failed to create request",description:(B==null?void 0:B.message)??"Please try again."})}};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsx("div",{className:"rounded-xl border border-slate-200 bg-white/95 p-6 shadow-sm",children:r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-foreground",children:"Data Subject Requests"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Track and respond to Data Subject Requests (DSR) end-to-end."}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Use this page to register new requests, manage deadlines, and keep a full history of actions."})]})}),r.jsx(Q1,{title:"Data Subject Requests",description:"Track and manage GDPR data subject requests such as access, erasure, rectification, and objection."}),r.jsx(lF,{}),r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white/95 p-6 shadow-sm",children:[r.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"DSR guidance"}),r.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-4 text-sm text-slate-700",children:[r.jsx("li",{children:"A Data Subject Request lets an individual exercise their privacy rights."}),r.jsx("li",{children:"Workflow: Received -> Verification -> Investigation -> Completed."}),r.jsx("li",{children:"30-day rule: respond and close within 30 days unless extended."}),r.jsx("li",{children:"Create a new DSR with the New Request button and capture the requester details."}),r.jsx("li",{children:"Results are stored in this list and inside each request timeline."}),r.jsx("li",{children:"Export a PDF from the request drawer to share evidence."})]})]}),r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Data Subject Requests"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Monitor incoming requests and keep deadlines on track."})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(M,{variant:"outline",size:"sm",onClick:a,disabled:t,children:[r.jsx(fc,{className:"mr-2 h-4 w-4"}),"Refresh"]}),r.jsxs(M,{size:"sm",onClick:()=>m(!0),disabled:f,children:[r.jsx(Os,{className:"mr-2 h-4 w-4"}),"New Request"]})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-4 rounded-xl border border-slate-200 bg-white/95 p-4 shadow-sm",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-white px-3 py-1 text-sm text-slate-700",children:[r.jsx(Gw,{className:"h-4 w-4 text-slate-500"}),"Filters"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"text-sm font-semibold text-slate-800",htmlFor:"dsr-status-filter",children:"Status"}),r.jsxs("select",{id:"dsr-status-filter",value:w,onChange:L=>b(L.target.value),className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",children:[r.jsx("option",{value:"all",children:"All statuses"}),r.jsx("option",{value:"received",children:"Received"}),r.jsx("option",{value:"identity_required",children:"Identity verification"}),r.jsx("option",{value:"in_progress",children:"In progress"}),r.jsx("option",{value:"open",children:"Open"}),r.jsx("option",{value:"completed",children:"Completed"}),r.jsx("option",{value:"rejected",children:"Rejected"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ma,{id:"dsr-overdue-only",checked:c,onCheckedChange:u}),r.jsx("label",{htmlFor:"dsr-overdue-only",className:"text-sm text-slate-800",children:"Overdue only"})]})]}),f&&r.jsx("div",{className:"rounded-lg border border-amber-200 bg-amber-50 px-3 py-2 text-xs text-amber-700",children:"Demo mode - creation and updates are disabled."}),r.jsxs("div",{className:"space-y-3 rounded-xl border border-slate-200 bg-white/95 p-4 shadow-sm",children:[t&&r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading requests..."}),n&&r.jsx(Se,{title:"Unable to load requests",description:n,actionLabel:"Retry",onAction:a,className:"bg-rose-50 border-rose-200"}),!t&&!n&&q.length===0&&r.jsx(Se,{title:F?"No requests match these filters":"No data subject requests yet",description:F?"Adjust filters or add a new request to keep this list moving.":"When individuals submit requests, they will appear here. You can also create internal requests manually.",actionLabel:"New request",onAction:()=>m(!0)}),!t&&q.length>0&&r.jsx("div",{className:"overflow-auto",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b bg-slate-50 text-left text-slate-500",children:[r.jsx("th",{className:"py-2 pr-4 font-semibold",children:"Request"}),r.jsx("th",{className:"py-2 pr-4 font-semibold",children:"Data subject"}),r.jsx("th",{className:"py-2 pr-4 font-semibold",children:"Email"}),r.jsx("th",{className:"py-2 pr-4 font-semibold",children:"Status"}),r.jsx("th",{className:"py-2 pr-4 font-semibold",children:"Received"}),r.jsx("th",{className:"py-2 pr-4 font-semibold",children:"Due date"}),r.jsx("th",{className:"py-2 pr-4 font-semibold",children:"Identifier"}),r.jsx("th",{className:"py-2 pr-4 font-semibold text-right",children:"Actions"})]})}),r.jsx("tbody",{children:q.map(L=>r.jsxs("tr",{className:"cursor-pointer border-b last:border-0 hover:bg-slate-50 focus-within:bg-slate-50",tabIndex:0,role:"button",onClick:()=>A(L),onKeyDown:B=>{(B.key==="Enter"||B.key===" ")&&(B.preventDefault(),A(L))},children:[r.jsx("td",{className:"py-3 pr-4 font-semibold text-foreground",children:cF(L.type)}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:L.data_subject}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:L.email||"N/A"}),r.jsx("td",{className:"py-3 pr-4",children:r.jsx(Fh,{status:L.status})}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:y0(L.received_at??L.createdAt)}),r.jsx("td",{className:`py-3 pr-4 text-foreground ${dF(L.dueDate??L.due_at)}`,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:y0(L.dueDate??L.due_at)}),L.is_overdue&&L.status!=="completed"&&r.jsx("span",{className:"inline-flex items-center rounded-full border border-rose-200 bg-rose-50 px-2 py-0.5 text-xs font-semibold text-rose-700",children:"Overdue"})]})}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:L.identifier||"N/A"}),r.jsx("td",{className:"py-3 pr-4 text-right",children:r.jsx(M,{variant:"outline",size:"sm",onClick:B=>{B.stopPropagation(),T(L),S(!0)},disabled:N,children:"Change status"})})]},L.id??`${L.data_subject}-${L.due_at??""}`))})]})})]})]}),r.jsx(W6,{dsr:y,isOpen:!!y,onClose:C,onStatusChange:V,isUpdating:N,error:v,isLoading:s}),r.jsx(z6,{open:P&&!!R,currentStatus:(R==null?void 0:R.status)??"received",onClose:()=>{S(!1),T(null)},onSubmit:D,isSubmitting:N}),r.jsx(aF,{open:g,onClose:()=>m(!1),onSubmit:_,submitting:W,error:U})]})},$u=["access","rectification","erasure","restriction","portability","objection"],pF=()=>{const[e,t]=x.useState(""),[s,n]=x.useState($u[0]),[a,o]=x.useState(""),[i,l]=x.useState(!1),[c,u]=x.useState(null),[d,f]=x.useState(null),h=async m=>{var w;m.preventDefault(),l(!0),u(null);try{const y=((w=(await z.post("/api/dsr",{email:e,type:s,description:a})).data)==null?void 0:w.id)??"N/A";f(y)}catch(b){u((b==null?void 0:b.message)??"Failed to submit request")}finally{l(!1)}},g=()=>{t(""),n($u[0]),o(""),f(null),u(null)};return r.jsxs("div",{className:"space-y-6 max-w-3xl mx-auto p-4",children:[r.jsx(et,{title:"Data Subject Request Portal",description:"Submit a GDPR request (access, rectification, erasure, restriction, portability, objection)."}),r.jsx(te,{children:r.jsx(ae,{className:"p-6 space-y-4",children:d?r.jsxs("div",{className:"space-y-3",children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Request submitted"}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Your ticket ID is ",r.jsx("span",{className:"font-semibold",children:d}),". We will respond within 30 days."]}),r.jsx(M,{onClick:g,children:"Submit another request"})]}):r.jsxs("form",{className:"space-y-4",onSubmit:h,children:[c&&r.jsxs("div",{className:"text-sm text-destructive",children:["Error: ",c]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Email"}),r.jsx(Y,{type:"email",value:e,onChange:m=>t(m.target.value),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Request type"}),r.jsx("select",{value:s,onChange:m=>n(m.target.value),className:"w-full rounded-md border border-border bg-background px-3 py-2 text-sm",children:$u.map(m=>r.jsx("option",{value:m,children:m},m))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Description"}),r.jsx("textarea",{value:a,onChange:m=>o(m.target.value),className:"w-full rounded-md border border-border bg-background px-3 py-2 text-sm min-h-[120px]",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Attachments"}),r.jsx("input",{type:"file",disabled:!0,className:"text-sm text-muted-foreground"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"File uploads coming soon."})]}),r.jsx(M,{type:"submit",disabled:i,children:i?"Submitting":"Submit request"})]})})})]})},hF={dsr_deadline:"DSR",policy_expiring:"Policy",dpia_required:"DPIA",incident_alert:"Incident",ai_recommendation:"AI",system_health:"System"},mF={dsr_deadline:"bg-amber-50 text-amber-700 border-amber-200",policy_expiring:"bg-sky-50 text-sky-700 border-sky-200",dpia_required:"bg-emerald-50 text-emerald-700 border-emerald-200",incident_alert:"bg-rose-50 text-rose-700 border-rose-200",ai_recommendation:"bg-purple-50 text-purple-700 border-purple-200",system_health:"bg-slate-100 text-slate-700 border-slate-200"},xF=({type:e})=>r.jsx("span",{className:`inline-flex items-center rounded-full border px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide ${mF[e]}`,children:hF[e]}),gF={dsr_deadline:r.jsx(jo,{className:"h-4 w-4 text-amber-600"}),policy_expiring:r.jsx(Is,{className:"h-4 w-4 text-amber-600"}),dpia_required:r.jsx(ua,{className:"h-4 w-4 text-rose-600"}),incident_alert:r.jsx(TP,{className:"h-4 w-4 text-rose-600"}),ai_recommendation:r.jsx(gt,{className:"h-4 w-4 text-purple-600"}),system_health:r.jsx(bo,{className:"h-4 w-4 text-sky-600"})},yF={info:"bg-sky-500",warning:"bg-amber-500",critical:"bg-rose-500"},vF=e=>{const t=new Date(e),s=Date.now(),n=Math.max(0,s-t.getTime()),a=Math.floor(n/6e4);if(a<1)return"just now";if(a<60)return`${a}m ago`;const o=Math.floor(a/60);return o<24?`${o}h ago`:`${Math.floor(o/24)}d ago`},wF=({notification:e,onDelete:t,onMarkRead:s})=>{const{markAsRead:n}=Oh(),a=hs(),o=async()=>{await n(e.id),s==null||s(e.id),e.link&&a(e.link)},i=c=>{c.stopPropagation(),t==null||t(e.id)},l=async c=>{c.stopPropagation(),await n(e.id),s==null||s(e.id)};return r.jsxs("div",{className:`flex cursor-pointer items-start gap-3 rounded-lg border border-slate-200 bg-white px-4 py-3 shadow-sm transition hover:bg-slate-50 focus-within:bg-slate-50 ${e.read?"opacity-90":""}`,tabIndex:0,role:"button",onClick:o,onKeyDown:c=>{(c.key==="Enter"||c.key===" ")&&(c.preventDefault(),o())},children:[r.jsxs("div",{className:"relative",children:[gF[e.type],!e.read&&r.jsx("span",{className:"absolute -right-1 -top-1 h-2 w-2 rounded-full bg-sky-500"})]}),r.jsxs("div",{className:"flex-1 space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(xF,{type:e.type}),r.jsx("span",{className:`h-2 w-2 rounded-full ${yF[e.severity]}`}),r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:e.title})]}),r.jsx("p",{className:"text-sm text-slate-700",children:e.description}),r.jsx("p",{className:"text-xs text-slate-500",children:vF(e.createdAt)})]}),r.jsxs("div",{className:"flex flex-col items-end gap-2 text-xs text-slate-600",children:[e.read?null:r.jsx("button",{className:"rounded-md bg-slate-100 px-2 py-1 hover:bg-slate-200",onClick:l,children:"Mark read"}),r.jsx("button",{className:"text-rose-600 hover:underline",onClick:i,children:"Delete"})]})]})},bF=({notifications:e,onDelete:t,onMarkRead:s})=>e.length===0?r.jsx("p",{className:"text-sm text-muted-foreground",children:"You are all caught up. No notifications to show."}):r.jsx("div",{className:"space-y-3",children:e.map(n=>r.jsx(wF,{notification:n,onDelete:t,onMarkRead:s},n.id))}),jF=()=>{const{notifications:e,markAllAsRead:t,markAsRead:s,remove:n,isLoading:a,isError:o}=Oh(),i=async l=>{window.confirm("Delete this notification?")&&await n(l)};return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsx(et,{title:"Notifications",subtitle:"Review all alerts across modules and clear your inbox.",actions:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(M,{variant:"outline",size:"sm",onClick:t,children:[r.jsx(jo,{className:"mr-2 h-4 w-4"}),"Mark all as read"]}),r.jsxs(M,{variant:"ghost",size:"sm",onClick:t,children:[r.jsx(Nn,{className:"mr-2 h-4 w-4"}),"Refresh"]})]})}),r.jsx(Zt,{title:"What you can do here",subtitle:"Stay on top of compliance alerts.",bullets:["Mark items as read once actioned.","Delete noise to keep the signal clean.","Jump into linked modules directly from notifications."]}),r.jsxs(ce,{title:"Inbox",subtitle:"Unread notifications appear first.",children:[a&&r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading notifications..."}),o&&r.jsx("p",{className:"text-sm text-red-600",children:"Failed to load notifications."}),!a&&!o&&e.length===0?r.jsx(Se,{title:"No notifications yet",description:"You are all caught up.",icon:r.jsx(jo,{className:"h-5 w-5"})}):null,!a&&!o&&e.length>0?r.jsx(bF,{notifications:e,onDelete:i,onMarkRead:s}):null]})]})},NF=e=>e>=80?"bg-emerald-50 text-emerald-700 border-emerald-200":e>=60?"bg-amber-50 text-amber-700 border-amber-200":"bg-rose-50 text-rose-700 border-rose-200",SF=e=>{if(!e)return"";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},kF=({overallScore:e,lastRunAt:t})=>r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:[r.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Overall GDPR audit score"}),r.jsxs("div",{className:"mt-2 flex items-end gap-3",children:[r.jsx("p",{className:"text-4xl font-semibold text-slate-900",children:e}),r.jsx("span",{className:`rounded-full border px-3 py-1 text-xs font-semibold ${NF(e)}`,children:e>=80?"Good":e>=60?"Needs attention":"Critical"})]}),r.jsxs("p",{className:"mt-2 text-sm text-slate-600",children:["Latest run: ",SF(t)]})]}),CF={good:"bg-emerald-50 text-emerald-700 border-emerald-200",needs_attention:"bg-amber-50 text-amber-700 border-amber-200",critical:"bg-rose-50 text-rose-700 border-rose-200"},AF=({area:e})=>r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:e.name}),r.jsxs("p",{className:"text-xs text-slate-500",children:["Recommendations: ",e.recommendationsCount]})]}),r.jsx("span",{className:`rounded-full border px-3 py-1 text-xs font-semibold ${CF[e.status]}`,children:e.status==="good"?"Good":e.status==="critical"?"Critical":"Needs attention"})]}),r.jsxs("div",{className:"mt-3",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm font-semibold text-slate-900",children:[r.jsx("span",{children:"Score"}),r.jsx("span",{children:e.score})]}),r.jsx("div",{className:"mt-2 h-2 w-full rounded-full bg-slate-100",children:r.jsx("div",{className:`h-2 rounded-full ${e.score>=80?"bg-emerald-500":e.score>=60?"bg-amber-500":"bg-rose-500"}`,style:{width:`${e.score}%`}})})]}),r.jsx("p",{className:"mt-3 text-sm text-slate-700",children:e.summary})]}),PF={dsr:"Data subject requests",policies:"Policies",documents:"Documents",dpia:"DPIA",ropa:"ROPA",incidents:"Incidents",security_measures:"Security measures"},EF={low:"bg-slate-100 text-slate-700 border-slate-200",medium:"bg-amber-50 text-amber-700 border-amber-200",high:"bg-rose-50 text-rose-700 border-rose-200"},RF=({recommendations:e})=>e.length===0?r.jsx("p",{className:"text-sm text-muted-foreground",children:"No recommendations. You are all set."}):r.jsx("div",{className:"space-y-3",children:e.map(t=>r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4 shadow-sm",children:[r.jsx("div",{className:"flex items-center justify-between gap-2",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"rounded-full border border-slate-200 bg-slate-50 px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide text-slate-700",children:PF[t.area]}),r.jsxs("span",{className:`rounded-full border px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide ${EF[t.severity]}`,children:[t.severity," priority"]})]})}),r.jsx("p",{className:"mt-2 text-sm font-semibold text-slate-900",children:t.title}),r.jsx("p",{className:"text-sm text-slate-700",children:t.description}),t.estimatedImpact&&r.jsxs("p",{className:"text-xs text-slate-500",children:["Impact: ",t.estimatedImpact]})]},t.id))}),TF=e=>{const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},DF=(e,t)=>{const s=new Date(e),n=new Date(t);return Number.isNaN(s.getTime())||Number.isNaN(n.getTime())?"":`${(Math.max(0,n.getTime()-s.getTime())/1e3).toFixed(1)}s`},_F=({history:e})=>e.length===0?r.jsx("p",{className:"text-sm text-muted-foreground",children:"No audit runs yet."}):r.jsx("div",{className:"overflow-auto rounded-xl border border-slate-200 bg-white shadow-sm",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b bg-slate-50 text-left text-slate-500",children:[r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Date"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Overall score"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Duration"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Recommendations"})]})}),r.jsx("tbody",{children:e.slice(0,8).map(t=>r.jsxs("tr",{className:"border-b last:border-0",children:[r.jsx("td",{className:"py-3 pr-4 text-foreground",children:TF(t.createdAt)}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:t.overallScore}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:DF(t.createdAt,t.completedAt)}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:t.recommendations.length})]},t.id))})]})}),v0=({onRun:e,isRunning:t})=>r.jsxs(M,{onClick:e,disabled:t,className:"inline-flex items-center gap-2",children:[t?r.jsx(Rs,{className:"h-4 w-4 animate-spin"}):r.jsx(gt,{className:"h-4 w-4"}),t?"Running audit":"Run AI audit"]}),w0=e=>["dsr","policies","documents","dpia","ropa","incidents","security_measures"].includes(e)?e:"policies",MF=e=>["good","needs_attention","critical"].includes(e)?e:"needs_attention",LF=e=>["low","medium","high"].includes(e)?e:"medium",Za=e=>({id:(e==null?void 0:e.id)??(e==null?void 0:e._id)??"",createdAt:(e==null?void 0:e.createdAt)??(e==null?void 0:e.created_at)??"",completedAt:(e==null?void 0:e.completedAt)??(e==null?void 0:e.completed_at)??(e==null?void 0:e.finished_at)??"",overallScore:(e==null?void 0:e.overallScore)??(e==null?void 0:e.score)??0,areas:Array.isArray(e==null?void 0:e.areas)?e.areas.map(t=>({key:w0((t==null?void 0:t.key)??(t==null?void 0:t.id)),name:(t==null?void 0:t.name)??"",score:(t==null?void 0:t.score)??0,status:MF(t==null?void 0:t.status),summary:(t==null?void 0:t.summary)??"",recommendationsCount:(t==null?void 0:t.recommendationsCount)??(t==null?void 0:t.recommendations_count)??0})):[],recommendations:Array.isArray(e==null?void 0:e.recommendations)?e.recommendations.map(t=>({id:(t==null?void 0:t.id)??(t==null?void 0:t._id)??"",area:w0(t==null?void 0:t.area),title:(t==null?void 0:t.title)??"",description:(t==null?void 0:t.description)??"",severity:LF(t==null?void 0:t.severity),estimatedImpact:(t==null?void 0:t.estimatedImpact)??(t==null?void 0:t.estimated_impact)??void 0})):[]}),IF=e=>{if(Array.isArray(e))return e.map(Za);const t=e;return Array.isArray(t==null?void 0:t.items)?t.items.map(Za):Array.isArray(t==null?void 0:t.history)?t.history.map(Za):[]};async function OF(){const e=await z.get("/ai/audit/latest");return e.data?Za(e.data):null}async function FF(){const e=await z.get("/ai/audit/history");return IF(e.data)}async function zF(){const e=await z.post("/ai/audit/run");return Za(e.data)}function UF(){const[e,t]=x.useState(null),[s,n]=x.useState([]),[a,o]=x.useState(!1),[i,l]=x.useState(!1),[c,u]=x.useState(!1),d=x.useRef(!0);x.useEffect(()=>()=>{d.current=!1},[]);const f=x.useCallback(async()=>{l(!0),u(!1);try{const[g,m]=await Promise.all([OF(),FF()]);if(!d.current)return;g&&t(g),n(m)}catch{d.current&&u(!0)}finally{d.current&&l(!1)}},[]);x.useEffect(()=>{f()},[f]);const h=x.useCallback(async()=>{o(!0),u(!1);try{const g=await zF();if(!d.current)return;t(g),n(m=>[g,...m])}catch{d.current&&u(!0)}finally{d.current&&o(!1)}},[]);return{latestRun:e,history:s,isRunning:a,isLoading:i,isError:c,runAudit:h}}const VF=()=>{const{latestRun:e,history:t,isRunning:s,isLoading:n,isError:a,runAudit:o}=UF();return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-slate-900",children:"AI Audit Engine"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Get an AI-generated overview of your GDPR compliance and prioritized recommendations."})]}),r.jsx(v0,{onRun:o,isRunning:s})]}),n&&r.jsxs("div",{className:"space-y-3 rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:[r.jsx(ie,{className:"h-6 w-48"}),r.jsx(ie,{className:"h-4 w-72"}),r.jsx("div",{className:"grid gap-3 md:grid-cols-3",children:Array.from({length:3}).map((i,l)=>r.jsx(ie,{className:"h-24 w-full rounded-xl"},l))})]}),a&&r.jsx("div",{className:"rounded-xl border border-rose-200 bg-rose-50 p-6 text-sm text-rose-700",children:"Failed to load AI audit data. Please try again."}),!n&&!e?r.jsxs("div",{className:"rounded-xl border border-dashed border-slate-300 bg-slate-50 p-6 text-center text-sm text-slate-600",children:[r.jsx("p",{className:"font-semibold text-slate-800",children:"No audit run yet"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Run your first AI audit to see compliance insights."}),r.jsx("div",{className:"mt-4 flex justify-center",children:r.jsx(v0,{onRun:o,isRunning:s})})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsx("div",{className:"md:col-span-1",children:r.jsx(kF,{overallScore:e.overallScore,lastRunAt:e.completedAt})}),r.jsxs("div",{className:"md:col-span-2 rounded-xl border border-slate-200 bg-white p-4 shadow-sm text-sm text-slate-700",children:[r.jsx("p",{className:"font-semibold text-slate-900",children:"Latest run"}),r.jsxs("p",{children:["Completed: ",new Date(e.completedAt).toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})]}),r.jsx("p",{className:"text-slate-600",children:"The audit reviews key GDPR areas including DSR handling, policies, DPIA, ROPA, incidents, and security measures."})]})]}),r.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:e.areas.map(i=>r.jsx(AF,{area:i},i.key))}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{className:"space-y-3 rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"AI recommendations"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Prioritized actions to improve compliance."})]})}),r.jsx(RF,{recommendations:e.recommendations})]}),r.jsxs("div",{className:"space-y-3 rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Recent audit runs"}),r.jsx("p",{className:"text-sm text-slate-600",children:"History of recent AI audits."})]})}),r.jsx(_F,{history:t})]})]})]})]})},$F=({label:e="Thinking with AURA AI..."})=>r.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:[r.jsx(Rs,{className:"h-4 w-4 animate-spin text-sky-600"}),e]}),BF=({message:e})=>e?r.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-sm text-rose-700",children:[r.jsx(Is,{className:"h-4 w-4"}),r.jsx("span",{children:e})]}):null,WF=({sources:e})=>!e||e.length===0?null:r.jsxs("div",{className:"space-y-2 rounded-lg border border-slate-200 bg-white p-4 shadow-sm",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-slate-900",children:[r.jsx(Vw,{className:"h-4 w-4 text-sky-600"}),"Sources"]}),r.jsx("div",{className:"space-y-3",children:e.map(t=>r.jsxs("div",{className:"rounded-md border border-slate-100 bg-slate-50 p-3",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:t.title}),t.snippet&&r.jsx("p",{className:"text-sm text-slate-600",children:t.snippet}),t.url&&r.jsx("a",{href:t.url,target:"_blank",rel:"noreferrer",className:"text-xs text-sky-700 underline",children:"View source"})]},t.id))})]}),HF=e=>typeof e=="string"&&["good","needs_attention","critical"].includes(e)?e:"needs_attention",qF=e=>{if(typeof e!="object"||!e)return null;const t=e,s=typeof t.id=="string"?t.id:typeof t._id=="string"?t._id:void 0;return s?{id:s,name:typeof t.name=="string"?t.name:"Area",score:typeof t.score=="number"?t.score:typeof t.score=="string"&&Number(t.score)||0,status:HF(t.status),summary:typeof t.summary=="string"?t.summary:""}:null},GF=e=>Array.isArray(e)?e.filter(t=>typeof t=="string"):typeof e=="string"?e.split(/\n|;/).map(t=>t.trim()).filter(Boolean):[];async function KF(){try{const t=(await z.post("/ai/audit/run-v2")).data??{},s=Array.isArray(t.areas)?t.areas:Array.isArray(t.area_results)?t.area_results:[];return{overallScore:typeof t.overallScore=="number"?t.overallScore:typeof t.score=="number"?t.score:0,areas:s.map(qF).filter(n=>!!n),recommendations:GF(t.recommendations),sources:Xo(t.sources??[])}}catch(e){throw new Error(Qo(e))}}function YF(){const[e,t]=x.useState(null),[s,n]=x.useState(!1),[a,o]=x.useState(null),i=x.useCallback(async()=>{n(!0),o(null);try{const l=await KF();return t(l),l}catch(l){const c=l instanceof Error?l.message:"Failed to run AI audit v2";throw o(c),l}finally{n(!1)}},[]);return{result:e,loading:s,error:a,run:i}}const XF=e=>e>=80?"text-emerald-700":e>=60?"text-amber-700":"text-rose-700",QF=()=>{const{result:e,loading:t,error:s,run:n}=YF();return r.jsxs("div",{className:"space-y-4 rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsxs("p",{className:"flex items-center gap-2 text-sm font-semibold text-slate-900",children:[r.jsx(gt,{className:"h-4 w-4 text-sky-600"})," AI Audit v2"]}),r.jsx("p",{className:"text-xs text-slate-500",children:"Run a full AI audit across policies, DPIAs, ROPA, and incidents."})]}),r.jsx(M,{onClick:n,disabled:t,children:t?"Thinking...":"Run AI Audit"})]}),t&&r.jsx($F,{label:"Running AI audit..."}),s&&r.jsx(BF,{message:s}),e&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-baseline gap-3 rounded-lg border border-slate-100 bg-slate-50 p-4",children:[r.jsx(DP,{className:"h-10 w-10 text-sky-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Overall score"}),r.jsx("p",{className:`text-3xl font-bold ${XF(e.overallScore)}`,children:e.overallScore})]})]}),r.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[e.areas.map(a=>r.jsxs("div",{className:"space-y-2 rounded-lg border border-slate-200 bg-white p-4 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:a.name}),r.jsxs("span",{className:"text-xs text-slate-500",children:["Score: ",a.score]})]}),r.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:a.status.replace("_"," ")}),r.jsx("p",{className:"text-sm text-slate-700",children:a.summary})]},a.id)),e.areas.length===0&&r.jsx("p",{className:"text-sm text-slate-500",children:"No area details returned."})]}),e.recommendations.length>0&&r.jsxs("div",{className:"space-y-2 rounded-lg border border-slate-200 bg-white p-4 shadow-sm",children:[r.jsxs("p",{className:"flex items-center gap-2 text-sm font-semibold text-slate-900",children:[r.jsx(OP,{className:"h-4 w-4 text-sky-600"})," Recommendations"]}),r.jsx("ul",{className:"list-disc space-y-1 pl-5 text-sm text-slate-700",children:e.recommendations.map((a,o)=>r.jsx("li",{children:a},`${a}-${o}`))})]}),r.jsx(WF,{sources:e.sources})]})]})},JF=()=>r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-slate-900",children:"AI Audit Engine v2"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Run the next-generation AI audit with contextual recommendations and source links."})]}),r.jsx(QF,{})]}),ZF=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsx(et,{title:"DSR Portal Settings",description:"Configure public DSR portal options (placeholder)."}),r.jsx(te,{children:r.jsx(ae,{className:"p-4 text-sm text-muted-foreground",children:"Portal settings will be available here. Configure branding, allowed request types, and notification preferences."})})]}),Ta=({label:e,description:t,checked:s,onChange:n})=>r.jsxs("div",{className:"flex items-center justify-between rounded-md border border-border p-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:e}),t&&r.jsx("p",{className:"text-xs text-muted-foreground",children:t})]}),r.jsx(ma,{checked:s,onCheckedChange:n,"aria-label":e})]}),e7=({open:e,onClose:t})=>e?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 bg-black/40 z-40",onClick:t}),r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"w-full max-w-2xl bg-background rounded-lg shadow-2xl border border-border",children:[r.jsxs("div",{className:"flex items-center justify-between border-b border-border px-4 py-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase text-muted-foreground",children:"Preview"}),r.jsx("h3",{className:"text-lg font-semibold",children:"Email preview"})]}),r.jsx(M,{variant:"ghost",size:"icon",onClick:t,"aria-label":"Close preview",children:r.jsx(kt,{className:"h-5 w-5"})})]}),r.jsx("div",{className:"p-4 space-y-3",children:r.jsxs(te,{children:[r.jsxs(ue,{children:[r.jsx(de,{children:"Your DPIA was approved"}),r.jsx(Ut,{children:"Example notification email"})]}),r.jsxs(ae,{className:"text-sm space-y-2",children:[r.jsx("p",{children:"Hello,"}),r.jsx("p",{children:"Your recent DPIA has been reviewed and approved by the DPO."}),r.jsx("p",{children:"You can view the details in your AURA-GDPR dashboard."}),r.jsx("p",{className:"text-muted-foreground text-xs",children:"This is a preview. Actual email content may vary."})]})]})})]})})]}):null,t7={dsr_reminders:!1,incident_alerts:!1,dpia_approvals:!1,task_reminders:!1,system_alerts:!1},s7=()=>{const[e,t]=x.useState(null),[s,n]=x.useState(!0),[a,o]=x.useState(null),[i,l]=x.useState(!1),c=x.useCallback(async()=>{try{n(!0),o(null);const d=await z.get("/settings/notifications");t(d.data)}catch(d){o((d==null?void 0:d.message)??"Failed to load notification settings"),t(t7)}finally{n(!1)}},[]);x.useEffect(()=>{c()},[c]);const u=x.useCallback(async d=>{l(!0),o(null);try{await z.patch("/settings/notifications",d),t(d)}catch(f){throw o((f==null?void 0:f.message)??"Failed to save notification settings"),f}finally{l(!1)}},[]);return{data:e,loading:s,error:a,saving:i,reload:c,saveSettings:u}},n7=()=>{const{data:e,loading:t,error:s,saving:n,reload:a,saveSettings:o}=s7(),[i,l]=x.useState(null),[c,u]=x.useState(!1),{toast:d}=Vt();x.useEffect(()=>{e&&l(e)},[e]);const f=(g,m)=>{l(w=>w&&{...w,[g]:m})},h=async()=>{if(i)try{await o(i),d({title:"Settings saved",description:"Notification preferences updated."})}catch(g){d({variant:"destructive",title:"Save failed",description:(g==null?void 0:g.message)??"Unable to save settings."})}};return r.jsxs("div",{className:"space-y-6",children:[r.jsx(et,{title:"Notification Settings",description:"Configure email alerts for GDPR-critical events.",actions:r.jsxs("div",{className:"flex gap-2",children:[r.jsx(M,{variant:"outline",size:"sm",onClick:()=>u(!0),children:"Preview email"}),r.jsx(M,{variant:"outline",size:"sm",onClick:a,disabled:t,children:"Reload"})]})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Vd,{to:"/app/settings",className:({isActive:g})=>`px-3 py-2 rounded-md text-sm ${g?"bg-slate-200 dark:bg-slate-700 font-semibold":"text-muted-foreground"}`,children:"Profile"}),r.jsx(Vd,{to:"/app/settings/notifications",className:({isActive:g})=>`px-3 py-2 rounded-md text-sm ${g?"bg-slate-200 dark:bg-slate-700 font-semibold":"text-muted-foreground"}`,children:"Notifications"})]}),s&&r.jsx(te,{children:r.jsxs(ae,{className:"p-4 text-sm text-destructive flex items-center justify-between",children:[r.jsxs("span",{children:["Failed to load settings: ",s]}),r.jsx(M,{size:"sm",variant:"outline",onClick:a,children:"Retry"})]})}),t||!i?r.jsx(te,{children:r.jsxs(ae,{className:"p-4 space-y-3",children:[r.jsx(ie,{className:"h-10 w-full"}),r.jsx(ie,{className:"h-10 w-full"}),r.jsx(ie,{className:"h-10 w-full"})]})}):r.jsx(te,{children:r.jsxs(ae,{className:"p-4 space-y-3",children:[r.jsx(Ta,{label:"DSR reminders",description:"Email reminders for pending data subject requests.",checked:i.dsr_reminders,onChange:g=>f("dsr_reminders",g)}),r.jsx(Ta,{label:"Incident alerts",description:"Alerts for new or updated incidents.",checked:i.incident_alerts,onChange:g=>f("incident_alerts",g)}),r.jsx(Ta,{label:"DPIA approvals",description:"Notifications when DPIAs require or receive approval.",checked:i.dpia_approvals,onChange:g=>f("dpia_approvals",g)}),r.jsx(Ta,{label:"Task reminders",description:"Reminders for upcoming or overdue tasks.",checked:i.task_reminders,onChange:g=>f("task_reminders",g)}),r.jsx(Ta,{label:"System alerts",description:"System-level notifications for platform events.",checked:i.system_alerts,onChange:g=>f("system_alerts",g)}),r.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[r.jsx(M,{variant:"outline",onClick:a,disabled:t,children:"Reset"}),r.jsx(M,{onClick:h,disabled:n,children:n?"Saving":"Save"})]})]})}),r.jsx(e7,{open:c,onClose:()=>u(!1)})]})},dn=e=>({...e,id:(e==null?void 0:e.id)??(e==null?void 0:e._id)??(e==null?void 0:e.policy_id)??"",lastUpdated:(e==null?void 0:e.lastUpdated)??(e==null?void 0:e.last_updated)??(e==null?void 0:e.updated_at)??(e==null?void 0:e.updatedAt)??"",createdAt:(e==null?void 0:e.createdAt)??(e==null?void 0:e.created_at)??"",tags:(e==null?void 0:e.tags)??[]}),r7=e=>{if(Array.isArray(e))return e.map(dn);const t=e;return Array.isArray(t==null?void 0:t.items)?t.items.map(dn):Array.isArray(t==null?void 0:t.policies)?t.policies.map(dn):[]};async function a7(){try{const e=await z.get("/api/policies");return r7(e.data)}catch(e){if((e==null?void 0:e.status)===404)return[];throw e}}async function o7(e){const t=await z.get(`/api/policies/${e}`);return dn(t.data)}async function i7(e){const t=await z.post("/api/policies",e);return dn(t.data)}async function l7(e,t){const s=await z.put(`/api/policies/${e}`,t);return dn(s.data)}async function c7(e,t){const s=await z.patch(`/api/policies/${e}`,t);return dn(s.data)}async function u7(e){await z.delete(`/api/policies/${e}`)}async function d7(e){const t=await z.post(`/api/policies/${e}/publish`);return dn(t.data)}const f7="Something went wrong while loading data. Please try again.";function p7(){const[e,t]=x.useState([]),[s,n]=x.useState(!1),[a,o]=x.useState(!1),[i,l]=x.useState(!1),[c,u]=x.useState(null),d=x.useRef(!0);x.useEffect(()=>()=>{d.current=!1},[]);const f=x.useCallback(async()=>{n(!0),u(null);try{const p=await a7();d.current&&t(p)}catch(p){d.current&&((p==null?void 0:p.status)===404?(t([]),u(null)):u(f7))}finally{d.current&&n(!1)}},[]);x.useEffect(()=>{f()},[f]);const h=x.useCallback(async p=>{o(!0);try{const v=await o7(p);return d.current&&t(j=>j.map(N=>N.id===v.id?v:N)),v}finally{d.current&&o(!1)}},[]),g=x.useCallback(async p=>{l(!0);try{const v=await i7(p);return d.current&&t(j=>[v,...j]),v}finally{d.current&&l(!1)}},[]),m=x.useCallback(async(p,v)=>{l(!0);try{const j=await l7(p,v);return d.current&&t(N=>N.map(k=>k.id===j.id?j:k)),j}finally{d.current&&l(!1)}},[]),w=x.useCallback(async(p,v)=>{const j=await c7(p,v);return d.current&&t(N=>N.map(k=>k.id===j.id?j:k)),j},[]),b=x.useCallback(async p=>{await u7(p),d.current&&t(v=>v.filter(j=>j.id!==p))},[]),y=x.useCallback(async p=>{const v=await d7(p);return d.current&&t(j=>j.map(N=>N.id===v.id?v:N)),v},[]);return{policies:e,loading:s,detailLoading:a,saving:i,error:c,refresh:f,fetchOne:h,create:g,update:m,patch:w,remove:b,publish:y}}const Bu={draft:"Draft",in_review:"In review",approved:"Approved",published:"Published",archived:"Archived"},b0={privacy_policy:"Privacy Policy",cookie_policy:"Cookie Policy",data_processing_agreement:"Data Processing Agreement",data_retention_policy:"Data Retention Policy",information_security_policy:"Information Security Policy",internal_guideline:"Internal Guideline",other:"Other"},Wu=(e,t="")=>typeof e=="string"?e:t;async function h7(e){try{const s=(await z.post("/ai/policies/generate",e)).data??{};return{title:Wu(s.title??s.name??""),summary:Wu(s.summary??s.description??""),content:Wu(s.content??s.body??""),sources:Xo(s.sources??[])}}catch(t){throw new Error(Qo(t))}}function m7(){const[e,t]=x.useState(null),[s,n]=x.useState(!1),[a,o]=x.useState(null),i=x.useCallback(async l=>{n(!0),o(null);try{const c=await h7(l);return t(c),c}catch(c){const u=c instanceof Error?c.message:"Failed to generate policy with AI";throw o(u),c}finally{n(!1)}},[]);return{result:e,loading:s,error:a,generate:i}}const j0=["draft","in_review","approved","published","archived"],N0=()=>({title:"",policyType:"privacy_policy",content:"",status:"draft"}),x7=e=>({id:e.id,title:e.name,policyType:e.type,content:e.content??"",status:e.status,version:e.version}),g7=e=>e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"",y7=()=>{const{policies:e,loading:t,saving:s,error:n,refresh:a,create:o,update:i,remove:l,publish:c}=p7(),{generate:u,result:d,loading:f,error:h}=m7(),[g,m]=E.useState(N0()),[w,b]=E.useState(""),[y,p]=E.useState("all"),[v,j]=E.useState(null),[N,k]=E.useState(""),P=E.useMemo(()=>e.filter(A=>{const V=A.name.toLowerCase().includes(w.toLowerCase())||(A.summary||"").toLowerCase().includes(w.toLowerCase()),D=y==="all"?!0:A.status===y;return V&&D}),[e,w,y]),S=()=>{m(N0()),j(null)},R=A=>{j(A.id),m(x7(A))},T=A=>({...A,name:g.title||"Policy",type:g.policyType,status:g.status,content:g.content,summary:(A==null?void 0:A.summary)??"",owner:(A==null?void 0:A.owner)??"Policy Owner",createdAt:(A==null?void 0:A.createdAt)??new Date().toISOString(),lastUpdated:new Date().toISOString(),version:g.version??(A==null?void 0:A.version)}),F=async()=>{const A=v?e.find(D=>D.id===v):void 0,V=T(A);v?await i(v,V):await o(V),await a(),S()},O=async A=>{!A||!window.confirm("Delete this policy?")||(await l(A),await a(),v===A&&S())},W=async()=>{v&&(await c(v),await a())},U=async()=>{const A=await u({policyType:g.policyType,context:N});m(V=>({...V,title:A.title||V.title,content:A.content||V.content}))},q=()=>t?r.jsx("tbody",{children:Array.from({length:4}).map((A,V)=>r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"p-3",children:r.jsx(ie,{className:"h-10 w-full rounded-md"})})},V))}):n?r.jsx("tbody",{children:r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"p-4",children:r.jsx(Se,{title:"Unable to load policies",description:"We could not fetch policies. Retry to try again.",actionLabel:"Retry",onAction:a})})})}):P.length===0?r.jsx("tbody",{children:r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"p-4",children:r.jsx(Se,{title:e.length===0?"No policies yet":"No matches",description:e.length===0?"Create your first policy or generate one with AI.":"Adjust filters or add a new policy.",actionLabel:"New policy",onAction:S})})})}):r.jsx("tbody",{className:"divide-y divide-slate-100",children:P.map(A=>r.jsxs("tr",{className:"hover:bg-slate-50",children:[r.jsxs("td",{className:"p-3",children:[r.jsx("div",{className:"font-semibold text-slate-900",children:A.name}),r.jsxs("p",{className:"text-xs text-slate-500",children:["Updated ",g7(A.lastUpdated)]})]}),r.jsx("td",{className:"p-3 text-sm text-slate-700",children:A.version??""}),r.jsx("td",{className:"p-3 text-sm text-slate-700",children:b0[A.type]}),r.jsx("td",{className:"p-3",children:r.jsx(Je,{className:"bg-slate-100 text-slate-800 capitalize",children:Bu[A.status]})}),r.jsx("td",{className:"p-3",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(M,{size:"sm",variant:"outline",onClick:()=>R(A),children:"Edit"}),r.jsxs(M,{size:"sm",variant:"ghost",className:"text-rose-600",onClick:()=>O(A.id),children:[r.jsx(zt,{className:"mr-1 h-4 w-4"}),"Delete"]})]})})]},A.id))});return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsx(et,{title:"Policies",subtitle:"Manage policy drafts and publish approved versions.",actions:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(M,{variant:"outline",size:"sm",onClick:a,children:[r.jsx(Nn,{className:"mr-2 h-4 w-4"}),"Refresh"]}),r.jsxs(M,{size:"sm",onClick:S,children:[r.jsx(Os,{className:"mr-2 h-4 w-4"}),"New policy"]})]})}),r.jsx(Zt,{title:"What you can do here",subtitle:"Draft, review, and publish privacy and security policies.",bullets:["Create or edit policies with markdown content.","Publish approved policies to lock the version.","Use AI to draft a starting version for faster turnaround."]}),r.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsx(ce,{title:"Policy list",subtitle:"All policies for this tenant.",actions:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("select",{className:"rounded-lg border border-slate-200 px-2 py-2 text-sm text-slate-700",value:y,onChange:A=>p(A.target.value),children:[r.jsx("option",{value:"all",children:"All statuses"}),j0.map(A=>r.jsx("option",{value:A,children:Bu[A]},A))]}),r.jsx(Y,{placeholder:"Search",value:w,onChange:A=>b(A.target.value),className:"h-9 w-44"})]}),children:r.jsx("div",{className:"overflow-hidden rounded-lg border border-slate-200",children:r.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[r.jsx("thead",{className:"bg-slate-50 text-left text-xs font-semibold uppercase tracking-wide text-slate-600",children:r.jsxs("tr",{children:[r.jsx("th",{className:"p-3",children:"Title"}),r.jsx("th",{className:"p-3",children:"Version"}),r.jsx("th",{className:"p-3",children:"Type"}),r.jsx("th",{className:"p-3",children:"Status"}),r.jsx("th",{className:"p-3",children:"Actions"})]})}),q()]})})})}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(ce,{title:v?"Edit policy":"Create policy",subtitle:"Title, type, and content are required.",actions:v?r.jsxs(M,{variant:"ghost",className:"text-rose-600",size:"sm",onClick:()=>O(v),children:[r.jsx(zt,{className:"mr-1 h-4 w-4"}),"Delete"]}):null,children:r.jsxs("div",{className:"space-y-3",children:[r.jsx(Y,{placeholder:"Policy title",value:g.title,onChange:A=>m(V=>({...V,title:A.target.value}))}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Policy type"}),r.jsx("select",{className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800",value:g.policyType,onChange:A=>m(V=>({...V,policyType:A.target.value})),children:Object.entries(b0).map(([A,V])=>r.jsx("option",{value:A,children:V},A))})]}),r.jsx(Me,{placeholder:"Policy content (markdown supported)",rows:8,value:g.content,onChange:A=>m(V=>({...V,content:A.target.value}))}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Status"}),r.jsx("select",{className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 capitalize",value:g.status,onChange:A=>m(V=>({...V,status:A.target.value})),children:j0.map(A=>r.jsx("option",{value:A,children:Bu[A]},A))})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsxs(M,{size:"sm",onClick:F,disabled:s,children:[r.jsx(ca,{className:"mr-2 h-4 w-4"}),"Save"]}),r.jsx(M,{size:"sm",variant:"outline",onClick:S,children:"Clear"}),v?r.jsxs(M,{size:"sm",variant:"secondary",onClick:W,children:[r.jsx(KP,{className:"mr-2 h-4 w-4"}),"Publish"]}):null]})]})}),r.jsxs(ce,{title:"Generate policy with AI",subtitle:"Draft a starting version from context.",children:[r.jsx(Me,{placeholder:"Context (industry, obligations, processing details)",rows:3,value:N,onChange:A=>k(A.target.value)}),r.jsxs(M,{size:"sm",variant:"outline",onClick:U,disabled:f,children:[r.jsx(Up,{className:"mr-2 h-4 w-4"}),f?"Generating...":"Generate with AI"]}),h?r.jsx("p",{className:"text-xs text-rose-600",children:h}):null,d?r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3 text-sm text-slate-800",children:[r.jsx("p",{className:"font-semibold",children:"AI suggestion"}),r.jsx("p",{className:"mt-1 text-slate-700",children:d.summary})]}):null]})]})]})]})},v7=e=>["low","medium","high","critical"].includes(e)?e:"medium",w7=e=>["open","investigating","contained","resolved","closed"].includes(e)?e:"open",b7=e=>({id:(e==null?void 0:e.id)??(e==null?void 0:e._id)??`timeline-${(e==null?void 0:e.timestamp)??Date.now()}`,timestamp:(e==null?void 0:e.timestamp)??(e==null?void 0:e.time)??(e==null?void 0:e.created_at)??(e==null?void 0:e.createdAt)??new Date().toISOString(),actor:(e==null?void 0:e.actor)??(e==null?void 0:e.user)??"System",action:(e==null?void 0:e.action)??(e==null?void 0:e.activity)??"",notes:(e==null?void 0:e.notes)??(e==null?void 0:e.description)??void 0}),qn=e=>{const t=(e==null?void 0:e.createdAt)??(e==null?void 0:e.created_at)??new Date().toISOString(),s=(e==null?void 0:e.lastUpdated)??(e==null?void 0:e.last_updated)??(e==null?void 0:e.updated_at)??(e==null?void 0:e.updatedAt)??t;return{id:(e==null?void 0:e.id)??(e==null?void 0:e._id)??"",title:(e==null?void 0:e.title)??"",systemName:(e==null?void 0:e.systemName)??(e==null?void 0:e.system_name)??"",severity:v7(e==null?void 0:e.severity),status:w7(e==null?void 0:e.status),description:(e==null?void 0:e.description)??"",affectedData:(e==null?void 0:e.affectedData)??(e==null?void 0:e.affected_data)??"",affectedSubjects:(e==null?void 0:e.affectedSubjects)??(e==null?void 0:e.affected_subjects)??"",detectionMethod:(e==null?void 0:e.detectionMethod)??(e==null?void 0:e.detection_method)??"",occurredAt:(e==null?void 0:e.occurredAt)??(e==null?void 0:e.occurred_at)??t,resolutionSummary:(e==null?void 0:e.resolutionSummary)??(e==null?void 0:e.resolution_summary)??"",createdAt:t,lastUpdated:s,timeline:Array.isArray(e==null?void 0:e.timeline)?e.timeline.map(b7):[]}},j7=e=>{if(Array.isArray(e))return e.map(qn);const t=e;return Array.isArray(t==null?void 0:t.items)?t.items.map(qn):Array.isArray(t==null?void 0:t.incidents)?t.incidents.map(qn):[]};async function N7(){try{const e=await z.get("/api/incidents");return j7(e.data)}catch(e){if((e==null?void 0:e.status)===404)return[];throw e}}async function S7(e){const t=await z.get(`/api/incidents/${e}`);return qn(t.data)}async function k7(e){const t=await z.post("/api/incidents",e);return qn(t.data)}async function C7(e,t){const s=await z.put(`/api/incidents/${e}`,t);return qn(s.data)}async function A7(e,t){const s=await z.patch(`/api/incidents/${e}`,t);return qn(s.data)}async function P7(e){await z.delete(`/api/incidents/${e}`)}const E7="Something went wrong while loading data. Please try again.";function R7(){const[e,t]=x.useState([]),[s,n]=x.useState(!1),[a,o]=x.useState(!1),[i,l]=x.useState(!1),[c,u]=x.useState(null),d=x.useRef(!0);x.useEffect(()=>()=>{d.current=!1},[]);const f=x.useCallback(async()=>{n(!0),u(null);try{const y=await N7();d.current&&t(y)}catch(y){d.current&&((y==null?void 0:y.status)===404?(t([]),u(null)):u(E7))}finally{d.current&&n(!1)}},[]);x.useEffect(()=>{f()},[f]);const h=x.useCallback(async y=>{o(!0);try{const p=await S7(y);return d.current&&t(v=>v.some(N=>N.id===p.id)?v.map(N=>N.id===p.id?p:N):[p,...v]),p}finally{d.current&&o(!1)}},[]),g=x.useCallback(async y=>{l(!0),u(null);try{const p=await k7(y);return d.current&&t(v=>[p,...v]),p}catch(p){throw d.current&&u((p==null?void 0:p.message)??"Failed to create incident."),p}finally{d.current&&l(!1)}},[]),m=x.useCallback(async(y,p)=>{l(!0),u(null);try{const v=await C7(y,p);return d.current&&t(j=>j.map(N=>N.id===v.id?v:N)),v}catch(v){throw d.current&&u((v==null?void 0:v.message)??"Failed to update incident."),v}finally{d.current&&l(!1)}},[]),w=x.useCallback(async(y,p)=>{l(!0),u(null);try{const v=await A7(y,p);return d.current&&t(j=>j.map(N=>N.id===v.id?v:N)),v}catch(v){throw d.current&&u((v==null?void 0:v.message)??"Failed to update incident."),v}finally{d.current&&l(!1)}},[]),b=x.useCallback(async y=>{await P7(y),d.current&&t(p=>p.filter(v=>v.id!==y))},[]);return{incidents:e,loading:s,detailLoading:a,saving:i,error:c,refresh:f,fetchOne:h,create:g,update:m,patch:w,remove:b}}const Hu=e=>Array.isArray(e)?e.filter(t=>typeof t=="string").map(t=>t.trim()):typeof e=="string"?e.split(/\n|;/).map(t=>t.trim()).filter(Boolean):[],T7=e=>typeof e=="string"&&["low","medium","high","critical"].includes(e)?e:"medium";async function D7(e){try{const s=(await z.post("/ai/incidents/classify",e)).data??{};return{severity:T7(s.severity??s.predictedSeverity),causes:Hu(s.causes??s.likelyCauses),recommendedActions:Hu(s.recommendedActions??s.actions),obligations:Hu(s.regulatoryObligations??s.obligations),summary:typeof s.summary=="string"?s.summary:void 0,sources:Xo(s.sources??[])}}catch(t){throw new Error(Qo(t))}}function _7(){const[e,t]=x.useState(null),[s,n]=x.useState(!1),[a,o]=x.useState(null),i=x.useCallback(async l=>{n(!0),o(null);try{const c=await D7(l);return t(c),c}catch(c){const u=c instanceof Error?c.message:"Failed to classify incident with AI";throw o(u),c}finally{n(!1)}},[]);return{result:e,loading:s,error:a,classify:i}}const S0=["low","medium","high","critical"],k0=["open","investigating","contained","resolved","closed"],C0=()=>({title:"",description:"",severity:"medium",status:"open",occurredAt:new Date().toISOString(),resolutionSummary:""}),M7=e=>({id:e.id,title:e.title,description:e.description,severity:e.severity,status:e.status,occurredAt:e.occurredAt??e.createdAt,resolutionSummary:e.resolutionSummary??""}),A0=e=>e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"",P0=e=>{switch(e){case"critical":return"bg-rose-100 text-rose-700";case"high":return"bg-orange-100 text-orange-700";case"medium":return"bg-amber-100 text-amber-700";default:return"bg-emerald-100 text-emerald-700"}},L7=()=>{const{incidents:e,loading:t,saving:s,error:n,refresh:a,create:o,update:i,patch:l,remove:c}=R7(),{classify:u,result:d,loading:f,error:h}=_7(),[g,m]=E.useState(C0()),[w,b]=E.useState(""),[y,p]=E.useState("all"),[v,j]=E.useState("all"),[N,k]=E.useState(null),P=E.useMemo(()=>e.filter(A=>{const V=A.title.toLowerCase().includes(w.toLowerCase())||A.description.toLowerCase().includes(w.toLowerCase()),D=y==="all"?!0:A.severity===y,C=v==="all"?!0:A.status===v;return V&&D&&C}),[e,w,y,v]),S=()=>{m(C0()),k(null)},R=A=>{k(A.id),m(M7(A))},T=A=>({...A,title:g.title||"Incident",systemName:(A==null?void 0:A.systemName)??g.title,severity:g.severity,status:g.status,description:g.description,affectedData:(A==null?void 0:A.affectedData)??"",affectedSubjects:(A==null?void 0:A.affectedSubjects)??"",detectionMethod:(A==null?void 0:A.detectionMethod)??"",occurredAt:g.occurredAt,resolutionSummary:g.resolutionSummary,createdAt:g.occurredAt||(A==null?void 0:A.createdAt)||new Date().toISOString(),lastUpdated:new Date().toISOString()}),F=async()=>{const A=N?e.find(D=>D.id===N):void 0,V=T(A);N?await i(N,V):await o(V),await a(),S()},O=async A=>{!A||!window.confirm("Delete this incident?")||(await c(A),await a(),N===A&&S())},W=async A=>{await l(A,{status:"resolved"}),await a()},U=async()=>{await u({title:g.title,description:g.description,detectedAt:g.occurredAt})},q=()=>t?r.jsx("tbody",{children:Array.from({length:4}).map((A,V)=>r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"p-3",children:r.jsx(ie,{className:"h-10 w-full rounded-md"})})},V))}):n?r.jsx("tbody",{children:r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"p-4",children:r.jsx(Se,{title:"Unable to load incidents",description:"We could not fetch incidents. Retry to try again.",actionLabel:"Retry",onAction:a})})})}):P.length===0?r.jsx("tbody",{children:r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"p-4",children:r.jsx(Se,{title:e.length===0?"No incidents yet":"No matches",description:e.length===0?"Start by logging your first incident.":"Adjust filters or add a new incident.",actionLabel:"New incident",onAction:S})})})}):r.jsx("tbody",{className:"divide-y divide-slate-100",children:P.map(A=>r.jsxs("tr",{className:"hover:bg-slate-50",children:[r.jsxs("td",{className:"p-3",children:[r.jsx("div",{className:"font-semibold text-slate-900",children:A.title}),r.jsx("p",{className:"text-xs text-slate-500",children:A.description.slice(0,80)})]}),r.jsx("td",{className:"p-3",children:r.jsx(Je,{className:P0(A.severity),children:A.severity})}),r.jsx("td",{className:"p-3",children:r.jsx(Je,{className:"bg-slate-100 text-slate-800 capitalize",children:A.status})}),r.jsx("td",{className:"p-3 text-sm text-slate-600",children:A0(A.occurredAt??A.createdAt)}),r.jsx("td",{className:"p-3",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(M,{size:"sm",variant:"outline",onClick:()=>R(A),children:"Edit"}),r.jsxs(M,{size:"sm",variant:"ghost",className:"text-emerald-700",onClick:()=>W(A.id),children:[r.jsx(Oo,{className:"mr-1 h-4 w-4"}),"Mark resolved"]}),r.jsxs(M,{size:"sm",variant:"ghost",className:"text-rose-600",onClick:()=>O(A.id),children:[r.jsx(zt,{className:"mr-1 h-4 w-4"}),"Delete"]})]})})]},A.id))});return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsx(et,{title:"Incidents",subtitle:"Log and triage personal data breaches with clear ownership and timelines.",actions:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(M,{variant:"outline",size:"sm",onClick:a,children:[r.jsx(Nn,{className:"mr-2 h-4 w-4"}),"Refresh"]}),r.jsxs(M,{size:"sm",onClick:S,children:[r.jsx(Os,{className:"mr-2 h-4 w-4"}),"Log incident"]})]})}),r.jsx(Zt,{title:"What you can do here",subtitle:"Capture, classify, and close security incidents.",bullets:["Record incident facts, severity, and containment status.","Mark incidents as resolved when remediation is complete.","Run AI analysis for severity and next steps."]}),r.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsx(ce,{title:"Incident list",subtitle:"All incidents for this tenant.",actions:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("select",{className:"rounded-lg border border-slate-200 px-2 py-2 text-sm text-slate-700",value:y,onChange:A=>p(A.target.value),children:[r.jsx("option",{value:"all",children:"All severities"}),S0.map(A=>r.jsx("option",{value:A,children:A},A))]}),r.jsxs("select",{className:"rounded-lg border border-slate-200 px-2 py-2 text-sm text-slate-700",value:v,onChange:A=>j(A.target.value),children:[r.jsx("option",{value:"all",children:"All statuses"}),k0.map(A=>r.jsx("option",{value:A,children:A},A))]}),r.jsx(Y,{placeholder:"Search",value:w,onChange:A=>b(A.target.value),className:"h-9 w-44"})]}),children:r.jsx("div",{className:"overflow-hidden rounded-lg border border-slate-200",children:r.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[r.jsx("thead",{className:"bg-slate-50 text-left text-xs font-semibold uppercase tracking-wide text-slate-600",children:r.jsxs("tr",{children:[r.jsx("th",{className:"p-3",children:"Title"}),r.jsx("th",{className:"p-3",children:"Severity"}),r.jsx("th",{className:"p-3",children:"Status"}),r.jsx("th",{className:"p-3",children:"Occurred at"}),r.jsx("th",{className:"p-3",children:"Actions"})]})}),q()]})})})}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(ce,{title:N?"Edit incident":"Log incident",subtitle:"Capture severity, status, and timeline details.",actions:N?r.jsxs(M,{variant:"ghost",className:"text-rose-600",size:"sm",onClick:()=>O(N),children:[r.jsx(zt,{className:"mr-1 h-4 w-4"}),"Delete"]}):null,children:r.jsxs("div",{className:"space-y-3",children:[r.jsx(Y,{placeholder:"Title",value:g.title,onChange:A=>m(V=>({...V,title:A.target.value}))}),r.jsx(Me,{placeholder:"Description",rows:3,value:g.description,onChange:A=>m(V=>({...V,description:A.target.value}))}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Severity"}),r.jsx("select",{className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800",value:g.severity,onChange:A=>m(V=>({...V,severity:A.target.value})),children:S0.map(A=>r.jsx("option",{value:A,children:A},A))})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Status"}),r.jsx("select",{className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800",value:g.status,onChange:A=>m(V=>({...V,status:A.target.value})),children:k0.map(A=>r.jsx("option",{value:A,children:A},A))})]})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Occurred at"}),r.jsx(Y,{type:"datetime-local",value:g.occurredAt?g.occurredAt.slice(0,16):"",onChange:A=>m(V=>({...V,occurredAt:A.target.value}))})]}),r.jsx(Me,{placeholder:"Resolution summary",rows:3,value:g.resolutionSummary,onChange:A=>m(V=>({...V,resolutionSummary:A.target.value}))}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsxs(M,{size:"sm",onClick:F,disabled:s,children:[r.jsx(ca,{className:"mr-2 h-4 w-4"}),"Save"]}),r.jsx(M,{size:"sm",variant:"outline",onClick:S,children:"Clear"}),g.occurredAt?r.jsxs("span",{className:"text-xs text-slate-500",children:["Occurred ",A0(g.occurredAt)]}):null]})]})}),r.jsxs(ce,{title:"Analyze incident with AI",subtitle:"Get severity and recommended actions.",children:[r.jsxs(M,{size:"sm",variant:"outline",onClick:U,disabled:f,children:[r.jsx(Up,{className:"mr-2 h-4 w-4"}),f?"Analyzing...":"Analyze incident"]}),h?r.jsx("p",{className:"text-xs text-rose-600",children:h}):null,d?r.jsxs("div",{className:"space-y-2 rounded-lg border border-slate-200 bg-slate-50 p-3 text-sm text-slate-800",children:[r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs(Je,{className:P0(d.severity),children:["AI severity: ",d.severity]})}),d.summary?r.jsx("p",{className:"text-slate-700",children:d.summary}):null,r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold",children:"Recommended actions"}),r.jsx("ul",{className:"list-disc pl-4",children:d.recommendedActions.map(A=>r.jsx("li",{children:A},A))})]})]}):null]})]})]})]})},Ur=e=>{const t=(e==null?void 0:e.createdAt)??(e==null?void 0:e.created_at)??new Date().toISOString(),s=(e==null?void 0:e.updatedAt)??(e==null?void 0:e.updated_at)??t;return{id:(e==null?void 0:e.id)??(e==null?void 0:e._id)??"",templateName:(e==null?void 0:e.templateName)??(e==null?void 0:e.template_name)??"",category:(e==null?void 0:e.category)??"",content:(e==null?void 0:e.content)??"",createdAt:t,updatedAt:s}},I7=e=>{if(Array.isArray(e))return e.map(Ur);const t=e;return Array.isArray(t==null?void 0:t.items)?t.items.map(Ur):Array.isArray(t==null?void 0:t.templates)?t.templates.map(Ur):[]};async function O7(){try{const e=await z.get("/api/templates");return I7(e.data)}catch(e){if((e==null?void 0:e.status)===404)return[];throw e}}async function F7(e){const t=await z.get(`/api/templates/${e}`);return Ur(t.data)}async function z7(e){const t=await z.post("/api/templates",e);return Ur(t.data)}async function U7(e,t){const s=await z.put(`/api/templates/${e}`,t);return Ur(s.data)}async function V7(e){await z.delete(`/api/templates/${e}`)}const $7="Something went wrong while loading templates. Please try again.";function B7(){const[e,t]=x.useState([]),[s,n]=x.useState(!1),[a,o]=x.useState(!1),[i,l]=x.useState(null),c=x.useRef(!0);x.useEffect(()=>()=>{c.current=!1},[]);const u=x.useCallback(async()=>{n(!0),l(null);try{const m=await O7();c.current&&t(m)}catch(m){c.current&&((m==null?void 0:m.status)===404?(t([]),l(null)):l($7))}finally{c.current&&n(!1)}},[]);x.useEffect(()=>{u()},[u]);const d=x.useCallback(async m=>{const w=await F7(m);return c.current&&t(b=>b.map(y=>y.id===w.id?w:y)),w},[]),f=x.useCallback(async m=>{o(!0);try{const w=await z7(m);return c.current&&t(b=>[w,...b]),w}finally{c.current&&o(!1)}},[]),h=x.useCallback(async(m,w)=>{o(!0);try{const b=await U7(m,w);return c.current&&t(y=>y.map(p=>p.id===b.id?b:p)),b}finally{c.current&&o(!1)}},[]),g=x.useCallback(async m=>{await V7(m),c.current&&t(w=>w.filter(b=>b.id!==m))},[]);return{templates:e,loading:s,saving:a,error:i,refresh:u,fetchOne:d,create:f,update:h,remove:g}}const E0=()=>({templateName:"",category:"",content:""}),W7=e=>({id:e.id,templateName:e.templateName,category:e.category,content:e.content,updatedAt:e.updatedAt}),H7=e=>e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"",q7=()=>{const{templates:e,loading:t,saving:s,error:n,refresh:a,create:o,update:i,remove:l}=B7(),[c,u]=E.useState(E0()),[d,f]=E.useState(""),[h,g]=E.useState(null),m=E.useMemo(()=>e.filter(N=>N.templateName.toLowerCase().includes(d.toLowerCase())||N.category.toLowerCase().includes(d.toLowerCase())),[e,d]),w=()=>{u(E0()),g(null)},b=N=>{g(N.id),u(W7(N))},y=N=>({...N,templateName:c.templateName||"Template",category:c.category,content:c.content,createdAt:(N==null?void 0:N.createdAt)??new Date().toISOString(),updatedAt:new Date().toISOString()}),p=async()=>{const N=h?e.find(P=>P.id===h):void 0,k=y(N);h?await i(h,k):await o(k),await a(),w()},v=async N=>{!N||!window.confirm("Delete this template?")||(await l(N),await a(),h===N&&w())},j=()=>t?r.jsx("tbody",{children:Array.from({length:4}).map((N,k)=>r.jsx("tr",{children:r.jsx("td",{colSpan:4,className:"p-3",children:r.jsx(ie,{className:"h-10 w-full rounded-md"})})},k))}):n?r.jsx("tbody",{children:r.jsx("tr",{children:r.jsx("td",{colSpan:4,className:"p-4",children:r.jsx(Se,{title:"Unable to load templates",description:"We could not fetch templates. Retry to try again.",actionLabel:"Retry",onAction:a})})})}):m.length===0?r.jsx("tbody",{children:r.jsx("tr",{children:r.jsx("td",{colSpan:4,className:"p-4",children:r.jsx(Se,{title:e.length===0?"No templates yet":"No matches",description:e.length===0?"Start by creating your first template.":"Adjust filters or add a new template.",actionLabel:"New template",onAction:w})})})}):r.jsx("tbody",{className:"divide-y divide-slate-100",children:m.map(N=>r.jsxs("tr",{className:"hover:bg-slate-50",children:[r.jsxs("td",{className:"p-3",children:[r.jsx("div",{className:"font-semibold text-slate-900",children:N.templateName}),r.jsx("p",{className:"text-xs text-slate-500",children:N.category})]}),r.jsx("td",{className:"p-3 text-sm text-slate-700",children:N.category}),r.jsx("td",{className:"p-3 text-sm text-slate-700",children:H7(N.updatedAt)}),r.jsx("td",{className:"p-3",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(M,{size:"sm",variant:"outline",onClick:()=>b(N),children:"Edit"}),r.jsxs(M,{size:"sm",variant:"ghost",className:"text-rose-600",onClick:()=>v(N.id),children:[r.jsx(zt,{className:"mr-1 h-4 w-4"}),"Delete"]})]})})]},N.id))});return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsx(et,{title:"Templates",subtitle:"Manage reusable document and response templates.",actions:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(M,{variant:"outline",size:"sm",onClick:a,children:[r.jsx(Nn,{className:"mr-2 h-4 w-4"}),"Refresh"]}),r.jsxs(M,{size:"sm",onClick:w,children:[r.jsx(Os,{className:"mr-2 h-4 w-4"}),"New template"]})]})}),r.jsx(Zt,{title:"What you can do here",subtitle:"Create templates for recurring policies, DPIAs, DSR replies, and more.",bullets:["Store standard text your team can reuse.","Organize by category for faster search.","Keep templates updated with the latest approved content."]}),r.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsx(ce,{title:"Template list",subtitle:"All saved templates.",actions:r.jsx(Y,{placeholder:"Search",value:d,onChange:N=>f(N.target.value),className:"h-9 w-48"}),children:r.jsx("div",{className:"overflow-hidden rounded-lg border border-slate-200",children:r.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[r.jsx("thead",{className:"bg-slate-50 text-left text-xs font-semibold uppercase tracking-wide text-slate-600",children:r.jsxs("tr",{children:[r.jsx("th",{className:"p-3",children:"Template name"}),r.jsx("th",{className:"p-3",children:"Category"}),r.jsx("th",{className:"p-3",children:"Updated"}),r.jsx("th",{className:"p-3",children:"Actions"})]})}),j()]})})})}),r.jsx("div",{children:r.jsx(ce,{title:h?"Edit template":"Create template",subtitle:"Name, category, and content are required.",actions:h?r.jsxs(M,{variant:"ghost",className:"text-rose-600",size:"sm",onClick:()=>v(h),children:[r.jsx(zt,{className:"mr-1 h-4 w-4"}),"Delete"]}):null,children:r.jsxs("div",{className:"space-y-3",children:[r.jsx(Y,{placeholder:"Template name",value:c.templateName,onChange:N=>u(k=>({...k,templateName:N.target.value}))}),r.jsx(Y,{placeholder:"Category (e.g. DPIA, DSR, Policy)",value:c.category,onChange:N=>u(k=>({...k,category:N.target.value}))}),r.jsx(Me,{placeholder:"Template content",rows:8,value:c.content,onChange:N=>u(k=>({...k,content:N.target.value}))}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsxs(M,{size:"sm",onClick:p,disabled:s,children:[r.jsx(ca,{className:"mr-2 h-4 w-4"}),"Save"]}),r.jsx(M,{size:"sm",variant:"outline",onClick:w,children:"Clear"})]})]})})})]})]})},Zs=e=>({...e,id:(e==null?void 0:e.id)??(e==null?void 0:e._id)??(e==null?void 0:e.ropa_id)??"",createdAt:(e==null?void 0:e.createdAt)??(e==null?void 0:e.created_at)??"",lastUpdated:(e==null?void 0:e.lastUpdated)??(e==null?void 0:e.last_updated)??(e==null?void 0:e.updated_at)??(e==null?void 0:e.updatedAt)??""}),G7=e=>{if(Array.isArray(e))return e.map(Zs);const t=e;return Array.isArray(t==null?void 0:t.items)?t.items.map(Zs):Array.isArray(t==null?void 0:t.records)?t.records.map(Zs):Array.isArray(t==null?void 0:t.ropa)?t.ropa.map(Zs):[]};async function K7(){try{const e=await z.get("/api/ropa");return G7(e.data)}catch(e){if((e==null?void 0:e.status)===404)return[];throw e}}async function Y7(e){const t=await z.get(`/api/ropa/${e}`);return Zs(t.data)}async function X7(e){const t=await z.post("/api/ropa",e);return Zs(t.data)}async function Q7(e,t){const s=await z.put(`/api/ropa/${e}`,t);return Zs(s.data)}async function J7(e,t){const s=await z.patch(`/api/ropa/${e}`,t);return Zs(s.data)}async function Z7(e){await z.delete(`/api/ropa/${e}`)}const ez="Something went wrong while loading data. Please try again.";function tz(){const[e,t]=x.useState([]),[s,n]=x.useState(!1),[a,o]=x.useState(!1),[i,l]=x.useState(!1),[c,u]=x.useState(null),d=x.useRef(!0);x.useEffect(()=>()=>{d.current=!1},[]);const f=x.useCallback(async()=>{n(!0),u(null);try{const y=await K7();d.current&&t(y)}catch(y){d.current&&((y==null?void 0:y.status)===404?(t([]),u(null)):u(ez))}finally{d.current&&n(!1)}},[]);x.useEffect(()=>{f()},[f]);const h=x.useCallback(async y=>{o(!0);try{const p=await Y7(y);return d.current&&t(v=>v.map(j=>j.id===p.id?p:j)),p}finally{d.current&&o(!1)}},[]),g=x.useCallback(async y=>{l(!0);try{const p=await X7(y);return d.current&&t(v=>[p,...v]),p}finally{d.current&&l(!1)}},[]),m=x.useCallback(async(y,p)=>{l(!0);try{const v=await Q7(y,p);return d.current&&t(j=>j.map(N=>N.id===v.id?v:N)),v}finally{d.current&&l(!1)}},[]),w=x.useCallback(async(y,p)=>{const v=await J7(y,p);return d.current&&t(j=>j.map(N=>N.id===v.id?v:N)),v},[]),b=x.useCallback(async y=>{await Z7(y),d.current&&t(p=>p.filter(v=>v.id!==y))},[]);return{records:e,loading:s,detailLoading:a,saving:i,error:c,refresh:f,fetchOne:h,create:g,update:m,patch:w,remove:b}}const R0=()=>({processName:"",purpose:"",dataCategories:"",dataSubjects:"",recipients:"",transfersOutsideEu:!1,retentionPeriod:"",legalBasis:""}),sz=e=>({id:e.id,processName:e.name,purpose:e.purpose,dataCategories:e.dataCategories,dataSubjects:e.dataSubjects,recipients:e.recipients,transfersOutsideEu:(e.transfersOutsideEU??"").toString().toLowerCase()==="true",retentionPeriod:e.retentionPeriod,legalBasis:e.legalBasis,createdAt:e.createdAt}),nz=e=>e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"",rz=()=>{const{records:e,loading:t,saving:s,error:n,refresh:a,create:o,update:i,remove:l}=tz(),[c,u]=E.useState(R0()),[d,f]=E.useState(""),[h,g]=E.useState(null),m=E.useMemo(()=>e.filter(N=>N.name.toLowerCase().includes(d.toLowerCase())||N.purpose.toLowerCase().includes(d.toLowerCase())),[e,d]),w=()=>{u(R0()),g(null)},b=N=>{g(N.id),u(sz(N))},y=N=>({...N,name:c.processName||"Processing activity",systemName:(N==null?void 0:N.systemName)??c.processName,purpose:c.purpose,legalBasis:c.legalBasis,processingCategory:(N==null?void 0:N.processingCategory)??"other",dataSubjects:c.dataSubjects,dataCategories:c.dataCategories,recipients:c.recipients,transfersOutsideEU:c.transfersOutsideEu?"true":"false",retentionPeriod:c.retentionPeriod,securityMeasures:(N==null?void 0:N.securityMeasures)??"",owner:(N==null?void 0:N.owner)??"Data Protection",createdAt:c.createdAt??(N==null?void 0:N.createdAt)??new Date().toISOString(),lastUpdated:new Date().toISOString()}),p=async()=>{const N=h?e.find(P=>P.id===h):void 0,k=y(N);h?await i(h,k):await o(k),await a(),w()},v=async N=>{!N||!window.confirm("Delete this processing record?")||(await l(N),await a(),h===N&&w())},j=()=>t?r.jsx("tbody",{children:Array.from({length:4}).map((N,k)=>r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"p-3",children:r.jsx(ie,{className:"h-10 w-full rounded-md"})})},k))}):n?r.jsx("tbody",{children:r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"p-4",children:r.jsx(Se,{title:"Unable to load ROPA",description:"We could not fetch processing activities. Retry to try again.",actionLabel:"Retry",onAction:a})})})}):m.length===0?r.jsx("tbody",{children:r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"p-4",children:r.jsx(Se,{title:e.length===0?"No ROPA entries yet":"No matches for these filters",description:e.length===0?"Start by creating your first processing record.":"Adjust your search or add a new record.",actionLabel:"New processing record",onAction:w})})})}):r.jsx("tbody",{className:"divide-y divide-slate-100",children:m.map(N=>r.jsxs("tr",{className:"hover:bg-slate-50",children:[r.jsxs("td",{className:"p-3",children:[r.jsx("div",{className:"font-semibold text-slate-900",children:N.name}),r.jsx("p",{className:"text-xs text-slate-500",children:N.recipients||"Not specified"})]}),r.jsx("td",{className:"p-3 text-sm text-slate-700",children:N.purpose}),r.jsx("td",{className:"p-3 text-sm text-slate-700",children:N.retentionPeriod||"Not set"}),r.jsx("td",{className:"p-3",children:r.jsx(Je,{className:"bg-slate-100 text-slate-800",children:N.legalBasis||""})}),r.jsx("td",{className:"p-3",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(M,{size:"sm",variant:"outline",onClick:()=>b(N),children:"Edit"}),r.jsxs(M,{size:"sm",variant:"ghost",className:"text-rose-600",onClick:()=>v(N.id),children:[r.jsx(zt,{className:"mr-1 h-4 w-4"}),"Delete"]})]})})]},N.id))});return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsx(et,{title:"Record of Processing Activities (ROPA)",subtitle:"Keep an auditable list of every processing activity and its legal basis.",actions:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(M,{variant:"outline",size:"sm",onClick:a,children:[r.jsx(Nn,{className:"mr-2 h-4 w-4"}),"Refresh"]}),r.jsxs(M,{size:"sm",onClick:w,children:[r.jsx(Os,{className:"mr-2 h-4 w-4"}),"New record"]})]})}),r.jsx(Zt,{title:"What you can do here",subtitle:"Show accountability by documenting all data processing activities.",bullets:["Capture purpose, legal basis, and retention for each processing activity.","Track data subjects, categories, recipients, and transfers.","Maintain an export-ready register for audits."]}),r.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsx(ce,{title:"Processing activities",subtitle:"Every processing activity in your tenant.",actions:r.jsx(Y,{placeholder:"Search",value:d,onChange:N=>f(N.target.value),className:"h-9 w-48"}),children:r.jsx("div",{className:"overflow-hidden rounded-lg border border-slate-200",children:r.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[r.jsx("thead",{className:"bg-slate-50 text-left text-xs font-semibold uppercase tracking-wide text-slate-600",children:r.jsxs("tr",{children:[r.jsx("th",{className:"p-3",children:"Process name"}),r.jsx("th",{className:"p-3",children:"Purpose"}),r.jsx("th",{className:"p-3",children:"Retention period"}),r.jsx("th",{className:"p-3",children:"Legal basis"}),r.jsx("th",{className:"p-3",children:"Actions"})]})}),j()]})})})}),r.jsx("div",{children:r.jsx(ce,{title:h?"Edit processing activity":"Create processing activity",subtitle:"Document purpose, lawful basis, and data flows.",actions:h?r.jsxs(M,{variant:"ghost",className:"text-rose-600",size:"sm",onClick:()=>v(h),children:[r.jsx(zt,{className:"mr-1 h-4 w-4"}),"Delete"]}):null,children:r.jsxs("div",{className:"space-y-3",children:[r.jsx(Y,{placeholder:"Process name",value:c.processName,onChange:N=>u(k=>({...k,processName:N.target.value}))}),r.jsx(Me,{placeholder:"Purpose",rows:3,value:c.purpose,onChange:N=>u(k=>({...k,purpose:N.target.value}))}),r.jsx(Y,{placeholder:"Data categories (comma separated)",value:c.dataCategories,onChange:N=>u(k=>({...k,dataCategories:N.target.value}))}),r.jsx(Y,{placeholder:"Data subjects (comma separated)",value:c.dataSubjects,onChange:N=>u(k=>({...k,dataSubjects:N.target.value}))}),r.jsx(Y,{placeholder:"Recipients",value:c.recipients,onChange:N=>u(k=>({...k,recipients:N.target.value}))}),r.jsx(Y,{placeholder:"Retention period",value:c.retentionPeriod,onChange:N=>u(k=>({...k,retentionPeriod:N.target.value}))}),r.jsx(Y,{placeholder:"Legal basis",value:c.legalBasis,onChange:N=>u(k=>({...k,legalBasis:N.target.value}))}),r.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-700",children:[r.jsx("input",{type:"checkbox",checked:c.transfersOutsideEu,onChange:N=>u(k=>({...k,transfersOutsideEu:N.target.checked})),className:"h-4 w-4 rounded border-slate-300 text-sky-600 focus:ring-sky-500"}),"Transfers outside EU"]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsxs(M,{size:"sm",onClick:p,disabled:s,children:[r.jsx(ca,{className:"mr-2 h-4 w-4"}),"Save"]}),r.jsx(M,{size:"sm",variant:"outline",onClick:w,children:"Clear"}),c.createdAt?r.jsxs("span",{className:"text-xs text-slate-500",children:["Created ",nz(c.createdAt)]}):null]})]})})})]})]})},az=["access_control","encryption","logging_monitoring","network_security","backup_recovery","organizational_policies","data_minimization","vendor_management","other"],oz=({search:e,category:t,effectiveness:s,onSearch:n,onCategoryChange:a,onEffectivenessChange:o})=>r.jsxs("div",{className:"flex flex-col gap-3 rounded-xl border border-slate-200 bg-white p-4 shadow-sm md:flex-row md:items-center md:justify-between",children:[r.jsx("input",{type:"text",value:e,onChange:i=>n(i.target.value),placeholder:"Search TOMs...",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100"}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:t,onChange:i=>a(i.target.value),children:[r.jsx("option",{value:"all",children:"All categories"}),az.map(i=>r.jsx("option",{value:i,children:i.replace("_"," ")},i))]}),r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:s,onChange:i=>o(i.target.value),children:[r.jsx("option",{value:"all",children:"All effectiveness"}),r.jsx("option",{value:"low",children:"Low"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"high",children:"High"})]})]})]}),iz={access_control:"Access control",encryption:"Encryption",logging_monitoring:"Logging & monitoring",network_security:"Network security",backup_recovery:"Backup & recovery",organizational_policies:"Organizational policies",data_minimization:"Data minimization",vendor_management:"Vendor management",other:"Other"},lz={access_control:"bg-slate-100 text-slate-700 border-slate-200",encryption:"bg-emerald-50 text-emerald-700 border-emerald-200",logging_monitoring:"bg-sky-50 text-sky-700 border-sky-200",network_security:"bg-indigo-50 text-indigo-700 border-indigo-200",backup_recovery:"bg-amber-50 text-amber-700 border-amber-200",organizational_policies:"bg-purple-50 text-purple-700 border-purple-200",data_minimization:"bg-teal-50 text-teal-700 border-teal-200",vendor_management:"bg-rose-50 text-rose-700 border-rose-200",other:"bg-slate-100 text-slate-700 border-slate-200"},cz=({category:e})=>r.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-semibold ${lz[e]}`,children:iz[e]}),uz=e=>{const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},dz={low:"text-slate-600",medium:"text-amber-600",high:"text-emerald-700"},fz=({tom:e,onClick:t})=>r.jsxs("tr",{className:"cursor-pointer border-b last:border-0 hover:bg-slate-50 focus-within:bg-slate-50",tabIndex:0,role:"button",onClick:t,onKeyDown:s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),t())},children:[r.jsx("td",{className:"py-3 pr-4 font-semibold text-foreground",children:e.name}),r.jsx("td",{className:"py-3 pr-4",children:r.jsx(cz,{category:e.category})}),r.jsx("td",{className:`py-3 pr-4 font-semibold ${dz[e.effectiveness]}`,children:e.effectiveness}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:e.owner}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:uz(e.lastUpdated)})]}),pz=({toms:e,onSelect:t,isLoading:s,isError:n})=>s?r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading measures..."}):n?r.jsx("p",{className:"text-sm text-red-600",children:"Failed to load measures."}):e.length===0?r.jsx("p",{className:"text-sm text-muted-foreground",children:"No measures found for the selected filters."}):r.jsx("div",{className:"overflow-auto rounded-lg border border-slate-200 bg-white shadow-sm",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b bg-slate-50 text-left text-slate-500",children:[r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Name"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Category"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Effectiveness"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Owner"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Last updated"})]})}),r.jsx("tbody",{children:e.map(a=>r.jsx(fz,{tom:a,onClick:()=>t(a)},a.id))})]})}),hz=["access_control","encryption","logging_monitoring","network_security","backup_recovery","organizational_policies","data_minimization","vendor_management","other"],mz=["low","medium","high"],xz=({tom:e,isOpen:t,mode:s,isLoading:n,isSaving:a,onClose:o,onSave:i})=>{const[l,c]=E.useState(e),[u,d]=E.useState({}),f=E.useRef(null);if(E.useEffect(()=>{t&&(c(e),d({}))},[e,t]),E.useEffect(()=>{var j;if(!t)return;const p=N=>{if(N.key==="Escape"&&o(),N.key==="Tab"&&f.current){const k=f.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(k.length===0)return;const P=k[0],S=k[k.length-1];!N.shiftKey&&document.activeElement===S?(N.preventDefault(),P.focus()):N.shiftKey&&document.activeElement===P&&(N.preventDefault(),S.focus())}};document.addEventListener("keydown",p);const v=(j=f.current)==null?void 0:j.querySelector("input, select, textarea, button");return v==null||v.focus(),()=>document.removeEventListener("keydown",p)},[t,o]),!t||!l&&!n)return null;const h=(s==="create"||s==="edit")&&!n,g=!!(n||a),m=(p,v)=>{c(j=>j&&{...j,[p]:v})},w=()=>{const p={};return l.name.trim()||(p.name="Name is required."),l.category||(p.category="Category is required."),l.description.trim()||(p.description="Description is required."),d(p),Object.keys(p).length===0},b=async()=>{w()&&await i(l,s==="create"?"create":"edit")},y=p=>{p.target===p.currentTarget&&o()};return!l&&n?r.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/30 backdrop-blur-sm",onMouseDown:y,children:r.jsxs("div",{className:"flex h-full w-full max-w-2xl flex-col overflow-y-auto bg-white shadow-2xl",ref:f,children:[r.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-5 py-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Technical measure"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Loading measure..."})]}),r.jsx("button",{type:"button",onClick:o,className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:r.jsx(kt,{className:"h-5 w-5"})})]}),r.jsx("div",{className:"p-5 text-sm text-slate-600",children:"Loading measure..."})]})}):r.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/30 backdrop-blur-sm",onMouseDown:y,children:r.jsxs("div",{className:"flex h-full w-full max-w-2xl flex-col overflow-y-auto bg-white shadow-2xl",ref:f,children:[r.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-5 py-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:s==="create"?"New TOM":l.name||"Technical measure"}),r.jsx("p",{className:"text-sm text-slate-600",children:l.category.replace("_"," ")})]}),r.jsx("button",{type:"button",onClick:o,className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:r.jsx(kt,{className:"h-5 w-5"})})]}),n&&l&&r.jsx("div",{className:"px-5 py-2 text-sm text-slate-600",children:"Loading measure..."}),r.jsx("div",{className:"space-y-4 p-5",children:r.jsxs("div",{className:"space-y-3 rounded-lg border border-slate-200 bg-white p-4",children:[r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Name"}),r.jsx("input",{type:"text",value:l.name,onChange:p=>m("name",p.target.value),disabled:!h||g,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),u.name&&r.jsx("p",{className:"text-xs text-rose-600",children:u.name})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Category"}),r.jsx("select",{value:l.category,onChange:p=>m("category",p.target.value),disabled:!h||g,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:hz.map(p=>r.jsx("option",{value:p,children:p.replace("_"," ")},p))}),u.category&&r.jsx("p",{className:"text-xs text-rose-600",children:u.category})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Owner"}),r.jsx("input",{type:"text",value:l.owner,onChange:p=>m("owner",p.target.value),disabled:!h||g,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Effectiveness"}),r.jsx("select",{value:l.effectiveness,onChange:p=>m("effectiveness",p.target.value),disabled:!h||g,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:mz.map(p=>r.jsx("option",{value:p,children:p},p))})]})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Description"}),r.jsx("textarea",{value:l.description,onChange:p=>m("description",p.target.value),disabled:!h||g,className:"min-h-[90px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),u.description&&r.jsx("p",{className:"text-xs text-rose-600",children:u.description})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Implementation"}),r.jsx("textarea",{value:l.implementation,onChange:p=>m("implementation",p.target.value),disabled:!h||g,className:"min-h-[90px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),s!=="create"&&r.jsxs("div",{className:"grid grid-cols-1 gap-3 rounded-lg border border-slate-200 bg-slate-50 p-4 text-sm text-slate-700 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-800",children:"Created"}),r.jsx("p",{children:new Date(l.createdAt).toLocaleString()})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-800",children:"Last updated"}),r.jsx("p",{children:new Date(l.lastUpdated).toLocaleString()})]})]})]})}),r.jsx("div",{className:"sticky bottom-0 border-t border-slate-200 bg-white p-4",children:r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(M,{variant:"outline",onClick:o,disabled:g,children:"Cancel"}),h&&r.jsx(M,{onClick:b,disabled:g,children:a?"Saving...":s==="create"?"Create measure":"Save changes"})]})})]})})},gz=({onNew:e})=>r.jsxs(M,{className:"inline-flex items-center gap-2",onClick:e,children:[r.jsx(Xr,{className:"h-4 w-4"}),"New TOM"]}),yz=e=>["access_control","encryption","logging_monitoring","network_security","backup_recovery","organizational_policies","data_minimization","vendor_management","other"].includes(e)?e:"other",vz=e=>["low","medium","high"].includes(e)?e:"medium",Gn=e=>{const t=(e==null?void 0:e.createdAt)??(e==null?void 0:e.created_at)??new Date().toISOString(),s=(e==null?void 0:e.lastUpdated)??(e==null?void 0:e.last_updated)??(e==null?void 0:e.updated_at)??(e==null?void 0:e.updatedAt)??t;return{id:(e==null?void 0:e.id)??(e==null?void 0:e._id)??"",name:(e==null?void 0:e.name)??"",category:yz(e==null?void 0:e.category),description:(e==null?void 0:e.description)??"",implementation:(e==null?void 0:e.implementation)??"",effectiveness:vz(e==null?void 0:e.effectiveness),owner:(e==null?void 0:e.owner)??"",createdAt:t,lastUpdated:s}},wz=e=>{if(Array.isArray(e))return e.map(Gn);const t=e;return Array.isArray(t==null?void 0:t.items)?t.items.map(Gn):Array.isArray(t==null?void 0:t.toms)?t.toms.map(Gn):[]};async function bz(){try{const e=await z.get("/api/toms");return wz(e.data)}catch(e){if((e==null?void 0:e.status)===404)return[];throw e}}async function jz(e){const t=await z.get(`/api/toms/${e}`);return Gn(t.data)}async function Nz(e){const t=await z.post("/api/toms",e);return Gn(t.data)}async function Sz(e,t){const s=await z.put(`/api/toms/${e}`,t);return Gn(s.data)}async function kz(e,t){const s=await z.patch(`/api/toms/${e}`,t);return Gn(s.data)}function Cz(){const[e,t]=x.useState([]),[s,n]=x.useState(!1),[a,o]=x.useState(!1),[i,l]=x.useState(!1),[c,u]=x.useState(null),d=x.useRef(!0);x.useEffect(()=>()=>{d.current=!1},[]);const f=x.useCallback(async()=>{n(!0),u(null);try{const b=await bz();d.current&&t(b)}catch(b){d.current&&((b==null?void 0:b.status)===404?(t([]),u(null)):u("Something went wrong while loading data. Please try again."))}finally{d.current&&n(!1)}},[]);x.useEffect(()=>{f()},[f]);const h=x.useCallback(async b=>{o(!0);try{const y=await jz(b);return d.current&&t(p=>p.some(j=>j.id===y.id)?p.map(j=>j.id===y.id?y:j):[y,...p]),y}finally{d.current&&o(!1)}},[]),g=x.useCallback(async b=>{l(!0),u(null);try{const y=await Nz(b);return d.current&&t(p=>[y,...p]),y}catch(y){throw d.current&&u((y==null?void 0:y.message)??"Failed to create TOM."),y}finally{d.current&&l(!1)}},[]),m=x.useCallback(async(b,y)=>{l(!0),u(null);try{const p=await Sz(b,y);return d.current&&t(v=>v.map(j=>j.id===p.id?p:j)),p}catch(p){throw d.current&&u((p==null?void 0:p.message)??"Failed to update TOM."),p}finally{d.current&&l(!1)}},[]),w=x.useCallback(async(b,y)=>{l(!0),u(null);try{const p=await kz(b,y);return d.current&&t(v=>v.map(j=>j.id===p.id?p:j)),p}catch(p){throw d.current&&u((p==null?void 0:p.message)??"Failed to update TOM."),p}finally{d.current&&l(!1)}},[]);return{toms:e,loading:s,detailLoading:a,saving:i,error:c,refresh:f,fetchOne:h,create:g,update:m,patch:w}}const Az=()=>{const{toms:e,loading:t,detailLoading:s,saving:n,error:a,refresh:o,fetchOne:i,create:l,update:c}=Cz(),[u,d]=E.useState(""),[f,h]=E.useState("all"),[g,m]=E.useState("all"),[w,b]=E.useState(null),[y,p]=E.useState("view"),v=E.useMemo(()=>e.filter(S=>{const R=S.name.toLowerCase().includes(u.toLowerCase()),T=f==="all"?!0:S.category===f,F=g==="all"?!0:S.effectiveness===g;return R&&T&&F}),[e,u,f,g]),j=S=>{b(S),p("edit"),S.id&&i(S.id).then(R=>b(R)).catch(()=>{})},N=async(S,R)=>{try{if(R==="create"){const{id:T,...F}=S;await l(F)}else S.id&&await c(S.id,S);await o(),b(null),p("view")}catch{}},k=()=>{const S=new Date().toISOString();b({id:"",name:"",category:"other",description:"",implementation:"",effectiveness:"medium",owner:"You",createdAt:S,lastUpdated:S}),p("create")},P=()=>t?r.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((S,R)=>r.jsx(ie,{className:"h-20 w-full rounded-lg bg-slate-100"},R))}):a?r.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 p-4 text-sm text-rose-700",children:r.jsxs("div",{className:"flex items-center justify-between gap-3",children:[r.jsx("p",{children:a}),r.jsx("button",{type:"button",className:"text-xs font-semibold text-rose-800 underline",onClick:()=>o(),children:"Retry"})]})}):v.length===0?r.jsxs("div",{className:"rounded-lg border border-dashed border-slate-300 bg-slate-50 p-6 text-sm text-slate-700",children:[r.jsx("p",{className:"font-semibold text-slate-900",children:"No measures match the current filters."}),r.jsx("p",{className:"text-slate-600",children:"Try adjusting filters or create a new TOM."})]}):r.jsx(pz,{toms:v,onSelect:j});return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-slate-900",children:"Technical & Organisational Measures (TOMs)"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Document the security measures used to protect personal data."})]}),r.jsx(gz,{onNew:k})]}),r.jsx(oz,{search:u,category:f,effectiveness:g,onSearch:d,onCategoryChange:h,onEffectivenessChange:m}),P(),r.jsx(xz,{tom:w,isOpen:!!w,mode:y,onClose:()=>{b(null),p("view")},onSave:N,isLoading:s,isSaving:n})]})},Pz={necessary:"bg-emerald-50 text-emerald-700 border-emerald-200",preferences:"bg-sky-50 text-sky-700 border-sky-200",analytics:"bg-amber-50 text-amber-700 border-amber-200",marketing:"bg-rose-50 text-rose-700 border-rose-200",unclassified:"bg-slate-100 text-slate-700 border-slate-200"},Ez={necessary:"Necessary",preferences:"Preferences",analytics:"Analytics",marketing:"Marketing",unclassified:"Unclassified"},Rz=({category:e})=>r.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-semibold ${Pz[e]}`,children:Ez[e]}),Tz=e=>{const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},Dz=({cookie:e,onClick:t})=>r.jsxs("tr",{className:"cursor-pointer border-b last:border-0 hover:bg-slate-50 focus-within:bg-slate-50",tabIndex:0,role:"button",onClick:t,onKeyDown:s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),t())},children:[r.jsx("td",{className:"py-3 pr-4 font-semibold text-foreground",children:e.name}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:e.domain}),r.jsx("td",{className:"py-3 pr-4",children:r.jsx(Rz,{category:e.category})}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:e.duration}),r.jsx("td",{className:"py-3 pr-4 text-foreground capitalize",children:e.type.replace("_","-")}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:e.provider}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:Tz(e.lastUpdated)})]}),_z=({cookies:e,onSelect:t,isLoading:s,isError:n,errorMessage:a,onRetry:o})=>s?r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading cookies..."}):n?r.jsx(Se,{title:"Unable to load cookies",description:a||"Something went wrong while loading data. Please try again.",actionLabel:o?"Retry":void 0,onAction:o,className:"bg-rose-50 border-rose-200"}):e.length===0?r.jsx(Se,{title:"No cookies yet",description:"Start by creating your first cookie entry to track web technologies and retention."}):r.jsx("div",{className:"overflow-auto rounded-lg border border-slate-200 bg-white shadow-sm",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b bg-slate-50 text-left text-slate-500",children:[r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Name"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Domain"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Category"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Duration"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Type"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Provider"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Last updated"})]})}),r.jsx("tbody",{children:e.map(i=>r.jsx(Dz,{cookie:i,onClick:()=>t(i)},i.id))})]})}),Mz=["necessary","preferences","analytics","marketing","unclassified"],Lz=["manual","scanner","imported"],Iz=({search:e,category:t,type:s,source:n,onSearch:a,onCategoryChange:o,onTypeChange:i,onSourceChange:l})=>r.jsxs("div",{className:"flex flex-col gap-3 rounded-xl border border-slate-200 bg-white p-4 shadow-sm md:flex-row md:items-center md:justify-between",children:[r.jsx("input",{type:"text",value:e,onChange:c=>a(c.target.value),placeholder:"Search cookies by name or provider...",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100"}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:t,onChange:c=>o(c.target.value),children:[r.jsx("option",{value:"all",children:"All categories"}),Mz.map(c=>r.jsx("option",{value:c,children:c},c))]}),r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:s,onChange:c=>i(c.target.value),children:[r.jsx("option",{value:"all",children:"All types"}),r.jsx("option",{value:"first_party",children:"First-party"}),r.jsx("option",{value:"third_party",children:"Third-party"})]}),r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:n,onChange:c=>l(c.target.value),children:[r.jsx("option",{value:"all",children:"All sources"}),Lz.map(c=>r.jsx("option",{value:c,children:c},c))]})]})]}),Oz=["necessary","preferences","analytics","marketing","unclassified"],Fz=["first_party","third_party"],zz=["manual","scanner","imported"],Uz=({cookie:e,isOpen:t,mode:s,isLoading:n,isSaving:a,onClose:o,onSave:i,onCategoryChange:l,onTypeChange:c})=>{const[u,d]=E.useState(e),[f,h]=E.useState({}),g=E.useRef(null);if(E.useEffect(()=>{t&&(d(e),h({}))},[e,t]),E.useEffect(()=>{var T;if(!t)return;const S=F=>{if(F.key==="Escape"&&o(),F.key==="Tab"&&g.current){const O=g.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(O.length===0)return;const W=O[0],U=O[O.length-1];!F.shiftKey&&document.activeElement===U?(F.preventDefault(),W.focus()):F.shiftKey&&document.activeElement===W&&(F.preventDefault(),U.focus())}};document.addEventListener("keydown",S);const R=(T=g.current)==null?void 0:T.querySelector("input, select, textarea, button");return R==null||R.focus(),()=>document.removeEventListener("keydown",S)},[t,o]),!t||!u&&!n)return null;const m=(s==="create"||s==="edit")&&!n,w=l&&(u==null?void 0:u.id)&&s!=="create",b=c&&(u==null?void 0:u.id)&&s!=="create",y=!!(n||a),p=(S,R)=>{d(T=>T&&{...T,[S]:R})},v=()=>{const S={};return u.name.trim()||(S.name="Name is required."),u.domain.trim()||(S.domain="Domain is required."),u.purpose.trim()||(S.purpose="Purpose is required."),u.category||(S.category="Category is required."),u.type||(S.type="Type is required."),h(S),Object.keys(S).length===0},j=async()=>{v()&&await i(u,s==="create"?"create":"edit")},N=async S=>{p("category",S),w&&(u!=null&&u.id)&&await(l==null?void 0:l(u.id,S))},k=async S=>{p("type",S),b&&(u!=null&&u.id)&&await(c==null?void 0:c(u.id,S))},P=S=>{S.target===S.currentTarget&&o()};return!u&&n?r.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/30 backdrop-blur-sm",onMouseDown:P,children:r.jsxs("div",{className:"flex h-full w-full max-w-2xl flex-col overflow-y-auto bg-white shadow-2xl",ref:g,children:[r.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-5 py-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Cookie"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Loading cookie..."})]}),r.jsx("button",{type:"button",onClick:o,className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:r.jsx(kt,{className:"h-5 w-5"})})]}),r.jsx("div",{className:"p-5 text-sm text-slate-600",children:"Loading cookie..."})]})}):r.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/30 backdrop-blur-sm",onMouseDown:P,children:r.jsxs("div",{className:"flex h-full w-full max-w-2xl flex-col overflow-y-auto bg-white shadow-2xl",ref:g,children:[r.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-5 py-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:s==="create"?"New cookie":u.name}),r.jsx("p",{className:"text-sm text-slate-600",children:u.domain})]}),r.jsx("button",{type:"button",onClick:o,className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:r.jsx(kt,{className:"h-5 w-5"})})]}),n&&u&&r.jsx("div",{className:"px-5 py-2 text-sm text-slate-600",children:"Loading cookie..."}),r.jsx("div",{className:"space-y-4 p-5",children:r.jsxs("div",{className:"space-y-3 rounded-lg border border-slate-200 bg-white p-4",children:[r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Name"}),r.jsx("input",{type:"text",value:u.name,onChange:S=>p("name",S.target.value),disabled:!m||y,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),f.name&&r.jsx("p",{className:"text-xs text-rose-600",children:f.name})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Domain"}),r.jsx("input",{type:"text",value:u.domain,onChange:S=>p("domain",S.target.value),disabled:!m||y,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),f.domain&&r.jsx("p",{className:"text-xs text-rose-600",children:f.domain})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-3",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Category"}),r.jsx("select",{value:u.category,onChange:S=>N(S.target.value),disabled:!m&&!w||y,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:Oz.map(S=>r.jsx("option",{value:S,children:S},S))}),f.category&&r.jsx("p",{className:"text-xs text-rose-600",children:f.category})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Type"}),r.jsx("select",{value:u.type,onChange:S=>k(S.target.value),disabled:!m&&!b||y,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:Fz.map(S=>r.jsx("option",{value:S,children:S.replace("_"," ")},S))}),f.type&&r.jsx("p",{className:"text-xs text-rose-600",children:f.type})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Source"}),r.jsx("select",{value:u.source,onChange:S=>p("source",S.target.value),disabled:!m||y,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:zz.map(S=>r.jsx("option",{value:S,children:S},S))})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Provider"}),r.jsx("input",{type:"text",value:u.provider,onChange:S=>p("provider",S.target.value),disabled:!m||y,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Duration"}),r.jsx("input",{type:"text",value:u.duration,onChange:S=>p("duration",S.target.value),disabled:!m||y,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",placeholder:"e.g. 2 years"})]})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Purpose"}),r.jsx("textarea",{value:u.purpose,onChange:S=>p("purpose",S.target.value),disabled:!m||y,className:"min-h-[90px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),f.purpose&&r.jsx("p",{className:"text-xs text-rose-600",children:f.purpose})]}),s!=="create"&&r.jsxs("div",{className:"grid grid-cols-1 gap-3 rounded-lg border border-slate-200 bg-slate-50 p-4 text-sm text-slate-700 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-800",children:"Created"}),r.jsx("p",{children:new Date(u.createdAt).toLocaleString()})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-800",children:"Last updated"}),r.jsx("p",{children:new Date(u.lastUpdated).toLocaleString()})]})]})]})}),r.jsx("div",{className:"sticky bottom-0 border-t border-slate-200 bg-white p-4",children:r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(M,{variant:"outline",onClick:o,disabled:y,children:"Cancel"}),m&&r.jsx(M,{onClick:j,disabled:y,children:a?"Saving...":s==="create"?"Create cookie":"Save changes"})]})})]})})},Vz=({onNew:e})=>r.jsxs(M,{className:"inline-flex items-center gap-2",onClick:e,children:[r.jsx(Os,{className:"h-4 w-4"}),"New cookie"]}),$z=e=>["necessary","preferences","analytics","marketing","unclassified"].includes(e)?e:"unclassified",Bz=e=>["first_party","third_party"].includes(e)?e:"first_party",Kn=e=>{const t=(e==null?void 0:e.createdAt)??(e==null?void 0:e.created_at)??new Date().toISOString(),s=(e==null?void 0:e.lastUpdated)??(e==null?void 0:e.last_updated)??(e==null?void 0:e.updated_at)??(e==null?void 0:e.updatedAt)??t;return{id:(e==null?void 0:e.id)??(e==null?void 0:e._id)??"",name:(e==null?void 0:e.name)??"",domain:(e==null?void 0:e.domain)??"",duration:(e==null?void 0:e.duration)??(e==null?void 0:e.retention)??"",category:$z(e==null?void 0:e.category),purpose:(e==null?void 0:e.purpose)??"",provider:(e==null?void 0:e.provider)??"",type:Bz(e==null?void 0:e.type),source:(e==null?void 0:e.source)??"manual",createdAt:t,lastUpdated:s}},Wz=e=>{if(Array.isArray(e))return e.map(Kn);const t=e;return Array.isArray(t==null?void 0:t.items)?t.items.map(Kn):Array.isArray(t==null?void 0:t.cookies)?t.cookies.map(Kn):[]};async function Hz(){return`
This is a mock AI-generated cookie policy in English.
It will later include your cookie inventory, purposes, categories and retention periods.
Please review and adapt before publishing.
`}async function qz(){try{const e=await z.get("/api/cookies");return Wz(e.data)}catch(e){if((e==null?void 0:e.status)===404)return[];throw e}}async function Gz(e){const t=await z.get(`/api/cookies/${e}`);return Kn(t.data)}async function Kz(e){const t=await z.post("/api/cookies",e);return Kn(t.data)}async function Yz(e,t){const s=await z.put(`/api/cookies/${e}`,t);return Kn(s.data)}async function Xz(e,t){const s=await z.patch(`/api/cookies/${e}`,t);return Kn(s.data)}function Qz(){const[e,t]=x.useState([]),[s,n]=x.useState(!1),[a,o]=x.useState(!1),[i,l]=x.useState(!1),[c,u]=x.useState(null),d=x.useRef(!0);x.useEffect(()=>()=>{d.current=!1},[]);const f=x.useCallback(async()=>{n(!0),u(null);try{const b=await qz();d.current&&t(b)}catch(b){d.current&&((b==null?void 0:b.status)===404?(t([]),u(null)):u("Something went wrong while loading data. Please try again."))}finally{d.current&&n(!1)}},[]);x.useEffect(()=>{f()},[f]);const h=x.useCallback(async b=>{o(!0);try{const y=await Gz(b);return d.current&&t(p=>p.some(j=>j.id===y.id)?p.map(j=>j.id===y.id?y:j):[y,...p]),y}finally{d.current&&o(!1)}},[]),g=x.useCallback(async b=>{l(!0),u(null);try{const y=await Kz(b);return d.current&&t(p=>[y,...p]),y}catch(y){throw d.current&&u((y==null?void 0:y.message)??"Failed to create cookie."),y}finally{d.current&&l(!1)}},[]),m=x.useCallback(async(b,y)=>{l(!0),u(null);try{const p=await Yz(b,y);return d.current&&t(v=>v.map(j=>j.id===p.id?p:j)),p}catch(p){throw d.current&&u((p==null?void 0:p.message)??"Failed to update cookie."),p}finally{d.current&&l(!1)}},[]),w=x.useCallback(async(b,y)=>{l(!0),u(null);try{const p=await Xz(b,y);return d.current&&t(v=>v.map(j=>j.id===p.id?p:j)),p}catch(p){throw d.current&&u((p==null?void 0:p.message)??"Failed to update cookie."),p}finally{d.current&&l(!1)}},[]);return{cookies:e,loading:s,detailLoading:a,saving:i,error:c,refresh:f,fetchOne:h,create:g,update:m,patch:w}}const Jz=()=>{const{cookies:e,loading:t,detailLoading:s,saving:n,error:a,refresh:o,fetchOne:i,create:l,update:c,patch:u}=Qz(),[d,f]=E.useState(""),[h,g]=E.useState("all"),[m,w]=E.useState("all"),[b,y]=E.useState("all"),[p,v]=E.useState(null),[j,N]=E.useState("view"),[k,P]=E.useState(!1),[S,R]=E.useState(""),[T,F]=E.useState(!1),O=E.useMemo(()=>e.filter(_=>{const L=_.name.toLowerCase().includes(d.toLowerCase())||_.provider.toLowerCase().includes(d.toLowerCase()),B=h==="all"?!0:_.category===h,re=m==="all"?!0:_.type===m,se=b==="all"?!0:_.source===b;return L&&B&&re&&se}),[e,d,h,m,b]),W=_=>{v(_),N("edit"),_.id&&i(_.id).then(L=>v(L)).catch(()=>{})},U=async(_,L)=>{try{if(L==="create"){const{id:B,...re}=_;await l(re)}else _.id&&await c(_.id,_);await o(),v(null),N("view")}catch{}},q=()=>{const _=new Date().toISOString();v({id:"",name:"",domain:"",duration:"",category:"unclassified",purpose:"",provider:"",type:"first_party",source:"manual",createdAt:_,lastUpdated:_}),N("create")},A=async(_,L)=>{try{await u(_,{category:L}),await o()}catch{}},V=async(_,L)=>{try{await u(_,{type:L}),await o()}catch{}},D=async()=>{F(!0);const _=await Hz();R(_.trim()),P(!0),F(!1)},C=()=>t?r.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((_,L)=>r.jsx(ie,{className:"h-20 w-full rounded-lg bg-slate-100"},L))}):r.jsx(_z,{cookies:O,onSelect:W,isLoading:t,isError:!!a,errorMessage:a,onRetry:o});return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-slate-900",children:"Cookie compliance"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Manage your cookie inventory and prepare your cookie policy."})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(M,{variant:"outline",onClick:D,disabled:T,children:T?"Generating...":"Generate cookie policy (AI)"}),r.jsx(Vz,{onNew:q})]})]}),r.jsx(Iz,{search:d,category:h,type:m,source:b,onSearch:f,onCategoryChange:g,onTypeChange:w,onSourceChange:y}),C(),r.jsx(Uz,{cookie:p,isOpen:!!p,mode:j,onClose:()=>{v(null),N("view")},onSave:U,isLoading:s,isSaving:n,onCategoryChange:A,onTypeChange:V}),k&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/30 backdrop-blur-sm",children:r.jsxs("div",{className:"w-full max-w-2xl rounded-xl border border-slate-200 bg-white p-5 shadow-2xl",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"AI-generated cookie policy"}),r.jsx("p",{className:"text-sm text-slate-600",children:"This is a draft. Review before publishing."})]}),r.jsx("button",{type:"button",onClick:()=>P(!1),className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:"X"})]}),r.jsx("pre",{className:"mt-3 max-h-[400px] overflow-auto rounded-md bg-slate-50 p-3 text-sm text-slate-800 whitespace-pre-wrap",children:S}),r.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[r.jsx(M,{variant:"outline",onClick:()=>{navigator.clipboard.writeText(S)},children:"Copy"}),r.jsx(M,{onClick:()=>P(!1),children:"Close"})]})]})})]})},Zz={active:"bg-emerald-50 text-emerald-700 border-emerald-200",disabled:"bg-rose-50 text-rose-700 border-rose-200",pending_invite:"bg-amber-50 text-amber-700 border-amber-200"},eU={active:"Active",disabled:"Disabled",pending_invite:"Pending invite"},l2=({status:e})=>r.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-semibold ${Zz[e]}`,children:eU[e]}),tU={owner:"bg-purple-50 text-purple-700 border-purple-200",admin:"bg-sky-50 text-sky-700 border-sky-200",editor:"bg-amber-50 text-amber-700 border-amber-200",viewer:"bg-slate-100 text-slate-700 border-slate-200"},sU={owner:"Owner",admin:"Admin",editor:"Editor",viewer:"Viewer"},c2=({role:e})=>r.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-semibold ${tU[e]}`,children:sU[e]}),nU=e=>{if(!e)return"Never";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},rU=({user:e,onClick:t})=>r.jsxs("tr",{className:"cursor-pointer border-b last:border-0 hover:bg-slate-50 focus-within:bg-slate-50",tabIndex:0,role:"button",onClick:t,onKeyDown:s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),t())},children:[r.jsx("td",{className:"py-3 pr-4 font-semibold text-foreground",children:e.name}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:e.email}),r.jsx("td",{className:"py-3 pr-4",children:r.jsx(c2,{role:e.role})}),r.jsx("td",{className:"py-3 pr-4",children:r.jsx(l2,{status:e.status})}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:nU(e.lastLogin)})]}),aU=({users:e,onSelect:t,isLoading:s,isError:n})=>s?r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading users..."}):n?r.jsx("p",{className:"text-sm text-red-600",children:"Failed to load users."}):e.length===0?r.jsx("p",{className:"text-sm text-muted-foreground",children:"No users found for the selected filters."}):r.jsx("div",{className:"overflow-auto rounded-lg border border-slate-200 bg-white shadow-sm",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b bg-slate-50 text-left text-slate-500",children:[r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Name"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Email"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Role"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Status"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Last login"})]})}),r.jsx("tbody",{children:e.map(a=>r.jsx(rU,{user:a,onClick:()=>t(a)},a.id))})]})}),oU=["owner","admin","editor","viewer"],iU=["active","pending_invite","disabled"],lU=({search:e,role:t,status:s,onSearch:n,onRoleChange:a,onStatusChange:o})=>r.jsxs("div",{className:"flex flex-col gap-3 rounded-xl border border-slate-200 bg-white p-4 shadow-sm md:flex-row md:items-center md:justify-between",children:[r.jsx("input",{type:"text",value:e,onChange:i=>n(i.target.value),placeholder:"Search users by name or email...",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100"}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:t,onChange:i=>a(i.target.value),children:[r.jsx("option",{value:"all",children:"All roles"}),oU.map(i=>r.jsx("option",{value:i,children:i},i))]}),r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:s,onChange:i=>o(i.target.value),children:[r.jsx("option",{value:"all",children:"All statuses"}),iU.map(i=>r.jsx("option",{value:i,children:i.replace("_"," ")},i))]})]})]}),cU=["owner","admin","editor","viewer"],uU=["active","pending_invite","disabled"],dU=({user:e,isOpen:t,mode:s,onClose:n,onSave:a,onPatch:o,isSaving:i})=>{const[l,c]=E.useState(e),[u,d]=E.useState({}),f=E.useRef(null);if(E.useEffect(()=>{t&&(c(e),d({}))},[e,t]),E.useEffect(()=>{var j;if(!t)return;const p=N=>{if(N.key==="Escape"&&n(),N.key==="Tab"&&f.current){const k=f.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(k.length===0)return;const P=k[0],S=k[k.length-1];!N.shiftKey&&document.activeElement===S?(N.preventDefault(),P.focus()):N.shiftKey&&document.activeElement===P&&(N.preventDefault(),S.focus())}};document.addEventListener("keydown",p);const v=(j=f.current)==null?void 0:j.querySelector("input, select, textarea, button");return v==null||v.focus(),()=>document.removeEventListener("keydown",p)},[t,n]),!t||!l)return null;const h=s==="create"||s==="edit",g=!!i,m=(p,v)=>{c(j=>j&&{...j,[p]:v})},w=()=>{const p={};return l.name.trim()||(p.name="Name is required."),l.email.trim()||(p.email="Email is required."),d(p),Object.keys(p).length===0},b=async()=>{w()&&await a(l,s==="create"?"create":"edit")},y=p=>{p.target===p.currentTarget&&n()};return r.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/30 backdrop-blur-sm",onMouseDown:y,children:r.jsxs("div",{className:"flex h-full w-full max-w-2xl flex-col overflow-y-auto bg-white shadow-2xl",ref:f,children:[r.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-5 py-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:s==="create"?"New user":l.name||"User"}),r.jsx(c2,{role:l.role}),r.jsx(l2,{status:l.status})]}),r.jsx("p",{className:"text-sm text-slate-600",children:l.email})]}),r.jsx("button",{type:"button",onClick:n,className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:r.jsx(kt,{className:"h-5 w-5"})})]}),r.jsx("div",{className:"space-y-4 p-5",children:r.jsxs("div",{className:"space-y-3 rounded-lg border border-slate-200 bg-white p-4",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Name"}),r.jsx("input",{type:"text",value:l.name,onChange:p=>m("name",p.target.value),disabled:!h||g,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),u.name&&r.jsx("p",{className:"text-xs text-rose-600",children:u.name})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Email"}),r.jsx("input",{type:"email",value:l.email,onChange:p=>m("email",p.target.value),disabled:!h||g,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),u.email&&r.jsx("p",{className:"text-xs text-rose-600",children:u.email})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Role"}),r.jsx("select",{value:l.role,onChange:p=>m("role",p.target.value),disabled:!h||g,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:cU.map(p=>r.jsx("option",{value:p,children:p},p))})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Status"}),r.jsx("select",{value:l.status,onChange:p=>m("status",p.target.value),disabled:!h||g,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:uU.map(p=>r.jsx("option",{value:p,children:p.replace("_"," ")},p))})]})]}),s!=="create"&&r.jsxs("div",{className:"grid grid-cols-1 gap-3 rounded-lg border border-slate-200 bg-slate-50 p-4 text-sm text-slate-700 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-800",children:"Created"}),r.jsx("p",{children:new Date(l.createdAt).toLocaleString()})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-800",children:"Last login"}),r.jsx("p",{children:l.lastLogin?new Date(l.lastLogin).toLocaleString():"Never"})]})]})]})}),r.jsx("div",{className:"sticky bottom-0 border-t border-slate-200 bg-white p-4",children:r.jsxs("div",{className:"flex flex-wrap justify-end gap-2",children:[s!=="create"&&r.jsxs(r.Fragment,{children:[l.status==="active"&&r.jsx(M,{variant:"outline",onClick:async()=>{l.id&&o?(await o(l.id,{status:"disabled"}),n()):m("status","disabled")},disabled:g,className:"border-rose-200 text-rose-700 hover:bg-rose-50",children:"Disable user"}),l.status==="disabled"&&r.jsx(M,{variant:"outline",onClick:async()=>{l.id&&o?(await o(l.id,{status:"active"}),n()):m("status","active")},disabled:g,children:"Enable user"}),l.status==="pending_invite"&&r.jsxs(r.Fragment,{children:[r.jsx(M,{variant:"outline",onClick:async()=>{l.id&&o&&(await o(l.id,{action:"resend_invite"}),n())},disabled:g,children:"Resend invite"}),r.jsx(M,{variant:"outline",onClick:async()=>{l.id&&o&&(await o(l.id,{status:"disabled"}),n())},disabled:g,children:"Cancel invite"})]})]}),r.jsx(M,{variant:"outline",onClick:n,disabled:g,children:"Cancel"}),r.jsx(M,{onClick:b,disabled:g,children:i?"Saving...":s==="create"?"Create user":"Save changes"})]})})]})})},fU=["owner","admin","editor","viewer"],pU=({open:e,onClose:t,onInvite:s,isSubmitting:n})=>{const[a,o]=E.useState(""),[i,l]=E.useState(""),[c,u]=E.useState("viewer"),[d,f]=E.useState({});if(E.useEffect(()=>{e&&(o(""),l(""),u("viewer"),f({}))},[e]),!e)return null;const h=()=>{const m={};return a.trim()||(m.name="Name is required."),i.trim()||(m.email="Email is required."),f(m),Object.keys(m).length===0},g=async()=>{h()&&await s({name:a.trim(),email:i.trim(),role:c})};return r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/30 backdrop-blur-sm",onClick:t,children:r.jsxs("div",{className:"w-full max-w-md rounded-xl border border-slate-200 bg-white p-5 shadow-2xl",onClick:m=>m.stopPropagation(),children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Invite user"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Send an invite to a new user with a selected role."}),r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsxs("div",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("label",{className:"font-medium",children:"Name"}),r.jsx("input",{type:"text",value:a,onChange:m=>o(m.target.value),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100"}),d.name&&r.jsx("p",{className:"text-xs text-rose-600",children:d.name})]}),r.jsxs("div",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("label",{className:"font-medium",children:"Email"}),r.jsx("input",{type:"email",value:i,onChange:m=>l(m.target.value),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100"}),d.email&&r.jsx("p",{className:"text-xs text-rose-600",children:d.email})]}),r.jsxs("div",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("label",{className:"font-medium",children:"Role"}),r.jsx("select",{value:c,onChange:m=>u(m.target.value),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",children:fU.map(m=>r.jsx("option",{value:m,children:m},m))})]})]}),r.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[r.jsx(M,{variant:"outline",onClick:t,disabled:n,children:"Cancel"}),r.jsx(M,{onClick:g,disabled:n,children:n?"Sending...":"Send invite"})]})]})})};function hU(){const[e,t]=x.useState([]),[s,n]=x.useState(!1),[a,o]=x.useState(!1),[i,l]=x.useState(!1),c=x.useRef(!0);x.useEffect(()=>()=>{c.current=!1},[]);const u=x.useCallback(async()=>{n(!0),o(!1);try{const m=await a2();c.current&&t(m)}catch{c.current&&o(!0)}finally{c.current&&n(!1)}},[]);x.useEffect(()=>{u()},[u]);const d=x.useCallback(async m=>OO(m),[]),f=x.useCallback(async m=>{l(!0);try{const w=await FO(m);return c.current&&t(b=>[w,...b]),w}finally{c.current&&l(!1)}},[]),h=x.useCallback(async(m,w)=>{l(!0);try{const b=await zO(m,w);return c.current&&t(y=>y.map(p=>p.id===b.id?b:p)),b}finally{c.current&&l(!1)}},[]),g=x.useCallback(async(m,w)=>{l(!0);try{const b=await UO(m,w);return c.current&&t(y=>y.map(p=>p.id===b.id?b:p)),b}finally{c.current&&l(!1)}},[]);return{users:e,isLoading:s,isError:a,isSaving:i,refresh:u,invite:f,update:h,patch:g,fetchUser:d}}const T0={owner:["All permissions"],admin:["Manage users","Manage all GDPR modules","View billing"],editor:["Edit Documents","Edit Policies","Manage DSR"],viewer:["Read-only access"]},mU=()=>{const{users:e,isLoading:t,isError:s,invite:n,update:a,patch:o,refresh:i,fetchUser:l,isSaving:c}=hU(),[u,d]=E.useState(""),[f,h]=E.useState("all"),[g,m]=E.useState("all"),[w,b]=E.useState(null),[y,p]=E.useState("view"),[v,j]=E.useState(!1),N=E.useMemo(()=>e.filter(R=>{const T=R.name.toLowerCase().includes(u.toLowerCase())||R.email.toLowerCase().includes(u.toLowerCase()),F=f==="all"?!0:R.role===f,O=g==="all"?!0:R.status===g;return T&&F&&O}),[e,u,f,g]),k=R=>{b(R),p("edit"),R.id&&l(R.id).then(T=>b(T)).catch(()=>{})},P=async(R,T)=>{T==="edit"&&R.id&&await a(R.id,R),await i(),b(null),p("view")},S=async R=>{await n(R),await i(),j(!1)};return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-slate-900",children:"Identity & Access Management"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Manage user accounts, roles and permissions."})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx(M,{variant:"outline",onClick:()=>j(!0),children:"Invite user"})})]}),r.jsx(lU,{search:u,role:f,status:g,onSearch:d,onRoleChange:h,onStatusChange:m}),s&&r.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 p-4 text-sm text-rose-700",children:"Failed to load users. Please try again."}),r.jsx(aU,{users:N,onSelect:k,isLoading:t,isError:s}),r.jsxs("div",{className:"space-y-3 rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Roles & Permissions"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Overview of default roles and their permissions."}),r.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:Object.keys(T0).map(R=>r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-900 capitalize",children:R}),r.jsx("ul",{className:"mt-2 list-disc space-y-1 pl-4 text-sm text-slate-700",children:T0[R].map(T=>r.jsx("li",{children:T},T))})]},R))})]}),r.jsx(dU,{user:w,isOpen:!!w,mode:y,onClose:()=>b(null),onSave:P,onPatch:async(R,T)=>{await o(R,T),await i()},isSaving:c}),r.jsx(pU,{open:v,onClose:()=>j(!1),onInvite:S,isSubmitting:c})]})},Ef=[{value:"owner",label:"Owner"},{value:"admin",label:"Admin"},{value:"user",label:"Editor"},{value:"viewer",label:"Viewer"}],xU=e=>{const t=(e??"").toString().toLowerCase();return t==="editor"?"user":["owner","admin","user","viewer"].includes(t)?t:"viewer"},gU=e=>(e??"").toString().toLowerCase()==="disabled"?"disabled":"active",D0=e=>({id:Number((e==null?void 0:e.id)??(e==null?void 0:e.user_tenant_id)??(e==null?void 0:e.userTenantId)??0),email:(e==null?void 0:e.email)??"",name:(e==null?void 0:e.name)??(e==null?void 0:e.full_name)??(e==null?void 0:e.fullName)??void 0,role:xU(e==null?void 0:e.role),status:gU(e==null?void 0:e.status),last_login:(e==null?void 0:e.last_login)??(e==null?void 0:e.lastLogin)??null,lastLogin:(e==null?void 0:e.lastLogin)??(e==null?void 0:e.last_login)??null}),yU=e=>{if(!e)return"";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},vU=({open:e,defaultRole:t,onClose:s,onSubmit:n,isSubmitting:a})=>{const[o,i]=E.useState(""),[l,c]=E.useState(t),[u,d]=E.useState(null);if(E.useEffect(()=>{e&&(i(""),c(t),d(null))},[t,e]),!e)return null;const f=async()=>{const h=o.trim();if(!h){d("Email is required");return}d(null),await n({email:h,role:l})};return r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/40 px-4 backdrop-blur-sm",children:r.jsxs("div",{className:"w-full max-w-lg overflow-hidden rounded-xl border border-slate-200 bg-white shadow-2xl",children:[r.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-5 py-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Invite user"}),r.jsx("p",{className:"text-lg font-semibold text-slate-900",children:"Add a teammate"})]}),r.jsx("button",{type:"button",onClick:s,className:"rounded-full p-2 text-slate-500 transition hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close dialog",children:"x"})]}),r.jsxs("div",{className:"space-y-4 p-5",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-sm font-medium text-slate-800",children:"Email"}),r.jsx(Y,{type:"email",value:o,onChange:h=>i(h.target.value),placeholder:"teammate@company.com",disabled:a}),u&&r.jsx("p",{className:"text-xs text-rose-600",children:u})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-sm font-medium text-slate-800",children:"Role"}),r.jsx("select",{className:"w-full rounded-md border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-60",value:l,onChange:h=>c(h.target.value),disabled:a,children:Ef.map(h=>r.jsx("option",{value:h.value,children:h.label},h.value))})]})]}),r.jsxs("div",{className:"flex items-center justify-end gap-2 border-t border-slate-200 bg-slate-50 px-5 py-3",children:[r.jsx(M,{variant:"outline",onClick:s,disabled:a,children:"Cancel"}),r.jsx(M,{onClick:f,disabled:a,children:a?r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(Rs,{className:"h-4 w-4 animate-spin"}),"Sending..."]}):"Invite"})]})]})})},wU=()=>{var R;const{user:e}=$t(),{toast:t}=Vt(),[s,n]=E.useState([]),[a,o]=E.useState(!0),[i,l]=E.useState(null),[c,u]=E.useState(!1),[d,f]=E.useState(!1),[h,g]=E.useState(!1),[m,w]=E.useState({}),b=(R=e==null?void 0:e.role)==null?void 0:R.toString().toLowerCase(),y=b==="owner"||b==="admin",p=(T,F)=>{w(O=>({...O,[T]:F}))},v=E.useCallback(async()=>{o(!0),l(null),u(!1);try{const T=await z.get("/api/admin/workspace/users",{validateStatus:O=>O>=200&&O<300||O===403});if(T.status===403){u(!0),n([]);return}const F=Array.isArray(T.data)?T.data:[];n(F.map(D0))}catch(T){l((T==null?void 0:T.message)??"Failed to load workspace users."),t({variant:"destructive",title:"Failed to load users",description:(T==null?void 0:T.message)??"Something went wrong while fetching workspace users."})}finally{o(!1)}},[t]);E.useEffect(()=>{y&&v()},[y,v]);const j=async T=>{g(!0);try{const F=await z.post("/api/admin/workspace/users/invite",T),O=D0(F.data);n(W=>[...W,O]),t({title:"Invitation recorded",description:`${T.email} has been added to the workspace.`}),f(!1)}catch(F){t({variant:"destructive",title:"Failed to invite user",description:(F==null?void 0:F.message)??"Please try again."})}finally{g(!1)}},N=(T,F)=>{n(O=>O.map(W=>W.id===T?{...W,...F}:W))},k=T=>{T&&n(F=>F.map(O=>O.id===T.id?T:O))},P=async(T,F)=>{var U;const O=s.find(q=>q.id===T),W=O?{...O}:void 0;N(T,{role:F}),p(T,!0);try{await z.patch(`/api/admin/workspace/users/${T}`,{role:F}),t({title:"Role updated",description:`Role changed to ${((U=Ef.find(q=>q.value===F))==null?void 0:U.label)??F}.`})}catch(q){k(W),t({variant:"destructive",title:"Failed to update role",description:(q==null?void 0:q.message)??"Please try again."})}finally{p(T,!1)}},S=async(T,F)=>{const O=s.find(U=>U.id===T),W=O?{...O}:void 0;N(T,{status:F}),p(T,!0);try{await z.patch(`/api/admin/workspace/users/${T}`,{status:F}),t({title:"Status updated",description:`User marked as ${F==="active"?"active":"disabled"}.`})}catch(U){k(W),t({variant:"destructive",title:"Failed to update status",description:(U==null?void 0:U.message)??"Please try again."})}finally{p(T,!1)}};return y?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-sky-600",children:"Workspace Admin"}),r.jsx("h1",{className:"text-3xl font-semibold text-slate-900",children:"Workspace Users & Roles"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Manage who can access your workspace and what they are allowed to do."})]}),r.jsxs(M,{onClick:()=>f(!0),className:"inline-flex items-center gap-2",children:[r.jsx(UP,{className:"h-4 w-4"}),"Invite user"]})]}),c?r.jsx(te,{className:"border-amber-200 bg-amber-50",children:r.jsxs(ue,{className:"flex flex-row items-center gap-3",children:[r.jsx("div",{className:"rounded-full bg-white p-2 text-amber-600 shadow-sm",children:r.jsx(ua,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsx(de,{className:"text-lg text-amber-900",children:"You do not have permission"}),r.jsx(Ut,{className:"text-amber-800",children:"You do not have permission to manage workspace users. Contact your workspace owner."})]})]})}):r.jsxs(te,{className:"shadow-sm",children:[r.jsxs(ue,{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx(de,{className:"text-xl text-slate-900",children:"Team directory"}),r.jsx(Ut,{children:"See everyone with access to this workspace and manage their permissions."})]}),r.jsxs("div",{className:"flex items-center gap-2 rounded-full border border-slate-200 bg-slate-50 px-3 py-1 text-xs font-semibold text-slate-600",children:[r.jsx(ct,{className:"h-4 w-4 text-sky-500"}),"Owner/Admin only"]})]}),r.jsxs(ae,{className:"space-y-4",children:[i&&r.jsx("div",{className:"rounded-md border border-rose-200 bg-rose-50 px-3 py-2 text-sm text-rose-700",children:i}),a?r.jsx("div",{className:"space-y-2",children:[0,1,2].map(T=>r.jsxs("div",{className:"grid grid-cols-12 items-center gap-3 rounded-lg border border-slate-100 bg-slate-50 px-4 py-3",children:[r.jsxs("div",{className:"col-span-4 space-y-2",children:[r.jsx(ie,{className:"h-4 w-3/4"}),r.jsx(ie,{className:"h-3 w-1/2"})]}),r.jsx(ie,{className:"col-span-2 h-8"}),r.jsx(ie,{className:"col-span-2 h-6"}),r.jsx(ie,{className:"col-span-3 h-4"}),r.jsx(ie,{className:"col-span-1 h-4"})]},`skeleton-${T}`))}):s.length===0?r.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-dashed border-slate-200 bg-slate-50 px-4 py-6",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-800",children:"No users yet."}),r.jsx("p",{className:"text-sm text-slate-600",children:"Invite your team to collaborate on GDPR compliance."})]}),r.jsx(M,{variant:"outline",onClick:()=>f(!0),children:"Invite user"})]}):r.jsxs("div",{className:"overflow-hidden rounded-xl border border-slate-200",children:[r.jsxs("div",{className:"grid grid-cols-12 bg-slate-50 px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-slate-600",children:[r.jsx("div",{className:"col-span-4",children:"Email"}),r.jsx("div",{className:"col-span-2",children:"Role"}),r.jsx("div",{className:"col-span-2",children:"Status"}),r.jsx("div",{className:"col-span-3",children:"Last login"}),r.jsx("div",{className:"col-span-1 text-right",children:"Actions"})]}),r.jsx("div",{className:"divide-y divide-slate-200 bg-white",children:s.map(T=>r.jsxs("div",{className:"grid grid-cols-12 items-center gap-3 px-4 py-3 hover:bg-slate-50",children:[r.jsxs("div",{className:"col-span-4",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:T.email}),r.jsx("p",{className:"text-xs text-slate-600",children:T.name??""})]}),r.jsx("div",{className:"col-span-2",children:r.jsx("select",{className:"w-full rounded-md border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:cursor-not-allowed disabled:opacity-60",value:T.role,onChange:F=>P(T.id,F.target.value),disabled:!!m[T.id],children:Ef.map(F=>r.jsx("option",{value:F.value,children:F.label},F.value))})}),r.jsxs("div",{className:"col-span-2 flex items-center gap-3",children:[r.jsx(Je,{className:T.status==="active"?"bg-emerald-100 text-emerald-700":"bg-slate-200 text-slate-700",variant:"outline",children:T.status==="active"?"Active":"Disabled"}),r.jsx(ma,{checked:T.status==="active",onCheckedChange:F=>S(T.id,F?"active":"disabled"),disabled:!!m[T.id]})]}),r.jsx("div",{className:"col-span-3 text-sm text-slate-700",children:yU(T.last_login??T.lastLogin)}),r.jsx("div",{className:"col-span-1 text-right text-sm text-slate-400",children:"\\u2014"})]},T.id))})]})]})]}),r.jsx(vU,{open:d,defaultRole:"user",onClose:()=>f(!1),onSubmit:j,isSubmitting:h})]}):r.jsx(hn,{to:"/app/dashboard",replace:!0})},bU=e=>{if(!e)return"--";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString(void 0,{year:"numeric",month:"2-digit",day:"2-digit"})},Ei=({title:e,value:t,icon:s})=>r.jsxs(te,{className:"shadow-sm",children:[r.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(de,{className:"text-sm font-medium text-slate-600",children:e}),s]}),r.jsx(ae,{children:r.jsx("p",{className:"text-2xl font-semibold text-slate-900",children:t})})]}),jU=()=>{var g;const{user:e}=$t(),{toast:t}=Vt(),[s,n]=E.useState(null),[a,o]=E.useState([]),[i,l]=E.useState(!0),[c,u]=E.useState(null),[d,f]=E.useState(!1),h=((g=e==null?void 0:e.email)==null?void 0:g.toLowerCase())==="admin@aura-gdpr.se";return E.useEffect(()=>{if(!h)return;(async()=>{l(!0),u(null),f(!1);try{const[w,b]=await Promise.all([z.get("/api/admin/platform/overview",{validateStatus:y=>y>=200&&y<300||y===403}),z.get("/api/admin/platform/tenants",{validateStatus:y=>y>=200&&y<300||y===403})]);if(w.status===403||b.status===403){f(!0),n(null),o([]);return}n(w.data??null),o(Array.isArray(b.data)?b.data:[])}catch(w){const b=(w==null?void 0:w.message)??"Failed to load platform overview.";u(b),t({variant:"destructive",title:"Failed to load data",description:b})}finally{l(!1)}})()},[h,t]),h?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-sky-600",children:"Platform"}),r.jsx("h1",{className:"text-3xl font-semibold text-slate-900",children:"Platform Admin"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Global overview of all tenants."})]}),d?r.jsx(te,{className:"border-amber-200 bg-amber-50",children:r.jsxs(ue,{className:"flex flex-row items-center gap-3",children:[r.jsx("div",{className:"rounded-full bg-white p-2 text-amber-600 shadow-sm",children:r.jsx(ua,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsx(de,{className:"text-lg text-amber-900",children:"Access denied"}),r.jsx(Ut,{className:"text-amber-800",children:"You do not have access to the Platform Admin area."})]})]})}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:i?r.jsx(r.Fragment,{children:[0,1,2,3].map(m=>r.jsx(te,{className:"shadow-sm",children:r.jsxs(ue,{className:"space-y-2",children:[r.jsx(ie,{className:"h-4 w-24"}),r.jsx(ie,{className:"h-6 w-16"})]})},`stat-skeleton-${m}`))}):r.jsxs(r.Fragment,{children:[r.jsx(Ei,{title:"Tenants total",value:(s==null?void 0:s.tenants_total)??0,icon:r.jsx(yP,{className:"h-5 w-5 text-slate-500"})}),r.jsx(Ei,{title:"Users total",value:(s==null?void 0:s.users_total)??0,icon:r.jsx(Sl,{className:"h-5 w-5 text-slate-500"})}),r.jsx(Ei,{title:"DSRs total",value:(s==null?void 0:s.dsr_total)??0,icon:r.jsx(dc,{className:"h-5 w-5 text-slate-500"})}),r.jsx(Ei,{title:"DPIAs total",value:(s==null?void 0:s.dpia_total)??0,icon:r.jsx(qw,{className:"h-5 w-5 text-slate-500"})})]})}),r.jsxs(te,{className:"shadow-sm",children:[r.jsxs(ue,{className:"flex flex-row items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(de,{className:"text-xl text-slate-900",children:"Tenants"}),r.jsx(Ut,{children:"List of all tenants across the platform."})]}),i&&r.jsx(Rs,{className:"h-5 w-5 animate-spin text-slate-500","aria-label":"Loading tenants"})]}),r.jsxs(ae,{children:[c&&r.jsx("div",{className:"mb-3 rounded-md border border-rose-200 bg-rose-50 px-3 py-2 text-sm text-rose-700",children:c}),i?r.jsx("div",{className:"space-y-2",children:[0,1,2].map(m=>r.jsxs("div",{className:"grid grid-cols-12 items-center gap-3 rounded-lg border border-slate-100 bg-slate-50 px-4 py-3",children:[r.jsx(ie,{className:"col-span-4 h-4"}),r.jsx(ie,{className:"col-span-3 h-4"}),r.jsx(ie,{className:"col-span-3 h-4"}),r.jsx(ie,{className:"col-span-2 h-4"})]},`tenant-skeleton-${m}`))}):a.length===0?r.jsx("p",{className:"text-sm text-slate-600",children:"No tenants found."}):r.jsxs("div",{className:"overflow-hidden rounded-lg border border-slate-200",children:[r.jsxs("div",{className:"grid grid-cols-12 bg-slate-50 px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-slate-600",children:[r.jsx("div",{className:"col-span-4",children:"Name"}),r.jsx("div",{className:"col-span-3",children:"Plan"}),r.jsx("div",{className:"col-span-3",children:"Status"}),r.jsx("div",{className:"col-span-2",children:"Created"})]}),r.jsx("div",{className:"divide-y divide-slate-200 bg-white",children:a.map(m=>r.jsxs("div",{className:"grid grid-cols-12 items-center gap-3 px-4 py-3",children:[r.jsx("div",{className:"col-span-4",children:r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:m.name})}),r.jsx("div",{className:"col-span-3 text-sm text-slate-700",children:m.plan}),r.jsx("div",{className:"col-span-3 text-sm text-slate-700",children:m.status}),r.jsx("div",{className:"col-span-2 text-sm text-slate-700",children:bU(m.created_at)})]},m.id))})]})]})]})]})]}):r.jsx(hn,{to:"/app/dashboard",replace:!0})},NU=()=>r.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-slate-900 via-sky-900 to-purple-900 text-center p-4",children:[r.jsx(Qe.div,{initial:{opacity:0,y:-50,rotate:-5},animate:{opacity:1,y:0,rotate:0},transition:{type:"spring",stiffness:100,duration:.8},children:r.jsx(Is,{className:"h-32 w-32 text-yellow-400 mb-8 animate-pulse"})}),r.jsx(Qe.h1,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.5},className:"text-6xl font-extrabold text-slate-100 mb-4",children:"404"}),r.jsx(Qe.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.5},className:"text-2xl text-slate-300 mb-8",children:"Page not found"}),r.jsx(Qe.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.5},className:"text-slate-400 mb-10 max-w-md",children:"The page you're looking for doesn't exist or has been moved. Let's get you back on track."}),r.jsx(Qe.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.8,duration:.5},children:r.jsx(M,{asChild:!0,size:"lg",className:"bg-gradient-to-r from-sky-500 to-purple-600 hover:from-sky-600 hover:to-purple-700 text-white font-semibold py-3 px-8 text-lg",children:r.jsx(Te,{to:"/app/dashboard",children:"Go to Dashboard"})})})]}),SU=()=>{const e=hs();return r.jsx("div",{className:"flex min-h-screen flex-col items-center justify-center bg-gradient-to-br from-slate-100 to-white px-4 text-center",children:r.jsxs("div",{className:"max-w-md space-y-6 rounded-2xl border border-slate-200 bg-white p-10 shadow-sm",children:[r.jsx("div",{className:"mx-auto flex h-16 w-16 items-center justify-center rounded-full bg-rose-50 text-rose-600",children:r.jsx(Fw,{className:"h-8 w-8"})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Something went wrong"}),r.jsx("p",{className:"text-sm text-slate-600",children:"An error occurred while loading this page. Try refreshing, or contact support if the issue persists."})]}),r.jsxs("div",{className:"flex flex-wrap justify-center gap-3",children:[r.jsxs(M,{onClick:()=>window.location.reload(),className:"gap-2",children:[r.jsx(fc,{className:"h-4 w-4"}),"Refresh page"]}),r.jsx(M,{variant:"outline",onClick:()=>e("/app/dashboard"),children:"Go to dashboard"})]})]})})},kU=e=>e>=80?"bg-emerald-50 text-emerald-700 border-emerald-200":e>=50?"bg-amber-50 text-amber-700 border-amber-200":"bg-rose-50 text-rose-700 border-rose-200",CU=({score:e})=>r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:[r.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Overall security score"}),r.jsxs("div",{className:"mt-2 flex items-end gap-3",children:[r.jsx("p",{className:"text-4xl font-semibold text-slate-900",children:e}),r.jsx("span",{className:`rounded-full border px-3 py-1 text-xs font-semibold ${kU(e)}`,children:e>=80?"Good":e>=50?"Needs attention":"Critical"})]}),r.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Higher scores indicate stronger technical and organisational measures."})]}),AU=({kpi:e})=>{const t=Math.min(100,Math.round(e.value/e.max*100));return r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[r.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:e.label}),r.jsxs("div",{className:"mt-2 flex items-baseline gap-2",children:[r.jsx("p",{className:"text-2xl font-semibold text-slate-900",children:e.value}),r.jsxs("p",{className:"text-xs text-slate-500",children:["/ ",e.max]})]}),r.jsx("div",{className:"mt-2 h-2 w-full rounded-full bg-slate-100",children:r.jsx("div",{className:"h-2 rounded-full bg-sky-500",style:{width:`${t}%`}})})]})},PU={good:"bg-emerald-50 text-emerald-700 border-emerald-200",medium:"bg-amber-50 text-amber-700 border-amber-200",poor:"bg-rose-50 text-rose-700 border-rose-200"},EU=({controls:e})=>r.jsx("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:r.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:e.map(t=>r.jsxs("div",{className:`rounded-lg border p-3 ${PU[t.level]}`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-sm font-semibold",children:t.name}),r.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide",children:t.level})]}),r.jsx("p",{className:"text-xs text-slate-700",children:t.category})]},t.id))})}),RU={active:"bg-emerald-50 text-emerald-700 border-emerald-200",inactive:"bg-amber-50 text-amber-700 border-amber-200",not_configured:"bg-slate-100 text-slate-700 border-slate-200"},TU={active:"Active",inactive:"Inactive",not_configured:"Not configured"},DU=({integration:e})=>r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:e.name}),r.jsx("span",{className:`rounded-full border px-2.5 py-1 text-xs font-semibold ${RU[e.status]}`,children:TU[e.status]})]}),r.jsx("p",{className:"mt-2 text-sm text-slate-700",children:e.description})]}),_U={low:"border-slate-200 text-slate-700 bg-slate-50",medium:"border-amber-200 text-amber-700 bg-amber-50",high:"border-rose-200 text-rose-700 bg-rose-50",critical:"border-rose-300 text-rose-800 bg-rose-50"},MU=({warnings:e})=>e.length===0?r.jsx("p",{className:"text-sm text-muted-foreground",children:"No warnings. Security posture looks good."}):r.jsx("div",{className:"space-y-3",children:e.map(t=>r.jsx("div",{className:`rounded-lg border px-3 py-3 text-sm font-semibold ${_U[t.severity]}`,children:t.message},t.id))}),LU={info:"bg-slate-100 text-slate-700 border-slate-200",warning:"bg-amber-50 text-amber-700 border-amber-200",critical:"bg-rose-50 text-rose-700 border-rose-200"},IU=e=>{const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},OU=({events:e})=>e.length===0?r.jsx("p",{className:"text-sm text-muted-foreground",children:"No recent security events."}):r.jsx("div",{className:"space-y-3",children:e.map(t=>r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-3 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:`rounded-full border px-2.5 py-1 text-[11px] font-semibold uppercase tracking-wide ${LU[t.severity]}`,children:t.severity}),r.jsx("span",{className:"text-xs text-slate-500",children:IU(t.timestamp)})]}),r.jsx("p",{className:"mt-1 text-sm font-semibold text-slate-900",children:t.event}),r.jsxs("p",{className:"text-xs text-slate-600",children:["Source: ",t.source]})]},t.id))});function FU(){const[e]=x.useState(78),[t]=x.useState([{id:"kpi_encryption",label:"Encryption coverage",value:90,max:100},{id:"kpi_access_control",label:"Access control maturity",value:65,max:100},{id:"kpi_backup",label:"Backup integrity",value:80,max:100},{id:"kpi_patch",label:"Patch compliance",value:70,max:100}]),[s]=x.useState([{id:"ctrl_firewall",name:"Firewall configuration",category:"Network",level:"good"},{id:"ctrl_mfa",name:"MFA / 2FA enforcement",category:"Access control",level:"medium"},{id:"ctrl_encryption",name:"Encryption at rest",category:"Encryption",level:"good"},{id:"ctrl_logging",name:"Logging & monitoring",category:"Monitoring",level:"medium"},{id:"ctrl_backup",name:"Backup testing",category:"Resilience",level:"poor"}]),[n]=x.useState([{id:"int_siem",name:"SIEM integration",status:"active",description:"Security events forwarded to SIEM."},{id:"int_sso",name:"SSO / Identity Provider",status:"active",description:"SSO configured for all users."},{id:"int_2fa",name:"2FA enforcement",status:"inactive",description:"2FA not enforced for all users."},{id:"int_vuln",name:"Vulnerability scanner",status:"not_configured",description:"Scanner not yet connected to assets."}]),[a]=x.useState([{id:"warn_1",severity:"high",message:"2FA is not enforced for all users."},{id:"warn_2",severity:"medium",message:"Backups have not been tested in 90 days."}]),[o]=x.useState([{id:"evt_1",timestamp:"2025-05-14T10:00:00Z",event:"User failed login attempt",source:"Identity provider",severity:"warning"},{id:"evt_2",timestamp:"2025-05-14T09:20:00Z",event:"Firewall rule updated",source:"Network firewall",severity:"info"},{id:"evt_3",timestamp:"2025-05-13T18:00:00Z",event:"Backup completed successfully",source:"Backup system",severity:"info"},{id:"evt_4",timestamp:"2025-05-13T16:45:00Z",event:"Unusual login pattern detected",source:"SIEM",severity:"critical"}]);return{score:e,kpis:t,controls:s,integrations:n,warnings:a,events:o,isLoading:!1,isError:!1}}const zU=()=>{const{score:e,kpis:t,controls:s,integrations:n,warnings:a,events:o}=FU();return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-slate-900",children:"Security health"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Overview of your technical and organisational security posture."})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsx("div",{className:"md:col-span-1",children:r.jsx(CU,{score:e})}),r.jsx("div",{className:"md:col-span-2 grid gap-4 sm:grid-cols-2",children:t.map(i=>r.jsx(AU,{kpi:i},i.id))})]}),r.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[r.jsx(EU,{controls:s}),r.jsx("div",{className:"grid gap-3",children:n.map(i=>r.jsx(DU,{integration:i},i.id))})]}),r.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"System warnings"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Actionable items detected by the security engine."}),r.jsx("div",{className:"mt-3",children:r.jsx(MU,{warnings:a})})]}),r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Recent security events"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Latest security signals and activities."}),r.jsx("div",{className:"mt-3",children:r.jsx(OU,{events:o})})]})]})]})},zs="mx-auto w-full max-w-6xl px-4 sm:px-6",UU=()=>r.jsx("section",{className:"bg-gradient-to-b from-white via-slate-50 to-white py-16 sm:py-24",children:r.jsxs("div",{className:zs+" grid gap-12 lg:grid-cols-2 lg:items-center",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-sky-50 px-3 py-1 text-xs font-semibold text-sky-700",children:[r.jsx(gt,{className:"h-4 w-4"}),"AI-driven GDPR platform"]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h1",{className:"text-4xl font-bold tracking-tight text-slate-900 sm:text-5xl",children:"AI-driven GDPR platform"}),r.jsx("p",{className:"text-lg text-slate-600",children:"AURA-GDPR centralizes DSRs, ROPA, DPIA, incidents, and policies with AI assistance so you can stay compliant without slowing down."})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsx(Te,{to:"/register",children:r.jsx(M,{size:"lg",className:"px-6",children:"Start free trial"})}),r.jsx(Te,{to:"/contact",children:r.jsx(M,{size:"lg",variant:"outline",className:"px-6",children:"Book a demo"})})]}),r.jsx("p",{className:"text-sm text-slate-500",children:"No credit card required. SOC2-ready infrastructure."}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-slate-600 sm:max-w-lg sm:grid-cols-3",children:[r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-3",children:[r.jsx("p",{className:"font-semibold text-slate-900",children:"AI audit-ready"}),r.jsx("p",{className:"text-slate-500",children:"Recommendations and evidence."})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-3",children:[r.jsx("p",{className:"font-semibold text-slate-900",children:"Fast onboarding"}),r.jsx("p",{className:"text-slate-500",children:"Invite your team in minutes."})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-3",children:[r.jsx("p",{className:"font-semibold text-slate-900",children:"Secure by design"}),r.jsx("p",{className:"text-slate-500",children:"SSO, audit logs, encryption."})]})]})]}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute -left-6 -top-6 h-16 w-16 rounded-full bg-sky-100 blur-2xl","aria-hidden":!0}),r.jsx("div",{className:"absolute -right-10 bottom-10 h-24 w-24 rounded-full bg-indigo-100 blur-3xl","aria-hidden":!0}),r.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white p-6 shadow-xl shadow-slate-900/5",children:[r.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[r.jsx("div",{className:"h-2 w-8 rounded-full bg-sky-500"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("span",{className:"h-2 w-2 rounded-full bg-slate-300"}),r.jsx("span",{className:"h-2 w-2 rounded-full bg-slate-300"}),r.jsx("span",{className:"h-2 w-2 rounded-full bg-slate-300"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"AI audit overview"}),r.jsx("span",{className:"rounded-full bg-emerald-100 px-3 py-1 text-xs font-semibold text-emerald-700",children:"Live"})]}),r.jsx("p",{className:"text-sm text-slate-600",children:"AURA scans DPIAs, ROPA, incidents, and policies to surface gaps before auditors and regulators do."}),r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm text-slate-700",children:[r.jsx("span",{children:"DPIA coverage"}),r.jsx("span",{className:"font-semibold text-slate-900",children:"92%"})]}),r.jsx("div",{className:"mt-2 h-2 rounded-full bg-slate-200",children:r.jsx("div",{className:"h-2 w-[92%] rounded-full bg-sky-500"})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm text-slate-700",children:[r.jsx("span",{children:"Open tasks"}),r.jsx("span",{className:"font-semibold text-slate-900",children:"14"})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm text-slate-700",children:[r.jsx("span",{children:"DSR SLA at risk"}),r.jsx("span",{className:"font-semibold text-amber-600",children:"2"})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm text-slate-700",children:[r.jsx("span",{children:"Incidents under investigation"}),r.jsx("span",{className:"font-semibold text-rose-600",children:"3"})]})]})]})]}),r.jsxs("div",{className:"mt-4 flex items-center gap-3 rounded-xl border border-dashed border-slate-200 bg-slate-50 p-4 text-sm text-slate-700",children:[r.jsx(XP,{className:"h-5 w-5 text-sky-600"}),r.jsx("span",{children:"Demo video placeholder  coming soon."})]})]})]})}),VU=()=>{const e=["Acme Health","Nimbus Cloud","Northwind","Atlas Bank","Evergreen","Orbit Retail"];return r.jsx("section",{className:"bg-white py-10",children:r.jsxs("div",{className:zs+" space-y-6",children:[r.jsx("p",{className:"text-center text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Trusted by modern teams"}),r.jsx("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-3 lg:grid-cols-6",children:e.map(t=>r.jsx("div",{className:"flex h-10 min-w-[120px] items-center justify-center rounded-lg border border-slate-200 bg-slate-50 px-4 text-sm font-semibold text-slate-500",children:t},t))})]})})},$U=()=>{const e=[{title:"Data Subject Requests",icon:Yd,description:"Standardized workflows with SLA tracking and auditable responses."},{title:"ROPA & DPIA",icon:Yr,description:"Templates, ownership, and risk scoring for complete accountability."},{title:"AI Policy Generator",icon:gt,description:"Draft and update policies automatically with AI assistance."},{title:"Incident Management",icon:FP,description:"Log, investigate, and communicate breaches with clear timelines."},{title:"Audit Engine",icon:ct,description:"Continuous checks with evidence to keep auditors satisfied."},{title:"Multi-tenant & MSP-ready",icon:SP,description:"Isolated tenants with centralized control for managed service providers."}];return r.jsx("section",{className:"bg-white py-16 sm:py-20",id:"features",children:r.jsxs("div",{className:zs,children:[r.jsxs("div",{className:"flex flex-col items-start gap-4 sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold uppercase tracking-wide text-sky-700",children:"Platform"}),r.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"Everything you need for GDPR"}),r.jsx("p",{className:"mt-2 max-w-2xl text-slate-600",children:"AURA-GDPR centralizes evidence, workflows, and AI so you can move faster than auditors."})]}),r.jsx(Te,{to:"/contact",children:r.jsx(M,{variant:"outline",size:"sm",children:"Talk to our team"})})]}),r.jsx("div",{className:"mt-10 grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:e.map(t=>r.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[r.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-sky-50 text-sky-600",children:r.jsx(t.icon,{className:"h-5 w-5"})}),r.jsx("h3",{className:"mt-4 text-lg font-semibold text-slate-900",children:t.title}),r.jsx("p",{className:"mt-2 text-sm text-slate-600",children:t.description}),r.jsxs("div",{className:"mt-3 flex items-center gap-2 text-sm text-sky-700",children:[r.jsx(Op,{className:"h-4 w-4"}),r.jsx("span",{children:"AI-assisted"})]})]},t.title))})]})})},BU=()=>{const e=[{title:"Connect your organization",description:"Invite your team, set up workspaces, and import existing records or evidence."},{title:"Import or generate documentation",description:"Generate DPIAs, ROPA, policies, and incident timelines with AI templates."},{title:"Monitor and fix risks with AI",description:"Continuous checks with alerts for deadlines, gaps, and incidents."}];return r.jsx("section",{className:"bg-slate-50 py-16 sm:py-20",children:r.jsxs("div",{className:zs+" space-y-10",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold uppercase tracking-wide text-sky-700",children:"How it works"}),r.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"Stand up a GDPR program in days, not months"}),r.jsx("p",{className:"mt-2 max-w-2xl text-slate-600",children:"Configure once, collaborate with your teams, and keep everything in sync across auditors and regulators."})]}),r.jsx("div",{className:"grid gap-6 md:grid-cols-3",children:e.map((t,s)=>r.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[r.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-sky-600 text-sm font-semibold text-white",children:s+1}),r.jsx("h3",{className:"mt-4 text-lg font-semibold text-slate-900",children:t.title}),r.jsx("p",{className:"mt-2 text-sm text-slate-600",children:t.description})]},t.title))})]})})},WU=()=>{const e=[{name:"Free",price:"$0",description:"Start with the basics and grow at your pace.",features:["1 workspace","DSR inbox","Basic templates"],cta:"Get started",popular:!1},{name:"Pro",price:"$59",description:"For privacy teams that need automation and AI.",features:["Unlimited workspaces","AI policy drafts","Incident workflow","ROPA & DPIA builder"],cta:"Start free trial",popular:!0},{name:"Enterprise",price:"Talk to us",description:"For multi-tenant deployments and enterprise support.",features:["MSP-ready","Dedicated CSM","Custom AI models","Private cloud"],cta:"Contact sales",popular:!1}];return r.jsx("section",{className:"bg-white py-16 sm:py-20",id:"pricing",children:r.jsxs("div",{className:zs+" space-y-10",children:[r.jsxs("div",{className:"flex flex-col items-start gap-3 sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold uppercase tracking-wide text-sky-700",children:"Pricing"}),r.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"Pick a plan that matches your GDPR maturity"}),r.jsx("p",{className:"mt-2 text-slate-600",children:"Transparent pricing for teams of all sizes."})]}),r.jsx(Te,{to:"/contact",children:r.jsx(M,{size:"sm",variant:"outline",children:"Contact sales"})})]}),r.jsx("div",{className:"grid gap-6 md:grid-cols-3",children:e.map(t=>r.jsxs("div",{className:`flex h-full flex-col rounded-2xl border border-slate-200 bg-white p-6 shadow-sm ${t.popular?"ring-2 ring-sky-500 ring-offset-2":""}`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:t.name}),t.popular&&r.jsx("span",{className:"rounded-full bg-sky-100 px-3 py-1 text-xs font-semibold text-sky-700",children:"Popular"})]}),r.jsx("p",{className:"mt-2 text-sm text-slate-600",children:t.description}),r.jsx("p",{className:"mt-4 text-3xl font-bold text-slate-900",children:t.price}),r.jsx("ul",{className:"mt-4 space-y-2 text-sm text-slate-700",children:t.features.map(s=>r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(Op,{className:"h-4 w-4 text-sky-600"}),r.jsx("span",{children:s})]},s))}),r.jsx(Te,{to:t.name==="Enterprise"?"/contact":"/register",className:"mt-auto",children:r.jsx(M,{className:"mt-4 w-full",variant:t.popular?"default":"outline",children:t.cta})})]},t.name))})]})})},HU=()=>{const e=[{question:"How long does it take to get started?",answer:"Most teams launch within one week using our templates."},{question:"Do you offer multi-tenant deployments?",answer:"Yes, AURA-GDPR is MSP-ready with tenant isolation."},{question:"Is there an API?",answer:"Yes, the platform exposes APIs for incidents, tasks, and evidence ingestion."},{question:"Can I import existing records?",answer:"Yes, import CSV, JSON, or connect via API."},{question:"Do you support SOC2 or ISO27001?",answer:"Yes, we provide evidence mapping and audit support."},{question:"Where is data hosted?",answer:"Deploy in EU regions or your own cloud with private tenancy."},{question:"Can I try before buying?",answer:"Yes, start a free trial with AI features enabled."},{question:"Do you help with DPIAs?",answer:"Yes, we provide templates and AI drafting to speed up DPIAs."}],[t,s]=E.useState(0);return r.jsx("section",{className:"bg-slate-50 py-16 sm:py-20",id:"faq",children:r.jsxs("div",{className:zs+" space-y-8",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsx("p",{className:"text-sm font-semibold uppercase tracking-wide text-sky-700",children:"FAQ"}),r.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"Common questions"}),r.jsx("p",{className:"max-w-2xl text-slate-600",children:"Everything you need to know about AURA-GDPR pricing, deployment, and features."})]}),r.jsx("div",{className:"space-y-4",children:e.map((n,a)=>{const o=t===a;return r.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm transition hover:shadow-md",children:[r.jsxs("button",{className:"flex w-full items-center justify-between text-left",onClick:()=>s(o?null:a),children:[r.jsx("span",{className:"text-base font-semibold text-slate-900",children:n.question}),r.jsx("span",{className:"text-slate-500",children:o?"":"+"})]}),o&&r.jsx("p",{className:"mt-3 text-sm text-slate-600",children:n.answer})]},n.question)})})]})})},qU=()=>r.jsx("section",{className:"bg-white py-16 sm:py-20",children:r.jsx("div",{className:zs,children:r.jsxs("div",{className:"flex flex-col items-start gap-6 rounded-2xl border border-slate-200 bg-gradient-to-r from-sky-50 to-indigo-50 p-8 shadow-sm md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold uppercase tracking-wide text-sky-700",children:"Get started"}),r.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:"Ready to get compliant?"}),r.jsx("p",{className:"mt-2 max-w-xl text-slate-600",children:"Talk with our team to see how AURA-GDPR fits your compliance program and AI roadmap."})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsx(Te,{to:"/contact",children:r.jsx(M,{size:"lg",className:"px-6",children:"Contact us"})}),r.jsx(Te,{to:"/register",children:r.jsx(M,{size:"lg",variant:"outline",className:"px-6",children:"Start free trial"})})]})]})})}),GU=()=>{const e=new Date().getFullYear();return r.jsx("footer",{className:"bg-white py-12",children:r.jsxs("div",{className:zs+" space-y-6",children:[r.jsxs("div",{className:"flex flex-col justify-between gap-4 border-b border-slate-200 pb-6 sm:flex-row sm:items-center",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-sky-600 text-lg font-bold text-white",children:"AG"}),r.jsx("span",{className:"text-xl font-semibold text-slate-900",children:"AURA-GDPR"})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-slate-600",children:[r.jsx(Te,{to:"/blog",className:"hover:text-slate-900",children:"Blog"}),r.jsx(Te,{to:"/contact",className:"hover:text-slate-900",children:"Contact"}),r.jsx(Te,{to:"/login",className:"hover:text-slate-900",children:"Sign in"})]})]}),r.jsxs("div",{className:"grid gap-4 text-sm text-slate-600 sm:grid-cols-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Fp,{className:"h-4 w-4 text-sky-600"}),r.jsx("span",{children:"hello@aura-gdpr.com"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($P,{className:"h-4 w-4 text-sky-600"}),r.jsx("span",{children:"+1 (555) 123-4567"})]}),r.jsxs("div",{className:"text-slate-500 sm:text-right",children:[" ",e," AURA-GDPR. All rights reserved."]})]})]})})},KU=()=>r.jsxs("div",{className:"min-h-screen bg-white text-slate-900",children:[r.jsx("header",{className:"border-b border-slate-200 bg-white",children:r.jsxs("div",{className:zs+" flex items-center justify-between py-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-sky-600 text-lg font-bold text-white",children:"AG"}),r.jsx("span",{className:"text-xl font-semibold text-slate-900",children:"AURA-GDPR"})]}),r.jsxs("div",{className:"hidden items-center gap-3 sm:flex",children:[r.jsx(Te,{to:"/login",className:"text-sm font-semibold text-slate-700 hover:text-slate-900",children:"Log in"}),r.jsx(Te,{to:"/register",children:r.jsx(M,{size:"sm",children:"Start free trial"})})]})]})}),r.jsxs("main",{children:[r.jsx(UU,{}),r.jsx(VU,{}),r.jsx($U,{}),r.jsx(BU,{}),r.jsx(WU,{}),r.jsx(HU,{}),r.jsx(qU,{})]}),r.jsx(GU,{})]}),u2=[{slug:"ai-driven-gdpr-automation",title:"AI-driven GDPR automation for modern teams",summary:"How AURA-GDPR uses AI to draft policies, surface risks, and streamline audits.",date:"2025-02-01"},{slug:"building-a-dsr-center-of-excellence",title:"Building a DSR center of excellence",summary:"Best practices to handle data subject requests with repeatable workflows and SLAs.",date:"2025-01-20"},{slug:"multi-tenant-privacy-at-scale",title:"Multi-tenant privacy at scale",summary:"Why MSPs and multi-brand companies choose AURA-GDPR for isolated tenants.",date:"2025-01-05"}],YU=()=>r.jsx("div",{className:"min-h-screen bg-white text-slate-900",children:r.jsxs("div",{className:"mx-auto w-full max-w-5xl px-4 py-12 sm:px-6 sm:py-16 space-y-8",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm font-semibold uppercase tracking-wide text-sky-700",children:"Blog"}),r.jsx("h1",{className:"text-4xl font-bold tracking-tight text-slate-900",children:"Insights from the AURA-GDPR team"}),r.jsx("p",{className:"text-slate-600",children:"Guides and updates on GDPR, AI compliance, and running privacy programs."})]}),r.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:u2.map(e=>r.jsxs(ce,{title:e.title,subtitle:new Date(e.date).toLocaleDateString("en-US"),children:[r.jsx("p",{className:"text-sm text-slate-600",children:e.summary}),r.jsxs(Te,{to:`/blog/${e.slug}`,className:"mt-4 inline-flex items-center gap-2 text-sm font-semibold text-sky-700 hover:text-sky-800",children:["Read more",r.jsx(Uw,{className:"h-4 w-4"})]})]},e.slug))})]})}),XU=()=>{const{slug:e}=rw(),t=u2.find(s=>s.slug===e);return t?r.jsx("div",{className:"min-h-screen bg-white text-slate-900",children:r.jsxs("div",{className:"mx-auto w-full max-w-4xl px-4 py-16 sm:px-6 space-y-6",children:[r.jsxs(Te,{to:"/blog",className:"inline-flex items-center gap-2 text-sm font-semibold text-sky-700 hover:text-sky-800",children:[r.jsx(zw,{className:"h-4 w-4"}),"Back to blog"]}),r.jsx(ce,{title:t.title,subtitle:new Date(t.date).toLocaleDateString("en-US"),children:r.jsxs("div",{className:"space-y-3 text-sm text-slate-700",children:[r.jsxs("p",{children:["This is a preview article for ",r.jsx("strong",{children:t.title}),". Detailed content will be published soon. In the meantime, contact our team to learn how AURA-GDPR can help with GDPR automation and AI."]}),r.jsx("p",{children:"AURA-GDPR brings AI-powered workflows to DPIA, ROPA, incidents, and policies. Customers use our platform to generate documentation, track tasks, and keep regulators happy with always-on audit readiness."}),r.jsx("p",{children:"Stay tuned for more insights, customer stories, and deep dives into privacy engineering."})]})})]})}):r.jsx("div",{className:"min-h-screen bg-white text-slate-900",children:r.jsx("div",{className:"mx-auto w-full max-w-4xl px-4 py-16 sm:px-6",children:r.jsx(ce,{title:"Post not found",subtitle:"The blog post you are looking for does not exist.",children:r.jsx(Te,{to:"/blog",className:"text-sm font-semibold text-sky-700 hover:text-sky-800",children:"Back to blog"})})})})},QU=()=>{const[e,t]=x.useState({name:"",company:"",email:"",message:""}),[s,n]=x.useState(!1),a=o=>{o.preventDefault(),n(!0)};return r.jsx("div",{className:"min-h-screen bg-white text-slate-900",children:r.jsxs("div",{className:"mx-auto w-full max-w-4xl px-4 py-16 sm:px-6 space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm font-semibold uppercase tracking-wide text-sky-700",children:"Contact"}),r.jsx("h1",{className:"text-4xl font-bold tracking-tight text-slate-900",children:"Talk to our team"}),r.jsx("p",{className:"text-slate-600",children:"Share a few details and we will get back to you shortly about pricing, demos, or partnerships."})]}),r.jsx(ce,{title:"Contact us",subtitle:"We respond within one business day.",children:s?r.jsx("div",{className:"rounded-lg border border-emerald-200 bg-emerald-50 p-4 text-sm text-emerald-700",children:"Thank you, we will get back to you soon."}):r.jsxs("form",{className:"space-y-4",onSubmit:a,children:[r.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-sm font-semibold text-slate-700",htmlFor:"name",children:"Name"}),r.jsx(Y,{id:"name",value:e.name,onChange:o=>t(i=>({...i,name:o.target.value})),required:!0})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-sm font-semibold text-slate-700",htmlFor:"company",children:"Company"}),r.jsx(Y,{id:"company",value:e.company,onChange:o=>t(i=>({...i,company:o.target.value}))})]})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-sm font-semibold text-slate-700",htmlFor:"email",children:"Email"}),r.jsx(Y,{id:"email",type:"email",value:e.email,onChange:o=>t(i=>({...i,email:o.target.value})),required:!0})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-sm font-semibold text-slate-700",htmlFor:"message",children:"Message"}),r.jsx(Me,{id:"message",rows:5,value:e.message,onChange:o=>t(i=>({...i,message:o.target.value})),required:!0})]}),r.jsx(M,{type:"submit",children:"Submit"})]})})]})})},JU=()=>x.useCallback(e=>{z.post("/analytics/event",{event_name:e}).catch(()=>{})},[]),Da=(e,t)=>`Step ${e+1}: ${t}`,ZU=()=>{const e=hs(),t=JU(),{toast:s}=Vt(),{state:n,loading:a,completeOnboarding:o}=Rb(),{progress:i,markComplete:l}=Qp(),{demoMode:c}=Fs(),u=D=>D instanceof Error?D.message:"Please try again.",[d,f]=E.useState(""),[h,g]=E.useState(""),[m,w]=E.useState({email:"",role:"Admin"}),[b,y]=E.useState(""),[p,v]=E.useState(0),[j,N]=E.useState(null),[k,P]=E.useState("idle"),[S,R]=E.useState(!1),[T,F]=E.useState(!1);E.useEffect(()=>{const D=[i.organizationDetails,S,T,i.policyGenerated,n.completed],C=D.findIndex(_=>!_);v(C===-1?D.length-1:C)},[i,S,T,n.completed]),E.useEffect(()=>{n.completed&&e("/app/dashboard",{replace:!0})},[e,n.completed]);const O=async()=>{N("organization");try{await z.post("/organization",{name:d,contact_email:h}),await l("organizationDetails"),s({title:"Organization saved",description:"Organization details recorded for onboarding."}),v(1)}catch(D){s({variant:"destructive",title:"Unable to save organization",description:u(D)})}finally{N(null)}},W=async()=>{N("invite");try{await z.post("/iam/invite",m),s({title:"Invite sent",description:`${m.email} invited as ${m.role}.`}),w({email:"",role:"Admin"}),R(!0)}catch(D){s({variant:"destructive",title:"Unable to send invite",description:u(D)})}finally{N(null)}},U=async()=>{N("dsr");try{await z.post("/api/dsr/contact",{email:b}),s({title:"DSR contact saved",description:"Primary DSR contact configured."}),v(3),F(!0)}catch(D){s({variant:"destructive",title:"Unable to save DSR contact",description:u(D)})}finally{N(null)}},q=async()=>{P("loading");try{await z.post("/api/policies/ai-generate",{quickstart:!0}),await l("policyGenerated"),t("policy_ai_generated"),s({title:"AI policy draft ready",description:"Your first set of policies has been generated."}),P("done"),v(4)}catch(D){s({variant:"destructive",title:"Policy generation failed",description:u(D)}),P("idle")}},A=async()=>{N("finish");try{await o(),t("onboarding_completed"),s({title:"Onboarding completed",description:"You are ready to use AURA-GDPR."}),e("/app/dashboard",{replace:!0})}catch(D){s({variant:"destructive",title:"Unable to complete onboarding",description:u(D)})}finally{N(null)}},V=c?"Demo mode is read-only":void 0;return a?r.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 text-slate-700",children:"Loading onboarding..."}):r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-white via-slate-50 to-white",children:r.jsxs("div",{className:"mx-auto max-w-5xl px-4 py-10 sm:py-12",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx(Je,{className:"mb-3 bg-sky-100 text-sky-700",children:"Onboarding"}),r.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Set up your organization"}),r.jsx("p",{className:"mt-2 text-slate-600",children:"Complete the guided steps to start using AURA-GDPR. You can revisit and edit any step later."})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-[260px,1fr]",children:[r.jsxs(te,{className:"h-fit",children:[r.jsx(ue,{children:r.jsx(de,{className:"text-base text-slate-700",children:"Progress"})}),r.jsx(ae,{className:"space-y-3",children:["Organization details","Invite team","Configure DSR contact","AI policies","All set"].map((D,C)=>r.jsxs("div",{className:`flex items-center gap-3 rounded-lg border px-3 py-2 ${C===p?"border-sky-300 bg-sky-50":"border-slate-200 bg-white"}`,children:[r.jsx("div",{className:`flex h-8 w-8 items-center justify-center rounded-full text-sm font-semibold ${C<=p?"bg-sky-600 text-white":"bg-slate-200 text-slate-600"}`,children:C+1}),r.jsx("div",{className:"text-sm font-semibold text-slate-800",children:D})]},D))})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs(te,{children:[r.jsxs(ue,{className:"space-y-1",children:[r.jsx(de,{className:"text-lg",children:Da(0,"Organization details")}),r.jsx("p",{className:"text-sm text-slate-600",children:"Tell us who you are so we can personalize your workspace."})]}),r.jsxs(ae,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Xe,{htmlFor:"org-name",children:"Organization name"}),r.jsx(Y,{id:"org-name",placeholder:"Acme Privacy Ltd.",value:d,onChange:D=>f(D.target.value),disabled:c})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Xe,{htmlFor:"contact-email",children:"Contact email"}),r.jsx(Y,{id:"contact-email",type:"email",placeholder:"privacy@acme.com",value:h,onChange:D=>g(D.target.value),disabled:c})]}),r.jsxs(M,{onClick:O,disabled:c||j==="organization"||a,children:[r.jsx(Xr,{className:"mr-2 h-4 w-4"}),"Save details"]}),V&&r.jsx("p",{className:"text-xs text-amber-600",children:V})]})]}),r.jsxs(te,{children:[r.jsxs(ue,{className:"space-y-1",children:[r.jsx(de,{className:"text-lg",children:Da(1,"Invite team")}),r.jsx("p",{className:"text-sm text-slate-600",children:"Invite teammates with the right roles so you can collaborate."})]}),r.jsxs(ae,{className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-3 md:grid-cols-[2fr,1fr]",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Xe,{htmlFor:"invite-email",children:"Email"}),r.jsx(Y,{id:"invite-email",type:"email",placeholder:"teammate@company.com",value:m.email,onChange:D=>w(C=>({...C,email:D.target.value})),disabled:c})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Xe,{htmlFor:"invite-role",children:"Role"}),r.jsx(Y,{id:"invite-role",placeholder:"Admin",value:m.role,onChange:D=>w(C=>({...C,role:D.target.value})),disabled:c})]})]}),r.jsxs(M,{onClick:W,disabled:c||j==="invite",children:[r.jsx(Sl,{className:"mr-2 h-4 w-4"}),"Send invite"]}),r.jsx("p",{className:"text-xs text-slate-500",children:"You can add more teammates later in IAM settings."})]})]}),r.jsxs(te,{children:[r.jsxs(ue,{className:"space-y-1",children:[r.jsx(de,{className:"text-lg",children:Da(2,"Configure DSR contact")}),r.jsx("p",{className:"text-sm text-slate-600",children:"Set the contact that will receive new DSR submissions."})]}),r.jsxs(ae,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Xe,{htmlFor:"dsr-contact",children:"Primary DSR contact email"}),r.jsx(Y,{id:"dsr-contact",type:"email",placeholder:"dsr@company.com",value:b,onChange:D=>y(D.target.value),disabled:c})]}),r.jsxs(M,{onClick:U,disabled:c||j==="dsr",children:[r.jsx(Fp,{className:"mr-2 h-4 w-4"}),"Save DSR contact"]}),r.jsx("p",{className:"text-xs text-slate-500",children:"We will route new requests to this inbox and notify your team."})]})]}),r.jsxs(te,{children:[r.jsxs(ue,{className:"space-y-1",children:[r.jsx(de,{className:"text-lg",children:Da(3,"Generate your first policies with AI")}),r.jsx("p",{className:"text-sm text-slate-600",children:"Kickstart your workspace with AI-drafted policies you can refine."})]}),r.jsxs(ae,{className:"space-y-4",children:[r.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4 text-sm text-slate-700",children:"AI will draft a baseline set of security and privacy policies tailored to your industry."}),r.jsxs(M,{onClick:q,disabled:c||k==="loading",children:[r.jsx(BP,{className:"mr-2 h-4 w-4"}),k==="done"?"Regenerate policies":"Generate with AI"]}),k==="done"&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-emerald-600",children:[r.jsx(Oo,{className:"h-4 w-4"}),"Policies generated"]})]})]}),r.jsxs(te,{className:"border-sky-200 bg-sky-50",children:[r.jsxs(ue,{className:"space-y-1",children:[r.jsx(de,{className:"text-lg",children:Da(4,"All set")}),r.jsx("p",{className:"text-sm text-slate-600",children:"Wrap up onboarding and go to your dashboard."})]}),r.jsxs(ae,{className:"flex flex-col items-start gap-3 sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3 text-slate-800",children:[r.jsx(zp,{className:"h-5 w-5 text-sky-600"}),r.jsx("span",{children:"Mark onboarding as complete"})]}),r.jsxs(M,{onClick:A,disabled:j==="finish",children:["Go to dashboard",r.jsx(Uw,{className:"ml-2 h-4 w-4"})]})]})]})]})]})]})})},eV=e=>!e||/^https?:\/\//i.test(e)||e.startsWith("/")?e:`/${e}`,Uh=Ce.create({baseURL:Cb,headers:{"Content-Type":"application/json"},timeout:1e4});Uh.interceptors.request.use(e=>(e.url&&(e.url=eV(e.url)),e));Uh.interceptors.response.use(e=>e,e=>{var s,n;const t=((n=(s=e==null?void 0:e.response)==null?void 0:s.data)==null?void 0:n.message)??(e==null?void 0:e.message)??"Unknown error";return e&&typeof e=="object"&&(e.message=t),Promise.reject(e)});const tV=async(e,t)=>{var s,n,a;if(!e)throw new Error("Missing public request key.");try{await Uh.post(`/public/dsr/${e}`,t)}catch(o){if(Ce.isAxiosError(o)){const i=(s=o.response)==null?void 0:s.status,l=((a=(n=o.response)==null?void 0:n.data)==null?void 0:a.message)??o.message??"Failed to submit request.",c=new Error(l);throw c.status=i,c}throw o}},sV=[{value:"access",label:"Access Request"},{value:"erasure",label:"Erasure Request"},{value:"rectification",label:"Rectification Request"},{value:"objection",label:"Objection Request"},{value:"restriction",label:"Restriction Request"},{value:"portability",label:"Data Portability Request"},{value:"other",label:"Other"}],nV=[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"}],_0={fullName:"",email:"",requestType:"access",description:"",priority:"medium"},M0="This public request form is not available. Please contact the organization directly.",rV=({publicKey:e,onSuccess:t,onUnavailable:s})=>{const[n,a]=E.useState(_0),[o,i]=E.useState({}),[l,c]=E.useState(null),[u,d]=E.useState(!1),f=(m,w)=>{a(b=>({...b,[m]:w})),i(b=>({...b,[m]:void 0}))},h=()=>{const m={};return n.fullName.trim()||(m.fullName="Full name is required."),n.email.trim()?/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(n.email.trim())||(m.email="Please enter a valid email address."):m.email="Email is required.",n.requestType||(m.requestType="Request type is required."),n.description.trim()||(m.description="Description is required."),n.priority||(m.priority="Priority is required."),i(m),Object.keys(m).length===0},g=async m=>{var w;if(m.preventDefault(),!e){c(M0),s==null||s();return}if(h()){d(!0),c(null);try{const b={fullName:n.fullName.trim(),email:n.email.trim(),requestType:n.requestType,description:n.description.trim(),priority:n.priority};await tV(e,b),a(_0),i({}),t()}catch(b){const y=(b==null?void 0:b.status)??((w=b==null?void 0:b.response)==null?void 0:w.status);if(y===404||y===403){c(M0),s==null||s();return}c((b==null?void 0:b.message)??"Failed to submit your request. Please try again.")}finally{d(!1)}}};return r.jsxs("form",{className:"space-y-5",onSubmit:g,children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"text-sm font-medium text-slate-800",children:["Request type ",r.jsx("span",{className:"text-rose-600",children:"*"})]}),r.jsx("select",{className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-60",value:n.requestType,onChange:m=>f("requestType",m.target.value),disabled:u,required:!0,children:sV.map(m=>r.jsx("option",{value:m.value,children:m.label},m.value))}),o.requestType&&r.jsx("p",{className:"text-xs text-rose-600",children:o.requestType})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"text-sm font-medium text-slate-800",children:["Full name ",r.jsx("span",{className:"text-rose-600",children:"*"})]}),r.jsx(Y,{type:"text",value:n.fullName,onChange:m=>f("fullName",m.target.value),disabled:u,placeholder:"Jane Doe",className:"shadow-sm",required:!0}),o.fullName&&r.jsx("p",{className:"text-xs text-rose-600",children:o.fullName})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"text-sm font-medium text-slate-800",children:["Email address ",r.jsx("span",{className:"text-rose-600",children:"*"})]}),r.jsx(Y,{type:"email",value:n.email,onChange:m=>f("email",m.target.value),disabled:u,placeholder:"name@example.com",className:"shadow-sm",required:!0}),o.email&&r.jsx("p",{className:"text-xs text-rose-600",children:o.email})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"text-sm font-medium text-slate-800",children:["Request details ",r.jsx("span",{className:"text-rose-600",children:"*"})]}),r.jsx(Me,{value:n.description,onChange:m=>f("description",m.target.value),disabled:u,placeholder:"Describe the request you are making.",className:"shadow-sm",required:!0}),o.description&&r.jsx("p",{className:"text-xs text-rose-600",children:o.description})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"text-sm font-medium text-slate-800",children:["Priority ",r.jsx("span",{className:"text-rose-600",children:"*"})]}),r.jsx("select",{className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-60",value:n.priority,onChange:m=>f("priority",m.target.value),disabled:u,required:!0,children:nV.map(m=>r.jsx("option",{value:m.value,children:m.label},m.value))}),o.priority&&r.jsx("p",{className:"text-xs text-rose-600",children:o.priority})]}),l&&r.jsx("div",{className:"rounded-md border border-rose-200 bg-rose-50 px-3 py-2 text-sm text-rose-700",children:l}),r.jsx("div",{className:"flex items-center justify-between rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ct,{className:"h-4 w-4 text-sky-600"}),r.jsx("span",{children:"Your submission will be securely sent to the data protection team."})]})}),r.jsxs(M,{type:"submit",disabled:u,className:"flex w-full items-center justify-center bg-sky-600 text-white hover:bg-sky-700",children:[u&&r.jsx(Rs,{className:"mr-2 h-4 w-4 animate-spin"}),u?"Submitting...":"Submit request"]})]})},aV=()=>{const{publicKey:e}=rw(),[t,s]=E.useState(!1),[n,a]=E.useState(!e);return E.useEffect(()=>{a(!e),s(!1)},[e]),r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-sky-50 px-4 py-10",children:r.jsxs("div",{className:"mx-auto flex max-w-4xl flex-col items-center gap-8",children:[r.jsxs("div",{className:"flex items-center gap-3 text-slate-800",children:[r.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-sky-600 text-white shadow-sm",children:r.jsx(Xr,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"AURA-GDPR"}),r.jsx("h1",{className:"text-xl font-semibold text-slate-900",children:"Submit a data subject request"})]})]}),r.jsx("div",{className:"w-full max-w-3xl rounded-2xl border border-slate-200 bg-white p-6 shadow-xl",children:n?r.jsxs("div",{className:"space-y-3 text-center",children:[r.jsx("div",{className:"mx-auto flex h-14 w-14 items-center justify-center rounded-full bg-amber-50 text-amber-700",children:r.jsx(Is,{className:"h-7 w-7"})}),r.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Public form unavailable"}),r.jsx("p",{className:"text-sm text-slate-600",children:"This public request form is not available. Please contact the organization directly."})]}):t?r.jsxs("div",{className:"space-y-4 text-center",children:[r.jsx("div",{className:"mx-auto flex h-14 w-14 items-center justify-center rounded-full bg-emerald-50 text-emerald-600",children:r.jsx(Xr,{className:"h-7 w-7"})}),r.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Your request has been received"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Your request has been received. You will be contacted as soon as possible."}),r.jsxs("button",{type:"button",onClick:()=>s(!1),className:"inline-flex items-center justify-center gap-2 rounded-lg border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-800 shadow-sm transition hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-sky-400 focus:ring-offset-2",children:[r.jsx(zw,{className:"h-4 w-4"}),"Submit another request"]})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Tell us about your request"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Use this form to exercise your data protection rights. Please provide accurate contact details so we can respond to your request."})]}),r.jsx(rV,{publicKey:e??"",onSuccess:()=>s(!0),onUnavailable:()=>a(!0)})]})}),r.jsx("p",{className:"text-center text-xs text-slate-500",children:"This form is provided by AURA-GDPR. Please avoid sharing sensitive information beyond what is necessary."})]})})},L0=({children:e})=>{const{isAuthenticated:t}=$t();return t?r.jsx(r.Fragment,{children:e}):r.jsx(hn,{to:"/login",replace:!0})},I0=({children:e})=>{const{state:t,loading:s}=Rb(),n=ps();return s?r.jsx("div",{className:"p-6 text-sm text-slate-600",children:"Loading workspace..."}):!t.completed&&n.pathname!=="/onboarding"?r.jsx(hn,{to:"/onboarding",replace:!0}):t.completed&&n.pathname==="/onboarding"?r.jsx(hn,{to:"/app/dashboard",replace:!0}):r.jsx(r.Fragment,{children:e})},oV=()=>r.jsxs(_C,{children:[r.jsx(J,{path:"/",element:r.jsx(KU,{})}),r.jsx(J,{path:"/blog",element:r.jsx(YU,{})}),r.jsx(J,{path:"/blog/:slug",element:r.jsx(XU,{})}),r.jsx(J,{path:"/contact",element:r.jsx(QU,{})}),r.jsx(J,{path:"/demo",element:r.jsx(hn,{to:"/app/dashboard?demo=1",replace:!0})}),r.jsx(J,{path:"/dsr-portal",element:r.jsx(pF,{})}),r.jsx(J,{path:"/public/dsr/:publicKey",element:r.jsx(aV,{})}),r.jsx(J,{path:"/login",element:r.jsx(d_,{})}),r.jsx(J,{path:"/register",element:r.jsx(f_,{})}),r.jsx(J,{path:"/onboarding",element:r.jsx(L0,{children:r.jsx(I0,{children:r.jsx(ZU,{})})})}),r.jsxs(J,{path:"/app",element:r.jsx(L0,{children:r.jsx(I0,{children:r.jsx(hI,{})})}),children:[r.jsx(J,{index:!0,element:r.jsx(hn,{to:"/app/dashboard",replace:!0})}),r.jsx(J,{path:"dashboard",element:r.jsx(LI,{})}),r.jsx(J,{path:"documents",element:r.jsx(sO,{})}),r.jsx(J,{path:"ai-assistant",element:r.jsx(nO,{})}),r.jsx(J,{path:"ai-audit",element:r.jsx(VF,{})}),r.jsx(J,{path:"ai/audit-v2",element:r.jsx(JF,{})}),r.jsx(J,{path:"tasks",element:r.jsx(s6,{})}),r.jsx(J,{path:"projects",element:r.jsx(n6,{})}),r.jsx(J,{path:"audit",element:r.jsx(l6,{})}),r.jsx(J,{path:"logs",element:r.jsx(g6,{})}),r.jsx(J,{path:"risk-matrix",element:r.jsx(j6,{})}),r.jsx(J,{path:"dsr",element:r.jsx(fF,{})}),r.jsx(J,{path:"dpia",element:r.jsx(O6,{})}),r.jsx(J,{path:"ropa",element:r.jsx(rz,{})}),r.jsx(J,{path:"templates",element:r.jsx(q7,{})}),r.jsx(J,{path:"cookies",element:r.jsx(Jz,{})}),r.jsx(J,{path:"policies",element:r.jsx(y7,{})}),r.jsx(J,{path:"incidents",element:r.jsx(L7,{})}),r.jsx(J,{path:"toms",element:r.jsx(Az,{})}),r.jsx(J,{path:"security-health",element:r.jsx(zU,{})}),r.jsx(J,{path:"notifications",element:r.jsx(jF,{})}),r.jsx(J,{path:"billing",element:r.jsx(vO,{})}),r.jsx(J,{path:"iam",element:r.jsx(mU,{})}),r.jsx(J,{path:"settings",element:r.jsx(_O,{})}),r.jsx(J,{path:"settings/notifications",element:r.jsx(n7,{})}),r.jsx(J,{path:"admin",element:r.jsx(VO,{})}),r.jsx(J,{path:"admin/workspace/users",element:r.jsx(wU,{})}),r.jsx(J,{path:"platform-admin",element:r.jsx(jU,{})}),r.jsx(J,{path:"admin/dsr-portal",element:r.jsx(ZF,{})})]}),r.jsx(J,{path:"/error",element:r.jsx(SU,{})}),r.jsx(J,{path:"*",element:r.jsx(NU,{})})]});class iV extends E.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(t,s){console.error("App render error",t,s)}render(){return this.state.hasError?this.props.fallback??r.jsx("div",{className:"flex min-h-screen flex-col items-center justify-center bg-slate-50 px-4 text-center",children:r.jsxs("div",{className:"max-w-md space-y-4 rounded-xl border border-slate-200 bg-white p-8 shadow-sm",children:[r.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Something went wrong"}),r.jsx("p",{className:"text-sm text-slate-600",children:"An unexpected error occurred while rendering the page. Please refresh or try again later."}),r.jsx("button",{type:"button",onClick:()=>window.location.reload(),className:"rounded-md bg-sky-600 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-sky-700",children:"Refresh"})]})}):this.props.children}}const lV=()=>r.jsx(VC,{children:r.jsx(aE,{children:r.jsx(zR,{children:r.jsx(UR,{children:r.jsx(VR,{children:r.jsx($R,{children:r.jsxs(XR,{children:[r.jsx(iV,{children:r.jsx(oV,{})}),r.jsx(nE,{})]})})})})})})}),cV=document.getElementById("root");Xv(cV).render(r.jsx(E.StrictMode,{children:r.jsx(lV,{})}));
