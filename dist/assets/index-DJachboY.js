function i1(e,t){for(var s=0;s<t.length;s++){const n=t[s];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(n,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=s(a);fetch(a.href,o)}})();function V0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var $0={exports:{}},bl={},B0={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var co=Symbol.for("react.element"),l1=Symbol.for("react.portal"),c1=Symbol.for("react.fragment"),u1=Symbol.for("react.strict_mode"),d1=Symbol.for("react.profiler"),f1=Symbol.for("react.provider"),p1=Symbol.for("react.context"),m1=Symbol.for("react.forward_ref"),h1=Symbol.for("react.suspense"),x1=Symbol.for("react.memo"),g1=Symbol.for("react.lazy"),dm=Symbol.iterator;function y1(e){return e===null||typeof e!="object"?null:(e=dm&&e[dm]||e["@@iterator"],typeof e=="function"?e:null)}var U0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z0=Object.assign,W0={};function Fr(e,t,s){this.props=e,this.context=t,this.refs=W0,this.updater=s||U0}Fr.prototype.isReactComponent={};Fr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Fr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function H0(){}H0.prototype=Fr.prototype;function Zd(e,t,s){this.props=e,this.context=t,this.refs=W0,this.updater=s||U0}var Jd=Zd.prototype=new H0;Jd.constructor=Zd;z0(Jd,Fr.prototype);Jd.isPureReactComponent=!0;var fm=Array.isArray,q0=Object.prototype.hasOwnProperty,ef={current:null},K0={key:!0,ref:!0,__self:!0,__source:!0};function G0(e,t,s){var n,a={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)q0.call(t,n)&&!K0.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=s;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:co,type:e,key:o,ref:i,props:a,_owner:ef.current}}function v1(e,t){return{$$typeof:co,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function tf(e){return typeof e=="object"&&e!==null&&e.$$typeof===co}function b1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var pm=/\/+/g;function mc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?b1(""+e.key):t.toString(36)}function ii(e,t,s,n,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case co:case l1:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+mc(i,0):n,fm(a)?(s="",e!=null&&(s=e.replace(pm,"$&/")+"/"),ii(a,t,s,"",function(c){return c})):a!=null&&(tf(a)&&(a=v1(a,s+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(pm,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",fm(e))for(var l=0;l<e.length;l++){o=e[l];var u=n+mc(o,l);i+=ii(o,t,s,u,a)}else if(u=y1(e),typeof u=="function")for(e=u.call(e),l=0;!(o=e.next()).done;)o=o.value,u=n+mc(o,l++),i+=ii(o,t,s,u,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Ro(e,t,s){if(e==null)return e;var n=[],a=0;return ii(e,n,"","",function(o){return t.call(s,o,a++)}),n}function w1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xe={current:null},li={transition:null},j1={ReactCurrentDispatcher:Xe,ReactCurrentBatchConfig:li,ReactCurrentOwner:ef};function Y0(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:Ro,forEach:function(e,t,s){Ro(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return Ro(e,function(){t++}),t},toArray:function(e){return Ro(e,function(t){return t})||[]},only:function(e){if(!tf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};J.Component=Fr;J.Fragment=c1;J.Profiler=d1;J.PureComponent=Zd;J.StrictMode=u1;J.Suspense=h1;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j1;J.act=Y0;J.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=z0({},e.props),a=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=ef.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)q0.call(t,u)&&!K0.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=s;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];n.children=l}return{$$typeof:co,type:e.type,key:a,ref:o,props:n,_owner:i}};J.createContext=function(e){return e={$$typeof:p1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:f1,_context:e},e.Consumer=e};J.createElement=G0;J.createFactory=function(e){var t=G0.bind(null,e);return t.type=e,t};J.createRef=function(){return{current:null}};J.forwardRef=function(e){return{$$typeof:m1,render:e}};J.isValidElement=tf;J.lazy=function(e){return{$$typeof:g1,_payload:{_status:-1,_result:e},_init:w1}};J.memo=function(e,t){return{$$typeof:x1,type:e,compare:t===void 0?null:t}};J.startTransition=function(e){var t=li.transition;li.transition={};try{e()}finally{li.transition=t}};J.unstable_act=Y0;J.useCallback=function(e,t){return Xe.current.useCallback(e,t)};J.useContext=function(e){return Xe.current.useContext(e)};J.useDebugValue=function(){};J.useDeferredValue=function(e){return Xe.current.useDeferredValue(e)};J.useEffect=function(e,t){return Xe.current.useEffect(e,t)};J.useId=function(){return Xe.current.useId()};J.useImperativeHandle=function(e,t,s){return Xe.current.useImperativeHandle(e,t,s)};J.useInsertionEffect=function(e,t){return Xe.current.useInsertionEffect(e,t)};J.useLayoutEffect=function(e,t){return Xe.current.useLayoutEffect(e,t)};J.useMemo=function(e,t){return Xe.current.useMemo(e,t)};J.useReducer=function(e,t,s){return Xe.current.useReducer(e,t,s)};J.useRef=function(e){return Xe.current.useRef(e)};J.useState=function(e){return Xe.current.useState(e)};J.useSyncExternalStore=function(e,t,s){return Xe.current.useSyncExternalStore(e,t,s)};J.useTransition=function(){return Xe.current.useTransition()};J.version="18.3.1";B0.exports=J;var v=B0.exports;const P=V0(v),sf=i1({__proto__:null,default:P},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N1=v,k1=Symbol.for("react.element"),S1=Symbol.for("react.fragment"),C1=Object.prototype.hasOwnProperty,E1=N1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,P1={key:!0,ref:!0,__self:!0,__source:!0};function X0(e,t,s){var n,a={},o=null,i=null;s!==void 0&&(o=""+s),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)C1.call(t,n)&&!P1.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:k1,type:e,key:o,ref:i,props:a,_owner:E1.current}}bl.Fragment=S1;bl.jsx=X0;bl.jsxs=X0;$0.exports=bl;var r=$0.exports,Q0={exports:{}},gt={},Z0={exports:{}},J0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,M){var L=R.length;R.push(M);e:for(;0<L;){var V=L-1>>>1,K=R[V];if(0<a(K,M))R[V]=M,R[L]=K,L=V;else break e}}function s(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var M=R[0],L=R.pop();if(L!==M){R[0]=L;e:for(var V=0,K=R.length,ae=K>>>1;V<ae;){var oe=2*(V+1)-1,Je=R[oe],we=oe+1,Me=R[we];if(0>a(Je,L))we<K&&0>a(Me,Je)?(R[V]=Me,R[we]=L,V=we):(R[V]=Je,R[oe]=L,V=oe);else if(we<K&&0>a(Me,L))R[V]=Me,R[we]=L,V=we;else break e}}return M}function a(R,M){var L=R.sortIndex-M.sortIndex;return L!==0?L:R.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var u=[],c=[],d=1,f=null,h=3,y=!1,b=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(R){for(var M=s(c);M!==null;){if(M.callback===null)n(c);else if(M.startTime<=R)n(c),M.sortIndex=M.expirationTime,t(u,M);else break;M=s(c)}}function j(R){if(g=!1,w(R),!b)if(s(u)!==null)b=!0,$(k);else{var M=s(c);M!==null&&q(j,M.startTime-R)}}function k(R,M){b=!1,g&&(g=!1,m(N),N=-1),y=!0;var L=h;try{for(w(M),f=s(u);f!==null&&(!(f.expirationTime>M)||R&&!I());){var V=f.callback;if(typeof V=="function"){f.callback=null,h=f.priorityLevel;var K=V(f.expirationTime<=M);M=e.unstable_now(),typeof K=="function"?f.callback=K:f===s(u)&&n(u),w(M)}else n(u);f=s(u)}if(f!==null)var ae=!0;else{var oe=s(c);oe!==null&&q(j,oe.startTime-M),ae=!1}return ae}finally{f=null,h=L,y=!1}}var E=!1,C=null,N=-1,S=5,T=-1;function I(){return!(e.unstable_now()-T<S)}function D(){if(C!==null){var R=e.unstable_now();T=R;var M=!0;try{M=C(!0,R)}finally{M?O():(E=!1,C=null)}}else E=!1}var O;if(typeof p=="function")O=function(){p(D)};else if(typeof MessageChannel<"u"){var _=new MessageChannel,F=_.port2;_.port1.onmessage=D,O=function(){F.postMessage(null)}}else O=function(){x(D,0)};function $(R){C=R,E||(E=!0,O())}function q(R,M){N=x(function(){R(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){b||y||(b=!0,$(k))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return s(u)},e.unstable_next=function(R){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var L=h;h=M;try{return R()}finally{h=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,M){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var L=h;h=R;try{return M()}finally{h=L}},e.unstable_scheduleCallback=function(R,M,L){var V=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?V+L:V):L=V,R){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=L+K,R={id:d++,callback:M,priorityLevel:R,startTime:L,expirationTime:K,sortIndex:-1},L>V?(R.sortIndex=L,t(c,R),s(u)===null&&R===s(c)&&(g?(m(N),N=-1):g=!0,q(j,L-V))):(R.sortIndex=K,t(u,R),b||y||(b=!0,$(k))),R},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(R){var M=h;return function(){var L=h;h=M;try{return R.apply(this,arguments)}finally{h=L}}}})(J0);Z0.exports=J0;var T1=Z0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A1=v,ht=T1;function B(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var eg=new Set,Da={};function In(e,t){Nr(e,t),Nr(e+"Capture",t)}function Nr(e,t){for(Da[e]=t,e=0;e<t.length;e++)eg.add(t[e])}var ps=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vu=Object.prototype.hasOwnProperty,R1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mm={},hm={};function D1(e){return vu.call(hm,e)?!0:vu.call(mm,e)?!1:R1.test(e)?hm[e]=!0:(mm[e]=!0,!1)}function M1(e,t,s,n){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _1(e,t,s,n){if(t===null||typeof t>"u"||M1(e,t,s,n))return!0;if(n)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qe(e,t,s,n,a,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Fe[e]=new Qe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Fe[t]=new Qe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Fe[e]=new Qe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Fe[e]=new Qe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Fe[e]=new Qe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Fe[e]=new Qe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Fe[e]=new Qe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Fe[e]=new Qe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Fe[e]=new Qe(e,5,!1,e.toLowerCase(),null,!1,!1)});var nf=/[\-:]([a-z])/g;function rf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(nf,rf);Fe[t]=new Qe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(nf,rf);Fe[t]=new Qe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(nf,rf);Fe[t]=new Qe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Fe[e]=new Qe(e,1,!1,e.toLowerCase(),null,!1,!1)});Fe.xlinkHref=new Qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Fe[e]=new Qe(e,1,!1,e.toLowerCase(),null,!0,!0)});function af(e,t,s,n){var a=Fe.hasOwnProperty(t)?Fe[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_1(t,s,a,n)&&(s=null),n||a===null?D1(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):a.mustUseProperty?e[a.propertyName]=s===null?a.type===3?!1:"":s:(t=a.attributeName,n=a.attributeNamespace,s===null?e.removeAttribute(t):(a=a.type,s=a===3||a===4&&s===!0?"":""+s,n?e.setAttributeNS(n,t,s):e.setAttribute(t,s))))}var bs=A1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Do=Symbol.for("react.element"),Qn=Symbol.for("react.portal"),Zn=Symbol.for("react.fragment"),of=Symbol.for("react.strict_mode"),bu=Symbol.for("react.profiler"),tg=Symbol.for("react.provider"),sg=Symbol.for("react.context"),lf=Symbol.for("react.forward_ref"),wu=Symbol.for("react.suspense"),ju=Symbol.for("react.suspense_list"),cf=Symbol.for("react.memo"),Es=Symbol.for("react.lazy"),ng=Symbol.for("react.offscreen"),xm=Symbol.iterator;function Zr(e){return e===null||typeof e!="object"?null:(e=xm&&e[xm]||e["@@iterator"],typeof e=="function"?e:null)}var ye=Object.assign,hc;function fa(e){if(hc===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);hc=t&&t[1]||""}return`
`+hc+e}var xc=!1;function gc(e,t){if(!e||xc)return"";xc=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),o=n.stack.split(`
`),i=a.length-1,l=o.length-1;1<=i&&0<=l&&a[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||a[i]!==o[l]){var u=`
`+a[i].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=i&&0<=l);break}}}finally{xc=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?fa(e):""}function L1(e){switch(e.tag){case 5:return fa(e.type);case 16:return fa("Lazy");case 13:return fa("Suspense");case 19:return fa("SuspenseList");case 0:case 2:case 15:return e=gc(e.type,!1),e;case 11:return e=gc(e.type.render,!1),e;case 1:return e=gc(e.type,!0),e;default:return""}}function Nu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Zn:return"Fragment";case Qn:return"Portal";case bu:return"Profiler";case of:return"StrictMode";case wu:return"Suspense";case ju:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case sg:return(e.displayName||"Context")+".Consumer";case tg:return(e._context.displayName||"Context")+".Provider";case lf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case cf:return t=e.displayName||null,t!==null?t:Nu(e.type)||"Memo";case Es:t=e._payload,e=e._init;try{return Nu(e(t))}catch{}}return null}function O1(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nu(t);case 8:return t===of?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ks(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function I1(e){var t=rg(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var a=s.get,o=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Mo(e){e._valueTracker||(e._valueTracker=I1(e))}function ag(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),n="";return e&&(n=rg(e)?e.checked?"true":"false":e.value),e=n,e!==s?(t.setValue(e),!0):!1}function Ti(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ku(e,t){var s=t.checked;return ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function gm(e,t){var s=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;s=Ks(t.value!=null?t.value:s),e._wrapperState={initialChecked:n,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function og(e,t){t=t.checked,t!=null&&af(e,"checked",t,!1)}function Su(e,t){og(e,t);var s=Ks(t.value),n=t.type;if(s!=null)n==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Cu(e,t.type,s):t.hasOwnProperty("defaultValue")&&Cu(e,t.type,Ks(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ym(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Cu(e,t,s){(t!=="number"||Ti(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var pa=Array.isArray;function pr(e,t,s,n){if(e=e.options,t){t={};for(var a=0;a<s.length;a++)t["$"+s[a]]=!0;for(s=0;s<e.length;s++)a=t.hasOwnProperty("$"+e[s].value),e[s].selected!==a&&(e[s].selected=a),a&&n&&(e[s].defaultSelected=!0)}else{for(s=""+Ks(s),t=null,a=0;a<e.length;a++){if(e[a].value===s){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Eu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(B(91));return ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function vm(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(B(92));if(pa(s)){if(1<s.length)throw Error(B(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:Ks(s)}}function ig(e,t){var s=Ks(t.value),n=Ks(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),n!=null&&(e.defaultValue=""+n)}function bm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function lg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?lg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var _o,cg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,s,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(_o=_o||document.createElement("div"),_o.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=_o.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ma(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var va={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},F1=["Webkit","ms","Moz","O"];Object.keys(va).forEach(function(e){F1.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),va[t]=va[e]})});function ug(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||va.hasOwnProperty(e)&&va[e]?(""+t).trim():t+"px"}function dg(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var n=s.indexOf("--")===0,a=ug(s,t[s],n);s==="float"&&(s="cssFloat"),n?e.setProperty(s,a):e[s]=a}}var V1=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tu(e,t){if(t){if(V1[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(B(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(B(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(B(61))}if(t.style!=null&&typeof t.style!="object")throw Error(B(62))}}function Au(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ru=null;function uf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Du=null,mr=null,hr=null;function wm(e){if(e=po(e)){if(typeof Du!="function")throw Error(B(280));var t=e.stateNode;t&&(t=Sl(t),Du(e.stateNode,e.type,t))}}function fg(e){mr?hr?hr.push(e):hr=[e]:mr=e}function pg(){if(mr){var e=mr,t=hr;if(hr=mr=null,wm(e),t)for(e=0;e<t.length;e++)wm(t[e])}}function mg(e,t){return e(t)}function hg(){}var yc=!1;function xg(e,t,s){if(yc)return e(t,s);yc=!0;try{return mg(e,t,s)}finally{yc=!1,(mr!==null||hr!==null)&&(hg(),pg())}}function _a(e,t){var s=e.stateNode;if(s===null)return null;var n=Sl(s);if(n===null)return null;s=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(B(231,t,typeof s));return s}var Mu=!1;if(ps)try{var Jr={};Object.defineProperty(Jr,"passive",{get:function(){Mu=!0}}),window.addEventListener("test",Jr,Jr),window.removeEventListener("test",Jr,Jr)}catch{Mu=!1}function $1(e,t,s,n,a,o,i,l,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(s,c)}catch(d){this.onError(d)}}var ba=!1,Ai=null,Ri=!1,_u=null,B1={onError:function(e){ba=!0,Ai=e}};function U1(e,t,s,n,a,o,i,l,u){ba=!1,Ai=null,$1.apply(B1,arguments)}function z1(e,t,s,n,a,o,i,l,u){if(U1.apply(this,arguments),ba){if(ba){var c=Ai;ba=!1,Ai=null}else throw Error(B(198));Ri||(Ri=!0,_u=c)}}function Fn(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function gg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function jm(e){if(Fn(e)!==e)throw Error(B(188))}function W1(e){var t=e.alternate;if(!t){if(t=Fn(e),t===null)throw Error(B(188));return t!==e?null:e}for(var s=e,n=t;;){var a=s.return;if(a===null)break;var o=a.alternate;if(o===null){if(n=a.return,n!==null){s=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===s)return jm(a),e;if(o===n)return jm(a),t;o=o.sibling}throw Error(B(188))}if(s.return!==n.return)s=a,n=o;else{for(var i=!1,l=a.child;l;){if(l===s){i=!0,s=a,n=o;break}if(l===n){i=!0,n=a,s=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===s){i=!0,s=o,n=a;break}if(l===n){i=!0,n=o,s=a;break}l=l.sibling}if(!i)throw Error(B(189))}}if(s.alternate!==n)throw Error(B(190))}if(s.tag!==3)throw Error(B(188));return s.stateNode.current===s?e:t}function yg(e){return e=W1(e),e!==null?vg(e):null}function vg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=vg(e);if(t!==null)return t;e=e.sibling}return null}var bg=ht.unstable_scheduleCallback,Nm=ht.unstable_cancelCallback,H1=ht.unstable_shouldYield,q1=ht.unstable_requestPaint,je=ht.unstable_now,K1=ht.unstable_getCurrentPriorityLevel,df=ht.unstable_ImmediatePriority,wg=ht.unstable_UserBlockingPriority,Di=ht.unstable_NormalPriority,G1=ht.unstable_LowPriority,jg=ht.unstable_IdlePriority,wl=null,Gt=null;function Y1(e){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(wl,e,void 0,(e.current.flags&128)===128)}catch{}}var _t=Math.clz32?Math.clz32:Z1,X1=Math.log,Q1=Math.LN2;function Z1(e){return e>>>=0,e===0?32:31-(X1(e)/Q1|0)|0}var Lo=64,Oo=4194304;function ma(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Mi(e,t){var s=e.pendingLanes;if(s===0)return 0;var n=0,a=e.suspendedLanes,o=e.pingedLanes,i=s&268435455;if(i!==0){var l=i&~a;l!==0?n=ma(l):(o&=i,o!==0&&(n=ma(o)))}else i=s&~a,i!==0?n=ma(i):o!==0&&(n=ma(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(n&4&&(n|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)s=31-_t(t),a=1<<s,n|=e[s],t&=~a;return n}function J1(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function e2(e,t){for(var s=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-_t(o),l=1<<i,u=a[i];u===-1?(!(l&s)||l&n)&&(a[i]=J1(l,t)):u<=t&&(e.expiredLanes|=l),o&=~l}}function Lu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ng(){var e=Lo;return Lo<<=1,!(Lo&4194240)&&(Lo=64),e}function vc(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function uo(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_t(t),e[t]=s}function t2(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<s;){var a=31-_t(s),o=1<<a;t[a]=0,n[a]=-1,e[a]=-1,s&=~o}}function ff(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var n=31-_t(s),a=1<<n;a&t|e[n]&t&&(e[n]|=t),s&=~a}}var se=0;function kg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Sg,pf,Cg,Eg,Pg,Ou=!1,Io=[],Os=null,Is=null,Fs=null,La=new Map,Oa=new Map,As=[],s2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function km(e,t){switch(e){case"focusin":case"focusout":Os=null;break;case"dragenter":case"dragleave":Is=null;break;case"mouseover":case"mouseout":Fs=null;break;case"pointerover":case"pointerout":La.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oa.delete(t.pointerId)}}function ea(e,t,s,n,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:s,eventSystemFlags:n,nativeEvent:o,targetContainers:[a]},t!==null&&(t=po(t),t!==null&&pf(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function n2(e,t,s,n,a){switch(t){case"focusin":return Os=ea(Os,e,t,s,n,a),!0;case"dragenter":return Is=ea(Is,e,t,s,n,a),!0;case"mouseover":return Fs=ea(Fs,e,t,s,n,a),!0;case"pointerover":var o=a.pointerId;return La.set(o,ea(La.get(o)||null,e,t,s,n,a)),!0;case"gotpointercapture":return o=a.pointerId,Oa.set(o,ea(Oa.get(o)||null,e,t,s,n,a)),!0}return!1}function Tg(e){var t=mn(e.target);if(t!==null){var s=Fn(t);if(s!==null){if(t=s.tag,t===13){if(t=gg(s),t!==null){e.blockedOn=t,Pg(e.priority,function(){Cg(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ci(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Iu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var n=new s.constructor(s.type,s);Ru=n,s.target.dispatchEvent(n),Ru=null}else return t=po(s),t!==null&&pf(t),e.blockedOn=s,!1;t.shift()}return!0}function Sm(e,t,s){ci(e)&&s.delete(t)}function r2(){Ou=!1,Os!==null&&ci(Os)&&(Os=null),Is!==null&&ci(Is)&&(Is=null),Fs!==null&&ci(Fs)&&(Fs=null),La.forEach(Sm),Oa.forEach(Sm)}function ta(e,t){e.blockedOn===t&&(e.blockedOn=null,Ou||(Ou=!0,ht.unstable_scheduleCallback(ht.unstable_NormalPriority,r2)))}function Ia(e){function t(a){return ta(a,e)}if(0<Io.length){ta(Io[0],e);for(var s=1;s<Io.length;s++){var n=Io[s];n.blockedOn===e&&(n.blockedOn=null)}}for(Os!==null&&ta(Os,e),Is!==null&&ta(Is,e),Fs!==null&&ta(Fs,e),La.forEach(t),Oa.forEach(t),s=0;s<As.length;s++)n=As[s],n.blockedOn===e&&(n.blockedOn=null);for(;0<As.length&&(s=As[0],s.blockedOn===null);)Tg(s),s.blockedOn===null&&As.shift()}var xr=bs.ReactCurrentBatchConfig,_i=!0;function a2(e,t,s,n){var a=se,o=xr.transition;xr.transition=null;try{se=1,mf(e,t,s,n)}finally{se=a,xr.transition=o}}function o2(e,t,s,n){var a=se,o=xr.transition;xr.transition=null;try{se=4,mf(e,t,s,n)}finally{se=a,xr.transition=o}}function mf(e,t,s,n){if(_i){var a=Iu(e,t,s,n);if(a===null)Tc(e,t,n,Li,s),km(e,n);else if(n2(a,e,t,s,n))n.stopPropagation();else if(km(e,n),t&4&&-1<s2.indexOf(e)){for(;a!==null;){var o=po(a);if(o!==null&&Sg(o),o=Iu(e,t,s,n),o===null&&Tc(e,t,n,Li,s),o===a)break;a=o}a!==null&&n.stopPropagation()}else Tc(e,t,n,null,s)}}var Li=null;function Iu(e,t,s,n){if(Li=null,e=uf(n),e=mn(e),e!==null)if(t=Fn(e),t===null)e=null;else if(s=t.tag,s===13){if(e=gg(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Li=e,null}function Ag(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(K1()){case df:return 1;case wg:return 4;case Di:case G1:return 16;case jg:return 536870912;default:return 16}default:return 16}}var Ds=null,hf=null,ui=null;function Rg(){if(ui)return ui;var e,t=hf,s=t.length,n,a="value"in Ds?Ds.value:Ds.textContent,o=a.length;for(e=0;e<s&&t[e]===a[e];e++);var i=s-e;for(n=1;n<=i&&t[s-n]===a[o-n];n++);return ui=a.slice(e,1<n?1-n:void 0)}function di(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Fo(){return!0}function Cm(){return!1}function yt(e){function t(s,n,a,o,i){this._reactName=s,this._targetInst=a,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(s=e[l],this[l]=s?s(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Fo:Cm,this.isPropagationStopped=Cm,this}return ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Fo)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Fo)},persist:function(){},isPersistent:Fo}),t}var Vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xf=yt(Vr),fo=ye({},Vr,{view:0,detail:0}),i2=yt(fo),bc,wc,sa,jl=ye({},fo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sa&&(sa&&e.type==="mousemove"?(bc=e.screenX-sa.screenX,wc=e.screenY-sa.screenY):wc=bc=0,sa=e),bc)},movementY:function(e){return"movementY"in e?e.movementY:wc}}),Em=yt(jl),l2=ye({},jl,{dataTransfer:0}),c2=yt(l2),u2=ye({},fo,{relatedTarget:0}),jc=yt(u2),d2=ye({},Vr,{animationName:0,elapsedTime:0,pseudoElement:0}),f2=yt(d2),p2=ye({},Vr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),m2=yt(p2),h2=ye({},Vr,{data:0}),Pm=yt(h2),x2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},g2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},y2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function v2(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=y2[e])?!!t[e]:!1}function gf(){return v2}var b2=ye({},fo,{key:function(e){if(e.key){var t=x2[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=di(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?g2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gf,charCode:function(e){return e.type==="keypress"?di(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?di(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),w2=yt(b2),j2=ye({},jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tm=yt(j2),N2=ye({},fo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gf}),k2=yt(N2),S2=ye({},Vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),C2=yt(S2),E2=ye({},jl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),P2=yt(E2),T2=[9,13,27,32],yf=ps&&"CompositionEvent"in window,wa=null;ps&&"documentMode"in document&&(wa=document.documentMode);var A2=ps&&"TextEvent"in window&&!wa,Dg=ps&&(!yf||wa&&8<wa&&11>=wa),Am=" ",Rm=!1;function Mg(e,t){switch(e){case"keyup":return T2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _g(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jn=!1;function R2(e,t){switch(e){case"compositionend":return _g(t);case"keypress":return t.which!==32?null:(Rm=!0,Am);case"textInput":return e=t.data,e===Am&&Rm?null:e;default:return null}}function D2(e,t){if(Jn)return e==="compositionend"||!yf&&Mg(e,t)?(e=Rg(),ui=hf=Ds=null,Jn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dg&&t.locale!=="ko"?null:t.data;default:return null}}var M2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!M2[e.type]:t==="textarea"}function Lg(e,t,s,n){fg(n),t=Oi(t,"onChange"),0<t.length&&(s=new xf("onChange","change",null,s,n),e.push({event:s,listeners:t}))}var ja=null,Fa=null;function _2(e){qg(e,0)}function Nl(e){var t=sr(e);if(ag(t))return e}function L2(e,t){if(e==="change")return t}var Og=!1;if(ps){var Nc;if(ps){var kc="oninput"in document;if(!kc){var Mm=document.createElement("div");Mm.setAttribute("oninput","return;"),kc=typeof Mm.oninput=="function"}Nc=kc}else Nc=!1;Og=Nc&&(!document.documentMode||9<document.documentMode)}function _m(){ja&&(ja.detachEvent("onpropertychange",Ig),Fa=ja=null)}function Ig(e){if(e.propertyName==="value"&&Nl(Fa)){var t=[];Lg(t,Fa,e,uf(e)),xg(_2,t)}}function O2(e,t,s){e==="focusin"?(_m(),ja=t,Fa=s,ja.attachEvent("onpropertychange",Ig)):e==="focusout"&&_m()}function I2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Nl(Fa)}function F2(e,t){if(e==="click")return Nl(t)}function V2(e,t){if(e==="input"||e==="change")return Nl(t)}function $2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ot=typeof Object.is=="function"?Object.is:$2;function Va(e,t){if(Ot(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var a=s[n];if(!vu.call(t,a)||!Ot(e[a],t[a]))return!1}return!0}function Lm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Om(e,t){var s=Lm(e);e=0;for(var n;s;){if(s.nodeType===3){if(n=e+s.textContent.length,e<=t&&n>=t)return{node:s,offset:t-e};e=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Lm(s)}}function Fg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Fg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Vg(){for(var e=window,t=Ti();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Ti(e.document)}return t}function vf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function B2(e){var t=Vg(),s=e.focusedElem,n=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&Fg(s.ownerDocument.documentElement,s)){if(n!==null&&vf(s)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=s.textContent.length,o=Math.min(n.start,a);n=n.end===void 0?o:Math.min(n.end,a),!e.extend&&o>n&&(a=n,n=o,o=a),a=Om(s,o);var i=Om(s,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var U2=ps&&"documentMode"in document&&11>=document.documentMode,er=null,Fu=null,Na=null,Vu=!1;function Im(e,t,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Vu||er==null||er!==Ti(n)||(n=er,"selectionStart"in n&&vf(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Na&&Va(Na,n)||(Na=n,n=Oi(Fu,"onSelect"),0<n.length&&(t=new xf("onSelect","select",null,t,s),e.push({event:t,listeners:n}),t.target=er)))}function Vo(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var tr={animationend:Vo("Animation","AnimationEnd"),animationiteration:Vo("Animation","AnimationIteration"),animationstart:Vo("Animation","AnimationStart"),transitionend:Vo("Transition","TransitionEnd")},Sc={},$g={};ps&&($g=document.createElement("div").style,"AnimationEvent"in window||(delete tr.animationend.animation,delete tr.animationiteration.animation,delete tr.animationstart.animation),"TransitionEvent"in window||delete tr.transitionend.transition);function kl(e){if(Sc[e])return Sc[e];if(!tr[e])return e;var t=tr[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in $g)return Sc[e]=t[s];return e}var Bg=kl("animationend"),Ug=kl("animationiteration"),zg=kl("animationstart"),Wg=kl("transitionend"),Hg=new Map,Fm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Js(e,t){Hg.set(e,t),In(t,[e])}for(var Cc=0;Cc<Fm.length;Cc++){var Ec=Fm[Cc],z2=Ec.toLowerCase(),W2=Ec[0].toUpperCase()+Ec.slice(1);Js(z2,"on"+W2)}Js(Bg,"onAnimationEnd");Js(Ug,"onAnimationIteration");Js(zg,"onAnimationStart");Js("dblclick","onDoubleClick");Js("focusin","onFocus");Js("focusout","onBlur");Js(Wg,"onTransitionEnd");Nr("onMouseEnter",["mouseout","mouseover"]);Nr("onMouseLeave",["mouseout","mouseover"]);Nr("onPointerEnter",["pointerout","pointerover"]);Nr("onPointerLeave",["pointerout","pointerover"]);In("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));In("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));In("onBeforeInput",["compositionend","keypress","textInput","paste"]);In("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));In("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));In("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ha="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),H2=new Set("cancel close invalid load scroll toggle".split(" ").concat(ha));function Vm(e,t,s){var n=e.type||"unknown-event";e.currentTarget=s,z1(n,t,void 0,e),e.currentTarget=null}function qg(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var n=e[s],a=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==o&&a.isPropagationStopped())break e;Vm(a,l,c),o=u}else for(i=0;i<n.length;i++){if(l=n[i],u=l.instance,c=l.currentTarget,l=l.listener,u!==o&&a.isPropagationStopped())break e;Vm(a,l,c),o=u}}}if(Ri)throw e=_u,Ri=!1,_u=null,e}function ue(e,t){var s=t[Wu];s===void 0&&(s=t[Wu]=new Set);var n=e+"__bubble";s.has(n)||(Kg(t,e,2,!1),s.add(n))}function Pc(e,t,s){var n=0;t&&(n|=4),Kg(s,e,n,t)}var $o="_reactListening"+Math.random().toString(36).slice(2);function $a(e){if(!e[$o]){e[$o]=!0,eg.forEach(function(s){s!=="selectionchange"&&(H2.has(s)||Pc(s,!1,e),Pc(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$o]||(t[$o]=!0,Pc("selectionchange",!1,t))}}function Kg(e,t,s,n){switch(Ag(t)){case 1:var a=a2;break;case 4:a=o2;break;default:a=mf}s=a.bind(null,t,s,e),a=void 0,!Mu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,s,{capture:!0,passive:a}):e.addEventListener(t,s,!0):a!==void 0?e.addEventListener(t,s,{passive:a}):e.addEventListener(t,s,!1)}function Tc(e,t,s,n,a){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var u=i.tag;if((u===3||u===4)&&(u=i.stateNode.containerInfo,u===a||u.nodeType===8&&u.parentNode===a))return;i=i.return}for(;l!==null;){if(i=mn(l),i===null)return;if(u=i.tag,u===5||u===6){n=o=i;continue e}l=l.parentNode}}n=n.return}xg(function(){var c=o,d=uf(s),f=[];e:{var h=Hg.get(e);if(h!==void 0){var y=xf,b=e;switch(e){case"keypress":if(di(s)===0)break e;case"keydown":case"keyup":y=w2;break;case"focusin":b="focus",y=jc;break;case"focusout":b="blur",y=jc;break;case"beforeblur":case"afterblur":y=jc;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Em;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=c2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=k2;break;case Bg:case Ug:case zg:y=f2;break;case Wg:y=C2;break;case"scroll":y=i2;break;case"wheel":y=P2;break;case"copy":case"cut":case"paste":y=m2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Tm}var g=(t&4)!==0,x=!g&&e==="scroll",m=g?h!==null?h+"Capture":null:h;g=[];for(var p=c,w;p!==null;){w=p;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,m!==null&&(j=_a(p,m),j!=null&&g.push(Ba(p,j,w)))),x)break;p=p.return}0<g.length&&(h=new y(h,b,null,s,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",h&&s!==Ru&&(b=s.relatedTarget||s.fromElement)&&(mn(b)||b[ms]))break e;if((y||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,y?(b=s.relatedTarget||s.toElement,y=c,b=b?mn(b):null,b!==null&&(x=Fn(b),b!==x||b.tag!==5&&b.tag!==6)&&(b=null)):(y=null,b=c),y!==b)){if(g=Em,j="onMouseLeave",m="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(g=Tm,j="onPointerLeave",m="onPointerEnter",p="pointer"),x=y==null?h:sr(y),w=b==null?h:sr(b),h=new g(j,p+"leave",y,s,d),h.target=x,h.relatedTarget=w,j=null,mn(d)===c&&(g=new g(m,p+"enter",b,s,d),g.target=w,g.relatedTarget=x,j=g),x=j,y&&b)t:{for(g=y,m=b,p=0,w=g;w;w=qn(w))p++;for(w=0,j=m;j;j=qn(j))w++;for(;0<p-w;)g=qn(g),p--;for(;0<w-p;)m=qn(m),w--;for(;p--;){if(g===m||m!==null&&g===m.alternate)break t;g=qn(g),m=qn(m)}g=null}else g=null;y!==null&&$m(f,h,y,g,!1),b!==null&&x!==null&&$m(f,x,b,g,!0)}}e:{if(h=c?sr(c):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var k=L2;else if(Dm(h))if(Og)k=V2;else{k=I2;var E=O2}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=F2);if(k&&(k=k(e,c))){Lg(f,k,s,d);break e}E&&E(e,h,c),e==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&Cu(h,"number",h.value)}switch(E=c?sr(c):window,e){case"focusin":(Dm(E)||E.contentEditable==="true")&&(er=E,Fu=c,Na=null);break;case"focusout":Na=Fu=er=null;break;case"mousedown":Vu=!0;break;case"contextmenu":case"mouseup":case"dragend":Vu=!1,Im(f,s,d);break;case"selectionchange":if(U2)break;case"keydown":case"keyup":Im(f,s,d)}var C;if(yf)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Jn?Mg(e,s)&&(N="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(N="onCompositionStart");N&&(Dg&&s.locale!=="ko"&&(Jn||N!=="onCompositionStart"?N==="onCompositionEnd"&&Jn&&(C=Rg()):(Ds=d,hf="value"in Ds?Ds.value:Ds.textContent,Jn=!0)),E=Oi(c,N),0<E.length&&(N=new Pm(N,e,null,s,d),f.push({event:N,listeners:E}),C?N.data=C:(C=_g(s),C!==null&&(N.data=C)))),(C=A2?R2(e,s):D2(e,s))&&(c=Oi(c,"onBeforeInput"),0<c.length&&(d=new Pm("onBeforeInput","beforeinput",null,s,d),f.push({event:d,listeners:c}),d.data=C))}qg(f,t)})}function Ba(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Oi(e,t){for(var s=t+"Capture",n=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=_a(e,s),o!=null&&n.unshift(Ba(e,o,a)),o=_a(e,t),o!=null&&n.push(Ba(e,o,a))),e=e.return}return n}function qn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function $m(e,t,s,n,a){for(var o=t._reactName,i=[];s!==null&&s!==n;){var l=s,u=l.alternate,c=l.stateNode;if(u!==null&&u===n)break;l.tag===5&&c!==null&&(l=c,a?(u=_a(s,o),u!=null&&i.unshift(Ba(s,u,l))):a||(u=_a(s,o),u!=null&&i.push(Ba(s,u,l)))),s=s.return}i.length!==0&&e.push({event:t,listeners:i})}var q2=/\r\n?/g,K2=/\u0000|\uFFFD/g;function Bm(e){return(typeof e=="string"?e:""+e).replace(q2,`
`).replace(K2,"")}function Bo(e,t,s){if(t=Bm(t),Bm(e)!==t&&s)throw Error(B(425))}function Ii(){}var $u=null,Bu=null;function Uu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zu=typeof setTimeout=="function"?setTimeout:void 0,G2=typeof clearTimeout=="function"?clearTimeout:void 0,Um=typeof Promise=="function"?Promise:void 0,Y2=typeof queueMicrotask=="function"?queueMicrotask:typeof Um<"u"?function(e){return Um.resolve(null).then(e).catch(X2)}:zu;function X2(e){setTimeout(function(){throw e})}function Ac(e,t){var s=t,n=0;do{var a=s.nextSibling;if(e.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(n===0){e.removeChild(a),Ia(t);return}n--}else s!=="$"&&s!=="$?"&&s!=="$!"||n++;s=a}while(s);Ia(t)}function Vs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function zm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var $r=Math.random().toString(36).slice(2),qt="__reactFiber$"+$r,Ua="__reactProps$"+$r,ms="__reactContainer$"+$r,Wu="__reactEvents$"+$r,Q2="__reactListeners$"+$r,Z2="__reactHandles$"+$r;function mn(e){var t=e[qt];if(t)return t;for(var s=e.parentNode;s;){if(t=s[ms]||s[qt]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=zm(e);e!==null;){if(s=e[qt])return s;e=zm(e)}return t}e=s,s=e.parentNode}return null}function po(e){return e=e[qt]||e[ms],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function sr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(B(33))}function Sl(e){return e[Ua]||null}var Hu=[],nr=-1;function en(e){return{current:e}}function de(e){0>nr||(e.current=Hu[nr],Hu[nr]=null,nr--)}function ie(e,t){nr++,Hu[nr]=e.current,e.current=t}var Gs={},He=en(Gs),st=en(!1),An=Gs;function kr(e,t){var s=e.type.contextTypes;if(!s)return Gs;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in s)a[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function nt(e){return e=e.childContextTypes,e!=null}function Fi(){de(st),de(He)}function Wm(e,t,s){if(He.current!==Gs)throw Error(B(168));ie(He,t),ie(st,s)}function Gg(e,t,s){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return s;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(B(108,O1(e)||"Unknown",a));return ye({},s,n)}function Vi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Gs,An=He.current,ie(He,e),ie(st,st.current),!0}function Hm(e,t,s){var n=e.stateNode;if(!n)throw Error(B(169));s?(e=Gg(e,t,An),n.__reactInternalMemoizedMergedChildContext=e,de(st),de(He),ie(He,e)):de(st),ie(st,s)}var rs=null,Cl=!1,Rc=!1;function Yg(e){rs===null?rs=[e]:rs.push(e)}function J2(e){Cl=!0,Yg(e)}function tn(){if(!Rc&&rs!==null){Rc=!0;var e=0,t=se;try{var s=rs;for(se=1;e<s.length;e++){var n=s[e];do n=n(!0);while(n!==null)}rs=null,Cl=!1}catch(a){throw rs!==null&&(rs=rs.slice(e+1)),bg(df,tn),a}finally{se=t,Rc=!1}}return null}var rr=[],ar=0,$i=null,Bi=0,wt=[],jt=0,Rn=null,as=1,os="";function cn(e,t){rr[ar++]=Bi,rr[ar++]=$i,$i=e,Bi=t}function Xg(e,t,s){wt[jt++]=as,wt[jt++]=os,wt[jt++]=Rn,Rn=e;var n=as;e=os;var a=32-_t(n)-1;n&=~(1<<a),s+=1;var o=32-_t(t)+a;if(30<o){var i=a-a%5;o=(n&(1<<i)-1).toString(32),n>>=i,a-=i,as=1<<32-_t(t)+a|s<<a|n,os=o+e}else as=1<<o|s<<a|n,os=e}function bf(e){e.return!==null&&(cn(e,1),Xg(e,1,0))}function wf(e){for(;e===$i;)$i=rr[--ar],rr[ar]=null,Bi=rr[--ar],rr[ar]=null;for(;e===Rn;)Rn=wt[--jt],wt[jt]=null,os=wt[--jt],wt[jt]=null,as=wt[--jt],wt[jt]=null}var pt=null,ft=null,pe=!1,Dt=null;function Qg(e,t){var s=Nt(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function qm(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,pt=e,ft=Vs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,pt=e,ft=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=Rn!==null?{id:as,overflow:os}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=Nt(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,pt=e,ft=null,!0):!1;default:return!1}}function qu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ku(e){if(pe){var t=ft;if(t){var s=t;if(!qm(e,t)){if(qu(e))throw Error(B(418));t=Vs(s.nextSibling);var n=pt;t&&qm(e,t)?Qg(n,s):(e.flags=e.flags&-4097|2,pe=!1,pt=e)}}else{if(qu(e))throw Error(B(418));e.flags=e.flags&-4097|2,pe=!1,pt=e}}}function Km(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pt=e}function Uo(e){if(e!==pt)return!1;if(!pe)return Km(e),pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Uu(e.type,e.memoizedProps)),t&&(t=ft)){if(qu(e))throw Zg(),Error(B(418));for(;t;)Qg(e,t),t=Vs(t.nextSibling)}if(Km(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){ft=Vs(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}ft=null}}else ft=pt?Vs(e.stateNode.nextSibling):null;return!0}function Zg(){for(var e=ft;e;)e=Vs(e.nextSibling)}function Sr(){ft=pt=null,pe=!1}function jf(e){Dt===null?Dt=[e]:Dt.push(e)}var ek=bs.ReactCurrentBatchConfig;function na(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(B(309));var n=s.stateNode}if(!n)throw Error(B(147,e));var a=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=a.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(B(284));if(!s._owner)throw Error(B(290,e))}return e}function zo(e,t){throw e=Object.prototype.toString.call(t),Error(B(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Gm(e){var t=e._init;return t(e._payload)}function Jg(e){function t(m,p){if(e){var w=m.deletions;w===null?(m.deletions=[p],m.flags|=16):w.push(p)}}function s(m,p){if(!e)return null;for(;p!==null;)t(m,p),p=p.sibling;return null}function n(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function a(m,p){return m=zs(m,p),m.index=0,m.sibling=null,m}function o(m,p,w){return m.index=w,e?(w=m.alternate,w!==null?(w=w.index,w<p?(m.flags|=2,p):w):(m.flags|=2,p)):(m.flags|=1048576,p)}function i(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,p,w,j){return p===null||p.tag!==6?(p=Fc(w,m.mode,j),p.return=m,p):(p=a(p,w),p.return=m,p)}function u(m,p,w,j){var k=w.type;return k===Zn?d(m,p,w.props.children,j,w.key):p!==null&&(p.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Es&&Gm(k)===p.type)?(j=a(p,w.props),j.ref=na(m,p,w),j.return=m,j):(j=yi(w.type,w.key,w.props,null,m.mode,j),j.ref=na(m,p,w),j.return=m,j)}function c(m,p,w,j){return p===null||p.tag!==4||p.stateNode.containerInfo!==w.containerInfo||p.stateNode.implementation!==w.implementation?(p=Vc(w,m.mode,j),p.return=m,p):(p=a(p,w.children||[]),p.return=m,p)}function d(m,p,w,j,k){return p===null||p.tag!==7?(p=bn(w,m.mode,j,k),p.return=m,p):(p=a(p,w),p.return=m,p)}function f(m,p,w){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Fc(""+p,m.mode,w),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Do:return w=yi(p.type,p.key,p.props,null,m.mode,w),w.ref=na(m,null,p),w.return=m,w;case Qn:return p=Vc(p,m.mode,w),p.return=m,p;case Es:var j=p._init;return f(m,j(p._payload),w)}if(pa(p)||Zr(p))return p=bn(p,m.mode,w,null),p.return=m,p;zo(m,p)}return null}function h(m,p,w,j){var k=p!==null?p.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return k!==null?null:l(m,p,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Do:return w.key===k?u(m,p,w,j):null;case Qn:return w.key===k?c(m,p,w,j):null;case Es:return k=w._init,h(m,p,k(w._payload),j)}if(pa(w)||Zr(w))return k!==null?null:d(m,p,w,j,null);zo(m,w)}return null}function y(m,p,w,j,k){if(typeof j=="string"&&j!==""||typeof j=="number")return m=m.get(w)||null,l(p,m,""+j,k);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Do:return m=m.get(j.key===null?w:j.key)||null,u(p,m,j,k);case Qn:return m=m.get(j.key===null?w:j.key)||null,c(p,m,j,k);case Es:var E=j._init;return y(m,p,w,E(j._payload),k)}if(pa(j)||Zr(j))return m=m.get(w)||null,d(p,m,j,k,null);zo(p,j)}return null}function b(m,p,w,j){for(var k=null,E=null,C=p,N=p=0,S=null;C!==null&&N<w.length;N++){C.index>N?(S=C,C=null):S=C.sibling;var T=h(m,C,w[N],j);if(T===null){C===null&&(C=S);break}e&&C&&T.alternate===null&&t(m,C),p=o(T,p,N),E===null?k=T:E.sibling=T,E=T,C=S}if(N===w.length)return s(m,C),pe&&cn(m,N),k;if(C===null){for(;N<w.length;N++)C=f(m,w[N],j),C!==null&&(p=o(C,p,N),E===null?k=C:E.sibling=C,E=C);return pe&&cn(m,N),k}for(C=n(m,C);N<w.length;N++)S=y(C,m,N,w[N],j),S!==null&&(e&&S.alternate!==null&&C.delete(S.key===null?N:S.key),p=o(S,p,N),E===null?k=S:E.sibling=S,E=S);return e&&C.forEach(function(I){return t(m,I)}),pe&&cn(m,N),k}function g(m,p,w,j){var k=Zr(w);if(typeof k!="function")throw Error(B(150));if(w=k.call(w),w==null)throw Error(B(151));for(var E=k=null,C=p,N=p=0,S=null,T=w.next();C!==null&&!T.done;N++,T=w.next()){C.index>N?(S=C,C=null):S=C.sibling;var I=h(m,C,T.value,j);if(I===null){C===null&&(C=S);break}e&&C&&I.alternate===null&&t(m,C),p=o(I,p,N),E===null?k=I:E.sibling=I,E=I,C=S}if(T.done)return s(m,C),pe&&cn(m,N),k;if(C===null){for(;!T.done;N++,T=w.next())T=f(m,T.value,j),T!==null&&(p=o(T,p,N),E===null?k=T:E.sibling=T,E=T);return pe&&cn(m,N),k}for(C=n(m,C);!T.done;N++,T=w.next())T=y(C,m,N,T.value,j),T!==null&&(e&&T.alternate!==null&&C.delete(T.key===null?N:T.key),p=o(T,p,N),E===null?k=T:E.sibling=T,E=T);return e&&C.forEach(function(D){return t(m,D)}),pe&&cn(m,N),k}function x(m,p,w,j){if(typeof w=="object"&&w!==null&&w.type===Zn&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Do:e:{for(var k=w.key,E=p;E!==null;){if(E.key===k){if(k=w.type,k===Zn){if(E.tag===7){s(m,E.sibling),p=a(E,w.props.children),p.return=m,m=p;break e}}else if(E.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Es&&Gm(k)===E.type){s(m,E.sibling),p=a(E,w.props),p.ref=na(m,E,w),p.return=m,m=p;break e}s(m,E);break}else t(m,E);E=E.sibling}w.type===Zn?(p=bn(w.props.children,m.mode,j,w.key),p.return=m,m=p):(j=yi(w.type,w.key,w.props,null,m.mode,j),j.ref=na(m,p,w),j.return=m,m=j)}return i(m);case Qn:e:{for(E=w.key;p!==null;){if(p.key===E)if(p.tag===4&&p.stateNode.containerInfo===w.containerInfo&&p.stateNode.implementation===w.implementation){s(m,p.sibling),p=a(p,w.children||[]),p.return=m,m=p;break e}else{s(m,p);break}else t(m,p);p=p.sibling}p=Vc(w,m.mode,j),p.return=m,m=p}return i(m);case Es:return E=w._init,x(m,p,E(w._payload),j)}if(pa(w))return b(m,p,w,j);if(Zr(w))return g(m,p,w,j);zo(m,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,p!==null&&p.tag===6?(s(m,p.sibling),p=a(p,w),p.return=m,m=p):(s(m,p),p=Fc(w,m.mode,j),p.return=m,m=p),i(m)):s(m,p)}return x}var Cr=Jg(!0),ey=Jg(!1),Ui=en(null),zi=null,or=null,Nf=null;function kf(){Nf=or=zi=null}function Sf(e){var t=Ui.current;de(Ui),e._currentValue=t}function Gu(e,t,s){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===s)break;e=e.return}}function gr(e,t){zi=e,Nf=or=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(tt=!0),e.firstContext=null)}function Ct(e){var t=e._currentValue;if(Nf!==e)if(e={context:e,memoizedValue:t,next:null},or===null){if(zi===null)throw Error(B(308));or=e,zi.dependencies={lanes:0,firstContext:e}}else or=or.next=e;return t}var hn=null;function Cf(e){hn===null?hn=[e]:hn.push(e)}function ty(e,t,s,n){var a=t.interleaved;return a===null?(s.next=s,Cf(t)):(s.next=a.next,a.next=s),t.interleaved=s,hs(e,n)}function hs(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Ps=!1;function Ef(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ls(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $s(e,t,s){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ee&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,hs(e,s)}return a=n.interleaved,a===null?(t.next=t,Cf(n)):(t.next=a.next,a.next=t),n.interleaved=t,hs(e,s)}function fi(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,ff(e,s)}}function Ym(e,t){var s=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var a=null,o=null;if(s=s.firstBaseUpdate,s!==null){do{var i={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};o===null?a=o=i:o=o.next=i,s=s.next}while(s!==null);o===null?a=o=t:o=o.next=t}else a=o=t;s={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Wi(e,t,s,n){var a=e.updateQueue;Ps=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var u=l,c=u.next;u.next=null,i===null?o=c:i.next=c,i=u;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(o!==null){var f=a.baseState;i=0,d=c=u=null,l=o;do{var h=l.lane,y=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,g=l;switch(h=t,y=s,g.tag){case 1:if(b=g.payload,typeof b=="function"){f=b.call(y,f,h);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=g.payload,h=typeof b=="function"?b.call(y,f,h):b,h==null)break e;f=ye({},f,h);break e;case 2:Ps=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else y={eventTime:y,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=y,u=f):d=d.next=y,i|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(u=f),a.baseState=u,a.firstBaseUpdate=c,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);Mn|=i,e.lanes=i,e.memoizedState=f}}function Xm(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=s,typeof a!="function")throw Error(B(191,a));a.call(n)}}}var mo={},Yt=en(mo),za=en(mo),Wa=en(mo);function xn(e){if(e===mo)throw Error(B(174));return e}function Pf(e,t){switch(ie(Wa,t),ie(za,e),ie(Yt,mo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Pu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Pu(t,e)}de(Yt),ie(Yt,t)}function Er(){de(Yt),de(za),de(Wa)}function ny(e){xn(Wa.current);var t=xn(Yt.current),s=Pu(t,e.type);t!==s&&(ie(za,e),ie(Yt,s))}function Tf(e){za.current===e&&(de(Yt),de(za))}var me=en(0);function Hi(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Dc=[];function Af(){for(var e=0;e<Dc.length;e++)Dc[e]._workInProgressVersionPrimary=null;Dc.length=0}var pi=bs.ReactCurrentDispatcher,Mc=bs.ReactCurrentBatchConfig,Dn=0,xe=null,Pe=null,Re=null,qi=!1,ka=!1,Ha=0,tk=0;function $e(){throw Error(B(321))}function Rf(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Ot(e[s],t[s]))return!1;return!0}function Df(e,t,s,n,a,o){if(Dn=o,xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pi.current=e===null||e.memoizedState===null?ak:ok,e=s(n,a),ka){o=0;do{if(ka=!1,Ha=0,25<=o)throw Error(B(301));o+=1,Re=Pe=null,t.updateQueue=null,pi.current=ik,e=s(n,a)}while(ka)}if(pi.current=Ki,t=Pe!==null&&Pe.next!==null,Dn=0,Re=Pe=xe=null,qi=!1,t)throw Error(B(300));return e}function Mf(){var e=Ha!==0;return Ha=0,e}function Ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?xe.memoizedState=Re=e:Re=Re.next=e,Re}function Et(){if(Pe===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=Pe.next;var t=Re===null?xe.memoizedState:Re.next;if(t!==null)Re=t,Pe=e;else{if(e===null)throw Error(B(310));Pe=e,e={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},Re===null?xe.memoizedState=Re=e:Re=Re.next=e}return Re}function qa(e,t){return typeof t=="function"?t(e):t}function _c(e){var t=Et(),s=t.queue;if(s===null)throw Error(B(311));s.lastRenderedReducer=e;var n=Pe,a=n.baseQueue,o=s.pending;if(o!==null){if(a!==null){var i=a.next;a.next=o.next,o.next=i}n.baseQueue=a=o,s.pending=null}if(a!==null){o=a.next,n=n.baseState;var l=i=null,u=null,c=o;do{var d=c.lane;if((Dn&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=f,i=n):u=u.next=f,xe.lanes|=d,Mn|=d}c=c.next}while(c!==null&&c!==o);u===null?i=n:u.next=l,Ot(n,t.memoizedState)||(tt=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=u,s.lastRenderedState=n}if(e=s.interleaved,e!==null){a=e;do o=a.lane,xe.lanes|=o,Mn|=o,a=a.next;while(a!==e)}else a===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function Lc(e){var t=Et(),s=t.queue;if(s===null)throw Error(B(311));s.lastRenderedReducer=e;var n=s.dispatch,a=s.pending,o=t.memoizedState;if(a!==null){s.pending=null;var i=a=a.next;do o=e(o,i.action),i=i.next;while(i!==a);Ot(o,t.memoizedState)||(tt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),s.lastRenderedState=o}return[o,n]}function ry(){}function ay(e,t){var s=xe,n=Et(),a=t(),o=!Ot(n.memoizedState,a);if(o&&(n.memoizedState=a,tt=!0),n=n.queue,_f(ly.bind(null,s,n,e),[e]),n.getSnapshot!==t||o||Re!==null&&Re.memoizedState.tag&1){if(s.flags|=2048,Ka(9,iy.bind(null,s,n,a,t),void 0,null),De===null)throw Error(B(349));Dn&30||oy(s,t,a)}return a}function oy(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function iy(e,t,s,n){t.value=s,t.getSnapshot=n,cy(t)&&uy(e)}function ly(e,t,s){return s(function(){cy(t)&&uy(e)})}function cy(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Ot(e,s)}catch{return!0}}function uy(e){var t=hs(e,1);t!==null&&Lt(t,e,1,-1)}function Qm(e){var t=Ht();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:e},t.queue=e,e=e.dispatch=rk.bind(null,xe,e),[t.memoizedState,e]}function Ka(e,t,s,n){return e={tag:e,create:t,destroy:s,deps:n,next:null},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(n=s.next,s.next=e,e.next=n,t.lastEffect=e)),e}function dy(){return Et().memoizedState}function mi(e,t,s,n){var a=Ht();xe.flags|=e,a.memoizedState=Ka(1|t,s,void 0,n===void 0?null:n)}function El(e,t,s,n){var a=Et();n=n===void 0?null:n;var o=void 0;if(Pe!==null){var i=Pe.memoizedState;if(o=i.destroy,n!==null&&Rf(n,i.deps)){a.memoizedState=Ka(t,s,o,n);return}}xe.flags|=e,a.memoizedState=Ka(1|t,s,o,n)}function Zm(e,t){return mi(8390656,8,e,t)}function _f(e,t){return El(2048,8,e,t)}function fy(e,t){return El(4,2,e,t)}function py(e,t){return El(4,4,e,t)}function my(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function hy(e,t,s){return s=s!=null?s.concat([e]):null,El(4,4,my.bind(null,t,e),s)}function Lf(){}function xy(e,t){var s=Et();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&Rf(t,n[1])?n[0]:(s.memoizedState=[e,t],e)}function gy(e,t){var s=Et();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&Rf(t,n[1])?n[0]:(e=e(),s.memoizedState=[e,t],e)}function yy(e,t,s){return Dn&21?(Ot(s,t)||(s=Ng(),xe.lanes|=s,Mn|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,tt=!0),e.memoizedState=s)}function sk(e,t){var s=se;se=s!==0&&4>s?s:4,e(!0);var n=Mc.transition;Mc.transition={};try{e(!1),t()}finally{se=s,Mc.transition=n}}function vy(){return Et().memoizedState}function nk(e,t,s){var n=Us(e);if(s={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null},by(e))wy(t,s);else if(s=ty(e,t,s,n),s!==null){var a=Ye();Lt(s,e,n,a),jy(s,t,n)}}function rk(e,t,s){var n=Us(e),a={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null};if(by(e))wy(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,s);if(a.hasEagerState=!0,a.eagerState=l,Ot(l,i)){var u=t.interleaved;u===null?(a.next=a,Cf(t)):(a.next=u.next,u.next=a),t.interleaved=a;return}}catch{}finally{}s=ty(e,t,a,n),s!==null&&(a=Ye(),Lt(s,e,n,a),jy(s,t,n))}}function by(e){var t=e.alternate;return e===xe||t!==null&&t===xe}function wy(e,t){ka=qi=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function jy(e,t,s){if(s&4194240){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,ff(e,s)}}var Ki={readContext:Ct,useCallback:$e,useContext:$e,useEffect:$e,useImperativeHandle:$e,useInsertionEffect:$e,useLayoutEffect:$e,useMemo:$e,useReducer:$e,useRef:$e,useState:$e,useDebugValue:$e,useDeferredValue:$e,useTransition:$e,useMutableSource:$e,useSyncExternalStore:$e,useId:$e,unstable_isNewReconciler:!1},ak={readContext:Ct,useCallback:function(e,t){return Ht().memoizedState=[e,t===void 0?null:t],e},useContext:Ct,useEffect:Zm,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,mi(4194308,4,my.bind(null,t,e),s)},useLayoutEffect:function(e,t){return mi(4194308,4,e,t)},useInsertionEffect:function(e,t){return mi(4,2,e,t)},useMemo:function(e,t){var s=Ht();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var n=Ht();return t=s!==void 0?s(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=nk.bind(null,xe,e),[n.memoizedState,e]},useRef:function(e){var t=Ht();return e={current:e},t.memoizedState=e},useState:Qm,useDebugValue:Lf,useDeferredValue:function(e){return Ht().memoizedState=e},useTransition:function(){var e=Qm(!1),t=e[0];return e=sk.bind(null,e[1]),Ht().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var n=xe,a=Ht();if(pe){if(s===void 0)throw Error(B(407));s=s()}else{if(s=t(),De===null)throw Error(B(349));Dn&30||oy(n,t,s)}a.memoizedState=s;var o={value:s,getSnapshot:t};return a.queue=o,Zm(ly.bind(null,n,o,e),[e]),n.flags|=2048,Ka(9,iy.bind(null,n,o,s,t),void 0,null),s},useId:function(){var e=Ht(),t=De.identifierPrefix;if(pe){var s=os,n=as;s=(n&~(1<<32-_t(n)-1)).toString(32)+s,t=":"+t+"R"+s,s=Ha++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=tk++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ok={readContext:Ct,useCallback:xy,useContext:Ct,useEffect:_f,useImperativeHandle:hy,useInsertionEffect:fy,useLayoutEffect:py,useMemo:gy,useReducer:_c,useRef:dy,useState:function(){return _c(qa)},useDebugValue:Lf,useDeferredValue:function(e){var t=Et();return yy(t,Pe.memoizedState,e)},useTransition:function(){var e=_c(qa)[0],t=Et().memoizedState;return[e,t]},useMutableSource:ry,useSyncExternalStore:ay,useId:vy,unstable_isNewReconciler:!1},ik={readContext:Ct,useCallback:xy,useContext:Ct,useEffect:_f,useImperativeHandle:hy,useInsertionEffect:fy,useLayoutEffect:py,useMemo:gy,useReducer:Lc,useRef:dy,useState:function(){return Lc(qa)},useDebugValue:Lf,useDeferredValue:function(e){var t=Et();return Pe===null?t.memoizedState=e:yy(t,Pe.memoizedState,e)},useTransition:function(){var e=Lc(qa)[0],t=Et().memoizedState;return[e,t]},useMutableSource:ry,useSyncExternalStore:ay,useId:vy,unstable_isNewReconciler:!1};function At(e,t){if(e&&e.defaultProps){t=ye({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function Yu(e,t,s,n){t=e.memoizedState,s=s(n,t),s=s==null?t:ye({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Pl={isMounted:function(e){return(e=e._reactInternals)?Fn(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var n=Ye(),a=Us(e),o=ls(n,a);o.payload=t,s!=null&&(o.callback=s),t=$s(e,o,a),t!==null&&(Lt(t,e,a,n),fi(t,e,a))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var n=Ye(),a=Us(e),o=ls(n,a);o.tag=1,o.payload=t,s!=null&&(o.callback=s),t=$s(e,o,a),t!==null&&(Lt(t,e,a,n),fi(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=Ye(),n=Us(e),a=ls(s,n);a.tag=2,t!=null&&(a.callback=t),t=$s(e,a,n),t!==null&&(Lt(t,e,n,s),fi(t,e,n))}};function Jm(e,t,s,n,a,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!Va(s,n)||!Va(a,o):!0}function Ny(e,t,s){var n=!1,a=Gs,o=t.contextType;return typeof o=="object"&&o!==null?o=Ct(o):(a=nt(t)?An:He.current,n=t.contextTypes,o=(n=n!=null)?kr(e,a):Gs),t=new t(s,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Pl,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function eh(e,t,s,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,n),t.state!==e&&Pl.enqueueReplaceState(t,t.state,null)}function Xu(e,t,s,n){var a=e.stateNode;a.props=s,a.state=e.memoizedState,a.refs={},Ef(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=Ct(o):(o=nt(t)?An:He.current,a.context=kr(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Yu(e,t,o,s),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Pl.enqueueReplaceState(a,a.state,null),Wi(e,s,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Pr(e,t){try{var s="",n=t;do s+=L1(n),n=n.return;while(n);var a=s}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function Oc(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function Qu(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var lk=typeof WeakMap=="function"?WeakMap:Map;function ky(e,t,s){s=ls(-1,s),s.tag=3,s.payload={element:null};var n=t.value;return s.callback=function(){Yi||(Yi=!0,id=n),Qu(e,t)},s}function Sy(e,t,s){s=ls(-1,s),s.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;s.payload=function(){return n(a)},s.callback=function(){Qu(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(s.callback=function(){Qu(e,t),typeof n!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),s}function th(e,t,s){var n=e.pingCache;if(n===null){n=e.pingCache=new lk;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(s)||(a.add(s),e=jk.bind(null,e,t,s),t.then(e,e))}function sh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function nh(e,t,s,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=ls(-1,1),t.tag=2,$s(s,t,1))),s.lanes|=1),e)}var ck=bs.ReactCurrentOwner,tt=!1;function Ge(e,t,s,n){t.child=e===null?ey(t,null,s,n):Cr(t,e.child,s,n)}function rh(e,t,s,n,a){s=s.render;var o=t.ref;return gr(t,a),n=Df(e,t,s,n,o,a),s=Mf(),e!==null&&!tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,xs(e,t,a)):(pe&&s&&bf(t),t.flags|=1,Ge(e,t,n,a),t.child)}function ah(e,t,s,n,a){if(e===null){var o=s.type;return typeof o=="function"&&!zf(o)&&o.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=o,Cy(e,t,o,n,a)):(e=yi(s.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var i=o.memoizedProps;if(s=s.compare,s=s!==null?s:Va,s(i,n)&&e.ref===t.ref)return xs(e,t,a)}return t.flags|=1,e=zs(o,n),e.ref=t.ref,e.return=t,t.child=e}function Cy(e,t,s,n,a){if(e!==null){var o=e.memoizedProps;if(Va(o,n)&&e.ref===t.ref)if(tt=!1,t.pendingProps=n=o,(e.lanes&a)!==0)e.flags&131072&&(tt=!0);else return t.lanes=e.lanes,xs(e,t,a)}return Zu(e,t,s,n,a)}function Ey(e,t,s){var n=t.pendingProps,a=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ie(lr,ct),ct|=s;else{if(!(s&1073741824))return e=o!==null?o.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ie(lr,ct),ct|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:s,ie(lr,ct),ct|=n}else o!==null?(n=o.baseLanes|s,t.memoizedState=null):n=s,ie(lr,ct),ct|=n;return Ge(e,t,a,s),t.child}function Py(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function Zu(e,t,s,n,a){var o=nt(s)?An:He.current;return o=kr(t,o),gr(t,a),s=Df(e,t,s,n,o,a),n=Mf(),e!==null&&!tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,xs(e,t,a)):(pe&&n&&bf(t),t.flags|=1,Ge(e,t,s,a),t.child)}function oh(e,t,s,n,a){if(nt(s)){var o=!0;Vi(t)}else o=!1;if(gr(t,a),t.stateNode===null)hi(e,t),Ny(t,s,n),Xu(t,s,n,a),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var u=i.context,c=s.contextType;typeof c=="object"&&c!==null?c=Ct(c):(c=nt(s)?An:He.current,c=kr(t,c));var d=s.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||u!==c)&&eh(t,i,n,c),Ps=!1;var h=t.memoizedState;i.state=h,Wi(t,n,i,a),u=t.memoizedState,l!==n||h!==u||st.current||Ps?(typeof d=="function"&&(Yu(t,s,d,n),u=t.memoizedState),(l=Ps||Jm(t,s,l,n,h,u,c))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),i.props=n,i.state=u,i.context=c,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,sy(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:At(t.type,l),i.props=c,f=t.pendingProps,h=i.context,u=s.contextType,typeof u=="object"&&u!==null?u=Ct(u):(u=nt(s)?An:He.current,u=kr(t,u));var y=s.getDerivedStateFromProps;(d=typeof y=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||h!==u)&&eh(t,i,n,u),Ps=!1,h=t.memoizedState,i.state=h,Wi(t,n,i,a);var b=t.memoizedState;l!==f||h!==b||st.current||Ps?(typeof y=="function"&&(Yu(t,s,y,n),b=t.memoizedState),(c=Ps||Jm(t,s,c,n,h,b,u)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,b,u),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,b,u)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),i.props=n,i.state=b,i.context=u,n=c):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Ju(e,t,s,n,o,a)}function Ju(e,t,s,n,a,o){Py(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&Hm(t,s,!1),xs(e,t,o);n=t.stateNode,ck.current=t;var l=i&&typeof s.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Cr(t,e.child,null,o),t.child=Cr(t,null,l,o)):Ge(e,t,l,o),t.memoizedState=n.state,a&&Hm(t,s,!0),t.child}function Ty(e){var t=e.stateNode;t.pendingContext?Wm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Wm(e,t.context,!1),Pf(e,t.containerInfo)}function ih(e,t,s,n,a){return Sr(),jf(a),t.flags|=256,Ge(e,t,s,n),t.child}var ed={dehydrated:null,treeContext:null,retryLane:0};function td(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ay(e,t,s){var n=t.pendingProps,a=me.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ie(me,a&1),e===null)return Ku(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Rl(i,n,0,null),e=bn(e,n,s,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=td(s),t.memoizedState=ed,e):Of(t,i));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return uk(e,t,i,n,l,a,s);if(o){o=n.fallback,i=t.mode,a=e.child,l=a.sibling;var u={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=zs(a,u),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?o=zs(l,o):(o=bn(o,i,s,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?td(s):{baseLanes:i.baseLanes|s,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~s,t.memoizedState=ed,n}return o=e.child,e=o.sibling,n=zs(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=s),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n}function Of(e,t){return t=Rl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Wo(e,t,s,n){return n!==null&&jf(n),Cr(t,e.child,null,s),e=Of(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function uk(e,t,s,n,a,o,i){if(s)return t.flags&256?(t.flags&=-257,n=Oc(Error(B(422))),Wo(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,a=t.mode,n=Rl({mode:"visible",children:n.children},a,0,null),o=bn(o,a,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&Cr(t,e.child,null,i),t.child.memoizedState=td(i),t.memoizedState=ed,o);if(!(t.mode&1))return Wo(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error(B(419)),n=Oc(o,n,void 0),Wo(e,t,i,n)}if(l=(i&e.childLanes)!==0,tt||l){if(n=De,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,hs(e,a),Lt(n,e,a,-1))}return Uf(),n=Oc(Error(B(421))),Wo(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Nk.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,ft=Vs(a.nextSibling),pt=t,pe=!0,Dt=null,e!==null&&(wt[jt++]=as,wt[jt++]=os,wt[jt++]=Rn,as=e.id,os=e.overflow,Rn=t),t=Of(t,n.children),t.flags|=4096,t)}function lh(e,t,s){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Gu(e.return,t,s)}function Ic(e,t,s,n,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=s,o.tailMode=a)}function Ry(e,t,s){var n=t.pendingProps,a=n.revealOrder,o=n.tail;if(Ge(e,t,n.children,s),n=me.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lh(e,s,t);else if(e.tag===19)lh(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ie(me,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(s=t.child,a=null;s!==null;)e=s.alternate,e!==null&&Hi(e)===null&&(a=s),s=s.sibling;s=a,s===null?(a=t.child,t.child=null):(a=s.sibling,s.sibling=null),Ic(t,!1,a,s,o);break;case"backwards":for(s=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Hi(e)===null){t.child=a;break}e=a.sibling,a.sibling=s,s=a,a=e}Ic(t,!0,s,null,o);break;case"together":Ic(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function hi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function xs(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Mn|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(B(153));if(t.child!==null){for(e=t.child,s=zs(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=zs(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function dk(e,t,s){switch(t.tag){case 3:Ty(t),Sr();break;case 5:ny(t);break;case 1:nt(t.type)&&Vi(t);break;case 4:Pf(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;ie(Ui,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ie(me,me.current&1),t.flags|=128,null):s&t.child.childLanes?Ay(e,t,s):(ie(me,me.current&1),e=xs(e,t,s),e!==null?e.sibling:null);ie(me,me.current&1);break;case 19:if(n=(s&t.childLanes)!==0,e.flags&128){if(n)return Ry(e,t,s);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ie(me,me.current),n)break;return null;case 22:case 23:return t.lanes=0,Ey(e,t,s)}return xs(e,t,s)}var Dy,sd,My,_y;Dy=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};sd=function(){};My=function(e,t,s,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,xn(Yt.current);var o=null;switch(s){case"input":a=ku(e,a),n=ku(e,n),o=[];break;case"select":a=ye({},a,{value:void 0}),n=ye({},n,{value:void 0}),o=[];break;case"textarea":a=Eu(e,a),n=Eu(e,n),o=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ii)}Tu(s,n);var i;s=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var l=a[c];for(i in l)l.hasOwnProperty(i)&&(s||(s={}),s[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Da.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in n){var u=n[c];if(l=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(i in l)!l.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(s||(s={}),s[i]="");for(i in u)u.hasOwnProperty(i)&&l[i]!==u[i]&&(s||(s={}),s[i]=u[i])}else s||(o||(o=[]),o.push(c,s)),s=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(o=o||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Da.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&ue("scroll",e),o||l===u||(o=[])):(o=o||[]).push(c,u))}s&&(o=o||[]).push("style",s);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};_y=function(e,t,s,n){s!==n&&(t.flags|=4)};function ra(e,t){if(!pe)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Be(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,n=0;if(t)for(var a=e.child;a!==null;)s|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)s|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=s,t}function fk(e,t,s){var n=t.pendingProps;switch(wf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(t),null;case 1:return nt(t.type)&&Fi(),Be(t),null;case 3:return n=t.stateNode,Er(),de(st),de(He),Af(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Uo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Dt!==null&&(ud(Dt),Dt=null))),sd(e,t),Be(t),null;case 5:Tf(t);var a=xn(Wa.current);if(s=t.type,e!==null&&t.stateNode!=null)My(e,t,s,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(B(166));return Be(t),null}if(e=xn(Yt.current),Uo(t)){n=t.stateNode,s=t.type;var o=t.memoizedProps;switch(n[qt]=t,n[Ua]=o,e=(t.mode&1)!==0,s){case"dialog":ue("cancel",n),ue("close",n);break;case"iframe":case"object":case"embed":ue("load",n);break;case"video":case"audio":for(a=0;a<ha.length;a++)ue(ha[a],n);break;case"source":ue("error",n);break;case"img":case"image":case"link":ue("error",n),ue("load",n);break;case"details":ue("toggle",n);break;case"input":gm(n,o),ue("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},ue("invalid",n);break;case"textarea":vm(n,o),ue("invalid",n)}Tu(s,o),a=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&Bo(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Bo(n.textContent,l,e),a=["children",""+l]):Da.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&ue("scroll",n)}switch(s){case"input":Mo(n),ym(n,o,!0);break;case"textarea":Mo(n),bm(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Ii)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=lg(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(s,{is:n.is}):(e=i.createElement(s),s==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,s),e[qt]=t,e[Ua]=n,Dy(e,t,!1,!1),t.stateNode=e;e:{switch(i=Au(s,n),s){case"dialog":ue("cancel",e),ue("close",e),a=n;break;case"iframe":case"object":case"embed":ue("load",e),a=n;break;case"video":case"audio":for(a=0;a<ha.length;a++)ue(ha[a],e);a=n;break;case"source":ue("error",e),a=n;break;case"img":case"image":case"link":ue("error",e),ue("load",e),a=n;break;case"details":ue("toggle",e),a=n;break;case"input":gm(e,n),a=ku(e,n),ue("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=ye({},n,{value:void 0}),ue("invalid",e);break;case"textarea":vm(e,n),a=Eu(e,n),ue("invalid",e);break;default:a=n}Tu(s,a),l=a;for(o in l)if(l.hasOwnProperty(o)){var u=l[o];o==="style"?dg(e,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&cg(e,u)):o==="children"?typeof u=="string"?(s!=="textarea"||u!=="")&&Ma(e,u):typeof u=="number"&&Ma(e,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Da.hasOwnProperty(o)?u!=null&&o==="onScroll"&&ue("scroll",e):u!=null&&af(e,o,u,i))}switch(s){case"input":Mo(e),ym(e,n,!1);break;case"textarea":Mo(e),bm(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ks(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?pr(e,!!n.multiple,o,!1):n.defaultValue!=null&&pr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Ii)}switch(s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Be(t),null;case 6:if(e&&t.stateNode!=null)_y(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(B(166));if(s=xn(Wa.current),xn(Yt.current),Uo(t)){if(n=t.stateNode,s=t.memoizedProps,n[qt]=t,(o=n.nodeValue!==s)&&(e=pt,e!==null))switch(e.tag){case 3:Bo(n.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Bo(n.nodeValue,s,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(s.nodeType===9?s:s.ownerDocument).createTextNode(n),n[qt]=t,t.stateNode=n}return Be(t),null;case 13:if(de(me),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(pe&&ft!==null&&t.mode&1&&!(t.flags&128))Zg(),Sr(),t.flags|=98560,o=!1;else if(o=Uo(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(B(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(B(317));o[qt]=t}else Sr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Be(t),o=!1}else Dt!==null&&(ud(Dt),Dt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||me.current&1?Te===0&&(Te=3):Uf())),t.updateQueue!==null&&(t.flags|=4),Be(t),null);case 4:return Er(),sd(e,t),e===null&&$a(t.stateNode.containerInfo),Be(t),null;case 10:return Sf(t.type._context),Be(t),null;case 17:return nt(t.type)&&Fi(),Be(t),null;case 19:if(de(me),o=t.memoizedState,o===null)return Be(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)ra(o,!1);else{if(Te!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Hi(e),i!==null){for(t.flags|=128,ra(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=s,s=t.child;s!==null;)o=s,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return ie(me,me.current&1|2),t.child}e=e.sibling}o.tail!==null&&je()>Tr&&(t.flags|=128,n=!0,ra(o,!1),t.lanes=4194304)}else{if(!n)if(e=Hi(i),e!==null){if(t.flags|=128,n=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),ra(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!pe)return Be(t),null}else 2*je()-o.renderingStartTime>Tr&&s!==1073741824&&(t.flags|=128,n=!0,ra(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(s=o.last,s!==null?s.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=je(),t.sibling=null,s=me.current,ie(me,n?s&1|2:s&1),t):(Be(t),null);case 22:case 23:return Bf(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ct&1073741824&&(Be(t),t.subtreeFlags&6&&(t.flags|=8192)):Be(t),null;case 24:return null;case 25:return null}throw Error(B(156,t.tag))}function pk(e,t){switch(wf(t),t.tag){case 1:return nt(t.type)&&Fi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Er(),de(st),de(He),Af(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Tf(t),null;case 13:if(de(me),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(B(340));Sr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return de(me),null;case 4:return Er(),null;case 10:return Sf(t.type._context),null;case 22:case 23:return Bf(),null;case 24:return null;default:return null}}var Ho=!1,ze=!1,mk=typeof WeakSet=="function"?WeakSet:Set,z=null;function ir(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(n){ve(e,t,n)}else s.current=null}function nd(e,t,s){try{s()}catch(n){ve(e,t,n)}}var ch=!1;function hk(e,t){if($u=_i,e=Vg(),vf(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var a=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{s.nodeType,o.nodeType}catch{s=null;break e}var i=0,l=-1,u=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var y;f!==s||a!==0&&f.nodeType!==3||(l=i+a),f!==o||n!==0&&f.nodeType!==3||(u=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(y=f.firstChild)!==null;)h=f,f=y;for(;;){if(f===e)break t;if(h===s&&++c===a&&(l=i),h===o&&++d===n&&(u=i),(y=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=y}s=l===-1||u===-1?null:{start:l,end:u}}else s=null}s=s||{start:0,end:0}}else s=null;for(Bu={focusedElem:e,selectionRange:s},_i=!1,z=t;z!==null;)if(t=z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,z=e;else for(;z!==null;){t=z;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var g=b.memoizedProps,x=b.memoizedState,m=t.stateNode,p=m.getSnapshotBeforeUpdate(t.elementType===t.type?g:At(t.type,g),x);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(j){ve(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,z=e;break}z=t.return}return b=ch,ch=!1,b}function Sa(e,t,s){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&nd(t,s,o)}a=a.next}while(a!==n)}}function Tl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var n=s.create;s.destroy=n()}s=s.next}while(s!==t)}}function rd(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function Ly(e){var t=e.alternate;t!==null&&(e.alternate=null,Ly(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[qt],delete t[Ua],delete t[Wu],delete t[Q2],delete t[Z2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Oy(e){return e.tag===5||e.tag===3||e.tag===4}function uh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Oy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ad(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=Ii));else if(n!==4&&(e=e.child,e!==null))for(ad(e,t,s),e=e.sibling;e!==null;)ad(e,t,s),e=e.sibling}function od(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(od(e,t,s),e=e.sibling;e!==null;)od(e,t,s),e=e.sibling}var _e=null,Rt=!1;function js(e,t,s){for(s=s.child;s!==null;)Iy(e,t,s),s=s.sibling}function Iy(e,t,s){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(wl,s)}catch{}switch(s.tag){case 5:ze||ir(s,t);case 6:var n=_e,a=Rt;_e=null,js(e,t,s),_e=n,Rt=a,_e!==null&&(Rt?(e=_e,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):_e.removeChild(s.stateNode));break;case 18:_e!==null&&(Rt?(e=_e,s=s.stateNode,e.nodeType===8?Ac(e.parentNode,s):e.nodeType===1&&Ac(e,s),Ia(e)):Ac(_e,s.stateNode));break;case 4:n=_e,a=Rt,_e=s.stateNode.containerInfo,Rt=!0,js(e,t,s),_e=n,Rt=a;break;case 0:case 11:case 14:case 15:if(!ze&&(n=s.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var o=a,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&nd(s,t,i),a=a.next}while(a!==n)}js(e,t,s);break;case 1:if(!ze&&(ir(s,t),n=s.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=s.memoizedProps,n.state=s.memoizedState,n.componentWillUnmount()}catch(l){ve(s,t,l)}js(e,t,s);break;case 21:js(e,t,s);break;case 22:s.mode&1?(ze=(n=ze)||s.memoizedState!==null,js(e,t,s),ze=n):js(e,t,s);break;default:js(e,t,s)}}function dh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new mk),t.forEach(function(n){var a=kk.bind(null,e,n);s.has(n)||(s.add(n),n.then(a,a))})}}function Tt(e,t){var s=t.deletions;if(s!==null)for(var n=0;n<s.length;n++){var a=s[n];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:_e=l.stateNode,Rt=!1;break e;case 3:_e=l.stateNode.containerInfo,Rt=!0;break e;case 4:_e=l.stateNode.containerInfo,Rt=!0;break e}l=l.return}if(_e===null)throw Error(B(160));Iy(o,i,a),_e=null,Rt=!1;var u=a.alternate;u!==null&&(u.return=null),a.return=null}catch(c){ve(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Fy(t,e),t=t.sibling}function Fy(e,t){var s=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Tt(t,e),Ut(e),n&4){try{Sa(3,e,e.return),Tl(3,e)}catch(g){ve(e,e.return,g)}try{Sa(5,e,e.return)}catch(g){ve(e,e.return,g)}}break;case 1:Tt(t,e),Ut(e),n&512&&s!==null&&ir(s,s.return);break;case 5:if(Tt(t,e),Ut(e),n&512&&s!==null&&ir(s,s.return),e.flags&32){var a=e.stateNode;try{Ma(a,"")}catch(g){ve(e,e.return,g)}}if(n&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,i=s!==null?s.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&og(a,o),Au(l,i);var c=Au(l,o);for(i=0;i<u.length;i+=2){var d=u[i],f=u[i+1];d==="style"?dg(a,f):d==="dangerouslySetInnerHTML"?cg(a,f):d==="children"?Ma(a,f):af(a,d,f,c)}switch(l){case"input":Su(a,o);break;case"textarea":ig(a,o);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var y=o.value;y!=null?pr(a,!!o.multiple,y,!1):h!==!!o.multiple&&(o.defaultValue!=null?pr(a,!!o.multiple,o.defaultValue,!0):pr(a,!!o.multiple,o.multiple?[]:"",!1))}a[Ua]=o}catch(g){ve(e,e.return,g)}}break;case 6:if(Tt(t,e),Ut(e),n&4){if(e.stateNode===null)throw Error(B(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(g){ve(e,e.return,g)}}break;case 3:if(Tt(t,e),Ut(e),n&4&&s!==null&&s.memoizedState.isDehydrated)try{Ia(t.containerInfo)}catch(g){ve(e,e.return,g)}break;case 4:Tt(t,e),Ut(e);break;case 13:Tt(t,e),Ut(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(Vf=je())),n&4&&dh(e);break;case 22:if(d=s!==null&&s.memoizedState!==null,e.mode&1?(ze=(c=ze)||d,Tt(t,e),ze=c):Tt(t,e),Ut(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(z=e,d=e.child;d!==null;){for(f=z=d;z!==null;){switch(h=z,y=h.child,h.tag){case 0:case 11:case 14:case 15:Sa(4,h,h.return);break;case 1:ir(h,h.return);var b=h.stateNode;if(typeof b.componentWillUnmount=="function"){n=h,s=h.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(g){ve(n,s,g)}}break;case 5:ir(h,h.return);break;case 22:if(h.memoizedState!==null){ph(f);continue}}y!==null?(y.return=h,z=y):ph(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,c?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,u=f.memoizedProps.style,i=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=ug("display",i))}catch(g){ve(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){ve(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Tt(t,e),Ut(e),n&4&&dh(e);break;case 21:break;default:Tt(t,e),Ut(e)}}function Ut(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(Oy(s)){var n=s;break e}s=s.return}throw Error(B(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Ma(a,""),n.flags&=-33);var o=uh(e);od(e,o,a);break;case 3:case 4:var i=n.stateNode.containerInfo,l=uh(e);ad(e,l,i);break;default:throw Error(B(161))}}catch(u){ve(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xk(e,t,s){z=e,Vy(e)}function Vy(e,t,s){for(var n=(e.mode&1)!==0;z!==null;){var a=z,o=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||Ho;if(!i){var l=a.alternate,u=l!==null&&l.memoizedState!==null||ze;l=Ho;var c=ze;if(Ho=i,(ze=u)&&!c)for(z=a;z!==null;)i=z,u=i.child,i.tag===22&&i.memoizedState!==null?mh(a):u!==null?(u.return=i,z=u):mh(a);for(;o!==null;)z=o,Vy(o),o=o.sibling;z=a,Ho=l,ze=c}fh(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,z=o):fh(e)}}function fh(e){for(;z!==null;){var t=z;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ze||Tl(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ze)if(s===null)n.componentDidMount();else{var a=t.elementType===t.type?s.memoizedProps:At(t.type,s.memoizedProps);n.componentDidUpdate(a,s.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Xm(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}Xm(t,i,s)}break;case 5:var l=t.stateNode;if(s===null&&t.flags&4){s=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&s.focus();break;case"img":u.src&&(s.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ia(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}ze||t.flags&512&&rd(t)}catch(h){ve(t,t.return,h)}}if(t===e){z=null;break}if(s=t.sibling,s!==null){s.return=t.return,z=s;break}z=t.return}}function ph(e){for(;z!==null;){var t=z;if(t===e){z=null;break}var s=t.sibling;if(s!==null){s.return=t.return,z=s;break}z=t.return}}function mh(e){for(;z!==null;){var t=z;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{Tl(4,t)}catch(u){ve(t,s,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(u){ve(t,a,u)}}var o=t.return;try{rd(t)}catch(u){ve(t,o,u)}break;case 5:var i=t.return;try{rd(t)}catch(u){ve(t,i,u)}}}catch(u){ve(t,t.return,u)}if(t===e){z=null;break}var l=t.sibling;if(l!==null){l.return=t.return,z=l;break}z=t.return}}var gk=Math.ceil,Gi=bs.ReactCurrentDispatcher,If=bs.ReactCurrentOwner,kt=bs.ReactCurrentBatchConfig,ee=0,De=null,Se=null,Ie=0,ct=0,lr=en(0),Te=0,Ga=null,Mn=0,Al=0,Ff=0,Ca=null,et=null,Vf=0,Tr=1/0,ns=null,Yi=!1,id=null,Bs=null,qo=!1,Ms=null,Xi=0,Ea=0,ld=null,xi=-1,gi=0;function Ye(){return ee&6?je():xi!==-1?xi:xi=je()}function Us(e){return e.mode&1?ee&2&&Ie!==0?Ie&-Ie:ek.transition!==null?(gi===0&&(gi=Ng()),gi):(e=se,e!==0||(e=window.event,e=e===void 0?16:Ag(e.type)),e):1}function Lt(e,t,s,n){if(50<Ea)throw Ea=0,ld=null,Error(B(185));uo(e,s,n),(!(ee&2)||e!==De)&&(e===De&&(!(ee&2)&&(Al|=s),Te===4&&Rs(e,Ie)),rt(e,n),s===1&&ee===0&&!(t.mode&1)&&(Tr=je()+500,Cl&&tn()))}function rt(e,t){var s=e.callbackNode;e2(e,t);var n=Mi(e,e===De?Ie:0);if(n===0)s!==null&&Nm(s),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(s!=null&&Nm(s),t===1)e.tag===0?J2(hh.bind(null,e)):Yg(hh.bind(null,e)),Y2(function(){!(ee&6)&&tn()}),s=null;else{switch(kg(n)){case 1:s=df;break;case 4:s=wg;break;case 16:s=Di;break;case 536870912:s=jg;break;default:s=Di}s=Ky(s,$y.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function $y(e,t){if(xi=-1,gi=0,ee&6)throw Error(B(327));var s=e.callbackNode;if(yr()&&e.callbackNode!==s)return null;var n=Mi(e,e===De?Ie:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Qi(e,n);else{t=n;var a=ee;ee|=2;var o=Uy();(De!==e||Ie!==t)&&(ns=null,Tr=je()+500,vn(e,t));do try{bk();break}catch(l){By(e,l)}while(!0);kf(),Gi.current=o,ee=a,Se!==null?t=0:(De=null,Ie=0,t=Te)}if(t!==0){if(t===2&&(a=Lu(e),a!==0&&(n=a,t=cd(e,a))),t===1)throw s=Ga,vn(e,0),Rs(e,n),rt(e,je()),s;if(t===6)Rs(e,n);else{if(a=e.current.alternate,!(n&30)&&!yk(a)&&(t=Qi(e,n),t===2&&(o=Lu(e),o!==0&&(n=o,t=cd(e,o))),t===1))throw s=Ga,vn(e,0),Rs(e,n),rt(e,je()),s;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(B(345));case 2:un(e,et,ns);break;case 3:if(Rs(e,n),(n&130023424)===n&&(t=Vf+500-je(),10<t)){if(Mi(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Ye(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=zu(un.bind(null,e,et,ns),t);break}un(e,et,ns);break;case 4:if(Rs(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-_t(n);o=1<<i,i=t[i],i>a&&(a=i),n&=~o}if(n=a,n=je()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*gk(n/1960))-n,10<n){e.timeoutHandle=zu(un.bind(null,e,et,ns),n);break}un(e,et,ns);break;case 5:un(e,et,ns);break;default:throw Error(B(329))}}}return rt(e,je()),e.callbackNode===s?$y.bind(null,e):null}function cd(e,t){var s=Ca;return e.current.memoizedState.isDehydrated&&(vn(e,t).flags|=256),e=Qi(e,t),e!==2&&(t=et,et=s,t!==null&&ud(t)),e}function ud(e){et===null?et=e:et.push.apply(et,e)}function yk(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var n=0;n<s.length;n++){var a=s[n],o=a.getSnapshot;a=a.value;try{if(!Ot(o(),a))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Rs(e,t){for(t&=~Ff,t&=~Al,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-_t(t),n=1<<s;e[s]=-1,t&=~n}}function hh(e){if(ee&6)throw Error(B(327));yr();var t=Mi(e,0);if(!(t&1))return rt(e,je()),null;var s=Qi(e,t);if(e.tag!==0&&s===2){var n=Lu(e);n!==0&&(t=n,s=cd(e,n))}if(s===1)throw s=Ga,vn(e,0),Rs(e,t),rt(e,je()),s;if(s===6)throw Error(B(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,un(e,et,ns),rt(e,je()),null}function $f(e,t){var s=ee;ee|=1;try{return e(t)}finally{ee=s,ee===0&&(Tr=je()+500,Cl&&tn())}}function _n(e){Ms!==null&&Ms.tag===0&&!(ee&6)&&yr();var t=ee;ee|=1;var s=kt.transition,n=se;try{if(kt.transition=null,se=1,e)return e()}finally{se=n,kt.transition=s,ee=t,!(ee&6)&&tn()}}function Bf(){ct=lr.current,de(lr)}function vn(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,G2(s)),Se!==null)for(s=Se.return;s!==null;){var n=s;switch(wf(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Fi();break;case 3:Er(),de(st),de(He),Af();break;case 5:Tf(n);break;case 4:Er();break;case 13:de(me);break;case 19:de(me);break;case 10:Sf(n.type._context);break;case 22:case 23:Bf()}s=s.return}if(De=e,Se=e=zs(e.current,null),Ie=ct=t,Te=0,Ga=null,Ff=Al=Mn=0,et=Ca=null,hn!==null){for(t=0;t<hn.length;t++)if(s=hn[t],n=s.interleaved,n!==null){s.interleaved=null;var a=n.next,o=s.pending;if(o!==null){var i=o.next;o.next=a,n.next=i}s.pending=n}hn=null}return e}function By(e,t){do{var s=Se;try{if(kf(),pi.current=Ki,qi){for(var n=xe.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}qi=!1}if(Dn=0,Re=Pe=xe=null,ka=!1,Ha=0,If.current=null,s===null||s.return===null){Te=1,Ga=t,Se=null;break}e:{var o=e,i=s.return,l=s,u=t;if(t=Ie,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=sh(i);if(y!==null){y.flags&=-257,nh(y,i,l,o,t),y.mode&1&&th(o,c,t),t=y,u=c;var b=t.updateQueue;if(b===null){var g=new Set;g.add(u),t.updateQueue=g}else b.add(u);break e}else{if(!(t&1)){th(o,c,t),Uf();break e}u=Error(B(426))}}else if(pe&&l.mode&1){var x=sh(i);if(x!==null){!(x.flags&65536)&&(x.flags|=256),nh(x,i,l,o,t),jf(Pr(u,l));break e}}o=u=Pr(u,l),Te!==4&&(Te=2),Ca===null?Ca=[o]:Ca.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var m=ky(o,u,t);Ym(o,m);break e;case 1:l=u;var p=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Bs===null||!Bs.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t;var j=Sy(o,l,t);Ym(o,j);break e}}o=o.return}while(o!==null)}Wy(s)}catch(k){t=k,Se===s&&s!==null&&(Se=s=s.return);continue}break}while(!0)}function Uy(){var e=Gi.current;return Gi.current=Ki,e===null?Ki:e}function Uf(){(Te===0||Te===3||Te===2)&&(Te=4),De===null||!(Mn&268435455)&&!(Al&268435455)||Rs(De,Ie)}function Qi(e,t){var s=ee;ee|=2;var n=Uy();(De!==e||Ie!==t)&&(ns=null,vn(e,t));do try{vk();break}catch(a){By(e,a)}while(!0);if(kf(),ee=s,Gi.current=n,Se!==null)throw Error(B(261));return De=null,Ie=0,Te}function vk(){for(;Se!==null;)zy(Se)}function bk(){for(;Se!==null&&!H1();)zy(Se)}function zy(e){var t=qy(e.alternate,e,ct);e.memoizedProps=e.pendingProps,t===null?Wy(e):Se=t,If.current=null}function Wy(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=pk(s,t),s!==null){s.flags&=32767,Se=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Te=6,Se=null;return}}else if(s=fk(s,t,ct),s!==null){Se=s;return}if(t=t.sibling,t!==null){Se=t;return}Se=t=e}while(t!==null);Te===0&&(Te=5)}function un(e,t,s){var n=se,a=kt.transition;try{kt.transition=null,se=1,wk(e,t,s,n)}finally{kt.transition=a,se=n}return null}function wk(e,t,s,n){do yr();while(Ms!==null);if(ee&6)throw Error(B(327));s=e.finishedWork;var a=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(B(177));e.callbackNode=null,e.callbackPriority=0;var o=s.lanes|s.childLanes;if(t2(e,o),e===De&&(Se=De=null,Ie=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||qo||(qo=!0,Ky(Di,function(){return yr(),null})),o=(s.flags&15990)!==0,s.subtreeFlags&15990||o){o=kt.transition,kt.transition=null;var i=se;se=1;var l=ee;ee|=4,If.current=null,hk(e,s),Fy(s,e),B2(Bu),_i=!!$u,Bu=$u=null,e.current=s,xk(s),q1(),ee=l,se=i,kt.transition=o}else e.current=s;if(qo&&(qo=!1,Ms=e,Xi=a),o=e.pendingLanes,o===0&&(Bs=null),Y1(s.stateNode),rt(e,je()),t!==null)for(n=e.onRecoverableError,s=0;s<t.length;s++)a=t[s],n(a.value,{componentStack:a.stack,digest:a.digest});if(Yi)throw Yi=!1,e=id,id=null,e;return Xi&1&&e.tag!==0&&yr(),o=e.pendingLanes,o&1?e===ld?Ea++:(Ea=0,ld=e):Ea=0,tn(),null}function yr(){if(Ms!==null){var e=kg(Xi),t=kt.transition,s=se;try{if(kt.transition=null,se=16>e?16:e,Ms===null)var n=!1;else{if(e=Ms,Ms=null,Xi=0,ee&6)throw Error(B(331));var a=ee;for(ee|=4,z=e.current;z!==null;){var o=z,i=o.child;if(z.flags&16){var l=o.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(z=c;z!==null;){var d=z;switch(d.tag){case 0:case 11:case 15:Sa(8,d,o)}var f=d.child;if(f!==null)f.return=d,z=f;else for(;z!==null;){d=z;var h=d.sibling,y=d.return;if(Ly(d),d===c){z=null;break}if(h!==null){h.return=y,z=h;break}z=y}}}var b=o.alternate;if(b!==null){var g=b.child;if(g!==null){b.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}z=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,z=i;else e:for(;z!==null;){if(o=z,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Sa(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,z=m;break e}z=o.return}}var p=e.current;for(z=p;z!==null;){i=z;var w=i.child;if(i.subtreeFlags&2064&&w!==null)w.return=i,z=w;else e:for(i=p;z!==null;){if(l=z,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Tl(9,l)}}catch(k){ve(l,l.return,k)}if(l===i){z=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,z=j;break e}z=l.return}}if(ee=a,tn(),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(wl,e)}catch{}n=!0}return n}finally{se=s,kt.transition=t}}return!1}function xh(e,t,s){t=Pr(s,t),t=ky(e,t,1),e=$s(e,t,1),t=Ye(),e!==null&&(uo(e,1,t),rt(e,t))}function ve(e,t,s){if(e.tag===3)xh(e,e,s);else for(;t!==null;){if(t.tag===3){xh(t,e,s);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Bs===null||!Bs.has(n))){e=Pr(s,e),e=Sy(t,e,1),t=$s(t,e,1),e=Ye(),t!==null&&(uo(t,1,e),rt(t,e));break}}t=t.return}}function jk(e,t,s){var n=e.pingCache;n!==null&&n.delete(t),t=Ye(),e.pingedLanes|=e.suspendedLanes&s,De===e&&(Ie&s)===s&&(Te===4||Te===3&&(Ie&130023424)===Ie&&500>je()-Vf?vn(e,0):Ff|=s),rt(e,t)}function Hy(e,t){t===0&&(e.mode&1?(t=Oo,Oo<<=1,!(Oo&130023424)&&(Oo=4194304)):t=1);var s=Ye();e=hs(e,t),e!==null&&(uo(e,t,s),rt(e,s))}function Nk(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),Hy(e,s)}function kk(e,t){var s=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(s=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(B(314))}n!==null&&n.delete(t),Hy(e,s)}var qy;qy=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||st.current)tt=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return tt=!1,dk(e,t,s);tt=!!(e.flags&131072)}else tt=!1,pe&&t.flags&1048576&&Xg(t,Bi,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;hi(e,t),e=t.pendingProps;var a=kr(t,He.current);gr(t,s),a=Df(null,t,n,e,a,s);var o=Mf();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,nt(n)?(o=!0,Vi(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Ef(t),a.updater=Pl,t.stateNode=a,a._reactInternals=t,Xu(t,n,e,s),t=Ju(null,t,n,!0,o,s)):(t.tag=0,pe&&o&&bf(t),Ge(null,t,a,s),t=t.child),t;case 16:n=t.elementType;e:{switch(hi(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=Ck(n),e=At(n,e),a){case 0:t=Zu(null,t,n,e,s);break e;case 1:t=oh(null,t,n,e,s);break e;case 11:t=rh(null,t,n,e,s);break e;case 14:t=ah(null,t,n,At(n.type,e),s);break e}throw Error(B(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:At(n,a),Zu(e,t,n,a,s);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:At(n,a),oh(e,t,n,a,s);case 3:e:{if(Ty(t),e===null)throw Error(B(387));n=t.pendingProps,o=t.memoizedState,a=o.element,sy(e,t),Wi(t,n,null,s);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=Pr(Error(B(423)),t),t=ih(e,t,n,s,a);break e}else if(n!==a){a=Pr(Error(B(424)),t),t=ih(e,t,n,s,a);break e}else for(ft=Vs(t.stateNode.containerInfo.firstChild),pt=t,pe=!0,Dt=null,s=ey(t,null,n,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Sr(),n===a){t=xs(e,t,s);break e}Ge(e,t,n,s)}t=t.child}return t;case 5:return ny(t),e===null&&Ku(t),n=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,i=a.children,Uu(n,a)?i=null:o!==null&&Uu(n,o)&&(t.flags|=32),Py(e,t),Ge(e,t,i,s),t.child;case 6:return e===null&&Ku(t),null;case 13:return Ay(e,t,s);case 4:return Pf(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Cr(t,null,n,s):Ge(e,t,n,s),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:At(n,a),rh(e,t,n,a,s);case 7:return Ge(e,t,t.pendingProps,s),t.child;case 8:return Ge(e,t,t.pendingProps.children,s),t.child;case 12:return Ge(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,ie(Ui,n._currentValue),n._currentValue=i,o!==null)if(Ot(o.value,i)){if(o.children===a.children&&!st.current){t=xs(e,t,s);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var u=l.firstContext;u!==null;){if(u.context===n){if(o.tag===1){u=ls(-1,s&-s),u.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}o.lanes|=s,u=o.alternate,u!==null&&(u.lanes|=s),Gu(o.return,s,t),l.lanes|=s;break}u=u.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(B(341));i.lanes|=s,l=i.alternate,l!==null&&(l.lanes|=s),Gu(i,s,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Ge(e,t,a.children,s),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,gr(t,s),a=Ct(a),n=n(a),t.flags|=1,Ge(e,t,n,s),t.child;case 14:return n=t.type,a=At(n,t.pendingProps),a=At(n.type,a),ah(e,t,n,a,s);case 15:return Cy(e,t,t.type,t.pendingProps,s);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:At(n,a),hi(e,t),t.tag=1,nt(n)?(e=!0,Vi(t)):e=!1,gr(t,s),Ny(t,n,a),Xu(t,n,a,s),Ju(null,t,n,!0,e,s);case 19:return Ry(e,t,s);case 22:return Ey(e,t,s)}throw Error(B(156,t.tag))};function Ky(e,t){return bg(e,t)}function Sk(e,t,s,n){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(e,t,s,n){return new Sk(e,t,s,n)}function zf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ck(e){if(typeof e=="function")return zf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===lf)return 11;if(e===cf)return 14}return 2}function zs(e,t){var s=e.alternate;return s===null?(s=Nt(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function yi(e,t,s,n,a,o){var i=2;if(n=e,typeof e=="function")zf(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Zn:return bn(s.children,a,o,t);case of:i=8,a|=8;break;case bu:return e=Nt(12,s,t,a|2),e.elementType=bu,e.lanes=o,e;case wu:return e=Nt(13,s,t,a),e.elementType=wu,e.lanes=o,e;case ju:return e=Nt(19,s,t,a),e.elementType=ju,e.lanes=o,e;case ng:return Rl(s,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case tg:i=10;break e;case sg:i=9;break e;case lf:i=11;break e;case cf:i=14;break e;case Es:i=16,n=null;break e}throw Error(B(130,e==null?e:typeof e,""))}return t=Nt(i,s,t,a),t.elementType=e,t.type=n,t.lanes=o,t}function bn(e,t,s,n){return e=Nt(7,e,n,t),e.lanes=s,e}function Rl(e,t,s,n){return e=Nt(22,e,n,t),e.elementType=ng,e.lanes=s,e.stateNode={isHidden:!1},e}function Fc(e,t,s){return e=Nt(6,e,null,t),e.lanes=s,e}function Vc(e,t,s){return t=Nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ek(e,t,s,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vc(0),this.expirationTimes=vc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vc(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Wf(e,t,s,n,a,o,i,l,u){return e=new Ek(e,t,s,l,u),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Nt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ef(o),e}function Pk(e,t,s){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:s}}function Gy(e){if(!e)return Gs;e=e._reactInternals;e:{if(Fn(e)!==e||e.tag!==1)throw Error(B(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(nt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(B(171))}if(e.tag===1){var s=e.type;if(nt(s))return Gg(e,s,t)}return t}function Yy(e,t,s,n,a,o,i,l,u){return e=Wf(s,n,!0,e,a,o,i,l,u),e.context=Gy(null),s=e.current,n=Ye(),a=Us(s),o=ls(n,a),o.callback=t??null,$s(s,o,a),e.current.lanes=a,uo(e,a,n),rt(e,n),e}function Dl(e,t,s,n){var a=t.current,o=Ye(),i=Us(a);return s=Gy(s),t.context===null?t.context=s:t.pendingContext=s,t=ls(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=$s(a,t,i),e!==null&&(Lt(e,a,i,o),fi(e,a,i)),i}function Zi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function gh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function Hf(e,t){gh(e,t),(e=e.alternate)&&gh(e,t)}function Tk(){return null}var Xy=typeof reportError=="function"?reportError:function(e){console.error(e)};function qf(e){this._internalRoot=e}Ml.prototype.render=qf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(B(409));Dl(e,t,null,null)};Ml.prototype.unmount=qf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_n(function(){Dl(null,e,null,null)}),t[ms]=null}};function Ml(e){this._internalRoot=e}Ml.prototype.unstable_scheduleHydration=function(e){if(e){var t=Eg();e={blockedOn:null,target:e,priority:t};for(var s=0;s<As.length&&t!==0&&t<As[s].priority;s++);As.splice(s,0,e),s===0&&Tg(e)}};function Kf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function yh(){}function Ak(e,t,s,n,a){if(a){if(typeof n=="function"){var o=n;n=function(){var c=Zi(i);o.call(c)}}var i=Yy(t,n,e,0,null,!1,!1,"",yh);return e._reactRootContainer=i,e[ms]=i.current,$a(e.nodeType===8?e.parentNode:e),_n(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var c=Zi(u);l.call(c)}}var u=Wf(e,0,!1,null,null,!1,!1,"",yh);return e._reactRootContainer=u,e[ms]=u.current,$a(e.nodeType===8?e.parentNode:e),_n(function(){Dl(t,u,s,n)}),u}function Ll(e,t,s,n,a){var o=s._reactRootContainer;if(o){var i=o;if(typeof a=="function"){var l=a;a=function(){var u=Zi(i);l.call(u)}}Dl(t,i,e,a)}else i=Ak(s,t,e,a,n);return Zi(i)}Sg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=ma(t.pendingLanes);s!==0&&(ff(t,s|1),rt(t,je()),!(ee&6)&&(Tr=je()+500,tn()))}break;case 13:_n(function(){var n=hs(e,1);if(n!==null){var a=Ye();Lt(n,e,1,a)}}),Hf(e,1)}};pf=function(e){if(e.tag===13){var t=hs(e,134217728);if(t!==null){var s=Ye();Lt(t,e,134217728,s)}Hf(e,134217728)}};Cg=function(e){if(e.tag===13){var t=Us(e),s=hs(e,t);if(s!==null){var n=Ye();Lt(s,e,t,n)}Hf(e,t)}};Eg=function(){return se};Pg=function(e,t){var s=se;try{return se=e,t()}finally{se=s}};Du=function(e,t,s){switch(t){case"input":if(Su(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var n=s[t];if(n!==e&&n.form===e.form){var a=Sl(n);if(!a)throw Error(B(90));ag(n),Su(n,a)}}}break;case"textarea":ig(e,s);break;case"select":t=s.value,t!=null&&pr(e,!!s.multiple,t,!1)}};mg=$f;hg=_n;var Rk={usingClientEntryPoint:!1,Events:[po,sr,Sl,fg,pg,$f]},aa={findFiberByHostInstance:mn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Dk={bundleType:aa.bundleType,version:aa.version,rendererPackageName:aa.rendererPackageName,rendererConfig:aa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=yg(e),e===null?null:e.stateNode},findFiberByHostInstance:aa.findFiberByHostInstance||Tk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ko=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ko.isDisabled&&Ko.supportsFiber)try{wl=Ko.inject(Dk),Gt=Ko}catch{}}gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rk;gt.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kf(t))throw Error(B(200));return Pk(e,t,null,s)};gt.createRoot=function(e,t){if(!Kf(e))throw Error(B(299));var s=!1,n="",a=Xy;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Wf(e,1,!1,null,null,s,!1,n,a),e[ms]=t.current,$a(e.nodeType===8?e.parentNode:e),new qf(t)};gt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(B(188)):(e=Object.keys(e).join(","),Error(B(268,e)));return e=yg(t),e=e===null?null:e.stateNode,e};gt.flushSync=function(e){return _n(e)};gt.hydrate=function(e,t,s){if(!_l(t))throw Error(B(200));return Ll(null,e,t,!0,s)};gt.hydrateRoot=function(e,t,s){if(!Kf(e))throw Error(B(405));var n=s!=null&&s.hydratedSources||null,a=!1,o="",i=Xy;if(s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onRecoverableError!==void 0&&(i=s.onRecoverableError)),t=Yy(t,null,e,1,s??null,a,!1,o,i),e[ms]=t.current,$a(e),n)for(e=0;e<n.length;e++)s=n[e],a=s._getVersion,a=a(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,a]:t.mutableSourceEagerHydrationData.push(s,a);return new Ml(t)};gt.render=function(e,t,s){if(!_l(t))throw Error(B(200));return Ll(null,e,t,!1,s)};gt.unmountComponentAtNode=function(e){if(!_l(e))throw Error(B(40));return e._reactRootContainer?(_n(function(){Ll(null,null,e,!1,function(){e._reactRootContainer=null,e[ms]=null})}),!0):!1};gt.unstable_batchedUpdates=$f;gt.unstable_renderSubtreeIntoContainer=function(e,t,s,n){if(!_l(s))throw Error(B(200));if(e==null||e._reactInternals===void 0)throw Error(B(38));return Ll(e,t,s,!1,n)};gt.version="18.3.1-next-f1338f8080-20240426";function Qy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Qy)}catch(e){console.error(e)}}Qy(),Q0.exports=gt;var ho=Q0.exports;const Mk=V0(ho);var Zy,vh=ho;Zy=vh.createRoot,vh.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ya(){return Ya=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Ya.apply(this,arguments)}var _s;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(_s||(_s={}));const bh="popstate";function _k(e){e===void 0&&(e={});function t(n,a){let{pathname:o,search:i,hash:l}=n.location;return dd("",{pathname:o,search:i,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function s(n,a){return typeof a=="string"?a:Ji(a)}return Ok(t,s,null,e)}function ge(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Jy(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Lk(){return Math.random().toString(36).substr(2,8)}function wh(e,t){return{usr:e.state,key:e.key,idx:t}}function dd(e,t,s,n){return s===void 0&&(s=null),Ya({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Br(t):t,{state:s,key:t&&t.key||n||Lk()})}function Ji(e){let{pathname:t="/",search:s="",hash:n=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Br(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Ok(e,t,s,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:o=!1}=n,i=a.history,l=_s.Pop,u=null,c=d();c==null&&(c=0,i.replaceState(Ya({},i.state,{idx:c}),""));function d(){return(i.state||{idx:null}).idx}function f(){l=_s.Pop;let x=d(),m=x==null?null:x-c;c=x,u&&u({action:l,location:g.location,delta:m})}function h(x,m){l=_s.Push;let p=dd(g.location,x,m);c=d()+1;let w=wh(p,c),j=g.createHref(p);try{i.pushState(w,"",j)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;a.location.assign(j)}o&&u&&u({action:l,location:g.location,delta:1})}function y(x,m){l=_s.Replace;let p=dd(g.location,x,m);c=d();let w=wh(p,c),j=g.createHref(p);i.replaceState(w,"",j),o&&u&&u({action:l,location:g.location,delta:0})}function b(x){let m=a.location.origin!=="null"?a.location.origin:a.location.href,p=typeof x=="string"?x:Ji(x);return p=p.replace(/ $/,"%20"),ge(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let g={get action(){return l},get location(){return e(a,i)},listen(x){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(bh,f),u=x,()=>{a.removeEventListener(bh,f),u=null}},createHref(x){return t(a,x)},createURL:b,encodeLocation(x){let m=b(x);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:y,go(x){return i.go(x)}};return g}var jh;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(jh||(jh={}));function Ik(e,t,s){return s===void 0&&(s="/"),Fk(e,t,s)}function Fk(e,t,s,n){let a=typeof t=="string"?Br(t):t,o=Ar(a.pathname||"/",s);if(o==null)return null;let i=ev(e);Vk(i);let l=null;for(let u=0;l==null&&u<i.length;++u){let c=Xk(o);l=Gk(i[u],c)}return l}function ev(e,t,s,n){t===void 0&&(t=[]),s===void 0&&(s=[]),n===void 0&&(n="");let a=(o,i,l)=>{let u={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};u.relativePath.startsWith("/")&&(ge(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let c=Ws([n,u.relativePath]),d=s.concat(u);o.children&&o.children.length>0&&(ge(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),ev(o.children,t,d,c)),!(o.path==null&&!o.index)&&t.push({path:c,score:qk(c,o.index),routesMeta:d})};return e.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))a(o,i);else for(let u of tv(o.path))a(o,i,u)}),t}function tv(e){let t=e.split("/");if(t.length===0)return[];let[s,...n]=t,a=s.endsWith("?"),o=s.replace(/\?$/,"");if(n.length===0)return a?[o,""]:[o];let i=tv(n.join("/")),l=[];return l.push(...i.map(u=>u===""?o:[o,u].join("/"))),a&&l.push(...i),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function Vk(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:Kk(t.routesMeta.map(n=>n.childrenIndex),s.routesMeta.map(n=>n.childrenIndex)))}const $k=/^:[\w-]+$/,Bk=3,Uk=2,zk=1,Wk=10,Hk=-2,Nh=e=>e==="*";function qk(e,t){let s=e.split("/"),n=s.length;return s.some(Nh)&&(n+=Hk),t&&(n+=Uk),s.filter(a=>!Nh(a)).reduce((a,o)=>a+($k.test(o)?Bk:o===""?zk:Wk),n)}function Kk(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function Gk(e,t,s){let{routesMeta:n}=e,a={},o="/",i=[];for(let l=0;l<n.length;++l){let u=n[l],c=l===n.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=fd({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),h=u.route;if(!f)return null;Object.assign(a,f.params),i.push({params:a,pathname:Ws([o,f.pathname]),pathnameBase:eS(Ws([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=Ws([o,f.pathnameBase]))}return i}function fd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,n]=Yk(e.path,e.caseSensitive,e.end),a=t.match(s);if(!a)return null;let o=a[0],i=o.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((c,d,f)=>{let{paramName:h,isOptional:y}=d;if(h==="*"){let g=l[f]||"";i=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const b=l[f];return y&&!b?c[h]=void 0:c[h]=(b||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:i,pattern:e}}function Yk(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),Jy(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,u)=>(n.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function Xk(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Jy(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ar(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,n=e.charAt(s);return n&&n!=="/"?null:e.slice(s)||"/"}function Qk(e,t){t===void 0&&(t="/");let{pathname:s,search:n="",hash:a=""}=typeof e=="string"?Br(e):e;return{pathname:s?s.startsWith("/")?s:Zk(s,t):t,search:tS(n),hash:sS(a)}}function Zk(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?s.length>1&&s.pop():a!=="."&&s.push(a)}),s.length>1?s.join("/"):"/"}function $c(e,t,s,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Jk(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function Gf(e,t){let s=Jk(e);return t?s.map((n,a)=>a===s.length-1?n.pathname:n.pathnameBase):s.map(n=>n.pathnameBase)}function Yf(e,t,s,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Br(e):(a=Ya({},e),ge(!a.pathname||!a.pathname.includes("?"),$c("?","pathname","search",a)),ge(!a.pathname||!a.pathname.includes("#"),$c("#","pathname","hash",a)),ge(!a.search||!a.search.includes("#"),$c("#","search","hash",a)));let o=e===""||a.pathname==="",i=o?"/":a.pathname,l;if(i==null)l=s;else{let f=t.length-1;if(!n&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let u=Qk(a,l),c=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&s.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const Ws=e=>e.join("/").replace(/\/\/+/g,"/"),eS=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),tS=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,sS=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function nS(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const sv=["post","put","patch","delete"];new Set(sv);const rS=["get",...sv];new Set(rS);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xa(){return Xa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Xa.apply(this,arguments)}const Ol=v.createContext(null),nv=v.createContext(null),ws=v.createContext(null),Il=v.createContext(null),es=v.createContext({outlet:null,matches:[],isDataRoute:!1}),rv=v.createContext(null);function aS(e,t){let{relative:s}=t===void 0?{}:t;Ur()||ge(!1);let{basename:n,navigator:a}=v.useContext(ws),{hash:o,pathname:i,search:l}=Fl(e,{relative:s}),u=i;return n!=="/"&&(u=i==="/"?n:Ws([n,i])),a.createHref({pathname:u,search:l,hash:o})}function Ur(){return v.useContext(Il)!=null}function Vn(){return Ur()||ge(!1),v.useContext(Il).location}function av(e){v.useContext(ws).static||v.useLayoutEffect(e)}function $n(){let{isDataRoute:e}=v.useContext(es);return e?wS():oS()}function oS(){Ur()||ge(!1);let e=v.useContext(Ol),{basename:t,future:s,navigator:n}=v.useContext(ws),{matches:a}=v.useContext(es),{pathname:o}=Vn(),i=JSON.stringify(Gf(a,s.v7_relativeSplatPath)),l=v.useRef(!1);return av(()=>{l.current=!0}),v.useCallback(function(c,d){if(d===void 0&&(d={}),!l.current)return;if(typeof c=="number"){n.go(c);return}let f=Yf(c,JSON.parse(i),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Ws([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,i,o,e])}const iS=v.createContext(null);function lS(e){let t=v.useContext(es).outlet;return t&&v.createElement(iS.Provider,{value:e},t)}function cS(){let{matches:e}=v.useContext(es),t=e[e.length-1];return t?t.params:{}}function Fl(e,t){let{relative:s}=t===void 0?{}:t,{future:n}=v.useContext(ws),{matches:a}=v.useContext(es),{pathname:o}=Vn(),i=JSON.stringify(Gf(a,n.v7_relativeSplatPath));return v.useMemo(()=>Yf(e,JSON.parse(i),o,s==="path"),[e,i,o,s])}function uS(e,t){return dS(e,t)}function dS(e,t,s,n){Ur()||ge(!1);let{navigator:a}=v.useContext(ws),{matches:o}=v.useContext(es),i=o[o.length-1],l=i?i.params:{};i&&i.pathname;let u=i?i.pathnameBase:"/";i&&i.route;let c=Vn(),d;if(t){var f;let x=typeof t=="string"?Br(t):t;u==="/"||(f=x.pathname)!=null&&f.startsWith(u)||ge(!1),d=x}else d=c;let h=d.pathname||"/",y=h;if(u!=="/"){let x=u.replace(/^\//,"").split("/");y="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let b=Ik(e,{pathname:y}),g=xS(b&&b.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Ws([u,a.encodeLocation?a.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:Ws([u,a.encodeLocation?a.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,s,n);return t&&g?v.createElement(Il.Provider,{value:{location:Xa({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:_s.Pop}},g):g}function fS(){let e=bS(),t=nS(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),s?v.createElement("pre",{style:a},s):null,null)}const pS=v.createElement(fS,null);class mS extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?v.createElement(es.Provider,{value:this.props.routeContext},v.createElement(rv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hS(e){let{routeContext:t,match:s,children:n}=e,a=v.useContext(Ol);return a&&a.static&&a.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=s.route.id),v.createElement(es.Provider,{value:t},n)}function xS(e,t,s,n){var a;if(t===void 0&&(t=[]),s===void 0&&(s=null),n===void 0&&(n=null),e==null){var o;if(!s)return null;if(s.errors)e=s.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let i=e,l=(a=s)==null?void 0:a.errors;if(l!=null){let d=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||ge(!1),i=i.slice(0,Math.min(i.length,d+1))}let u=!1,c=-1;if(s&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:y}=s,b=f.route.loader&&h[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||b){u=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,f,h)=>{let y,b=!1,g=null,x=null;s&&(y=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||pS,u&&(c<0&&h===0?(jS("route-fallback"),b=!0,x=null):c===h&&(b=!0,x=f.route.hydrateFallbackElement||null)));let m=t.concat(i.slice(0,h+1)),p=()=>{let w;return y?w=g:b?w=x:f.route.Component?w=v.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,v.createElement(hS,{match:f,routeContext:{outlet:d,matches:m,isDataRoute:s!=null},children:w})};return s&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?v.createElement(mS,{location:s.location,revalidation:s.revalidation,component:g,error:y,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()},null)}var ov=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ov||{}),iv=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(iv||{});function gS(e){let t=v.useContext(Ol);return t||ge(!1),t}function yS(e){let t=v.useContext(nv);return t||ge(!1),t}function vS(e){let t=v.useContext(es);return t||ge(!1),t}function lv(e){let t=vS(),s=t.matches[t.matches.length-1];return s.route.id||ge(!1),s.route.id}function bS(){var e;let t=v.useContext(rv),s=yS(),n=lv();return t!==void 0?t:(e=s.errors)==null?void 0:e[n]}function wS(){let{router:e}=gS(ov.UseNavigateStable),t=lv(iv.UseNavigateStable),s=v.useRef(!1);return av(()=>{s.current=!0}),v.useCallback(function(a,o){o===void 0&&(o={}),s.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Xa({fromRouteId:t},o)))},[e,t])}const kh={};function jS(e,t,s){kh[e]||(kh[e]=!0)}function NS(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function el(e){let{to:t,replace:s,state:n,relative:a}=e;Ur()||ge(!1);let{future:o,static:i}=v.useContext(ws),{matches:l}=v.useContext(es),{pathname:u}=Vn(),c=$n(),d=Yf(t,Gf(l,o.v7_relativeSplatPath),u,a==="path"),f=JSON.stringify(d);return v.useEffect(()=>c(JSON.parse(f),{replace:s,state:n,relative:a}),[c,f,a,s,n]),null}function kS(e){return lS(e.context)}function te(e){ge(!1)}function SS(e){let{basename:t="/",children:s=null,location:n,navigationType:a=_s.Pop,navigator:o,static:i=!1,future:l}=e;Ur()&&ge(!1);let u=t.replace(/^\/*/,"/"),c=v.useMemo(()=>({basename:u,navigator:o,static:i,future:Xa({v7_relativeSplatPath:!1},l)}),[u,l,o,i]);typeof n=="string"&&(n=Br(n));let{pathname:d="/",search:f="",hash:h="",state:y=null,key:b="default"}=n,g=v.useMemo(()=>{let x=Ar(d,u);return x==null?null:{location:{pathname:x,search:f,hash:h,state:y,key:b},navigationType:a}},[u,d,f,h,y,b,a]);return g==null?null:v.createElement(ws.Provider,{value:c},v.createElement(Il.Provider,{children:s,value:g}))}function CS(e){let{children:t,location:s}=e;return uS(pd(t),s)}new Promise(()=>{});function pd(e,t){t===void 0&&(t=[]);let s=[];return v.Children.forEach(e,(n,a)=>{if(!v.isValidElement(n))return;let o=[...t,a];if(n.type===v.Fragment){s.push.apply(s,pd(n.props.children,o));return}n.type!==te&&ge(!1),!n.props.index||!n.props.children||ge(!1);let i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=pd(n.props.children,o)),s.push(i)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tl(){return tl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},tl.apply(this,arguments)}function cv(e,t){if(e==null)return{};var s={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(s[a]=e[a]);return s}function ES(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function PS(e,t){return e.button===0&&(!t||t==="_self")&&!ES(e)}const TS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],AS=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],RS="6";try{window.__reactRouterVersion=RS}catch{}const DS=v.createContext({isTransitioning:!1}),MS="startTransition",Sh=sf[MS];function _S(e){let{basename:t,children:s,future:n,window:a}=e,o=v.useRef();o.current==null&&(o.current=_k({window:a,v5Compat:!0}));let i=o.current,[l,u]=v.useState({action:i.action,location:i.location}),{v7_startTransition:c}=n||{},d=v.useCallback(f=>{c&&Sh?Sh(()=>u(f)):u(f)},[u,c]);return v.useLayoutEffect(()=>i.listen(d),[i,d]),v.useEffect(()=>NS(n),[n]),v.createElement(SS,{basename:t,children:s,location:l.location,navigationType:l.action,navigator:i,future:n})}const LS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",OS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rr=v.forwardRef(function(t,s){let{onClick:n,relative:a,reloadDocument:o,replace:i,state:l,target:u,to:c,preventScrollReset:d,viewTransition:f}=t,h=cv(t,TS),{basename:y}=v.useContext(ws),b,g=!1;if(typeof c=="string"&&OS.test(c)&&(b=c,LS))try{let w=new URL(window.location.href),j=c.startsWith("//")?new URL(w.protocol+c):new URL(c),k=Ar(j.pathname,y);j.origin===w.origin&&k!=null?c=k+j.search+j.hash:g=!0}catch{}let x=aS(c,{relative:a}),m=FS(c,{replace:i,state:l,target:u,preventScrollReset:d,relative:a,viewTransition:f});function p(w){n&&n(w),w.defaultPrevented||m(w)}return v.createElement("a",tl({},h,{href:b||x,onClick:g||o?n:p,ref:s,target:u}))}),Dr=v.forwardRef(function(t,s){let{"aria-current":n="page",caseSensitive:a=!1,className:o="",end:i=!1,style:l,to:u,viewTransition:c,children:d}=t,f=cv(t,AS),h=Fl(u,{relative:f.relative}),y=Vn(),b=v.useContext(nv),{navigator:g,basename:x}=v.useContext(ws),m=b!=null&&VS(h)&&c===!0,p=g.encodeLocation?g.encodeLocation(h).pathname:h.pathname,w=y.pathname,j=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;a||(w=w.toLowerCase(),j=j?j.toLowerCase():null,p=p.toLowerCase()),j&&x&&(j=Ar(j,x)||j);const k=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let E=w===p||!i&&w.startsWith(p)&&w.charAt(k)==="/",C=j!=null&&(j===p||!i&&j.startsWith(p)&&j.charAt(p.length)==="/"),N={isActive:E,isPending:C,isTransitioning:m},S=E?n:void 0,T;typeof o=="function"?T=o(N):T=[o,E?"active":null,C?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let I=typeof l=="function"?l(N):l;return v.createElement(Rr,tl({},f,{"aria-current":S,className:T,ref:s,style:I,to:u,viewTransition:c}),typeof d=="function"?d(N):d)});var md;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(md||(md={}));var Ch;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ch||(Ch={}));function IS(e){let t=v.useContext(Ol);return t||ge(!1),t}function FS(e,t){let{target:s,replace:n,state:a,preventScrollReset:o,relative:i,viewTransition:l}=t===void 0?{}:t,u=$n(),c=Vn(),d=Fl(e,{relative:i});return v.useCallback(f=>{if(PS(f,s)){f.preventDefault();let h=n!==void 0?n:Ji(c)===Ji(d);u(e,{replace:h,state:a,preventScrollReset:o,relative:i,viewTransition:l})}},[c,u,d,n,a,s,e,o,i,l])}function VS(e,t){t===void 0&&(t={});let s=v.useContext(DS);s==null&&ge(!1);let{basename:n}=IS(md.useViewTransitionState),a=Fl(e,{relative:t.relative});if(!s.isTransitioning)return!1;let o=Ar(s.currentLocation.pathname,n)||s.currentLocation.pathname,i=Ar(s.nextLocation.pathname,n)||s.nextLocation.pathname;return fd(a.pathname,i)!=null||fd(a.pathname,o)!=null}function uv(e){var t,s,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(s=uv(e[t]))&&(n&&(n+=" "),n+=s)}else for(s in e)e[s]&&(n&&(n+=" "),n+=s);return n}function dv(){for(var e,t,s=0,n="",a=arguments.length;s<a;s++)(e=arguments[s])&&(t=uv(e))&&(n&&(n+=" "),n+=t);return n}const Xf="-",$S=e=>{const t=US(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const l=i.split(Xf);return l[0]===""&&l.length!==1&&l.shift(),fv(l,t)||BS(i)},getConflictingClassGroupIds:(i,l)=>{const u=s[i]||[];return l&&n[i]?[...u,...n[i]]:u}}},fv=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const s=e[0],n=t.nextPart.get(s),a=n?fv(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const o=e.join(Xf);return(i=t.validators.find(({validator:l})=>l(o)))==null?void 0:i.classGroupId},Eh=/^\[(.+)\]$/,BS=e=>{if(Eh.test(e)){const t=Eh.exec(e)[1],s=t==null?void 0:t.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},US=e=>{const{theme:t,prefix:s}=e,n={nextPart:new Map,validators:[]};return WS(Object.entries(e.classGroups),s).forEach(([o,i])=>{hd(i,n,o,t)}),n},hd=(e,t,s,n)=>{e.forEach(a=>{if(typeof a=="string"){const o=a===""?t:Ph(t,a);o.classGroupId=s;return}if(typeof a=="function"){if(zS(a)){hd(a(n),t,s,n);return}t.validators.push({validator:a,classGroupId:s});return}Object.entries(a).forEach(([o,i])=>{hd(i,Ph(t,o),s,n)})})},Ph=(e,t)=>{let s=e;return t.split(Xf).forEach(n=>{s.nextPart.has(n)||s.nextPart.set(n,{nextPart:new Map,validators:[]}),s=s.nextPart.get(n)}),s},zS=e=>e.isThemeGetter,WS=(e,t)=>t?e.map(([s,n])=>{const a=n.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,l])=>[t+i,l])):o);return[s,a]}):e,HS=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,n=new Map;const a=(o,i)=>{s.set(o,i),t++,t>e&&(t=0,n=s,s=new Map)};return{get(o){let i=s.get(o);if(i!==void 0)return i;if((i=n.get(o))!==void 0)return a(o,i),i},set(o,i){s.has(o)?s.set(o,i):a(o,i)}}},pv="!",qS=e=>{const{separator:t,experimentalParseClassName:s}=e,n=t.length===1,a=t[0],o=t.length,i=l=>{const u=[];let c=0,d=0,f;for(let x=0;x<l.length;x++){let m=l[x];if(c===0){if(m===a&&(n||l.slice(x,x+o)===t)){u.push(l.slice(d,x)),d=x+o;continue}if(m==="/"){f=x;continue}}m==="["?c++:m==="]"&&c--}const h=u.length===0?l:l.substring(d),y=h.startsWith(pv),b=y?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:u,hasImportantModifier:y,baseClassName:b,maybePostfixModifierPosition:g}};return s?l=>s({className:l,parseClassName:i}):i},KS=e=>{if(e.length<=1)return e;const t=[];let s=[];return e.forEach(n=>{n[0]==="["?(t.push(...s.sort(),n),s=[]):s.push(n)}),t.push(...s.sort()),t},GS=e=>({cache:HS(e.cacheSize),parseClassName:qS(e),...$S(e)}),YS=/\s+/,XS=(e,t)=>{const{parseClassName:s,getClassGroupId:n,getConflictingClassGroupIds:a}=t,o=[],i=e.trim().split(YS);let l="";for(let u=i.length-1;u>=0;u-=1){const c=i[u],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:y}=s(c);let b=!!y,g=n(b?h.substring(0,y):h);if(!g){if(!b){l=c+(l.length>0?" "+l:l);continue}if(g=n(h),!g){l=c+(l.length>0?" "+l:l);continue}b=!1}const x=KS(d).join(":"),m=f?x+pv:x,p=m+g;if(o.includes(p))continue;o.push(p);const w=a(g,b);for(let j=0;j<w.length;++j){const k=w[j];o.push(m+k)}l=c+(l.length>0?" "+l:l)}return l};function QS(){let e=0,t,s,n="";for(;e<arguments.length;)(t=arguments[e++])&&(s=mv(t))&&(n&&(n+=" "),n+=s);return n}const mv=e=>{if(typeof e=="string")return e;let t,s="";for(let n=0;n<e.length;n++)e[n]&&(t=mv(e[n]))&&(s&&(s+=" "),s+=t);return s};function ZS(e,...t){let s,n,a,o=i;function i(u){const c=t.reduce((d,f)=>f(d),e());return s=GS(c),n=s.cache.get,a=s.cache.set,o=l,l(u)}function l(u){const c=n(u);if(c)return c;const d=XS(u,s);return a(u,d),d}return function(){return o(QS.apply(null,arguments))}}const ce=e=>{const t=s=>s[e]||[];return t.isThemeGetter=!0,t},hv=/^\[(?:([a-z-]+):)?(.+)\]$/i,JS=/^\d+\/\d+$/,eC=new Set(["px","full","screen"]),tC=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,sC=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,nC=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,rC=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,aC=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ss=e=>vr(e)||eC.has(e)||JS.test(e),Ns=e=>zr(e,"length",pC),vr=e=>!!e&&!Number.isNaN(Number(e)),Bc=e=>zr(e,"number",vr),oa=e=>!!e&&Number.isInteger(Number(e)),oC=e=>e.endsWith("%")&&vr(e.slice(0,-1)),Q=e=>hv.test(e),ks=e=>tC.test(e),iC=new Set(["length","size","percentage"]),lC=e=>zr(e,iC,xv),cC=e=>zr(e,"position",xv),uC=new Set(["image","url"]),dC=e=>zr(e,uC,hC),fC=e=>zr(e,"",mC),ia=()=>!0,zr=(e,t,s)=>{const n=hv.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):s(n[2]):!1},pC=e=>sC.test(e)&&!nC.test(e),xv=()=>!1,mC=e=>rC.test(e),hC=e=>aC.test(e),xC=()=>{const e=ce("colors"),t=ce("spacing"),s=ce("blur"),n=ce("brightness"),a=ce("borderColor"),o=ce("borderRadius"),i=ce("borderSpacing"),l=ce("borderWidth"),u=ce("contrast"),c=ce("grayscale"),d=ce("hueRotate"),f=ce("invert"),h=ce("gap"),y=ce("gradientColorStops"),b=ce("gradientColorStopPositions"),g=ce("inset"),x=ce("margin"),m=ce("opacity"),p=ce("padding"),w=ce("saturate"),j=ce("scale"),k=ce("sepia"),E=ce("skew"),C=ce("space"),N=ce("translate"),S=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",Q,t],D=()=>[Q,t],O=()=>["",ss,Ns],_=()=>["auto",vr,Q],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",Q],L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],V=()=>[vr,Q];return{cacheSize:500,separator:":",theme:{colors:[ia],spacing:[ss,Ns],blur:["none","",ks,Q],brightness:V(),borderColor:[e],borderRadius:["none","","full",ks,Q],borderSpacing:D(),borderWidth:O(),contrast:V(),grayscale:M(),hueRotate:V(),invert:M(),gap:D(),gradientColorStops:[e],gradientColorStopPositions:[oC,Ns],inset:I(),margin:I(),opacity:V(),padding:D(),saturate:V(),scale:V(),sepia:M(),skew:V(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",Q]}],container:["container"],columns:[{columns:[ks]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),Q]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",oa,Q]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Q]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",oa,Q]}],"grid-cols":[{"grid-cols":[ia]}],"col-start-end":[{col:["auto",{span:["full",oa,Q]},Q]}],"col-start":[{"col-start":_()}],"col-end":[{"col-end":_()}],"grid-rows":[{"grid-rows":[ia]}],"row-start-end":[{row:["auto",{span:[oa,Q]},Q]}],"row-start":[{"row-start":_()}],"row-end":[{"row-end":_()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Q]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Q]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Q,t]}],"min-w":[{"min-w":[Q,t,"min","max","fit"]}],"max-w":[{"max-w":[Q,t,"none","full","min","max","fit","prose",{screen:[ks]},ks]}],h:[{h:[Q,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Q,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Q,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Q,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ks,Ns]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Bc]}],"font-family":[{font:[ia]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Q]}],"line-clamp":[{"line-clamp":["none",vr,Bc]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ss,Q]}],"list-image":[{"list-image":["none",Q]}],"list-style-type":[{list:["none","disc","decimal",Q]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[m]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[m]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ss,Ns]}],"underline-offset":[{"underline-offset":["auto",ss,Q]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Q]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Q]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[m]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),cC]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",lC]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},dC]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[m]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[m]}],"divide-style":[{divide:$()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[ss,Q]}],"outline-w":[{outline:[ss,Ns]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[m]}],"ring-offset-w":[{"ring-offset":[ss,Ns]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ks,fC]}],"shadow-color":[{shadow:[ia]}],opacity:[{opacity:[m]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[n]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",ks,Q]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[m]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Q]}],duration:[{duration:V()}],ease:[{ease:["linear","in","out","in-out",Q]}],delay:[{delay:V()}],animate:[{animate:["none","spin","ping","pulse","bounce",Q]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[oa,Q]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Q]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Q]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Q]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ss,Ns,Bc]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},gC=ZS(xC);function Z(...e){return gC(dv(e))}function Y(e,t,{checkForDefaultPrevented:s=!0}={}){return function(a){if(e==null||e(a),s===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function Th(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Vl(...e){return t=>{let s=!1;const n=e.map(a=>{const o=Th(a,t);return!s&&typeof o=="function"&&(s=!0),o});if(s)return()=>{for(let a=0;a<n.length;a++){const o=n[a];typeof o=="function"?o():Th(e[a],null)}}}}function Ae(...e){return v.useCallback(Vl(...e),e)}function sn(e,t=[]){let s=[];function n(o,i){const l=v.createContext(i),u=s.length;s=[...s,i];const c=f=>{var m;const{scope:h,children:y,...b}=f,g=((m=h==null?void 0:h[e])==null?void 0:m[u])||l,x=v.useMemo(()=>b,Object.values(b));return r.jsx(g.Provider,{value:x,children:y})};c.displayName=o+"Provider";function d(f,h){var g;const y=((g=h==null?void 0:h[e])==null?void 0:g[u])||l,b=v.useContext(y);if(b)return b;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[c,d]}const a=()=>{const o=s.map(i=>v.createContext(i));return function(l){const u=(l==null?void 0:l[e])||o;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:u}}),[l,u])}};return a.scopeName=e,[n,yC(a,...t)]}function yC(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=n.reduce((l,{useScope:u,scopeName:c})=>{const f=u(o)[`__scope${c}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return s.scopeName=t.scopeName,s}function Qa(e){const t=bC(e),s=v.forwardRef((n,a)=>{const{children:o,...i}=n,l=v.Children.toArray(o),u=l.find(jC);if(u){const c=u.props.children,d=l.map(f=>f===u?v.Children.count(c)>1?v.Children.only(null):v.isValidElement(c)?c.props.children:null:f);return r.jsx(t,{...i,ref:a,children:v.isValidElement(c)?v.cloneElement(c,void 0,d):null})}return r.jsx(t,{...i,ref:a,children:o})});return s.displayName=`${e}.Slot`,s}var vC=Qa("Slot");function bC(e){const t=v.forwardRef((s,n)=>{const{children:a,...o}=s,i=v.isValidElement(a)?kC(a):void 0,l=Ae(i,n);if(v.isValidElement(a)){const u=NC(o,a.props);return a.type!==v.Fragment&&(u.ref=l),v.cloneElement(a,u)}return v.Children.count(a)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var wC=Symbol("radix.slottable");function jC(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===wC}function NC(e,t){const s={...t};for(const n in t){const a=e[n],o=t[n];/^on[A-Z]/.test(n)?a&&o?s[n]=(...l)=>{const u=o(...l);return a(...l),u}:a&&(s[n]=a):n==="style"?s[n]={...a,...o}:n==="className"&&(s[n]=[a,o].filter(Boolean).join(" "))}return{...e,...s}}function kC(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function Qf(e){const t=e+"CollectionProvider",[s,n]=sn(t),[a,o]=s(t,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:x,children:m}=g,p=P.useRef(null),w=P.useRef(new Map).current;return r.jsx(a,{scope:x,itemMap:w,collectionRef:p,children:m})};i.displayName=t;const l=e+"CollectionSlot",u=Qa(l),c=P.forwardRef((g,x)=>{const{scope:m,children:p}=g,w=o(l,m),j=Ae(x,w.collectionRef);return r.jsx(u,{ref:j,children:p})});c.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=Qa(d),y=P.forwardRef((g,x)=>{const{scope:m,children:p,...w}=g,j=P.useRef(null),k=Ae(x,j),E=o(d,m);return P.useEffect(()=>(E.itemMap.set(j,{ref:j,...w}),()=>void E.itemMap.delete(j))),r.jsx(h,{[f]:"",ref:k,children:p})});y.displayName=d;function b(g){const x=o(e+"CollectionConsumer",g);return P.useCallback(()=>{const p=x.collectionRef.current;if(!p)return[];const w=Array.from(p.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((E,C)=>w.indexOf(E.ref.current)-w.indexOf(C.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:i,Slot:c,ItemSlot:y},b,n]}var SC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],le=SC.reduce((e,t)=>{const s=Qa(`Primitive.${t}`),n=v.forwardRef((a,o)=>{const{asChild:i,...l}=a,u=i?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(u,{...l,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Zf(e,t){e&&ho.flushSync(()=>e.dispatchEvent(t))}function it(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...s)=>{var n;return(n=t.current)==null?void 0:n.call(t,...s)},[])}function CC(e,t=globalThis==null?void 0:globalThis.document){const s=it(e);v.useEffect(()=>{const n=a=>{a.key==="Escape"&&s(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[s,t])}var EC="DismissableLayer",xd="dismissableLayer.update",PC="dismissableLayer.pointerDownOutside",TC="dismissableLayer.focusOutside",Ah,gv=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Jf=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...u}=e,c=v.useContext(gv),[d,f]=v.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=v.useState({}),b=Ae(t,C=>f(C)),g=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),m=g.indexOf(x),p=d?g.indexOf(d):-1,w=c.layersWithOutsidePointerEventsDisabled.size>0,j=p>=m,k=RC(C=>{const N=C.target,S=[...c.branches].some(T=>T.contains(N));!j||S||(a==null||a(C),i==null||i(C),C.defaultPrevented||l==null||l())},h),E=DC(C=>{const N=C.target;[...c.branches].some(T=>T.contains(N))||(o==null||o(C),i==null||i(C),C.defaultPrevented||l==null||l())},h);return CC(C=>{p===c.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},h),v.useEffect(()=>{if(d)return s&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Ah=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),Rh(),()=>{s&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Ah)}},[d,h,s,c]),v.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),Rh())},[d,c]),v.useEffect(()=>{const C=()=>y({});return document.addEventListener(xd,C),()=>document.removeEventListener(xd,C)},[]),r.jsx(le.div,{...u,ref:b,style:{pointerEvents:w?j?"auto":"none":void 0,...e.style},onFocusCapture:Y(e.onFocusCapture,E.onFocusCapture),onBlurCapture:Y(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Y(e.onPointerDownCapture,k.onPointerDownCapture)})});Jf.displayName=EC;var AC="DismissableLayerBranch",yv=v.forwardRef((e,t)=>{const s=v.useContext(gv),n=v.useRef(null),a=Ae(t,n);return v.useEffect(()=>{const o=n.current;if(o)return s.branches.add(o),()=>{s.branches.delete(o)}},[s.branches]),r.jsx(le.div,{...e,ref:a})});yv.displayName=AC;function RC(e,t=globalThis==null?void 0:globalThis.document){const s=it(e),n=v.useRef(!1),a=v.useRef(()=>{});return v.useEffect(()=>{const o=l=>{if(l.target&&!n.current){let u=function(){vv(PC,s,c,{discrete:!0})};const c={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=u,t.addEventListener("click",a.current,{once:!0})):u()}else t.removeEventListener("click",a.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,s]),{onPointerDownCapture:()=>n.current=!0}}function DC(e,t=globalThis==null?void 0:globalThis.document){const s=it(e),n=v.useRef(!1);return v.useEffect(()=>{const a=o=>{o.target&&!n.current&&vv(TC,s,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,s]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Rh(){const e=new CustomEvent(xd);document.dispatchEvent(e)}function vv(e,t,s,{discrete:n}){const a=s.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&a.addEventListener(e,t,{once:!0}),n?Zf(a,o):a.dispatchEvent(o)}var MC=Jf,_C=yv,Pt=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},LC="Portal",ep=v.forwardRef((e,t)=>{var l;const{container:s,...n}=e,[a,o]=v.useState(!1);Pt(()=>o(!0),[]);const i=s||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?Mk.createPortal(r.jsx(le.div,{...n,ref:t}),i):null});ep.displayName=LC;function OC(e,t){return v.useReducer((s,n)=>t[s][n]??s,e)}var Wr=e=>{const{present:t,children:s}=e,n=IC(t),a=typeof s=="function"?s({present:n.isPresent}):v.Children.only(s),o=Ae(n.ref,FC(a));return typeof s=="function"||n.isPresent?v.cloneElement(a,{ref:o}):null};Wr.displayName="Presence";function IC(e){const[t,s]=v.useState(),n=v.useRef(null),a=v.useRef(e),o=v.useRef("none"),i=e?"mounted":"unmounted",[l,u]=OC(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const c=Go(n.current);o.current=l==="mounted"?c:"none"},[l]),Pt(()=>{const c=n.current,d=a.current;if(d!==e){const h=o.current,y=Go(c);e?u("MOUNT"):y==="none"||(c==null?void 0:c.display)==="none"?u("UNMOUNT"):u(d&&h!==y?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,u]),Pt(()=>{if(t){let c;const d=t.ownerDocument.defaultView??window,f=y=>{const g=Go(n.current).includes(y.animationName);if(y.target===t&&g&&(u("ANIMATION_END"),!a.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",c=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},h=y=>{y.target===t&&(o.current=Go(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(c),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:v.useCallback(c=>{n.current=c?getComputedStyle(c):null,s(c)},[])}}function Go(e){return(e==null?void 0:e.animationName)||"none"}function FC(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var VC=sf[" useInsertionEffect ".trim().toString()]||Pt;function $l({prop:e,defaultProp:t,onChange:s=()=>{},caller:n}){const[a,o,i]=$C({defaultProp:t,onChange:s}),l=e!==void 0,u=l?e:a;{const d=v.useRef(e!==void 0);v.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const c=v.useCallback(d=>{var f;if(l){const h=BC(d)?d(e):d;h!==e&&((f=i.current)==null||f.call(i,h))}else o(d)},[l,e,o,i]);return[u,c]}function $C({defaultProp:e,onChange:t}){const[s,n]=v.useState(e),a=v.useRef(s),o=v.useRef(t);return VC(()=>{o.current=t},[t]),v.useEffect(()=>{var i;a.current!==s&&((i=o.current)==null||i.call(o,s),a.current=s)},[s,a]),[s,n,o]}function BC(e){return typeof e=="function"}var UC=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),zC="VisuallyHidden",tp=v.forwardRef((e,t)=>r.jsx(le.span,{...e,ref:t,style:{...UC,...e.style}}));tp.displayName=zC;var sp="ToastProvider",[np,WC,HC]=Qf("Toast"),[bv,Y7]=sn("Toast",[HC]),[qC,Bl]=bv(sp),wv=e=>{const{__scopeToast:t,label:s="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:o=50,children:i}=e,[l,u]=v.useState(null),[c,d]=v.useState(0),f=v.useRef(!1),h=v.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${sp}\`. Expected non-empty \`string\`.`),r.jsx(np.Provider,{scope:t,children:r.jsx(qC,{scope:t,label:s,duration:n,swipeDirection:a,swipeThreshold:o,toastCount:c,viewport:l,onViewportChange:u,onToastAdd:v.useCallback(()=>d(y=>y+1),[]),onToastRemove:v.useCallback(()=>d(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:i})})};wv.displayName=sp;var jv="ToastViewport",KC=["F8"],gd="toast.viewportPause",yd="toast.viewportResume",Nv=v.forwardRef((e,t)=>{const{__scopeToast:s,hotkey:n=KC,label:a="Notifications ({hotkey})",...o}=e,i=Bl(jv,s),l=WC(s),u=v.useRef(null),c=v.useRef(null),d=v.useRef(null),f=v.useRef(null),h=Ae(t,f,i.onViewportChange),y=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=i.toastCount>0;v.useEffect(()=>{const x=m=>{var w;n.length!==0&&n.every(j=>m[j]||m.code===j)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[n]),v.useEffect(()=>{const x=u.current,m=f.current;if(b&&x&&m){const p=()=>{if(!i.isClosePausedRef.current){const E=new CustomEvent(gd);m.dispatchEvent(E),i.isClosePausedRef.current=!0}},w=()=>{if(i.isClosePausedRef.current){const E=new CustomEvent(yd);m.dispatchEvent(E),i.isClosePausedRef.current=!1}},j=E=>{!x.contains(E.relatedTarget)&&w()},k=()=>{x.contains(document.activeElement)||w()};return x.addEventListener("focusin",p),x.addEventListener("focusout",j),x.addEventListener("pointermove",p),x.addEventListener("pointerleave",k),window.addEventListener("blur",p),window.addEventListener("focus",w),()=>{x.removeEventListener("focusin",p),x.removeEventListener("focusout",j),x.removeEventListener("pointermove",p),x.removeEventListener("pointerleave",k),window.removeEventListener("blur",p),window.removeEventListener("focus",w)}}},[b,i.isClosePausedRef]);const g=v.useCallback(({tabbingDirection:x})=>{const p=l().map(w=>{const j=w.ref.current,k=[j,...oE(j)];return x==="forwards"?k:k.reverse()});return(x==="forwards"?p.reverse():p).flat()},[l]);return v.useEffect(()=>{const x=f.current;if(x){const m=p=>{var k,E,C;const w=p.altKey||p.ctrlKey||p.metaKey;if(p.key==="Tab"&&!w){const N=document.activeElement,S=p.shiftKey;if(p.target===x&&S){(k=c.current)==null||k.focus();return}const D=g({tabbingDirection:S?"backwards":"forwards"}),O=D.findIndex(_=>_===N);Uc(D.slice(O+1))?p.preventDefault():S?(E=c.current)==null||E.focus():(C=d.current)==null||C.focus()}};return x.addEventListener("keydown",m),()=>x.removeEventListener("keydown",m)}},[l,g]),r.jsxs(_C,{ref:u,role:"region","aria-label":a.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&r.jsx(vd,{ref:c,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"forwards"});Uc(x)}}),r.jsx(np.Slot,{scope:s,children:r.jsx(le.ol,{tabIndex:-1,...o,ref:h})}),b&&r.jsx(vd,{ref:d,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"backwards"});Uc(x)}})]})});Nv.displayName=jv;var kv="ToastFocusProxy",vd=v.forwardRef((e,t)=>{const{__scopeToast:s,onFocusFromOutsideViewport:n,...a}=e,o=Bl(kv,s);return r.jsx(tp,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:i=>{var c;const l=i.relatedTarget;!((c=o.viewport)!=null&&c.contains(l))&&n()}})});vd.displayName=kv;var xo="Toast",GC="toast.swipeStart",YC="toast.swipeMove",XC="toast.swipeCancel",QC="toast.swipeEnd",Sv=v.forwardRef((e,t)=>{const{forceMount:s,open:n,defaultOpen:a,onOpenChange:o,...i}=e,[l,u]=$l({prop:n,defaultProp:a??!0,onChange:o,caller:xo});return r.jsx(Wr,{present:s||l,children:r.jsx(eE,{open:l,...i,ref:t,onClose:()=>u(!1),onPause:it(e.onPause),onResume:it(e.onResume),onSwipeStart:Y(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Y(e.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Y(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Y(e.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),u(!1)})})})});Sv.displayName=xo;var[ZC,JC]=bv(xo,{onClose(){}}),eE=v.forwardRef((e,t)=>{const{__scopeToast:s,type:n="foreground",duration:a,open:o,onClose:i,onEscapeKeyDown:l,onPause:u,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:y,...b}=e,g=Bl(xo,s),[x,m]=v.useState(null),p=Ae(t,_=>m(_)),w=v.useRef(null),j=v.useRef(null),k=a||g.duration,E=v.useRef(0),C=v.useRef(k),N=v.useRef(0),{onToastAdd:S,onToastRemove:T}=g,I=it(()=>{var F;(x==null?void 0:x.contains(document.activeElement))&&((F=g.viewport)==null||F.focus()),i()}),D=v.useCallback(_=>{!_||_===1/0||(window.clearTimeout(N.current),E.current=new Date().getTime(),N.current=window.setTimeout(I,_))},[I]);v.useEffect(()=>{const _=g.viewport;if(_){const F=()=>{D(C.current),c==null||c()},$=()=>{const q=new Date().getTime()-E.current;C.current=C.current-q,window.clearTimeout(N.current),u==null||u()};return _.addEventListener(gd,$),_.addEventListener(yd,F),()=>{_.removeEventListener(gd,$),_.removeEventListener(yd,F)}}},[g.viewport,k,u,c,D]),v.useEffect(()=>{o&&!g.isClosePausedRef.current&&D(k)},[o,k,g.isClosePausedRef,D]),v.useEffect(()=>(S(),()=>T()),[S,T]);const O=v.useMemo(()=>x?Dv(x):null,[x]);return g.viewport?r.jsxs(r.Fragment,{children:[O&&r.jsx(tE,{__scopeToast:s,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:O}),r.jsx(ZC,{scope:s,onClose:I,children:ho.createPortal(r.jsx(np.ItemSlot,{scope:s,children:r.jsx(MC,{asChild:!0,onEscapeKeyDown:Y(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||I(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(le.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection,...b,ref:p,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Y(e.onKeyDown,_=>{_.key==="Escape"&&(l==null||l(_.nativeEvent),_.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:Y(e.onPointerDown,_=>{_.button===0&&(w.current={x:_.clientX,y:_.clientY})}),onPointerMove:Y(e.onPointerMove,_=>{if(!w.current)return;const F=_.clientX-w.current.x,$=_.clientY-w.current.y,q=!!j.current,R=["left","right"].includes(g.swipeDirection),M=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,L=R?M(0,F):0,V=R?0:M(0,$),K=_.pointerType==="touch"?10:2,ae={x:L,y:V},oe={originalEvent:_,delta:ae};q?(j.current=ae,Yo(YC,f,oe,{discrete:!1})):Dh(ae,g.swipeDirection,K)?(j.current=ae,Yo(GC,d,oe,{discrete:!1}),_.target.setPointerCapture(_.pointerId)):(Math.abs(F)>K||Math.abs($)>K)&&(w.current=null)}),onPointerUp:Y(e.onPointerUp,_=>{const F=j.current,$=_.target;if($.hasPointerCapture(_.pointerId)&&$.releasePointerCapture(_.pointerId),j.current=null,w.current=null,F){const q=_.currentTarget,R={originalEvent:_,delta:F};Dh(F,g.swipeDirection,g.swipeThreshold)?Yo(QC,y,R,{discrete:!0}):Yo(XC,h,R,{discrete:!0}),q.addEventListener("click",M=>M.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),tE=e=>{const{__scopeToast:t,children:s,...n}=e,a=Bl(xo,t),[o,i]=v.useState(!1),[l,u]=v.useState(!1);return rE(()=>i(!0)),v.useEffect(()=>{const c=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(c)},[]),l?null:r.jsx(ep,{asChild:!0,children:r.jsx(tp,{...n,children:o&&r.jsxs(r.Fragment,{children:[a.label," ",s]})})})},sE="ToastTitle",Cv=v.forwardRef((e,t)=>{const{__scopeToast:s,...n}=e;return r.jsx(le.div,{...n,ref:t})});Cv.displayName=sE;var nE="ToastDescription",Ev=v.forwardRef((e,t)=>{const{__scopeToast:s,...n}=e;return r.jsx(le.div,{...n,ref:t})});Ev.displayName=nE;var Pv="ToastAction",Tv=v.forwardRef((e,t)=>{const{altText:s,...n}=e;return s.trim()?r.jsx(Rv,{altText:s,asChild:!0,children:r.jsx(rp,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Pv}\`. Expected non-empty \`string\`.`),null)});Tv.displayName=Pv;var Av="ToastClose",rp=v.forwardRef((e,t)=>{const{__scopeToast:s,...n}=e,a=JC(Av,s);return r.jsx(Rv,{asChild:!0,children:r.jsx(le.button,{type:"button",...n,ref:t,onClick:Y(e.onClick,a.onClose)})})});rp.displayName=Av;var Rv=v.forwardRef((e,t)=>{const{__scopeToast:s,altText:n,...a}=e;return r.jsx(le.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function Dv(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),aE(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!a)if(o){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...Dv(n))}}),t}function Yo(e,t,s,{discrete:n}){const a=s.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s});t&&a.addEventListener(e,t,{once:!0}),n?Zf(a,o):a.dispatchEvent(o)}var Dh=(e,t,s=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),o=n>a;return t==="left"||t==="right"?o&&n>s:!o&&a>s};function rE(e=()=>{}){const t=it(e);Pt(()=>{let s=0,n=0;return s=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(n)}},[t])}function aE(e){return e.nodeType===e.ELEMENT_NODE}function oE(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function Uc(e){const t=document.activeElement;return e.some(s=>s===t?!0:(s.focus(),document.activeElement!==t))}var iE=wv,Mv=Nv,_v=Sv,Lv=Cv,Ov=Ev,Iv=Tv,Fv=rp;const Mh=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,_h=dv,ap=(e,t)=>s=>{var n;if((t==null?void 0:t.variants)==null)return _h(e,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:a,defaultVariants:o}=t,i=Object.keys(a).map(c=>{const d=s==null?void 0:s[c],f=o==null?void 0:o[c];if(d===null)return null;const h=Mh(d)||Mh(f);return a[c][h]}),l=s&&Object.entries(s).reduce((c,d)=>{let[f,h]=d;return h===void 0||(c[f]=h),c},{}),u=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((c,d)=>{let{class:f,className:h,...y}=d;return Object.entries(y).every(b=>{let[g,x]=b;return Array.isArray(x)?x.includes({...o,...l}[g]):{...o,...l}[g]===x})?[...c,f,h]:c},[]);return _h(e,i,u,s==null?void 0:s.class,s==null?void 0:s.className)};var lE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const cE=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),W=(e,t)=>{const s=v.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:i,children:l,...u},c)=>v.createElement("svg",{ref:c,...lE,width:a,height:a,stroke:n,strokeWidth:i?Number(o)*24/Number(a):o,className:`lucide lucide-${cE(e)}`,...u},[...t.map(([d,f])=>v.createElement(d,f)),...(Array.isArray(l)?l:[l])||[]]));return s.displayName=`${e}`,s},op=W("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),uE=W("AlertOctagon",[["polygon",{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2",key:"h1p8hx"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Hr=W("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),dE=W("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),ip=W("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),fE=W("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),pE=W("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.25V14",key:"re2vv1"}],["path",{d:"M22 16a6 6 0 1 1-12 0 6 6 0 0 1 12 0Z",key:"ame013"}]]),mE=W("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),hE=W("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),xE=W("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),gE=W("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),lp=W("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),yE=W("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),vE=W("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),bE=W("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),Vv=W("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),wE=W("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]),$v=W("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),jE=W("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Lh=W("DownloadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m8 17 4 4 4-4",key:"1ul180"}]]),NE=W("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),bd=W("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),wd=W("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Ul=W("FilePlus2",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7.5L14.5 2H6a2 2 0 0 0-2 2v4",key:"702lig"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M3 15h6",key:"4e2qda"}],["path",{d:"M6 12v6",key:"1u72j0"}]]),kE=W("FileSearch",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7.5L14.5 2H6a2 2 0 0 0-2 2v3",key:"am10z3"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M5 17a3 3 0 1 0 0-6 3 3 0 0 0 0 6z",key:"ychnub"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}]]),SE=W("FileSignature",[["path",{d:"M20 19.5v.5a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8.5L18 5.5",key:"kd5d3"}],["path",{d:"M8 18h1",key:"13wk12"}],["path",{d:"M18.42 9.61a2.1 2.1 0 1 1 2.97 2.97L16.95 17 13 18l.99-3.95 4.43-4.44Z",key:"johvi5"}]]),Za=W("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Bv=W("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Uv=W("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),CE=W("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]),EE=W("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),cp=W("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]),PE=W("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),TE=W("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),AE=W("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),up=W("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),RE=W("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),DE=W("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),ME=W("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),_E=W("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),LE=W("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),zl=W("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),dp=W("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),OE=W("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]),IE=W("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),zv=W("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Wl=W("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),cs=W("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),FE=W("ShieldHalf",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 22V2",key:"zs6s6o"}]]),VE=W("ShieldPlus",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M8 11h8",key:"vwpz6n"}],["path",{d:"M12 15V7",key:"1ycneb"}]]),Ja=W("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),Bn=W("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),$E=W("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),BE=W("UserCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),UE=W("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Wv=W("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Oh=W("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Ee=W("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ih=W("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),zE=iE,Hv=P.forwardRef(({className:e,...t},s)=>r.jsx(Mv,{ref:s,className:Z("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Hv.displayName=Mv.displayName;const WE=ap("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),qv=P.forwardRef(({className:e,variant:t,...s},n)=>r.jsx(_v,{ref:n,className:Z(WE({variant:t}),e),...s}));qv.displayName=_v.displayName;const HE=P.forwardRef(({className:e,...t},s)=>r.jsx(Iv,{ref:s,className:Z("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));HE.displayName=Iv.displayName;const Kv=P.forwardRef(({className:e,...t},s)=>r.jsx(Fv,{ref:s,className:Z("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx(Ee,{className:"h-4 w-4"})}));Kv.displayName=Fv.displayName;const Gv=P.forwardRef(({className:e,...t},s)=>r.jsx(Lv,{ref:s,className:Z("text-sm font-semibold",e),...t}));Gv.displayName=Lv.displayName;const Yv=P.forwardRef(({className:e,...t},s)=>r.jsx(Ov,{ref:s,className:Z("text-sm opacity-90",e),...t}));Yv.displayName=Ov.displayName;const qE=1;let zc=0;function KE(){return zc=(zc+1)%Number.MAX_VALUE,zc.toString()}const qe={state:{toasts:[]},listeners:[],getState:()=>qe.state,setState:e=>{typeof e=="function"?qe.state=e(qe.state):qe.state={...qe.state,...e},qe.listeners.forEach(t=>t(qe.state))},subscribe:e=>(qe.listeners.push(e),()=>{qe.listeners=qe.listeners.filter(t=>t!==e)})},GE=({...e})=>{const t=KE(),s=a=>qe.setState(o=>({...o,toasts:o.toasts.map(i=>i.id===t?{...i,...a}:i)})),n=()=>qe.setState(a=>({...a,toasts:a.toasts.filter(o=>o.id!==t)}));return qe.setState(a=>({...a,toasts:[{...e,id:t,dismiss:n},...a.toasts].slice(0,qE)})),{id:t,dismiss:n,update:s}};function nn(){const[e,t]=v.useState(qe.getState());return v.useEffect(()=>qe.subscribe(n=>{t(n)}),[]),v.useEffect(()=>{const s=[];return e.toasts.forEach(n=>{if(n.duration===1/0)return;const a=setTimeout(()=>{n.dismiss()},n.duration||5e3);s.push(a)}),()=>{s.forEach(n=>clearTimeout(n))}},[e.toasts]),{toast:GE,toasts:e.toasts}}function YE(){const{toasts:e}=nn();return r.jsxs(zE,{children:[e.map(({id:t,title:s,description:n,action:a,...o})=>r.jsxs(qv,{...o,children:[r.jsxs("div",{className:"grid gap-1",children:[s&&r.jsx(Gv,{children:s}),n&&r.jsx(Yv,{children:n})]}),a,r.jsx(Kv,{})]},t)),r.jsx(Hv,{})]})}const XE=v.createContext(),QE=({children:e})=>{const[t,s]=v.useState(()=>{const a=localStorage.getItem("aura-theme");return a||"light"});v.useEffect(()=>{localStorage.setItem("aura-theme",t),document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(t)},[t]);const n=()=>{s(a=>a==="light"?"dark":"light")};return r.jsx(XE.Provider,{value:{theme:t,toggleTheme:n},children:e})};function Xv(e,t){return function(){return e.apply(t,arguments)}}const{toString:ZE}=Object.prototype,{getPrototypeOf:fp}=Object,{iterator:Hl,toStringTag:Qv}=Symbol,ql=(e=>t=>{const s=ZE.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Vt=e=>(e=e.toLowerCase(),t=>ql(t)===e),Kl=e=>t=>typeof t===e,{isArray:qr}=Array,Mr=Kl("undefined");function go(e){return e!==null&&!Mr(e)&&e.constructor!==null&&!Mr(e.constructor)&&at(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Zv=Vt("ArrayBuffer");function JE(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Zv(e.buffer),t}const eP=Kl("string"),at=Kl("function"),Jv=Kl("number"),yo=e=>e!==null&&typeof e=="object",tP=e=>e===!0||e===!1,vi=e=>{if(ql(e)!=="object")return!1;const t=fp(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Qv in e)&&!(Hl in e)},sP=e=>{if(!yo(e)||go(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},nP=Vt("Date"),rP=Vt("File"),aP=Vt("Blob"),oP=Vt("FileList"),iP=e=>yo(e)&&at(e.pipe),lP=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||at(e.append)&&((t=ql(e))==="formdata"||t==="object"&&at(e.toString)&&e.toString()==="[object FormData]"))},cP=Vt("URLSearchParams"),[uP,dP,fP,pP]=["ReadableStream","Request","Response","Headers"].map(Vt),mP=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function vo(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),qr(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(go(e))return;const o=s?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let l;for(n=0;n<i;n++)l=o[n],t.call(null,e[l],l,e)}}function eb(e,t){if(go(e))return null;t=t.toLowerCase();const s=Object.keys(e);let n=s.length,a;for(;n-- >0;)if(a=s[n],t===a.toLowerCase())return a;return null}const gn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,tb=e=>!Mr(e)&&e!==gn;function jd(){const{caseless:e,skipUndefined:t}=tb(this)&&this||{},s={},n=(a,o)=>{const i=e&&eb(s,o)||o;vi(s[i])&&vi(a)?s[i]=jd(s[i],a):vi(a)?s[i]=jd({},a):qr(a)?s[i]=a.slice():(!t||!Mr(a))&&(s[i]=a)};for(let a=0,o=arguments.length;a<o;a++)arguments[a]&&vo(arguments[a],n);return s}const hP=(e,t,s,{allOwnKeys:n}={})=>(vo(t,(a,o)=>{s&&at(a)?e[o]=Xv(a,s):e[o]=a},{allOwnKeys:n}),e),xP=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),gP=(e,t,s,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},yP=(e,t,s,n)=>{let a,o,i;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),o=a.length;o-- >0;)i=a[o],(!n||n(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=s!==!1&&fp(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},vP=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const n=e.indexOf(t,s);return n!==-1&&n===s},bP=e=>{if(!e)return null;if(qr(e))return e;let t=e.length;if(!Jv(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},wP=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&fp(Uint8Array)),jP=(e,t)=>{const n=(e&&e[Hl]).call(e);let a;for(;(a=n.next())&&!a.done;){const o=a.value;t.call(e,o[0],o[1])}},NP=(e,t)=>{let s;const n=[];for(;(s=e.exec(t))!==null;)n.push(s);return n},kP=Vt("HTMLFormElement"),SP=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,n,a){return n.toUpperCase()+a}),Fh=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),CP=Vt("RegExp"),sb=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),n={};vo(s,(a,o)=>{let i;(i=t(a,o,e))!==!1&&(n[o]=i||a)}),Object.defineProperties(e,n)},EP=e=>{sb(e,(t,s)=>{if(at(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const n=e[s];if(at(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},PP=(e,t)=>{const s={},n=a=>{a.forEach(o=>{s[o]=!0})};return qr(e)?n(e):n(String(e).split(t)),s},TP=()=>{},AP=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function RP(e){return!!(e&&at(e.append)&&e[Qv]==="FormData"&&e[Hl])}const DP=e=>{const t=new Array(10),s=(n,a)=>{if(yo(n)){if(t.indexOf(n)>=0)return;if(go(n))return n;if(!("toJSON"in n)){t[a]=n;const o=qr(n)?[]:{};return vo(n,(i,l)=>{const u=s(i,a+1);!Mr(u)&&(o[l]=u)}),t[a]=void 0,o}}return n};return s(e,0)},MP=Vt("AsyncFunction"),_P=e=>e&&(yo(e)||at(e))&&at(e.then)&&at(e.catch),nb=((e,t)=>e?setImmediate:t?((s,n)=>(gn.addEventListener("message",({source:a,data:o})=>{a===gn&&o===s&&n.length&&n.shift()()},!1),a=>{n.push(a),gn.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",at(gn.postMessage)),LP=typeof queueMicrotask<"u"?queueMicrotask.bind(gn):typeof process<"u"&&process.nextTick||nb,OP=e=>e!=null&&at(e[Hl]),A={isArray:qr,isArrayBuffer:Zv,isBuffer:go,isFormData:lP,isArrayBufferView:JE,isString:eP,isNumber:Jv,isBoolean:tP,isObject:yo,isPlainObject:vi,isEmptyObject:sP,isReadableStream:uP,isRequest:dP,isResponse:fP,isHeaders:pP,isUndefined:Mr,isDate:nP,isFile:rP,isBlob:aP,isRegExp:CP,isFunction:at,isStream:iP,isURLSearchParams:cP,isTypedArray:wP,isFileList:oP,forEach:vo,merge:jd,extend:hP,trim:mP,stripBOM:xP,inherits:gP,toFlatObject:yP,kindOf:ql,kindOfTest:Vt,endsWith:vP,toArray:bP,forEachEntry:jP,matchAll:NP,isHTMLForm:kP,hasOwnProperty:Fh,hasOwnProp:Fh,reduceDescriptors:sb,freezeMethods:EP,toObjectSet:PP,toCamelCase:SP,noop:TP,toFiniteNumber:AP,findKey:eb,global:gn,isContextDefined:tb,isSpecCompliantForm:RP,toJSONObject:DP,isAsyncFn:MP,isThenable:_P,setImmediate:nb,asap:LP,isIterable:OP};function X(e,t,s,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}A.inherits(X,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:A.toJSONObject(this.config),code:this.code,status:this.status}}});const rb=X.prototype,ab={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ab[e]={value:e}});Object.defineProperties(X,ab);Object.defineProperty(rb,"isAxiosError",{value:!0});X.from=(e,t,s,n,a,o)=>{const i=Object.create(rb);A.toFlatObject(e,i,function(d){return d!==Error.prototype},c=>c!=="isAxiosError");const l=e&&e.message?e.message:"Error",u=t==null&&e?e.code:t;return X.call(i,l,u,s,n,a),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",o&&Object.assign(i,o),i};const IP=null;function Nd(e){return A.isPlainObject(e)||A.isArray(e)}function ob(e){return A.endsWith(e,"[]")?e.slice(0,-2):e}function Vh(e,t,s){return e?e.concat(t).map(function(a,o){return a=ob(a),!s&&o?"["+a+"]":a}).join(s?".":""):t}function FP(e){return A.isArray(e)&&!e.some(Nd)}const VP=A.toFlatObject(A,{},null,function(t){return/^is[A-Z]/.test(t)});function Gl(e,t,s){if(!A.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=A.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,x){return!A.isUndefined(x[g])});const n=s.metaTokens,a=s.visitor||d,o=s.dots,i=s.indexes,u=(s.Blob||typeof Blob<"u"&&Blob)&&A.isSpecCompliantForm(t);if(!A.isFunction(a))throw new TypeError("visitor must be a function");function c(b){if(b===null)return"";if(A.isDate(b))return b.toISOString();if(A.isBoolean(b))return b.toString();if(!u&&A.isBlob(b))throw new X("Blob is not supported. Use a Buffer instead.");return A.isArrayBuffer(b)||A.isTypedArray(b)?u&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function d(b,g,x){let m=b;if(b&&!x&&typeof b=="object"){if(A.endsWith(g,"{}"))g=n?g:g.slice(0,-2),b=JSON.stringify(b);else if(A.isArray(b)&&FP(b)||(A.isFileList(b)||A.endsWith(g,"[]"))&&(m=A.toArray(b)))return g=ob(g),m.forEach(function(w,j){!(A.isUndefined(w)||w===null)&&t.append(i===!0?Vh([g],j,o):i===null?g:g+"[]",c(w))}),!1}return Nd(b)?!0:(t.append(Vh(x,g,o),c(b)),!1)}const f=[],h=Object.assign(VP,{defaultVisitor:d,convertValue:c,isVisitable:Nd});function y(b,g){if(!A.isUndefined(b)){if(f.indexOf(b)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(b),A.forEach(b,function(m,p){(!(A.isUndefined(m)||m===null)&&a.call(t,m,A.isString(p)?p.trim():p,g,h))===!0&&y(m,g?g.concat(p):[p])}),f.pop()}}if(!A.isObject(e))throw new TypeError("data must be an object");return y(e),t}function $h(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function pp(e,t){this._pairs=[],e&&Gl(e,this,t)}const ib=pp.prototype;ib.append=function(t,s){this._pairs.push([t,s])};ib.toString=function(t){const s=t?function(n){return t.call(this,n,$h)}:$h;return this._pairs.map(function(a){return s(a[0])+"="+s(a[1])},"").join("&")};function $P(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function lb(e,t,s){if(!t)return e;const n=s&&s.encode||$P;A.isFunction(s)&&(s={serialize:s});const a=s&&s.serialize;let o;if(a?o=a(t,s):o=A.isURLSearchParams(t)?t.toString():new pp(t,s).toString(n),o){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class Bh{constructor(){this.handlers=[]}use(t,s,n){return this.handlers.push({fulfilled:t,rejected:s,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){A.forEach(this.handlers,function(n){n!==null&&t(n)})}}const cb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},BP=typeof URLSearchParams<"u"?URLSearchParams:pp,UP=typeof FormData<"u"?FormData:null,zP=typeof Blob<"u"?Blob:null,WP={isBrowser:!0,classes:{URLSearchParams:BP,FormData:UP,Blob:zP},protocols:["http","https","file","blob","url","data"]},mp=typeof window<"u"&&typeof document<"u",kd=typeof navigator=="object"&&navigator||void 0,HP=mp&&(!kd||["ReactNative","NativeScript","NS"].indexOf(kd.product)<0),qP=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",KP=mp&&window.location.href||"http://localhost",GP=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:mp,hasStandardBrowserEnv:HP,hasStandardBrowserWebWorkerEnv:qP,navigator:kd,origin:KP},Symbol.toStringTag,{value:"Module"})),We={...GP,...WP};function YP(e,t){return Gl(e,new We.classes.URLSearchParams,{visitor:function(s,n,a,o){return We.isNode&&A.isBuffer(s)?(this.append(n,s.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function XP(e){return A.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function QP(e){const t={},s=Object.keys(e);let n;const a=s.length;let o;for(n=0;n<a;n++)o=s[n],t[o]=e[o];return t}function ub(e){function t(s,n,a,o){let i=s[o++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),u=o>=s.length;return i=!i&&A.isArray(a)?a.length:i,u?(A.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!l):((!a[i]||!A.isObject(a[i]))&&(a[i]=[]),t(s,n,a[i],o)&&A.isArray(a[i])&&(a[i]=QP(a[i])),!l)}if(A.isFormData(e)&&A.isFunction(e.entries)){const s={};return A.forEachEntry(e,(n,a)=>{t(XP(n),a,s,0)}),s}return null}function ZP(e,t,s){if(A.isString(e))try{return(t||JSON.parse)(e),A.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(s||JSON.stringify)(e)}const bo={transitional:cb,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const n=s.getContentType()||"",a=n.indexOf("application/json")>-1,o=A.isObject(t);if(o&&A.isHTMLForm(t)&&(t=new FormData(t)),A.isFormData(t))return a?JSON.stringify(ub(t)):t;if(A.isArrayBuffer(t)||A.isBuffer(t)||A.isStream(t)||A.isFile(t)||A.isBlob(t)||A.isReadableStream(t))return t;if(A.isArrayBufferView(t))return t.buffer;if(A.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return YP(t,this.formSerializer).toString();if((l=A.isFileList(t))||n.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Gl(l?{"files[]":t}:t,u&&new u,this.formSerializer)}}return o||a?(s.setContentType("application/json",!1),ZP(t)):t}],transformResponse:[function(t){const s=this.transitional||bo.transitional,n=s&&s.forcedJSONParsing,a=this.responseType==="json";if(A.isResponse(t)||A.isReadableStream(t))return t;if(t&&A.isString(t)&&(n&&!this.responseType||a)){const i=!(s&&s.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(i)throw l.name==="SyntaxError"?X.from(l,X.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:We.classes.FormData,Blob:We.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};A.forEach(["delete","get","head","post","put","patch"],e=>{bo.headers[e]={}});const JP=A.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),eT=e=>{const t={};let s,n,a;return e&&e.split(`
`).forEach(function(i){a=i.indexOf(":"),s=i.substring(0,a).trim().toLowerCase(),n=i.substring(a+1).trim(),!(!s||t[s]&&JP[s])&&(s==="set-cookie"?t[s]?t[s].push(n):t[s]=[n]:t[s]=t[s]?t[s]+", "+n:n)}),t},Uh=Symbol("internals");function la(e){return e&&String(e).trim().toLowerCase()}function bi(e){return e===!1||e==null?e:A.isArray(e)?e.map(bi):String(e)}function tT(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=s.exec(e);)t[n[1]]=n[2];return t}const sT=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Wc(e,t,s,n,a){if(A.isFunction(n))return n.call(this,t,s);if(a&&(t=s),!!A.isString(t)){if(A.isString(n))return t.indexOf(n)!==-1;if(A.isRegExp(n))return n.test(t)}}function nT(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,n)=>s.toUpperCase()+n)}function rT(e,t){const s=A.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+s,{value:function(a,o,i){return this[n].call(this,t,a,o,i)},configurable:!0})})}let ot=class{constructor(t){t&&this.set(t)}set(t,s,n){const a=this;function o(l,u,c){const d=la(u);if(!d)throw new Error("header name must be a non-empty string");const f=A.findKey(a,d);(!f||a[f]===void 0||c===!0||c===void 0&&a[f]!==!1)&&(a[f||u]=bi(l))}const i=(l,u)=>A.forEach(l,(c,d)=>o(c,d,u));if(A.isPlainObject(t)||t instanceof this.constructor)i(t,s);else if(A.isString(t)&&(t=t.trim())&&!sT(t))i(eT(t),s);else if(A.isObject(t)&&A.isIterable(t)){let l={},u,c;for(const d of t){if(!A.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[c=d[0]]=(u=l[c])?A.isArray(u)?[...u,d[1]]:[u,d[1]]:d[1]}i(l,s)}else t!=null&&o(s,t,n);return this}get(t,s){if(t=la(t),t){const n=A.findKey(this,t);if(n){const a=this[n];if(!s)return a;if(s===!0)return tT(a);if(A.isFunction(s))return s.call(this,a,n);if(A.isRegExp(s))return s.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=la(t),t){const n=A.findKey(this,t);return!!(n&&this[n]!==void 0&&(!s||Wc(this,this[n],n,s)))}return!1}delete(t,s){const n=this;let a=!1;function o(i){if(i=la(i),i){const l=A.findKey(n,i);l&&(!s||Wc(n,n[l],l,s))&&(delete n[l],a=!0)}}return A.isArray(t)?t.forEach(o):o(t),a}clear(t){const s=Object.keys(this);let n=s.length,a=!1;for(;n--;){const o=s[n];(!t||Wc(this,this[o],o,t,!0))&&(delete this[o],a=!0)}return a}normalize(t){const s=this,n={};return A.forEach(this,(a,o)=>{const i=A.findKey(n,o);if(i){s[i]=bi(a),delete s[o];return}const l=t?nT(o):String(o).trim();l!==o&&delete s[o],s[l]=bi(a),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return A.forEach(this,(n,a)=>{n!=null&&n!==!1&&(s[a]=t&&A.isArray(n)?n.join(", "):n)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const n=new this(t);return s.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[Uh]=this[Uh]={accessors:{}}).accessors,a=this.prototype;function o(i){const l=la(i);n[l]||(rT(a,i),n[l]=!0)}return A.isArray(t)?t.forEach(o):o(t),this}};ot.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);A.reduceDescriptors(ot.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[s]=n}}});A.freezeMethods(ot);function Hc(e,t){const s=this||bo,n=t||s,a=ot.from(n.headers);let o=n.data;return A.forEach(e,function(l){o=l.call(s,o,a.normalize(),t?t.status:void 0)}),a.normalize(),o}function db(e){return!!(e&&e.__CANCEL__)}function Kr(e,t,s){X.call(this,e??"canceled",X.ERR_CANCELED,t,s),this.name="CanceledError"}A.inherits(Kr,X,{__CANCEL__:!0});function fb(e,t,s){const n=s.config.validateStatus;!s.status||!n||n(s.status)?e(s):t(new X("Request failed with status code "+s.status,[X.ERR_BAD_REQUEST,X.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function aT(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function oT(e,t){e=e||10;const s=new Array(e),n=new Array(e);let a=0,o=0,i;return t=t!==void 0?t:1e3,function(u){const c=Date.now(),d=n[o];i||(i=c),s[a]=u,n[a]=c;let f=o,h=0;for(;f!==a;)h+=s[f++],f=f%e;if(a=(a+1)%e,a===o&&(o=(o+1)%e),c-i<t)return;const y=d&&c-d;return y?Math.round(h*1e3/y):void 0}}function iT(e,t){let s=0,n=1e3/t,a,o;const i=(c,d=Date.now())=>{s=d,a=null,o&&(clearTimeout(o),o=null),e(...c)};return[(...c)=>{const d=Date.now(),f=d-s;f>=n?i(c,d):(a=c,o||(o=setTimeout(()=>{o=null,i(a)},n-f)))},()=>a&&i(a)]}const sl=(e,t,s=3)=>{let n=0;const a=oT(50,250);return iT(o=>{const i=o.loaded,l=o.lengthComputable?o.total:void 0,u=i-n,c=a(u),d=i<=l;n=i;const f={loaded:i,total:l,progress:l?i/l:void 0,bytes:u,rate:c||void 0,estimated:c&&l&&d?(l-i)/c:void 0,event:o,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},s)},zh=(e,t)=>{const s=e!=null;return[n=>t[0]({lengthComputable:s,total:e,loaded:n}),t[1]]},Wh=e=>(...t)=>A.asap(()=>e(...t)),lT=We.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,We.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(We.origin),We.navigator&&/(msie|trident)/i.test(We.navigator.userAgent)):()=>!0,cT=We.hasStandardBrowserEnv?{write(e,t,s,n,a,o,i){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];A.isNumber(s)&&l.push(`expires=${new Date(s).toUTCString()}`),A.isString(n)&&l.push(`path=${n}`),A.isString(a)&&l.push(`domain=${a}`),o===!0&&l.push("secure"),A.isString(i)&&l.push(`SameSite=${i}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function uT(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function dT(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function pb(e,t,s){let n=!uT(t);return e&&(n||s==!1)?dT(e,t):t}const Hh=e=>e instanceof ot?{...e}:e;function Ln(e,t){t=t||{};const s={};function n(c,d,f,h){return A.isPlainObject(c)&&A.isPlainObject(d)?A.merge.call({caseless:h},c,d):A.isPlainObject(d)?A.merge({},d):A.isArray(d)?d.slice():d}function a(c,d,f,h){if(A.isUndefined(d)){if(!A.isUndefined(c))return n(void 0,c,f,h)}else return n(c,d,f,h)}function o(c,d){if(!A.isUndefined(d))return n(void 0,d)}function i(c,d){if(A.isUndefined(d)){if(!A.isUndefined(c))return n(void 0,c)}else return n(void 0,d)}function l(c,d,f){if(f in t)return n(c,d);if(f in e)return n(void 0,c)}const u={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(c,d,f)=>a(Hh(c),Hh(d),f,!0)};return A.forEach(Object.keys({...e,...t}),function(d){const f=u[d]||a,h=f(e[d],t[d],d);A.isUndefined(h)&&f!==l||(s[d]=h)}),s}const mb=e=>{const t=Ln({},e);let{data:s,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:o,headers:i,auth:l}=t;if(t.headers=i=ot.from(i),t.url=lb(pb(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),A.isFormData(s)){if(We.hasStandardBrowserEnv||We.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(A.isFunction(s.getHeaders)){const u=s.getHeaders(),c=["content-type","content-length"];Object.entries(u).forEach(([d,f])=>{c.includes(d.toLowerCase())&&i.set(d,f)})}}if(We.hasStandardBrowserEnv&&(n&&A.isFunction(n)&&(n=n(t)),n||n!==!1&&lT(t.url))){const u=a&&o&&cT.read(o);u&&i.set(a,u)}return t},fT=typeof XMLHttpRequest<"u",pT=fT&&function(e){return new Promise(function(s,n){const a=mb(e);let o=a.data;const i=ot.from(a.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:c}=a,d,f,h,y,b;function g(){y&&y(),b&&b(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let x=new XMLHttpRequest;x.open(a.method.toUpperCase(),a.url,!0),x.timeout=a.timeout;function m(){if(!x)return;const w=ot.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),k={data:!l||l==="text"||l==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:w,config:e,request:x};fb(function(C){s(C),g()},function(C){n(C),g()},k),x=null}"onloadend"in x?x.onloadend=m:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(m)},x.onabort=function(){x&&(n(new X("Request aborted",X.ECONNABORTED,e,x)),x=null)},x.onerror=function(j){const k=j&&j.message?j.message:"Network Error",E=new X(k,X.ERR_NETWORK,e,x);E.event=j||null,n(E),x=null},x.ontimeout=function(){let j=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const k=a.transitional||cb;a.timeoutErrorMessage&&(j=a.timeoutErrorMessage),n(new X(j,k.clarifyTimeoutError?X.ETIMEDOUT:X.ECONNABORTED,e,x)),x=null},o===void 0&&i.setContentType(null),"setRequestHeader"in x&&A.forEach(i.toJSON(),function(j,k){x.setRequestHeader(k,j)}),A.isUndefined(a.withCredentials)||(x.withCredentials=!!a.withCredentials),l&&l!=="json"&&(x.responseType=a.responseType),c&&([h,b]=sl(c,!0),x.addEventListener("progress",h)),u&&x.upload&&([f,y]=sl(u),x.upload.addEventListener("progress",f),x.upload.addEventListener("loadend",y)),(a.cancelToken||a.signal)&&(d=w=>{x&&(n(!w||w.type?new Kr(null,e,x):w),x.abort(),x=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const p=aT(a.url);if(p&&We.protocols.indexOf(p)===-1){n(new X("Unsupported protocol "+p+":",X.ERR_BAD_REQUEST,e));return}x.send(o||null)})},mT=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let n=new AbortController,a;const o=function(c){if(!a){a=!0,l();const d=c instanceof Error?c:this.reason;n.abort(d instanceof X?d:new Kr(d instanceof Error?d.message:d))}};let i=t&&setTimeout(()=>{i=null,o(new X(`timeout ${t} of ms exceeded`,X.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener("abort",o)}),e=null)};e.forEach(c=>c.addEventListener("abort",o));const{signal:u}=n;return u.unsubscribe=()=>A.asap(l),u}},hT=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let n=0,a;for(;n<s;)a=n+t,yield e.slice(n,a),n=a},xT=async function*(e,t){for await(const s of gT(e))yield*hT(s,t)},gT=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:n}=await t.read();if(s)break;yield n}}finally{await t.cancel()}},qh=(e,t,s,n)=>{const a=xT(e,t);let o=0,i,l=u=>{i||(i=!0,n&&n(u))};return new ReadableStream({async pull(u){try{const{done:c,value:d}=await a.next();if(c){l(),u.close();return}let f=d.byteLength;if(s){let h=o+=f;s(h)}u.enqueue(new Uint8Array(d))}catch(c){throw l(c),c}},cancel(u){return l(u),a.return()}},{highWaterMark:2})},Kh=64*1024,{isFunction:Xo}=A,yT=(({Request:e,Response:t})=>({Request:e,Response:t}))(A.global),{ReadableStream:Gh,TextEncoder:Yh}=A.global,Xh=(e,...t)=>{try{return!!e(...t)}catch{return!1}},vT=e=>{e=A.merge.call({skipUndefined:!0},yT,e);const{fetch:t,Request:s,Response:n}=e,a=t?Xo(t):typeof fetch=="function",o=Xo(s),i=Xo(n);if(!a)return!1;const l=a&&Xo(Gh),u=a&&(typeof Yh=="function"?(b=>g=>b.encode(g))(new Yh):async b=>new Uint8Array(await new s(b).arrayBuffer())),c=o&&l&&Xh(()=>{let b=!1;const g=new s(We.origin,{body:new Gh,method:"POST",get duplex(){return b=!0,"half"}}).headers.has("Content-Type");return b&&!g}),d=i&&l&&Xh(()=>A.isReadableStream(new n("").body)),f={stream:d&&(b=>b.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(b=>{!f[b]&&(f[b]=(g,x)=>{let m=g&&g[b];if(m)return m.call(g);throw new X(`Response type '${b}' is not supported`,X.ERR_NOT_SUPPORT,x)})});const h=async b=>{if(b==null)return 0;if(A.isBlob(b))return b.size;if(A.isSpecCompliantForm(b))return(await new s(We.origin,{method:"POST",body:b}).arrayBuffer()).byteLength;if(A.isArrayBufferView(b)||A.isArrayBuffer(b))return b.byteLength;if(A.isURLSearchParams(b)&&(b=b+""),A.isString(b))return(await u(b)).byteLength},y=async(b,g)=>{const x=A.toFiniteNumber(b.getContentLength());return x??h(g)};return async b=>{let{url:g,method:x,data:m,signal:p,cancelToken:w,timeout:j,onDownloadProgress:k,onUploadProgress:E,responseType:C,headers:N,withCredentials:S="same-origin",fetchOptions:T}=mb(b),I=t||fetch;C=C?(C+"").toLowerCase():"text";let D=mT([p,w&&w.toAbortSignal()],j),O=null;const _=D&&D.unsubscribe&&(()=>{D.unsubscribe()});let F;try{if(E&&c&&x!=="get"&&x!=="head"&&(F=await y(N,m))!==0){let V=new s(g,{method:"POST",body:m,duplex:"half"}),K;if(A.isFormData(m)&&(K=V.headers.get("content-type"))&&N.setContentType(K),V.body){const[ae,oe]=zh(F,sl(Wh(E)));m=qh(V.body,Kh,ae,oe)}}A.isString(S)||(S=S?"include":"omit");const $=o&&"credentials"in s.prototype,q={...T,signal:D,method:x.toUpperCase(),headers:N.normalize().toJSON(),body:m,duplex:"half",credentials:$?S:void 0};O=o&&new s(g,q);let R=await(o?I(O,T):I(g,q));const M=d&&(C==="stream"||C==="response");if(d&&(k||M&&_)){const V={};["status","statusText","headers"].forEach(Je=>{V[Je]=R[Je]});const K=A.toFiniteNumber(R.headers.get("content-length")),[ae,oe]=k&&zh(K,sl(Wh(k),!0))||[];R=new n(qh(R.body,Kh,ae,()=>{oe&&oe(),_&&_()}),V)}C=C||"text";let L=await f[A.findKey(f,C)||"text"](R,b);return!M&&_&&_(),await new Promise((V,K)=>{fb(V,K,{data:L,headers:ot.from(R.headers),status:R.status,statusText:R.statusText,config:b,request:O})})}catch($){throw _&&_(),$&&$.name==="TypeError"&&/Load failed|fetch/i.test($.message)?Object.assign(new X("Network Error",X.ERR_NETWORK,b,O),{cause:$.cause||$}):X.from($,$&&$.code,b,O)}}},bT=new Map,hb=e=>{let t=e&&e.env||{};const{fetch:s,Request:n,Response:a}=t,o=[n,a,s];let i=o.length,l=i,u,c,d=bT;for(;l--;)u=o[l],c=d.get(u),c===void 0&&d.set(u,c=l?new Map:vT(t)),d=c;return c};hb();const hp={http:IP,xhr:pT,fetch:{get:hb}};A.forEach(hp,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Qh=e=>`- ${e}`,wT=e=>A.isFunction(e)||e===null||e===!1;function jT(e,t){e=A.isArray(e)?e:[e];const{length:s}=e;let n,a;const o={};for(let i=0;i<s;i++){n=e[i];let l;if(a=n,!wT(n)&&(a=hp[(l=String(n)).toLowerCase()],a===void 0))throw new X(`Unknown adapter '${l}'`);if(a&&(A.isFunction(a)||(a=a.get(t))))break;o[l||"#"+i]=a}if(!a){const i=Object.entries(o).map(([u,c])=>`adapter ${u} `+(c===!1?"is not supported by the environment":"is not available in the build"));let l=s?i.length>1?`since :
`+i.map(Qh).join(`
`):" "+Qh(i[0]):"as no adapter specified";throw new X("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const xb={getAdapter:jT,adapters:hp};function qc(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Kr(null,e)}function Zh(e){return qc(e),e.headers=ot.from(e.headers),e.data=Hc.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),xb.getAdapter(e.adapter||bo.adapter,e)(e).then(function(n){return qc(e),n.data=Hc.call(e,e.transformResponse,n),n.headers=ot.from(n.headers),n},function(n){return db(n)||(qc(e),n&&n.response&&(n.response.data=Hc.call(e,e.transformResponse,n.response),n.response.headers=ot.from(n.response.headers))),Promise.reject(n)})}const gb="1.13.2",Yl={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Yl[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Jh={};Yl.transitional=function(t,s,n){function a(o,i){return"[Axios v"+gb+"] Transitional option '"+o+"'"+i+(n?". "+n:"")}return(o,i,l)=>{if(t===!1)throw new X(a(i," has been removed"+(s?" in "+s:"")),X.ERR_DEPRECATED);return s&&!Jh[i]&&(Jh[i]=!0,console.warn(a(i," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(o,i,l):!0}};Yl.spelling=function(t){return(s,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function NT(e,t,s){if(typeof e!="object")throw new X("options must be an object",X.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const o=n[a],i=t[o];if(i){const l=e[o],u=l===void 0||i(l,o,e);if(u!==!0)throw new X("option "+o+" must be "+u,X.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new X("Unknown option "+o,X.ERR_BAD_OPTION)}}const wi={assertOptions:NT,validators:Yl},zt=wi.validators;let wn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Bh,response:new Bh}}async request(t,s){try{return await this._request(t,s)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const o=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=Ln(this.defaults,s);const{transitional:n,paramsSerializer:a,headers:o}=s;n!==void 0&&wi.assertOptions(n,{silentJSONParsing:zt.transitional(zt.boolean),forcedJSONParsing:zt.transitional(zt.boolean),clarifyTimeoutError:zt.transitional(zt.boolean)},!1),a!=null&&(A.isFunction(a)?s.paramsSerializer={serialize:a}:wi.assertOptions(a,{encode:zt.function,serialize:zt.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),wi.assertOptions(s,{baseUrl:zt.spelling("baseURL"),withXsrfToken:zt.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let i=o&&A.merge(o.common,o[s.method]);o&&A.forEach(["delete","get","head","post","put","patch","common"],b=>{delete o[b]}),s.headers=ot.concat(i,o);const l=[];let u=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(s)===!1||(u=u&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let d,f=0,h;if(!u){const b=[Zh.bind(this),void 0];for(b.unshift(...l),b.push(...c),h=b.length,d=Promise.resolve(s);f<h;)d=d.then(b[f++],b[f++]);return d}h=l.length;let y=s;for(;f<h;){const b=l[f++],g=l[f++];try{y=b(y)}catch(x){g.call(this,x);break}}try{d=Zh.call(this,y)}catch(b){return Promise.reject(b)}for(f=0,h=c.length;f<h;)d=d.then(c[f++],c[f++]);return d}getUri(t){t=Ln(this.defaults,t);const s=pb(t.baseURL,t.url,t.allowAbsoluteUrls);return lb(s,t.params,t.paramsSerializer)}};A.forEach(["delete","get","head","options"],function(t){wn.prototype[t]=function(s,n){return this.request(Ln(n||{},{method:t,url:s,data:(n||{}).data}))}});A.forEach(["post","put","patch"],function(t){function s(n){return function(o,i,l){return this.request(Ln(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}wn.prototype[t]=s(),wn.prototype[t+"Form"]=s(!0)});let kT=class yb{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(o){s=o});const n=this;this.promise.then(a=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](a);n._listeners=null}),this.promise.then=a=>{let o;const i=new Promise(l=>{n.subscribe(l),o=l}).then(a);return i.cancel=function(){n.unsubscribe(o)},i},t(function(o,i,l){n.reason||(n.reason=new Kr(o,i,l),s(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=n=>{t.abort(n)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new yb(function(a){t=a}),cancel:t}}};function ST(e){return function(s){return e.apply(null,s)}}function CT(e){return A.isObject(e)&&e.isAxiosError===!0}const Sd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Sd).forEach(([e,t])=>{Sd[t]=e});function vb(e){const t=new wn(e),s=Xv(wn.prototype.request,t);return A.extend(s,wn.prototype,t,{allOwnKeys:!0}),A.extend(s,t,null,{allOwnKeys:!0}),s.create=function(a){return vb(Ln(e,a))},s}const be=vb(bo);be.Axios=wn;be.CanceledError=Kr;be.CancelToken=kT;be.isCancel=db;be.VERSION=gb;be.toFormData=Gl;be.AxiosError=X;be.Cancel=be.CanceledError;be.all=function(t){return Promise.all(t)};be.spread=ST;be.isAxiosError=CT;be.mergeConfig=Ln;be.AxiosHeaders=ot;be.formToJSON=e=>ub(A.isHTMLForm(e)?new FormData(e):e);be.getAdapter=xb.getAdapter;be.HttpStatusCode=Sd;be.default=be;const{Axios:Z7,AxiosError:J7,CanceledError:eV,isCancel:tV,CancelToken:sV,VERSION:nV,all:rV,Cancel:aV,isAxiosError:oV,spread:iV,toFormData:lV,AxiosHeaders:cV,HttpStatusCode:uV,formToJSON:dV,getAdapter:fV,mergeConfig:pV}=be,xp="aura-access-token",gp="aura-refresh-token",yp="aura-user",bb=()=>localStorage.getItem(xp),wb=()=>localStorage.getItem(gp),vp=(e,t)=>{localStorage.setItem(xp,e),localStorage.setItem(gp,t)},bp=()=>{localStorage.removeItem(xp),localStorage.removeItem(gp)},Cd=e=>{localStorage.setItem(yp,JSON.stringify(e))},Ed=()=>{const e=localStorage.getItem(yp);if(!e)return null;try{return JSON.parse(e)}catch{return null}},wp=()=>{localStorage.removeItem(yp)},ET="/api".trim(),jb=ET;let Pd=null;const PT=e=>{Pd=e},Td=()=>{bp(),wp(),Pd?Pd():window.location.replace("/login")},ji=e=>({tokens:{accessToken:e.access_token,refreshToken:e.refresh_token},user:e.user}),Nb=async e=>(await be.post(`${jb}/auth/refresh`,{refresh_token:e},{headers:{"Content-Type":"application/json"},timeout:1e4})).data,TT=(e,t)=>{if(vp(e.accessToken,e.refreshToken),t)Cd(t);else{const s=Ed();s&&Cd(s)}},H=be.create({baseURL:jb,headers:{"Content-Type":"application/json"},timeout:1e4});H.interceptors.request.use(e=>{const t=bb();return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e});let Qo=!1,Ad=[];const ex=e=>{Ad.forEach(t=>t(e)),Ad=[]};H.interceptors.response.use(e=>e,async e=>{var a,o,i;const t=e.config??{};if(((a=e==null?void 0:e.response)==null?void 0:a.status)===401&&!t._retry){if(t._retry=!0,Qo)return new Promise(u=>{Ad.push(c=>{c&&t.headers&&(t.headers.Authorization=`Bearer ${c}`),u(H(t))})});Qo=!0;const l=wb();if(!l)return Td(),Promise.reject(e);try{const u=await Nb(l),{tokens:c}=ji(u);return vp(c.accessToken,c.refreshToken),Qo=!1,ex(c.accessToken),t.headers&&(t.headers.Authorization=`Bearer ${c.accessToken}`),H(t)}catch(u){return Qo=!1,ex(null),bp(),wp(),Td(),Promise.reject(u)}}const n=((i=(o=e==null?void 0:e.response)==null?void 0:o.data)==null?void 0:i.message)??(e==null?void 0:e.message)??"Unknown error";return Promise.reject(new Error(n))});const kb=v.createContext(void 0),AT=({children:e})=>{const t=$n(),{toast:s}=nn(),[n,a]=v.useState(null),[o,i]=v.useState(null),[l,u]=v.useState(!1),c=v.useCallback((g,x)=>{vp(g.accessToken,g.refreshToken),x&&(Cd(x),a(x)),i(g.accessToken),u(!0)},[]),d=v.useCallback(()=>{bp(),wp(),a(null),i(null),u(!1),t("/login",{replace:!0})},[t]);v.useEffect(()=>{PT(d)},[d]);const f=v.useCallback(async()=>{const g=wb();if(!g)return;const x=Ed();try{const m=await Nb(g),{tokens:p,user:w}=ji(m);TT(p,w??x??void 0),c(p,w??x??void 0)}catch{d(),s({variant:"destructive",title:"Session expired",description:"Please sign in again."})}},[d,c,s]);v.useEffect(()=>{(async()=>{const x=bb(),m=Ed();x&&m&&(i(x),a(m),u(!0)),await f()})()},[f]);const h=v.useCallback(async(g,x)=>{const m=await H.post("/auth/login",{email:g,password:x}),{tokens:p,user:w}=ji(m.data);return c(p,w),s({title:"Login Successful",description:"Welcome back!"}),t("/app/dashboard",{replace:!0}),w},[t,c,s]),y=v.useCallback(async(g,x)=>{const m=await H.post("/auth/register",{email:g,password:x}),{tokens:p,user:w}=ji(m.data);return c(p,w),s({title:"Registration Successful",description:"Your account has been created."}),t("/app/dashboard",{replace:!0}),w},[t,c,s]),b=v.useCallback(()=>{Td()},[]);return r.jsx(kb.Provider,{value:{user:n,accessToken:o,isAuthenticated:l,login:h,register:y,logout:b},children:e})},rn=()=>{const e=v.useContext(kb);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e};function RT(){const[e,t]=v.useState([{id:"1",type:"dsr_deadline",title:"DSR deadline approaching",description:"A data subject request is due in 2 days.",createdAt:"2025-05-14T10:00:00Z",read:!1,severity:"warning",link:"/app/dsr"},{id:"2",type:"ai_recommendation",title:"AI audit suggestion",description:"One policy has not been reviewed in 18 months.",createdAt:"2025-05-13T15:30:00Z",read:!1,severity:"info"},{id:"3",type:"policy_expiring",title:"Policy expiring soon",description:"Cookie Policy must be reviewed by May 30.",createdAt:"2025-05-12T09:00:00Z",read:!0,severity:"warning",link:"/app/policies"}]);return{notifications:e,setNotifications:t,isLoading:!1,isError:!1}}const Sb=P.createContext(void 0),DT=({children:e})=>{const{notifications:t,setNotifications:s,isLoading:n,isError:a}=RT(),o=P.useCallback(u=>{s(c=>c.map(d=>d.id===u?{...d,read:!0}:d))},[s]),i=P.useCallback(()=>{s(u=>u.map(c=>({...c,read:!0})))},[s]),l=P.useMemo(()=>({notifications:t,unreadCount:t.filter(u=>!u.read).length,markAsRead:o,markAllAsRead:i,isLoading:n,isError:a}),[t,i,o,a,n]);return r.jsx(Sb.Provider,{value:l,children:e})},MT=ap("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),U=P.forwardRef(({className:e,variant:t,size:s,asChild:n=!1,...a},o)=>{const i=n?vC:"button";return r.jsx(i,{className:Z(MT({variant:t,size:s,className:e})),ref:o,...a})});U.displayName="Button";const dt=P.forwardRef(({className:e,type:t,...s},n)=>r.jsx("input",{type:t,className:Z("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...s}));dt.displayName="Input";var _T="Label",Cb=v.forwardRef((e,t)=>r.jsx(le.label,{...e,ref:t,onMouseDown:s=>{var a;s.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));Cb.displayName=_T;var Eb=Cb;const LT=ap("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Mt=P.forwardRef(({className:e,...t},s)=>r.jsx(Eb,{ref:s,className:Z(LT(),e),...t}));Mt.displayName=Eb.displayName;const ne=P.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:Z("rounded-xl border bg-card text-card-foreground shadow-sm",e),...t}));ne.displayName="Card";const Le=P.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:Z("flex flex-col space-y-1.5 p-6",e),...t}));Le.displayName="CardHeader";const Oe=P.forwardRef(({className:e,...t},s)=>r.jsx("h3",{ref:s,className:Z("text-2xl font-semibold leading-none tracking-tight",e),...t}));Oe.displayName="CardTitle";const Xt=P.forwardRef(({className:e,...t},s)=>r.jsx("p",{ref:s,className:Z("text-sm text-muted-foreground",e),...t}));Xt.displayName="CardDescription";const re=P.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:Z("p-6 pt-0",e),...t}));re.displayName="CardContent";const jp=P.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:Z("flex items-center p-6 pt-0",e),...t}));jp.displayName="CardFooter";const Pb=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Xl=v.createContext({}),Np=v.createContext(null),Ql=typeof document<"u",OT=Ql?v.useLayoutEffect:v.useEffect,Tb=v.createContext({strict:!1}),kp=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),IT="framerAppearId",Ab="data-"+kp(IT);function FT(e,t,s,n){const{visualElement:a}=v.useContext(Xl),o=v.useContext(Tb),i=v.useContext(Np),l=v.useContext(Pb).reducedMotion,u=v.useRef();n=n||o.renderer,!u.current&&n&&(u.current=n(e,{visualState:t,parent:a,props:s,presenceContext:i,blockInitialAnimation:i?i.initial===!1:!1,reducedMotionConfig:l}));const c=u.current;v.useInsertionEffect(()=>{c&&c.update(s,i)});const d=v.useRef(!!(s[Ab]&&!window.HandoffComplete));return OT(()=>{c&&(c.render(),d.current&&c.animationState&&c.animationState.animateChanges())}),v.useEffect(()=>{c&&(c.updateFeatures(),!d.current&&c.animationState&&c.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),c}function cr(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function VT(e,t,s){return v.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),s&&(typeof s=="function"?s(n):cr(s)&&(s.current=n))},[t])}function eo(e){return typeof e=="string"||Array.isArray(e)}function Zl(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Sp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Cp=["initial",...Sp];function Jl(e){return Zl(e.animate)||Cp.some(t=>eo(e[t]))}function Rb(e){return!!(Jl(e)||e.variants)}function $T(e,t){if(Jl(e)){const{initial:s,animate:n}=e;return{initial:s===!1||eo(s)?s:void 0,animate:eo(n)?n:void 0}}return e.inherit!==!1?t:{}}function BT(e){const{initial:t,animate:s}=$T(e,v.useContext(Xl));return v.useMemo(()=>({initial:t,animate:s}),[tx(t),tx(s)])}function tx(e){return Array.isArray(e)?e.join(" "):e}const sx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},to={};for(const e in sx)to[e]={isEnabled:t=>sx[e].some(s=>!!t[s])};function UT(e){for(const t in e)to[t]={...to[t],...e[t]}}const Db=v.createContext({}),Mb=v.createContext({}),zT=Symbol.for("motionComponentSymbol");function WT({preloadedFeatures:e,createVisualElement:t,useRender:s,useVisualState:n,Component:a}){e&&UT(e);function o(l,u){let c;const d={...v.useContext(Pb),...l,layoutId:HT(l)},{isStatic:f}=d,h=BT(l),y=n(l,f);if(!f&&Ql){h.visualElement=FT(a,y,d,t);const b=v.useContext(Mb),g=v.useContext(Tb).strict;h.visualElement&&(c=h.visualElement.loadFeatures(d,g,e,b))}return v.createElement(Xl.Provider,{value:h},c&&h.visualElement?v.createElement(c,{visualElement:h.visualElement,...d}):null,s(a,l,VT(y,h.visualElement,u),y,f,h.visualElement))}const i=v.forwardRef(o);return i[zT]=a,i}function HT({layoutId:e}){const t=v.useContext(Db).id;return t&&e!==void 0?t+"-"+e:e}function qT(e){function t(n,a={}){return WT(e(n,a))}if(typeof Proxy>"u")return t;const s=new Map;return new Proxy(t,{get:(n,a)=>(s.has(a)||s.set(a,t(a)),s.get(a))})}const KT=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ep(e){return typeof e!="string"||e.includes("-")?!1:!!(KT.indexOf(e)>-1||/[A-Z]/.test(e))}const nl={};function GT(e){Object.assign(nl,e)}const wo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Un=new Set(wo);function _b(e,{layout:t,layoutId:s}){return Un.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!nl[e]||e==="opacity")}const lt=e=>!!(e&&e.getVelocity),YT={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},XT=wo.length;function QT(e,{enableHardwareAcceleration:t=!0,allowTransformNone:s=!0},n,a){let o="";for(let i=0;i<XT;i++){const l=wo[i];if(e[l]!==void 0){const u=YT[l]||l;o+=`${u}(${e[l]}) `}}return t&&!e.z&&(o+="translateZ(0)"),o=o.trim(),a?o=a(e,n?"":o):s&&n&&(o="none"),o}const Lb=e=>t=>typeof t=="string"&&t.startsWith(e),Ob=Lb("--"),Rd=Lb("var(--"),ZT=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,JT=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Ys=(e,t,s)=>Math.min(Math.max(s,e),t),zn={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Pa={...zn,transform:e=>Ys(0,1,e)},Zo={...zn,default:1},Ta=e=>Math.round(e*1e5)/1e5,ec=/(-)?([\d]*\.?[\d])+/g,Ib=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,eA=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function jo(e){return typeof e=="string"}const No=e=>({test:t=>jo(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ss=No("deg"),Qt=No("%"),G=No("px"),tA=No("vh"),sA=No("vw"),nx={...Qt,parse:e=>Qt.parse(e)/100,transform:e=>Qt.transform(e*100)},rx={...zn,transform:Math.round},Fb={borderWidth:G,borderTopWidth:G,borderRightWidth:G,borderBottomWidth:G,borderLeftWidth:G,borderRadius:G,radius:G,borderTopLeftRadius:G,borderTopRightRadius:G,borderBottomRightRadius:G,borderBottomLeftRadius:G,width:G,maxWidth:G,height:G,maxHeight:G,size:G,top:G,right:G,bottom:G,left:G,padding:G,paddingTop:G,paddingRight:G,paddingBottom:G,paddingLeft:G,margin:G,marginTop:G,marginRight:G,marginBottom:G,marginLeft:G,rotate:Ss,rotateX:Ss,rotateY:Ss,rotateZ:Ss,scale:Zo,scaleX:Zo,scaleY:Zo,scaleZ:Zo,skew:Ss,skewX:Ss,skewY:Ss,distance:G,translateX:G,translateY:G,translateZ:G,x:G,y:G,z:G,perspective:G,transformPerspective:G,opacity:Pa,originX:nx,originY:nx,originZ:G,zIndex:rx,fillOpacity:Pa,strokeOpacity:Pa,numOctaves:rx};function Pp(e,t,s,n){const{style:a,vars:o,transform:i,transformOrigin:l}=e;let u=!1,c=!1,d=!0;for(const f in t){const h=t[f];if(Ob(f)){o[f]=h;continue}const y=Fb[f],b=JT(h,y);if(Un.has(f)){if(u=!0,i[f]=b,!d)continue;h!==(y.default||0)&&(d=!1)}else f.startsWith("origin")?(c=!0,l[f]=b):a[f]=b}if(t.transform||(u||n?a.transform=QT(e.transform,s,d,n):a.transform&&(a.transform="none")),c){const{originX:f="50%",originY:h="50%",originZ:y=0}=l;a.transformOrigin=`${f} ${h} ${y}`}}const Tp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Vb(e,t,s){for(const n in t)!lt(t[n])&&!_b(n,s)&&(e[n]=t[n])}function nA({transformTemplate:e},t,s){return v.useMemo(()=>{const n=Tp();return Pp(n,t,{enableHardwareAcceleration:!s},e),Object.assign({},n.vars,n.style)},[t])}function rA(e,t,s){const n=e.style||{},a={};return Vb(a,n,e),Object.assign(a,nA(e,t,s)),e.transformValues?e.transformValues(a):a}function aA(e,t,s){const n={},a=rA(e,t,s);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=a,n}const oA=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function rl(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||oA.has(e)}let $b=e=>!rl(e);function iA(e){e&&($b=t=>t.startsWith("on")?!rl(t):e(t))}try{iA(require("@emotion/is-prop-valid").default)}catch{}function lA(e,t,s){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||($b(a)||s===!0&&rl(a)||!t&&!rl(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}function ax(e,t,s){return typeof e=="string"?e:G.transform(t+s*e)}function cA(e,t,s){const n=ax(t,e.x,e.width),a=ax(s,e.y,e.height);return`${n} ${a}`}const uA={offset:"stroke-dashoffset",array:"stroke-dasharray"},dA={offset:"strokeDashoffset",array:"strokeDasharray"};function fA(e,t,s=1,n=0,a=!0){e.pathLength=1;const o=a?uA:dA;e[o.offset]=G.transform(-n);const i=G.transform(t),l=G.transform(s);e[o.array]=`${i} ${l}`}function Ap(e,{attrX:t,attrY:s,attrScale:n,originX:a,originY:o,pathLength:i,pathSpacing:l=1,pathOffset:u=0,...c},d,f,h){if(Pp(e,c,d,h),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:y,style:b,dimensions:g}=e;y.transform&&(g&&(b.transform=y.transform),delete y.transform),g&&(a!==void 0||o!==void 0||b.transform)&&(b.transformOrigin=cA(g,a!==void 0?a:.5,o!==void 0?o:.5)),t!==void 0&&(y.x=t),s!==void 0&&(y.y=s),n!==void 0&&(y.scale=n),i!==void 0&&fA(y,i,l,u,!1)}const Bb=()=>({...Tp(),attrs:{}}),Rp=e=>typeof e=="string"&&e.toLowerCase()==="svg";function pA(e,t,s,n){const a=v.useMemo(()=>{const o=Bb();return Ap(o,t,{enableHardwareAcceleration:!1},Rp(n),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};Vb(o,e.style,e),a.style={...o,...a.style}}return a}function mA(e=!1){return(s,n,a,{latestValues:o},i)=>{const u=(Ep(s)?pA:aA)(n,o,i,s),d={...lA(n,typeof s=="string",e),...u,ref:a},{children:f}=n,h=v.useMemo(()=>lt(f)?f.get():f,[f]);return v.createElement(s,{...d,children:h})}}function Ub(e,{style:t,vars:s},n,a){Object.assign(e.style,t,a&&a.getProjectionStyles(n));for(const o in s)e.style.setProperty(o,s[o])}const zb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Wb(e,t,s,n){Ub(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(zb.has(a)?a:kp(a),t.attrs[a])}function Dp(e,t){const{style:s}=e,n={};for(const a in s)(lt(s[a])||t.style&&lt(t.style[a])||_b(a,e))&&(n[a]=s[a]);return n}function Hb(e,t){const s=Dp(e,t);for(const n in e)if(lt(e[n])||lt(t[n])){const a=wo.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;s[a]=e[n]}return s}function Mp(e,t,s,n={},a={}){return typeof t=="function"&&(t=t(s!==void 0?s:e.custom,n,a)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(s!==void 0?s:e.custom,n,a)),t}function hA(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const al=e=>Array.isArray(e),xA=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),gA=e=>al(e)?e[e.length-1]||0:e;function Ni(e){const t=lt(e)?e.get():e;return xA(t)?t.toValue():t}function yA({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:s},n,a,o){const i={latestValues:vA(n,a,o,e),renderState:t()};return s&&(i.mount=l=>s(n,l,i)),i}const qb=e=>(t,s)=>{const n=v.useContext(Xl),a=v.useContext(Np),o=()=>yA(e,t,n,a);return s?o():hA(o)};function vA(e,t,s,n){const a={},o=n(e,{});for(const h in o)a[h]=Ni(o[h]);let{initial:i,animate:l}=e;const u=Jl(e),c=Rb(e);t&&c&&!u&&e.inherit!==!1&&(i===void 0&&(i=t.initial),l===void 0&&(l=t.animate));let d=s?s.initial===!1:!1;d=d||i===!1;const f=d?l:i;return f&&typeof f!="boolean"&&!Zl(f)&&(Array.isArray(f)?f:[f]).forEach(y=>{const b=Mp(e,y);if(!b)return;const{transitionEnd:g,transition:x,...m}=b;for(const p in m){let w=m[p];if(Array.isArray(w)){const j=d?w.length-1:0;w=w[j]}w!==null&&(a[p]=w)}for(const p in g)a[p]=g[p]}),a}const Ne=e=>e;class ox{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const s=this.order.indexOf(t);s!==-1&&(this.order.splice(s,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function bA(e){let t=new ox,s=new ox,n=0,a=!1,o=!1;const i=new WeakSet,l={schedule:(u,c=!1,d=!1)=>{const f=d&&a,h=f?t:s;return c&&i.add(u),h.add(u)&&f&&a&&(n=t.order.length),u},cancel:u=>{s.remove(u),i.delete(u)},process:u=>{if(a){o=!0;return}if(a=!0,[t,s]=[s,t],s.clear(),n=t.order.length,n)for(let c=0;c<n;c++){const d=t.order[c];d(u),i.has(d)&&(l.schedule(d),e())}a=!1,o&&(o=!1,l.process(u))}};return l}const Jo=["prepare","read","update","preRender","render","postRender"],wA=40;function jA(e,t){let s=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=Jo.reduce((f,h)=>(f[h]=bA(()=>s=!0),f),{}),i=f=>o[f].process(a),l=()=>{const f=performance.now();s=!1,a.delta=n?1e3/60:Math.max(Math.min(f-a.timestamp,wA),1),a.timestamp=f,a.isProcessing=!0,Jo.forEach(i),a.isProcessing=!1,s&&t&&(n=!1,e(l))},u=()=>{s=!0,n=!0,a.isProcessing||e(l)};return{schedule:Jo.reduce((f,h)=>{const y=o[h];return f[h]=(b,g=!1,x=!1)=>(s||u(),y.schedule(b,g,x)),f},{}),cancel:f=>Jo.forEach(h=>o[h].cancel(f)),state:a,steps:o}}const{schedule:fe,cancel:gs,state:Ue,steps:Kc}=jA(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ne,!0),NA={useVisualState:qb({scrapeMotionValuesFromProps:Hb,createRenderState:Bb,onMount:(e,t,{renderState:s,latestValues:n})=>{fe.read(()=>{try{s.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{s.dimensions={x:0,y:0,width:0,height:0}}}),fe.render(()=>{Ap(s,n,{enableHardwareAcceleration:!1},Rp(t.tagName),e.transformTemplate),Wb(t,s)})}})},kA={useVisualState:qb({scrapeMotionValuesFromProps:Dp,createRenderState:Tp})};function SA(e,{forwardMotionProps:t=!1},s,n){return{...Ep(e)?NA:kA,preloadedFeatures:s,useRender:mA(t),createVisualElement:n,Component:e}}function is(e,t,s,n={passive:!0}){return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s)}const Kb=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function tc(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const CA=e=>t=>Kb(t)&&e(t,tc(t));function us(e,t,s,n){return is(e,t,CA(s),n)}const EA=(e,t)=>s=>t(e(s)),Hs=(...e)=>e.reduce(EA);function Gb(e){let t=null;return()=>{const s=()=>{t=null};return t===null?(t=e,s):!1}}const ix=Gb("dragHorizontal"),lx=Gb("dragVertical");function Yb(e){let t=!1;if(e==="y")t=lx();else if(e==="x")t=ix();else{const s=ix(),n=lx();s&&n?t=()=>{s(),n()}:(s&&s(),n&&n())}return t}function Xb(){const e=Yb(!0);return e?(e(),!1):!0}class an{constructor(t){this.isMounted=!1,this.node=t}update(){}}function cx(e,t){const s="pointer"+(t?"enter":"leave"),n="onHover"+(t?"Start":"End"),a=(o,i)=>{if(o.pointerType==="touch"||Xb())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[n]&&fe.update(()=>l[n](o,i))};return us(e.current,s,a,{passive:!e.getProps()[n]})}class PA extends an{mount(){this.unmount=Hs(cx(this.node,!0),cx(this.node,!1))}unmount(){}}class TA extends an{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Hs(is(this.node.current,"focus",()=>this.onFocus()),is(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Qb=(e,t)=>t?e===t?!0:Qb(e,t.parentElement):!1;function Gc(e,t){if(!t)return;const s=new PointerEvent("pointer"+e);t(s,tc(s))}class AA extends an{constructor(){super(...arguments),this.removeStartListeners=Ne,this.removeEndListeners=Ne,this.removeAccessibleListeners=Ne,this.startPointerPress=(t,s)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),o=us(window,"pointerup",(l,u)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:f}=this.node.getProps();fe.update(()=>{!f&&!Qb(this.node.current,l.target)?d&&d(l,u):c&&c(l,u)})},{passive:!(n.onTap||n.onPointerUp)}),i=us(window,"pointercancel",(l,u)=>this.cancelPress(l,u),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Hs(o,i),this.startPress(t,s)},this.startAccessiblePress=()=>{const t=o=>{if(o.key!=="Enter"||this.isPressing)return;const i=l=>{l.key!=="Enter"||!this.checkPressEnd()||Gc("up",(u,c)=>{const{onTap:d}=this.node.getProps();d&&fe.update(()=>d(u,c))})};this.removeEndListeners(),this.removeEndListeners=is(this.node.current,"keyup",i),Gc("down",(l,u)=>{this.startPress(l,u)})},s=is(this.node.current,"keydown",t),n=()=>{this.isPressing&&Gc("cancel",(o,i)=>this.cancelPress(o,i))},a=is(this.node.current,"blur",n);this.removeAccessibleListeners=Hs(s,a)}}startPress(t,s){this.isPressing=!0;const{onTapStart:n,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&fe.update(()=>n(t,s))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Xb()}cancelPress(t,s){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&fe.update(()=>n(t,s))}mount(){const t=this.node.getProps(),s=us(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=is(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Hs(s,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Dd=new WeakMap,Yc=new WeakMap,RA=e=>{const t=Dd.get(e.target);t&&t(e)},DA=e=>{e.forEach(RA)};function MA({root:e,...t}){const s=e||document;Yc.has(s)||Yc.set(s,{});const n=Yc.get(s),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(DA,{root:e,...t})),n[a]}function _A(e,t,s){const n=MA(t);return Dd.set(e,s),n.observe(e),()=>{Dd.delete(e),n.unobserve(e)}}const LA={some:0,all:1};class OA extends an{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:n,amount:a="some",once:o}=t,i={root:s?s.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:LA[a]},l=u=>{const{isIntersecting:c}=u;if(this.isInView===c||(this.isInView=c,o&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=c?d:f;h&&h(u)};return _A(this.node.current,i,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(IA(t,s))&&this.startObserver()}unmount(){}}function IA({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const FA={inView:{Feature:OA},tap:{Feature:AA},focus:{Feature:TA},hover:{Feature:PA}};function Zb(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let n=0;n<s;n++)if(t[n]!==e[n])return!1;return!0}function VA(e){const t={};return e.values.forEach((s,n)=>t[n]=s.get()),t}function $A(e){const t={};return e.values.forEach((s,n)=>t[n]=s.getVelocity()),t}function sc(e,t,s){const n=e.getProps();return Mp(n,t,s!==void 0?s:n.custom,VA(e),$A(e))}let _p=Ne;const jn=e=>e*1e3,ds=e=>e/1e3,BA={current:!1},Jb=e=>Array.isArray(e)&&typeof e[0]=="number";function ew(e){return!!(!e||typeof e=="string"&&tw[e]||Jb(e)||Array.isArray(e)&&e.every(ew))}const xa=([e,t,s,n])=>`cubic-bezier(${e}, ${t}, ${s}, ${n})`,tw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:xa([0,.65,.55,1]),circOut:xa([.55,0,1,.45]),backIn:xa([.31,.01,.66,-.59]),backOut:xa([.33,1.53,.69,.99])};function sw(e){if(e)return Jb(e)?xa(e):Array.isArray(e)?e.map(sw):tw[e]}function UA(e,t,s,{delay:n=0,duration:a,repeat:o=0,repeatType:i="loop",ease:l,times:u}={}){const c={[t]:s};u&&(c.offset=u);const d=sw(l);return Array.isArray(d)&&(c.easing=d),e.animate(c,{delay:n,duration:a,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:o+1,direction:i==="reverse"?"alternate":"normal"})}function zA(e,{repeat:t,repeatType:s="loop"}){const n=t&&s!=="loop"&&t%2===1?0:e.length-1;return e[n]}const nw=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,WA=1e-7,HA=12;function qA(e,t,s,n,a){let o,i,l=0;do i=t+(s-t)/2,o=nw(i,n,a)-e,o>0?s=i:t=i;while(Math.abs(o)>WA&&++l<HA);return i}function ko(e,t,s,n){if(e===t&&s===n)return Ne;const a=o=>qA(o,0,1,e,s);return o=>o===0||o===1?o:nw(a(o),t,n)}const KA=ko(.42,0,1,1),GA=ko(0,0,.58,1),rw=ko(.42,0,.58,1),YA=e=>Array.isArray(e)&&typeof e[0]!="number",aw=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ow=e=>t=>1-e(1-t),Lp=e=>1-Math.sin(Math.acos(e)),iw=ow(Lp),XA=aw(Lp),lw=ko(.33,1.53,.69,.99),Op=ow(lw),QA=aw(Op),ZA=e=>(e*=2)<1?.5*Op(e):.5*(2-Math.pow(2,-10*(e-1))),JA={linear:Ne,easeIn:KA,easeInOut:rw,easeOut:GA,circIn:Lp,circInOut:XA,circOut:iw,backIn:Op,backInOut:QA,backOut:lw,anticipate:ZA},ux=e=>{if(Array.isArray(e)){_p(e.length===4);const[t,s,n,a]=e;return ko(t,s,n,a)}else if(typeof e=="string")return JA[e];return e},Ip=(e,t)=>s=>!!(jo(s)&&eA.test(s)&&s.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(s,t)),cw=(e,t,s)=>n=>{if(!jo(n))return n;const[a,o,i,l]=n.match(ec);return{[e]:parseFloat(a),[t]:parseFloat(o),[s]:parseFloat(i),alpha:l!==void 0?parseFloat(l):1}},eR=e=>Ys(0,255,e),Xc={...zn,transform:e=>Math.round(eR(e))},yn={test:Ip("rgb","red"),parse:cw("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:n=1})=>"rgba("+Xc.transform(e)+", "+Xc.transform(t)+", "+Xc.transform(s)+", "+Ta(Pa.transform(n))+")"};function tR(e){let t="",s="",n="",a="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,s+=s,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const Md={test:Ip("#"),parse:tR,transform:yn.transform},ur={test:Ip("hsl","hue"),parse:cw("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:n=1})=>"hsla("+Math.round(e)+", "+Qt.transform(Ta(t))+", "+Qt.transform(Ta(s))+", "+Ta(Pa.transform(n))+")"},Ke={test:e=>yn.test(e)||Md.test(e)||ur.test(e),parse:e=>yn.test(e)?yn.parse(e):ur.test(e)?ur.parse(e):Md.parse(e),transform:e=>jo(e)?e:e.hasOwnProperty("red")?yn.transform(e):ur.transform(e)},he=(e,t,s)=>-s*e+s*t+e;function Qc(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function sR({hue:e,saturation:t,lightness:s,alpha:n}){e/=360,t/=100,s/=100;let a=0,o=0,i=0;if(!t)a=o=i=s;else{const l=s<.5?s*(1+t):s+t-s*t,u=2*s-l;a=Qc(u,l,e+1/3),o=Qc(u,l,e),i=Qc(u,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(i*255),alpha:n}}const Zc=(e,t,s)=>{const n=e*e;return Math.sqrt(Math.max(0,s*(t*t-n)+n))},nR=[Md,yn,ur],rR=e=>nR.find(t=>t.test(e));function dx(e){const t=rR(e);let s=t.parse(e);return t===ur&&(s=sR(s)),s}const uw=(e,t)=>{const s=dx(e),n=dx(t),a={...s};return o=>(a.red=Zc(s.red,n.red,o),a.green=Zc(s.green,n.green,o),a.blue=Zc(s.blue,n.blue,o),a.alpha=he(s.alpha,n.alpha,o),yn.transform(a))};function aR(e){var t,s;return isNaN(e)&&jo(e)&&(((t=e.match(ec))===null||t===void 0?void 0:t.length)||0)+(((s=e.match(Ib))===null||s===void 0?void 0:s.length)||0)>0}const dw={regex:ZT,countKey:"Vars",token:"${v}",parse:Ne},fw={regex:Ib,countKey:"Colors",token:"${c}",parse:Ke.parse},pw={regex:ec,countKey:"Numbers",token:"${n}",parse:zn.parse};function Jc(e,{regex:t,countKey:s,token:n,parse:a}){const o=e.tokenised.match(t);o&&(e["num"+s]=o.length,e.tokenised=e.tokenised.replace(t,n),e.values.push(...o.map(a)))}function ol(e){const t=e.toString(),s={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return s.value.includes("var(--")&&Jc(s,dw),Jc(s,fw),Jc(s,pw),s}function mw(e){return ol(e).values}function hw(e){const{values:t,numColors:s,numVars:n,tokenised:a}=ol(e),o=t.length;return i=>{let l=a;for(let u=0;u<o;u++)u<n?l=l.replace(dw.token,i[u]):u<n+s?l=l.replace(fw.token,Ke.transform(i[u])):l=l.replace(pw.token,Ta(i[u]));return l}}const oR=e=>typeof e=="number"?0:e;function iR(e){const t=mw(e);return hw(e)(t.map(oR))}const Xs={test:aR,parse:mw,createTransformer:hw,getAnimatableNone:iR},xw=(e,t)=>s=>`${s>0?t:e}`;function gw(e,t){return typeof e=="number"?s=>he(e,t,s):Ke.test(e)?uw(e,t):e.startsWith("var(")?xw(e,t):vw(e,t)}const yw=(e,t)=>{const s=[...e],n=s.length,a=e.map((o,i)=>gw(o,t[i]));return o=>{for(let i=0;i<n;i++)s[i]=a[i](o);return s}},lR=(e,t)=>{const s={...e,...t},n={};for(const a in s)e[a]!==void 0&&t[a]!==void 0&&(n[a]=gw(e[a],t[a]));return a=>{for(const o in n)s[o]=n[o](a);return s}},vw=(e,t)=>{const s=Xs.createTransformer(t),n=ol(e),a=ol(t);return n.numVars===a.numVars&&n.numColors===a.numColors&&n.numNumbers>=a.numNumbers?Hs(yw(n.values,a.values),s):xw(e,t)},so=(e,t,s)=>{const n=t-e;return n===0?1:(s-e)/n},fx=(e,t)=>s=>he(e,t,s);function cR(e){return typeof e=="number"?fx:typeof e=="string"?Ke.test(e)?uw:vw:Array.isArray(e)?yw:typeof e=="object"?lR:fx}function uR(e,t,s){const n=[],a=s||cR(e[0]),o=e.length-1;for(let i=0;i<o;i++){let l=a(e[i],e[i+1]);if(t){const u=Array.isArray(t)?t[i]||Ne:t;l=Hs(u,l)}n.push(l)}return n}function bw(e,t,{clamp:s=!0,ease:n,mixer:a}={}){const o=e.length;if(_p(o===t.length),o===1)return()=>t[0];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const i=uR(t,n,a),l=i.length,u=c=>{let d=0;if(l>1)for(;d<e.length-2&&!(c<e[d+1]);d++);const f=so(e[d],e[d+1],c);return i[d](f)};return s?c=>u(Ys(e[0],e[o-1],c)):u}function dR(e,t){const s=e[e.length-1];for(let n=1;n<=t;n++){const a=so(0,t,n);e.push(he(s,1,a))}}function fR(e){const t=[0];return dR(t,e.length-1),t}function pR(e,t){return e.map(s=>s*t)}function mR(e,t){return e.map(()=>t||rw).splice(0,e.length-1)}function il({duration:e=300,keyframes:t,times:s,ease:n="easeInOut"}){const a=YA(n)?n.map(ux):ux(n),o={done:!1,value:t[0]},i=pR(s&&s.length===t.length?s:fR(t),e),l=bw(i,t,{ease:Array.isArray(a)?a:mR(t,a)});return{calculatedDuration:e,next:u=>(o.value=l(u),o.done=u>=e,o)}}function ww(e,t){return t?e*(1e3/t):0}const hR=5;function jw(e,t,s){const n=Math.max(t-hR,0);return ww(s-e(n),t-n)}const px=.001,xR=.01,gR=10,yR=.05,vR=1;function bR({duration:e=800,bounce:t=.25,velocity:s=0,mass:n=1}){let a,o,i=1-t;i=Ys(yR,vR,i),e=Ys(xR,gR,ds(e)),i<1?(a=c=>{const d=c*i,f=d*e,h=d-s,y=_d(c,i),b=Math.exp(-f);return px-h/y*b},o=c=>{const f=c*i*e,h=f*s+s,y=Math.pow(i,2)*Math.pow(c,2)*e,b=Math.exp(-f),g=_d(Math.pow(c,2),i);return(-a(c)+px>0?-1:1)*((h-y)*b)/g}):(a=c=>{const d=Math.exp(-c*e),f=(c-s)*e+1;return-.001+d*f},o=c=>{const d=Math.exp(-c*e),f=(s-c)*(e*e);return d*f});const l=5/e,u=jR(a,o,l);if(e=jn(e),isNaN(u))return{stiffness:100,damping:10,duration:e};{const c=Math.pow(u,2)*n;return{stiffness:c,damping:i*2*Math.sqrt(n*c),duration:e}}}const wR=12;function jR(e,t,s){let n=s;for(let a=1;a<wR;a++)n=n-e(n)/t(n);return n}function _d(e,t){return e*Math.sqrt(1-t*t)}const NR=["duration","bounce"],kR=["stiffness","damping","mass"];function mx(e,t){return t.some(s=>e[s]!==void 0)}function SR(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!mx(e,kR)&&mx(e,NR)){const s=bR(e);t={...t,...s,mass:1},t.isResolvedFromDuration=!0}return t}function Nw({keyframes:e,restDelta:t,restSpeed:s,...n}){const a=e[0],o=e[e.length-1],i={done:!1,value:a},{stiffness:l,damping:u,mass:c,duration:d,velocity:f,isResolvedFromDuration:h}=SR({...n,velocity:-ds(n.velocity||0)}),y=f||0,b=u/(2*Math.sqrt(l*c)),g=o-a,x=ds(Math.sqrt(l/c)),m=Math.abs(g)<5;s||(s=m?.01:2),t||(t=m?.005:.5);let p;if(b<1){const w=_d(x,b);p=j=>{const k=Math.exp(-b*x*j);return o-k*((y+b*x*g)/w*Math.sin(w*j)+g*Math.cos(w*j))}}else if(b===1)p=w=>o-Math.exp(-x*w)*(g+(y+x*g)*w);else{const w=x*Math.sqrt(b*b-1);p=j=>{const k=Math.exp(-b*x*j),E=Math.min(w*j,300);return o-k*((y+b*x*g)*Math.sinh(E)+w*g*Math.cosh(E))/w}}return{calculatedDuration:h&&d||null,next:w=>{const j=p(w);if(h)i.done=w>=d;else{let k=y;w!==0&&(b<1?k=jw(p,w,j):k=0);const E=Math.abs(k)<=s,C=Math.abs(o-j)<=t;i.done=E&&C}return i.value=i.done?o:j,i}}}function hx({keyframes:e,velocity:t=0,power:s=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:i,min:l,max:u,restDelta:c=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},y=N=>l!==void 0&&N<l||u!==void 0&&N>u,b=N=>l===void 0?u:u===void 0||Math.abs(l-N)<Math.abs(u-N)?l:u;let g=s*t;const x=f+g,m=i===void 0?x:i(x);m!==x&&(g=m-f);const p=N=>-g*Math.exp(-N/n),w=N=>m+p(N),j=N=>{const S=p(N),T=w(N);h.done=Math.abs(S)<=c,h.value=h.done?m:T};let k,E;const C=N=>{y(h.value)&&(k=N,E=Nw({keyframes:[h.value,b(h.value)],velocity:jw(w,N,h.value),damping:a,stiffness:o,restDelta:c,restSpeed:d}))};return C(0),{calculatedDuration:null,next:N=>{let S=!1;return!E&&k===void 0&&(S=!0,j(N),C(N)),k!==void 0&&N>k?E.next(N-k):(!S&&j(N),h)}}}const CR=e=>{const t=({timestamp:s})=>e(s);return{start:()=>fe.update(t,!0),stop:()=>gs(t),now:()=>Ue.isProcessing?Ue.timestamp:performance.now()}},xx=2e4;function gx(e){let t=0;const s=50;let n=e.next(t);for(;!n.done&&t<xx;)t+=s,n=e.next(t);return t>=xx?1/0:t}const ER={decay:hx,inertia:hx,tween:il,keyframes:il,spring:Nw};function ll({autoplay:e=!0,delay:t=0,driver:s=CR,keyframes:n,type:a="keyframes",repeat:o=0,repeatDelay:i=0,repeatType:l="loop",onPlay:u,onStop:c,onComplete:d,onUpdate:f,...h}){let y=1,b=!1,g,x;const m=()=>{x=new Promise(V=>{g=V})};m();let p;const w=ER[a]||il;let j;w!==il&&typeof n[0]!="number"&&(j=bw([0,100],n,{clamp:!1}),n=[0,100]);const k=w({...h,keyframes:n});let E;l==="mirror"&&(E=w({...h,keyframes:[...n].reverse(),velocity:-(h.velocity||0)}));let C="idle",N=null,S=null,T=null;k.calculatedDuration===null&&o&&(k.calculatedDuration=gx(k));const{calculatedDuration:I}=k;let D=1/0,O=1/0;I!==null&&(D=I+i,O=D*(o+1)-i);let _=0;const F=V=>{if(S===null)return;y>0&&(S=Math.min(S,V)),y<0&&(S=Math.min(V-O/y,S)),N!==null?_=N:_=Math.round(V-S)*y;const K=_-t*(y>=0?1:-1),ae=y>=0?K<0:K>O;_=Math.max(K,0),C==="finished"&&N===null&&(_=O);let oe=_,Je=k;if(o){const Ve=Math.min(_,O)/D;let $t=Math.floor(Ve),Bt=Ve%1;!Bt&&Ve>=1&&(Bt=1),Bt===1&&$t--,$t=Math.min($t,o+1),!!($t%2)&&(l==="reverse"?(Bt=1-Bt,i&&(Bt-=i/D)):l==="mirror"&&(Je=E)),oe=Ys(0,1,Bt)*D}const we=ae?{done:!1,value:n[0]}:Je.next(oe);j&&(we.value=j(we.value));let{done:Me}=we;!ae&&I!==null&&(Me=y>=0?_>=O:_<=0);const on=N===null&&(C==="finished"||C==="running"&&Me);return f&&f(we.value),on&&R(),we},$=()=>{p&&p.stop(),p=void 0},q=()=>{C="idle",$(),g(),m(),S=T=null},R=()=>{C="finished",d&&d(),$(),g()},M=()=>{if(b)return;p||(p=s(F));const V=p.now();u&&u(),N!==null?S=V-N:(!S||C==="finished")&&(S=V),C==="finished"&&m(),T=S,N=null,C="running",p.start()};e&&M();const L={then(V,K){return x.then(V,K)},get time(){return ds(_)},set time(V){V=jn(V),_=V,N!==null||!p||y===0?N=V:S=p.now()-V/y},get duration(){const V=k.calculatedDuration===null?gx(k):k.calculatedDuration;return ds(V)},get speed(){return y},set speed(V){V===y||!p||(y=V,L.time=ds(_))},get state(){return C},play:M,pause:()=>{C="paused",N=_},stop:()=>{b=!0,C!=="idle"&&(C="idle",c&&c(),q())},cancel:()=>{T!==null&&F(T),q()},complete:()=>{C="finished"},sample:V=>(S=0,F(V))};return L}function PR(e){let t;return()=>(t===void 0&&(t=e()),t)}const TR=PR(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),AR=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),ei=10,RR=2e4,DR=(e,t)=>t.type==="spring"||e==="backgroundColor"||!ew(t.ease);function MR(e,t,{onUpdate:s,onComplete:n,...a}){if(!(TR()&&AR.has(t)&&!a.repeatDelay&&a.repeatType!=="mirror"&&a.damping!==0&&a.type!=="inertia"))return!1;let i=!1,l,u,c=!1;const d=()=>{u=new Promise(w=>{l=w})};d();let{keyframes:f,duration:h=300,ease:y,times:b}=a;if(DR(t,a)){const w=ll({...a,repeat:0,delay:0});let j={done:!1,value:f[0]};const k=[];let E=0;for(;!j.done&&E<RR;)j=w.sample(E),k.push(j.value),E+=ei;b=void 0,f=k,h=E-ei,y="linear"}const g=UA(e.owner.current,t,f,{...a,duration:h,ease:y,times:b}),x=()=>{c=!1,g.cancel()},m=()=>{c=!0,fe.update(x),l(),d()};return g.onfinish=()=>{c||(e.set(zA(f,a)),n&&n(),m())},{then(w,j){return u.then(w,j)},attachTimeline(w){return g.timeline=w,g.onfinish=null,Ne},get time(){return ds(g.currentTime||0)},set time(w){g.currentTime=jn(w)},get speed(){return g.playbackRate},set speed(w){g.playbackRate=w},get duration(){return ds(h)},play:()=>{i||(g.play(),gs(x))},pause:()=>g.pause(),stop:()=>{if(i=!0,g.playState==="idle")return;const{currentTime:w}=g;if(w){const j=ll({...a,autoplay:!1});e.setWithVelocity(j.sample(w-ei).value,j.sample(w).value,ei)}m()},complete:()=>{c||g.finish()},cancel:m}}function _R({keyframes:e,delay:t,onUpdate:s,onComplete:n}){const a=()=>(s&&s(e[e.length-1]),n&&n(),{time:0,speed:1,duration:0,play:Ne,pause:Ne,stop:Ne,then:o=>(o(),Promise.resolve()),cancel:Ne,complete:Ne});return t?ll({keyframes:[0,1],duration:0,delay:t,onComplete:a}):a()}const LR={type:"spring",stiffness:500,damping:25,restSpeed:10},OR=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),IR={type:"keyframes",duration:.8},FR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},VR=(e,{keyframes:t})=>t.length>2?IR:Un.has(e)?e.startsWith("scale")?OR(t[1]):LR:FR,Ld=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Xs.test(t)||t==="0")&&!t.startsWith("url(")),$R=new Set(["brightness","contrast","saturate","opacity"]);function BR(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=s.match(ec)||[];if(!n)return e;const a=s.replace(n,"");let o=$R.has(t)?1:0;return n!==s&&(o*=100),t+"("+o+a+")"}const UR=/([a-z-]*)\(.*?\)/g,Od={...Xs,getAnimatableNone:e=>{const t=e.match(UR);return t?t.map(BR).join(" "):e}},zR={...Fb,color:Ke,backgroundColor:Ke,outlineColor:Ke,fill:Ke,stroke:Ke,borderColor:Ke,borderTopColor:Ke,borderRightColor:Ke,borderBottomColor:Ke,borderLeftColor:Ke,filter:Od,WebkitFilter:Od},Fp=e=>zR[e];function kw(e,t){let s=Fp(e);return s!==Od&&(s=Xs),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const Sw=e=>/^0[^.\s]+$/.test(e);function WR(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||Sw(e)}function HR(e,t,s,n){const a=Ld(t,s);let o;Array.isArray(s)?o=[...s]:o=[null,s];const i=n.from!==void 0?n.from:e.get();let l;const u=[];for(let c=0;c<o.length;c++)o[c]===null&&(o[c]=c===0?i:o[c-1]),WR(o[c])&&u.push(c),typeof o[c]=="string"&&o[c]!=="none"&&o[c]!=="0"&&(l=o[c]);if(a&&u.length&&l)for(let c=0;c<u.length;c++){const d=u[c];o[d]=kw(t,l)}return o}function qR({when:e,delay:t,delayChildren:s,staggerChildren:n,staggerDirection:a,repeat:o,repeatType:i,repeatDelay:l,from:u,elapsed:c,...d}){return!!Object.keys(d).length}function Vp(e,t){return e[t]||e.default||e}const KR={skipAnimations:!1},$p=(e,t,s,n={})=>a=>{const o=Vp(n,e)||{},i=o.delay||n.delay||0;let{elapsed:l=0}=n;l=l-jn(i);const u=HR(t,e,s,o),c=u[0],d=u[u.length-1],f=Ld(e,c),h=Ld(e,d);let y={keyframes:u,velocity:t.getVelocity(),ease:"easeOut",...o,delay:-l,onUpdate:b=>{t.set(b),o.onUpdate&&o.onUpdate(b)},onComplete:()=>{a(),o.onComplete&&o.onComplete()}};if(qR(o)||(y={...y,...VR(e,y)}),y.duration&&(y.duration=jn(y.duration)),y.repeatDelay&&(y.repeatDelay=jn(y.repeatDelay)),!f||!h||BA.current||o.type===!1||KR.skipAnimations)return _R(y);if(!n.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const b=MR(t,e,y);if(b)return b}return ll(y)};function cl(e){return!!(lt(e)&&e.add)}const Cw=e=>/^\-?\d*\.?\d+$/.test(e);function Bp(e,t){e.indexOf(t)===-1&&e.push(t)}function Up(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}class zp{constructor(){this.subscriptions=[]}add(t){return Bp(this.subscriptions,t),()=>Up(this.subscriptions,t)}notify(t,s,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,s,n);else for(let o=0;o<a;o++){const i=this.subscriptions[o];i&&i(t,s,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const GR=e=>!isNaN(parseFloat(e));class YR{constructor(t,s={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,a=!0)=>{this.prev=this.current,this.current=n;const{delta:o,timestamp:i}=Ue;this.lastUpdated!==i&&(this.timeDelta=o,this.lastUpdated=i,fe.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>fe.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=GR(this.current),this.owner=s.owner}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new zp);const n=this.events[t].add(s);return t==="change"?()=>{n(),fe.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t,s=!0){!s||!this.passiveEffect?this.updateAndNotify(t,s):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,s,n){this.set(s),this.prev=t,this.timeDelta=n}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?ww(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function _r(e,t){return new YR(e,t)}const Ew=e=>t=>t.test(e),XR={test:e=>e==="auto",parse:e=>e},Pw=[zn,G,Qt,Ss,sA,tA,XR],ca=e=>Pw.find(Ew(e)),QR=[...Pw,Ke,Xs],ZR=e=>QR.find(Ew(e));function JR(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,_r(s))}function eD(e,t){const s=sc(e,t);let{transitionEnd:n={},transition:a={},...o}=s?e.makeTargetAnimatable(s,!1):{};o={...o,...n};for(const i in o){const l=gA(o[i]);JR(e,i,l)}}function tD(e,t,s){var n,a;const o=Object.keys(t).filter(l=>!e.hasValue(l)),i=o.length;if(i)for(let l=0;l<i;l++){const u=o[l],c=t[u];let d=null;Array.isArray(c)&&(d=c[0]),d===null&&(d=(a=(n=s[u])!==null&&n!==void 0?n:e.readValue(u))!==null&&a!==void 0?a:t[u]),d!=null&&(typeof d=="string"&&(Cw(d)||Sw(d))?d=parseFloat(d):!ZR(d)&&Xs.test(c)&&(d=kw(u,c)),e.addValue(u,_r(d,{owner:e})),s[u]===void 0&&(s[u]=d),d!==null&&e.setBaseTarget(u,d))}}function sD(e,t){return t?(t[e]||t.default||t).from:void 0}function nD(e,t,s){const n={};for(const a in e){const o=sD(a,t);if(o!==void 0)n[a]=o;else{const i=s.getValue(a);i&&(n[a]=i.get())}}return n}function rD({protectedKeys:e,needsAnimating:t},s){const n=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,n}function aD(e,t){const s=e.get();if(Array.isArray(t)){for(let n=0;n<t.length;n++)if(t[n]!==s)return!0}else return s!==t}function Tw(e,t,{delay:s=0,transitionOverride:n,type:a}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:i,...l}=e.makeTargetAnimatable(t);const u=e.getValue("willChange");n&&(o=n);const c=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const f in l){const h=e.getValue(f),y=l[f];if(!h||y===void 0||d&&rD(d,f))continue;const b={delay:s,elapsed:0,...Vp(o||{},f)};if(window.HandoffAppearAnimations){const m=e.getProps()[Ab];if(m){const p=window.HandoffAppearAnimations(m,f,h,fe);p!==null&&(b.elapsed=p,b.isHandoff=!0)}}let g=!b.isHandoff&&!aD(h,y);if(b.type==="spring"&&(h.getVelocity()||b.velocity)&&(g=!1),h.animation&&(g=!1),g)continue;h.start($p(f,h,y,e.shouldReduceMotion&&Un.has(f)?{type:!1}:b));const x=h.animation;cl(u)&&(u.add(f),x.then(()=>u.remove(f))),c.push(x)}return i&&Promise.all(c).then(()=>{i&&eD(e,i)}),c}function Id(e,t,s={}){const n=sc(e,t,s.custom);let{transition:a=e.getDefaultTransition()||{}}=n||{};s.transitionOverride&&(a=s.transitionOverride);const o=n?()=>Promise.all(Tw(e,n,s)):()=>Promise.resolve(),i=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=a;return oD(e,t,c+u,d,f,s)}:()=>Promise.resolve(),{when:l}=a;if(l){const[u,c]=l==="beforeChildren"?[o,i]:[i,o];return u().then(()=>c())}else return Promise.all([o(),i(s.delay)])}function oD(e,t,s=0,n=0,a=1,o){const i=[],l=(e.variantChildren.size-1)*n,u=a===1?(c=0)=>c*n:(c=0)=>l-c*n;return Array.from(e.variantChildren).sort(iD).forEach((c,d)=>{c.notify("AnimationStart",t),i.push(Id(c,t,{...o,delay:s+u(d)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(i)}function iD(e,t){return e.sortNodePosition(t)}function lD(e,t,s={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(o=>Id(e,o,s));n=Promise.all(a)}else if(typeof t=="string")n=Id(e,t,s);else{const a=typeof t=="function"?sc(e,t,s.custom):t;n=Promise.all(Tw(e,a,s))}return n.then(()=>e.notify("AnimationComplete",t))}const cD=[...Sp].reverse(),uD=Sp.length;function dD(e){return t=>Promise.all(t.map(({animation:s,options:n})=>lD(e,s,n)))}function fD(e){let t=dD(e);const s=mD();let n=!0;const a=(u,c)=>{const d=sc(e,c);if(d){const{transition:f,transitionEnd:h,...y}=d;u={...u,...y,...h}}return u};function o(u){t=u(e)}function i(u,c){const d=e.getProps(),f=e.getVariantContext(!0)||{},h=[],y=new Set;let b={},g=1/0;for(let m=0;m<uD;m++){const p=cD[m],w=s[p],j=d[p]!==void 0?d[p]:f[p],k=eo(j),E=p===c?w.isActive:null;E===!1&&(g=m);let C=j===f[p]&&j!==d[p]&&k;if(C&&n&&e.manuallyAnimateOnMount&&(C=!1),w.protectedKeys={...b},!w.isActive&&E===null||!j&&!w.prevProp||Zl(j)||typeof j=="boolean")continue;let S=pD(w.prevProp,j)||p===c&&w.isActive&&!C&&k||m>g&&k,T=!1;const I=Array.isArray(j)?j:[j];let D=I.reduce(a,{});E===!1&&(D={});const{prevResolvedValues:O={}}=w,_={...O,...D},F=$=>{S=!0,y.has($)&&(T=!0,y.delete($)),w.needsAnimating[$]=!0};for(const $ in _){const q=D[$],R=O[$];if(b.hasOwnProperty($))continue;let M=!1;al(q)&&al(R)?M=!Zb(q,R):M=q!==R,M?q!==void 0?F($):y.add($):q!==void 0&&y.has($)?F($):w.protectedKeys[$]=!0}w.prevProp=j,w.prevResolvedValues=D,w.isActive&&(b={...b,...D}),n&&e.blockInitialAnimation&&(S=!1),S&&(!C||T)&&h.push(...I.map($=>({animation:$,options:{type:p,...u}})))}if(y.size){const m={};y.forEach(p=>{const w=e.getBaseTarget(p);w!==void 0&&(m[p]=w)}),h.push({animation:m})}let x=!!h.length;return n&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(x=!1),n=!1,x?t(h):Promise.resolve()}function l(u,c,d){var f;if(s[u].isActive===c)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(y=>{var b;return(b=y.animationState)===null||b===void 0?void 0:b.setActive(u,c)}),s[u].isActive=c;const h=i(d,u);for(const y in s)s[y].protectedKeys={};return h}return{animateChanges:i,setActive:l,setAnimateFunction:o,getState:()=>s}}function pD(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Zb(t,e):!1}function ln(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function mD(){return{animate:ln(!0),whileInView:ln(),whileHover:ln(),whileTap:ln(),whileDrag:ln(),whileFocus:ln(),exit:ln()}}class hD extends an{constructor(t){super(t),t.animationState||(t.animationState=fD(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Zl(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){}}let xD=0;class gD extends an{constructor(){super(...arguments),this.id=xD++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s,custom:n}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const o=this.node.animationState.setActive("exit",!t,{custom:n??this.node.getProps().custom});s&&!t&&o.then(()=>s(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const yD={animation:{Feature:hD},exit:{Feature:gD}},yx=(e,t)=>Math.abs(e-t);function vD(e,t){const s=yx(e.x,t.x),n=yx(e.y,t.y);return Math.sqrt(s**2+n**2)}class Aw{constructor(t,s,{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=tu(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,y=vD(f.offset,{x:0,y:0})>=3;if(!h&&!y)return;const{point:b}=f,{timestamp:g}=Ue;this.history.push({...b,timestamp:g});const{onStart:x,onMove:m}=this.handlers;h||(x&&x(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=eu(h,this.transformPagePoint),fe.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:y,onSessionEnd:b,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=tu(f.type==="pointercancel"?this.lastMoveEventInfo:eu(h,this.transformPagePoint),this.history);this.startEvent&&y&&y(f,x),b&&b(f,x)},!Kb(t))return;this.dragSnapToOrigin=o,this.handlers=s,this.transformPagePoint=n,this.contextWindow=a||window;const i=tc(t),l=eu(i,this.transformPagePoint),{point:u}=l,{timestamp:c}=Ue;this.history=[{...u,timestamp:c}];const{onSessionStart:d}=s;d&&d(t,tu(l,this.history)),this.removeListeners=Hs(us(this.contextWindow,"pointermove",this.handlePointerMove),us(this.contextWindow,"pointerup",this.handlePointerUp),us(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),gs(this.updatePoint)}}function eu(e,t){return t?{point:t(e.point)}:e}function vx(e,t){return{x:e.x-t.x,y:e.y-t.y}}function tu({point:e},t){return{point:e,delta:vx(e,Rw(t)),offset:vx(e,bD(t)),velocity:wD(t,.1)}}function bD(e){return e[0]}function Rw(e){return e[e.length-1]}function wD(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,n=null;const a=Rw(e);for(;s>=0&&(n=e[s],!(a.timestamp-n.timestamp>jn(t)));)s--;if(!n)return{x:0,y:0};const o=ds(a.timestamp-n.timestamp);if(o===0)return{x:0,y:0};const i={x:(a.x-n.x)/o,y:(a.y-n.y)/o};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function xt(e){return e.max-e.min}function Fd(e,t=0,s=.01){return Math.abs(e-t)<=s}function bx(e,t,s,n=.5){e.origin=n,e.originPoint=he(t.min,t.max,e.origin),e.scale=xt(s)/xt(t),(Fd(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=he(s.min,s.max,e.origin)-e.originPoint,(Fd(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Aa(e,t,s,n){bx(e.x,t.x,s.x,n?n.originX:void 0),bx(e.y,t.y,s.y,n?n.originY:void 0)}function wx(e,t,s){e.min=s.min+t.min,e.max=e.min+xt(t)}function jD(e,t,s){wx(e.x,t.x,s.x),wx(e.y,t.y,s.y)}function jx(e,t,s){e.min=t.min-s.min,e.max=e.min+xt(t)}function Ra(e,t,s){jx(e.x,t.x,s.x),jx(e.y,t.y,s.y)}function ND(e,{min:t,max:s},n){return t!==void 0&&e<t?e=n?he(t,e,n.min):Math.max(e,t):s!==void 0&&e>s&&(e=n?he(s,e,n.max):Math.min(e,s)),e}function Nx(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function kD(e,{top:t,left:s,bottom:n,right:a}){return{x:Nx(e.x,s,a),y:Nx(e.y,t,n)}}function kx(e,t){let s=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,n]=[n,s]),{min:s,max:n}}function SD(e,t){return{x:kx(e.x,t.x),y:kx(e.y,t.y)}}function CD(e,t){let s=.5;const n=xt(e),a=xt(t);return a>n?s=so(t.min,t.max-n,e.min):n>a&&(s=so(e.min,e.max-a,t.min)),Ys(0,1,s)}function ED(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const Vd=.35;function PD(e=Vd){return e===!1?e=0:e===!0&&(e=Vd),{x:Sx(e,"left","right"),y:Sx(e,"top","bottom")}}function Sx(e,t,s){return{min:Cx(e,t),max:Cx(e,s)}}function Cx(e,t){return typeof e=="number"?e:e[t]||0}const Ex=()=>({translate:0,scale:1,origin:0,originPoint:0}),dr=()=>({x:Ex(),y:Ex()}),Px=()=>({min:0,max:0}),ke=()=>({x:Px(),y:Px()});function bt(e){return[e("x"),e("y")]}function Dw({top:e,left:t,right:s,bottom:n}){return{x:{min:t,max:s},y:{min:e,max:n}}}function TD({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function AD(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:n.y,right:n.x}}function su(e){return e===void 0||e===1}function $d({scale:e,scaleX:t,scaleY:s}){return!su(e)||!su(t)||!su(s)}function dn(e){return $d(e)||Mw(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Mw(e){return Tx(e.x)||Tx(e.y)}function Tx(e){return e&&e!=="0%"}function ul(e,t,s){const n=e-s,a=t*n;return s+a}function Ax(e,t,s,n,a){return a!==void 0&&(e=ul(e,a,n)),ul(e,s,n)+t}function Bd(e,t=0,s=1,n,a){e.min=Ax(e.min,t,s,n,a),e.max=Ax(e.max,t,s,n,a)}function _w(e,{x:t,y:s}){Bd(e.x,t.translate,t.scale,t.originPoint),Bd(e.y,s.translate,s.scale,s.originPoint)}function RD(e,t,s,n=!1){const a=s.length;if(!a)return;t.x=t.y=1;let o,i;for(let l=0;l<a;l++){o=s[l],i=o.projectionDelta;const u=o.instance;u&&u.style&&u.style.display==="contents"||(n&&o.options.layoutScroll&&o.scroll&&o!==o.root&&fr(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,_w(e,i)),n&&dn(o.latestValues)&&fr(e,o.latestValues))}t.x=Rx(t.x),t.y=Rx(t.y)}function Rx(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Ts(e,t){e.min=e.min+t,e.max=e.max+t}function Dx(e,t,[s,n,a]){const o=t[a]!==void 0?t[a]:.5,i=he(e.min,e.max,o);Bd(e,t[s],t[n],i,t.scale)}const DD=["x","scaleX","originX"],MD=["y","scaleY","originY"];function fr(e,t){Dx(e.x,t,DD),Dx(e.y,t,MD)}function Lw(e,t){return Dw(AD(e.getBoundingClientRect(),t))}function _D(e,t,s){const n=Lw(e,s),{scroll:a}=t;return a&&(Ts(n.x,a.offset.x),Ts(n.y,a.offset.y)),n}const Ow=({current:e})=>e?e.ownerDocument.defaultView:null,LD=new WeakMap;class OD{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ke(),this.visualElement=t}start(t,{snapToCursor:s=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(tc(d,"page").point)},o=(d,f)=>{const{drag:h,dragPropagation:y,onDragStart:b}=this.getProps();if(h&&!y&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Yb(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),bt(x=>{let m=this.getAxisMotionValue(x).get()||0;if(Qt.test(m)){const{projection:p}=this.visualElement;if(p&&p.layout){const w=p.layout.layoutBox[x];w&&(m=xt(w)*(parseFloat(m)/100))}}this.originPoint[x]=m}),b&&fe.update(()=>b(d,f),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},i=(d,f)=>{const{dragPropagation:h,dragDirectionLock:y,onDirectionLock:b,onDrag:g}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:x}=f;if(y&&this.currentDirection===null){this.currentDirection=ID(x),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",f.point,x),this.updateAxis("y",f.point,x),this.visualElement.render(),g&&g(d,f)},l=(d,f)=>this.stop(d,f),u=()=>bt(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new Aw(t,{onSessionStart:a,onStart:o,onMove:i,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:Ow(this.visualElement)})}stop(t,s){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&fe.update(()=>o(t,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,n){const{drag:a}=this.getProps();if(!n||!ti(t,a,this.currentDirection))return;const o=this.getAxisMotionValue(t);let i=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(i=ND(i,this.constraints[t],this.elastic[t])),o.set(i)}resolveConstraints(){var t;const{dragConstraints:s,dragElastic:n}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;s&&cr(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&a?this.constraints=kD(a.layoutBox,s):this.constraints=!1,this.elastic=PD(n),o!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&bt(i=>{this.getAxisMotionValue(i)&&(this.constraints[i]=ED(a.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!cr(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=_D(n,a.root,this.visualElement.getTransformPagePoint());let i=SD(a.layout.layoutBox,o);if(s){const l=s(TD(i));this.hasMutatedConstraints=!!l,l&&(i=Dw(l))}return i}startAnimation(t){const{drag:s,dragMomentum:n,dragElastic:a,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},c=bt(d=>{if(!ti(d,s,this.currentDirection))return;let f=u&&u[d]||{};i&&(f={min:0,max:0});const h=a?200:1e6,y=a?40:1e7,b={type:"inertia",velocity:n?t[d]:0,bounceStiffness:h,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(d,b)});return Promise.all(c).then(l)}startAxisValueAnimation(t,s){const n=this.getAxisMotionValue(t);return n.start($p(t,n,0,s))}stopAnimation(){bt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){bt(t=>{var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(t){const s="_drag"+t.toUpperCase(),n=this.visualElement.getProps(),a=n[s];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){bt(s=>{const{drag:n}=this.getProps();if(!ti(s,n,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(s);if(a&&a.layout){const{min:i,max:l}=a.layout.layoutBox[s];o.set(t[s]-he(i,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:n}=this.visualElement;if(!cr(s)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};bt(i=>{const l=this.getAxisMotionValue(i);if(l){const u=l.get();a[i]=CD({min:u,max:u},this.constraints[i])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),bt(i=>{if(!ti(i,t,null))return;const l=this.getAxisMotionValue(i),{min:u,max:c}=this.constraints[i];l.set(he(u,c,a[i]))})}addListeners(){if(!this.visualElement.current)return;LD.set(this.visualElement,this);const t=this.visualElement.current,s=us(t,"pointerdown",u=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(u)}),n=()=>{const{dragConstraints:u}=this.getProps();cr(u)&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),n();const i=is(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:u,hasLayoutChanged:c})=>{this.isDragging&&c&&(bt(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=u[d].translate,f.set(f.get()+u[d].translate))}),this.visualElement.render())});return()=>{i(),s(),o(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:i=Vd,dragMomentum:l=!0}=t;return{...t,drag:s,dragDirectionLock:n,dragPropagation:a,dragConstraints:o,dragElastic:i,dragMomentum:l}}}function ti(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function ID(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class FD extends an{constructor(t){super(t),this.removeGroupControls=Ne,this.removeListeners=Ne,this.controls=new OD(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ne}unmount(){this.removeGroupControls(),this.removeListeners()}}const Mx=e=>(t,s)=>{e&&fe.update(()=>e(t,s))};class VD extends an{constructor(){super(...arguments),this.removePointerDownListener=Ne}onPointerDown(t){this.session=new Aw(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ow(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:Mx(t),onStart:Mx(s),onMove:n,onEnd:(o,i)=>{delete this.session,a&&fe.update(()=>a(o,i))}}}mount(){this.removePointerDownListener=us(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function $D(){const e=v.useContext(Np);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:s,register:n}=e,a=v.useId();return v.useEffect(()=>n(a),[]),!t&&s?[!1,()=>s&&s(a)]:[!0]}const ki={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function _x(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ua={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(G.test(e))e=parseFloat(e);else return e;const s=_x(e,t.target.x),n=_x(e,t.target.y);return`${s}% ${n}%`}},BD={correct:(e,{treeScale:t,projectionDelta:s})=>{const n=e,a=Xs.parse(e);if(a.length>5)return n;const o=Xs.createTransformer(e),i=typeof a[0]!="number"?1:0,l=s.x.scale*t.x,u=s.y.scale*t.y;a[0+i]/=l,a[1+i]/=u;const c=he(l,u,.5);return typeof a[2+i]=="number"&&(a[2+i]/=c),typeof a[3+i]=="number"&&(a[3+i]/=c),o(a)}};class UD extends P.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n,layoutId:a}=this.props,{projection:o}=t;GT(zD),o&&(s.group&&s.group.add(o),n&&n.register&&a&&n.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),ki.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:n,drag:a,isPresent:o}=this.props,i=n.projection;return i&&(i.isPresent=o,a||t.layoutDependency!==s||s===void 0?i.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?i.promote():i.relegate()||fe.postRender(()=>{const l=i.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Iw(e){const[t,s]=$D(),n=v.useContext(Db);return P.createElement(UD,{...e,layoutGroup:n,switchLayoutGroup:v.useContext(Mb),isPresent:t,safeToRemove:s})}const zD={borderRadius:{...ua,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ua,borderTopRightRadius:ua,borderBottomLeftRadius:ua,borderBottomRightRadius:ua,boxShadow:BD},Fw=["TopLeft","TopRight","BottomLeft","BottomRight"],WD=Fw.length,Lx=e=>typeof e=="string"?parseFloat(e):e,Ox=e=>typeof e=="number"||G.test(e);function HD(e,t,s,n,a,o){a?(e.opacity=he(0,s.opacity!==void 0?s.opacity:1,qD(n)),e.opacityExit=he(t.opacity!==void 0?t.opacity:1,0,KD(n))):o&&(e.opacity=he(t.opacity!==void 0?t.opacity:1,s.opacity!==void 0?s.opacity:1,n));for(let i=0;i<WD;i++){const l=`border${Fw[i]}Radius`;let u=Ix(t,l),c=Ix(s,l);if(u===void 0&&c===void 0)continue;u||(u=0),c||(c=0),u===0||c===0||Ox(u)===Ox(c)?(e[l]=Math.max(he(Lx(u),Lx(c),n),0),(Qt.test(c)||Qt.test(u))&&(e[l]+="%")):e[l]=c}(t.rotate||s.rotate)&&(e.rotate=he(t.rotate||0,s.rotate||0,n))}function Ix(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const qD=Vw(0,.5,iw),KD=Vw(.5,.95,Ne);function Vw(e,t,s){return n=>n<e?0:n>t?1:s(so(e,t,n))}function Fx(e,t){e.min=t.min,e.max=t.max}function vt(e,t){Fx(e.x,t.x),Fx(e.y,t.y)}function Vx(e,t,s,n,a){return e-=t,e=ul(e,1/s,n),a!==void 0&&(e=ul(e,1/a,n)),e}function GD(e,t=0,s=1,n=.5,a,o=e,i=e){if(Qt.test(t)&&(t=parseFloat(t),t=he(i.min,i.max,t/100)-i.min),typeof t!="number")return;let l=he(o.min,o.max,n);e===o&&(l-=t),e.min=Vx(e.min,t,s,l,a),e.max=Vx(e.max,t,s,l,a)}function $x(e,t,[s,n,a],o,i){GD(e,t[s],t[n],t[a],t.scale,o,i)}const YD=["x","scaleX","originX"],XD=["y","scaleY","originY"];function Bx(e,t,s,n){$x(e.x,t,YD,s?s.x:void 0,n?n.x:void 0),$x(e.y,t,XD,s?s.y:void 0,n?n.y:void 0)}function Ux(e){return e.translate===0&&e.scale===1}function $w(e){return Ux(e.x)&&Ux(e.y)}function QD(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Bw(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function zx(e){return xt(e.x)/xt(e.y)}class ZD{constructor(){this.members=[]}add(t){Bp(this.members,t),t.scheduleRender()}remove(t){if(Up(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(a=>t===a);if(s===0)return!1;let n;for(let a=s;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){n=o;break}}return n?(this.promote(n),!0):!1}promote(t,s){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,s&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:n}=t;s.onExitComplete&&s.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Wx(e,t,s){let n="";const a=e.x.translate/t.x,o=e.y.translate/t.y;if((a||o)&&(n=`translate3d(${a}px, ${o}px, 0) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),s){const{rotate:u,rotateX:c,rotateY:d}=s;u&&(n+=`rotate(${u}deg) `),c&&(n+=`rotateX(${c}deg) `),d&&(n+=`rotateY(${d}deg) `)}const i=e.x.scale*t.x,l=e.y.scale*t.y;return(i!==1||l!==1)&&(n+=`scale(${i}, ${l})`),n||"none"}const JD=(e,t)=>e.depth-t.depth;class e4{constructor(){this.children=[],this.isDirty=!1}add(t){Bp(this.children,t),this.isDirty=!0}remove(t){Up(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(JD),this.isDirty=!1,this.children.forEach(t)}}function t4(e,t){const s=performance.now(),n=({timestamp:a})=>{const o=a-s;o>=t&&(gs(n),e(o-t))};return fe.read(n,!0),()=>gs(n)}function s4(e){window.MotionDebug&&window.MotionDebug.record(e)}function n4(e){return e instanceof SVGElement&&e.tagName!=="svg"}function r4(e,t,s){const n=lt(e)?e:_r(e);return n.start($p("",n,t,s)),n.animation}const Hx=["","X","Y","Z"],a4={visibility:"hidden"},qx=1e3;let o4=0;const fn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Uw({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(i={},l=t==null?void 0:t()){this.id=o4++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,fn.totalNodes=fn.resolvedTargetDeltas=fn.recalculatedProjection=0,this.nodes.forEach(c4),this.nodes.forEach(m4),this.nodes.forEach(h4),this.nodes.forEach(u4),s4(fn)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new e4)}addEventListener(i,l){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new zp),this.eventHandlers.get(i).add(l)}notifyListeners(i,...l){const u=this.eventHandlers.get(i);u&&u.notify(...l)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=n4(i),this.instance=i;const{layoutId:u,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(c||u)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=t4(h,250),ki.hasAnimatedSinceResize&&(ki.hasAnimatedSinceResize=!1,this.nodes.forEach(Gx))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&d&&(u||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:y,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||b4,{onLayoutAnimationStart:x,onLayoutAnimationComplete:m}=d.getProps(),p=!this.targetLayout||!Bw(this.targetLayout,b)||y,w=!h&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||h&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const j={...Vp(g,"layout"),onPlay:x,onComplete:m};(d.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else h||Gx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,gs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(x4),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Kx);return}this.isUpdating||this.nodes.forEach(f4),this.isUpdating=!1,this.nodes.forEach(p4),this.nodes.forEach(i4),this.nodes.forEach(l4),this.clearAllSnapshots();const l=performance.now();Ue.delta=Ys(0,1e3/60,l-Ue.timestamp),Ue.timestamp=l,Ue.isProcessing=!0,Kc.update.process(Ue),Kc.preRender.process(Ue),Kc.render.process(Ue),Ue.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(d4),this.sharedNodes.forEach(g4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,fe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){fe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ke(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:i,isRoot:n(this.instance),offset:s(this.instance)})}resetTransform(){if(!a)return;const i=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!$w(this.projectionDelta),u=this.getTransformTemplate(),c=u?u(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;i&&(l||dn(this.latestValues)||d)&&(a(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return i&&(u=this.removeTransform(u)),w4(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:i}=this.options;if(!i)return ke();const l=i.measureViewportBox(),{scroll:u}=this.root;return u&&(Ts(l.x,u.offset.x),Ts(l.y,u.offset.y)),l}removeElementScroll(i){const l=ke();vt(l,i);for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:d,options:f}=c;if(c!==this.root&&d&&f.layoutScroll){if(d.isRoot){vt(l,i);const{scroll:h}=this.root;h&&(Ts(l.x,-h.offset.x),Ts(l.y,-h.offset.y))}Ts(l.x,d.offset.x),Ts(l.y,d.offset.y)}}return l}applyTransform(i,l=!1){const u=ke();vt(u,i);for(let c=0;c<this.path.length;c++){const d=this.path[c];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&fr(u,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),dn(d.latestValues)&&fr(u,d.latestValues)}return dn(this.latestValues)&&fr(u,this.latestValues),u}removeTransform(i){const l=ke();vt(l,i);for(let u=0;u<this.path.length;u++){const c=this.path[u];if(!c.instance||!dn(c.latestValues))continue;$d(c.latestValues)&&c.updateSnapshot();const d=ke(),f=c.measurePageBox();vt(d,f),Bx(l,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return dn(this.latestValues)&&Bx(l,this.latestValues),l}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ue.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var l;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==u;if(!(i||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=Ue.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ke(),this.relativeTargetOrigin=ke(),Ra(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),vt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ke(),this.targetWithTransforms=ke()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),jD(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):vt(this.target,this.layout.layoutBox),_w(this.target,this.targetDelta)):vt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ke(),this.relativeTargetOrigin=ke(),Ra(this.relativeTargetOrigin,this.target,y.target),vt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}fn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||$d(this.parent.latestValues)||Mw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let c=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(c=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ue.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;vt(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,y=this.treeScale.y;RD(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:b}=l;if(!b){this.projectionTransform&&(this.projectionDelta=dr(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=dr(),this.projectionDeltaWithTransform=dr());const g=this.projectionTransform;Aa(this.projectionDelta,this.layoutCorrected,b,this.latestValues),this.projectionTransform=Wx(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==h||this.treeScale.y!==y)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b)),fn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),i){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(i,l=!1){const u=this.snapshot,c=u?u.latestValues:{},d={...this.latestValues},f=dr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=ke(),y=u?u.source:void 0,b=this.layout?this.layout.source:void 0,g=y!==b,x=this.getStack(),m=!x||x.members.length<=1,p=!!(g&&!m&&this.options.crossfade===!0&&!this.path.some(v4));this.animationProgress=0;let w;this.mixTargetDelta=j=>{const k=j/1e3;Yx(f.x,i.x,k),Yx(f.y,i.y,k),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ra(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),y4(this.relativeTarget,this.relativeTargetOrigin,h,k),w&&QD(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=ke()),vt(w,this.relativeTarget)),g&&(this.animationValues=d,HD(d,c,this.latestValues,k,p,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(gs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=fe.update(()=>{ki.hasAnimatedSinceResize=!0,this.currentAnimation=r4(0,qx,{...i,onUpdate:l=>{this.mixTargetDelta(l),i.onUpdate&&i.onUpdate(l)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(qx),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:l,target:u,layout:c,latestValues:d}=i;if(!(!l||!u||!c)){if(this!==i&&this.layout&&c&&zw(this.options.animationType,this.layout.layoutBox,c.layoutBox)){u=this.target||ke();const f=xt(this.layout.layoutBox.x);u.x.min=i.target.x.min,u.x.max=u.x.min+f;const h=xt(this.layout.layoutBox.y);u.y.min=i.target.y.min,u.y.max=u.y.min+h}vt(l,u),fr(l,d),Aa(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(i,l){this.sharedNodes.has(i)||this.sharedNodes.set(i,new ZD),this.sharedNodes.get(i).add(l);const c=l.options.initialPromotionConfig;l.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(l):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:l}=this.options;return l?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:l}=this.options;return l?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:l,preserveFollowOpacity:u}={}){const c=this.getStack();c&&c.promote(this,u),i&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetRotation(){const{visualElement:i}=this.options;if(!i)return;let l=!1;const{latestValues:u}=i;if((u.rotate||u.rotateX||u.rotateY||u.rotateZ)&&(l=!0),!l)return;const c={};for(let d=0;d<Hx.length;d++){const f="rotate"+Hx[d];u[f]&&(c[f]=u[f],i.setStaticValue(f,0))}i.render();for(const d in c)i.setStaticValue(d,c[d]);i.scheduleRender()}getProjectionStyles(i){var l,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return a4;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Ni(i==null?void 0:i.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=Ni(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!dn(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=Wx(this.projectionDeltaWithTransform,this.treeScale,h),d&&(c.transform=d(h,c.transform));const{x:y,y:b}=this.projectionDelta;c.transformOrigin=`${y.origin*100}% ${b.origin*100}% 0`,f.animationValues?c.opacity=f===this?(u=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const g in nl){if(h[g]===void 0)continue;const{correct:x,applyTo:m}=nl[g],p=c.transform==="none"?h[g]:x(h[g],f);if(m){const w=m.length;for(let j=0;j<w;j++)c[m[j]]=p}else c[g]=p}return this.options.layoutId&&(c.pointerEvents=f===this?Ni(i==null?void 0:i.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var l;return(l=i.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Kx),this.root.sharedNodes.clear()}}}function i4(e){e.updateLayout()}function l4(e){var t;const s=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&s&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:o}=e.options,i=s.source!==e.layout.source;o==="size"?bt(f=>{const h=i?s.measuredBox[f]:s.layoutBox[f],y=xt(h);h.min=n[f].min,h.max=h.min+y}):zw(o,s.layoutBox,n)&&bt(f=>{const h=i?s.measuredBox[f]:s.layoutBox[f],y=xt(n[f]);h.max=h.min+y,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+y)});const l=dr();Aa(l,n,s.layoutBox);const u=dr();i?Aa(u,e.applyTransform(a,!0),s.measuredBox):Aa(u,n,s.layoutBox);const c=!$w(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:y}=f;if(h&&y){const b=ke();Ra(b,s.layoutBox,h.layoutBox);const g=ke();Ra(g,n,y.layoutBox),Bw(b,g)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=b,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:s,delta:u,layoutDelta:l,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function c4(e){fn.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function u4(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function d4(e){e.clearSnapshot()}function Kx(e){e.clearMeasurements()}function f4(e){e.isLayoutDirty=!1}function p4(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Gx(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function m4(e){e.resolveTargetDelta()}function h4(e){e.calcProjection()}function x4(e){e.resetRotation()}function g4(e){e.removeLeadSnapshot()}function Yx(e,t,s){e.translate=he(t.translate,0,s),e.scale=he(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function Xx(e,t,s,n){e.min=he(t.min,s.min,n),e.max=he(t.max,s.max,n)}function y4(e,t,s,n){Xx(e.x,t.x,s.x,n),Xx(e.y,t.y,s.y,n)}function v4(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const b4={duration:.45,ease:[.4,0,.1,1]},Qx=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),Zx=Qx("applewebkit/")&&!Qx("chrome/")?Math.round:Ne;function Jx(e){e.min=Zx(e.min),e.max=Zx(e.max)}function w4(e){Jx(e.x),Jx(e.y)}function zw(e,t,s){return e==="position"||e==="preserve-aspect"&&!Fd(zx(t),zx(s),.2)}const j4=Uw({attachResizeListener:(e,t)=>is(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),nu={current:void 0},Ww=Uw({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!nu.current){const e=new j4({});e.mount(window),e.setOptions({layoutScroll:!0}),nu.current=e}return nu.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),N4={pan:{Feature:VD},drag:{Feature:FD,ProjectionNode:Ww,MeasureLayout:Iw}},k4=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function S4(e){const t=k4.exec(e);if(!t)return[,];const[,s,n]=t;return[s,n]}function Ud(e,t,s=1){const[n,a]=S4(e);if(!n)return;const o=window.getComputedStyle(t).getPropertyValue(n);if(o){const i=o.trim();return Cw(i)?parseFloat(i):i}else return Rd(a)?Ud(a,t,s+1):a}function C4(e,{...t},s){const n=e.current;if(!(n instanceof Element))return{target:t,transitionEnd:s};s&&(s={...s}),e.values.forEach(a=>{const o=a.get();if(!Rd(o))return;const i=Ud(o,n);i&&a.set(i)});for(const a in t){const o=t[a];if(!Rd(o))continue;const i=Ud(o,n);i&&(t[a]=i,s||(s={}),s[a]===void 0&&(s[a]=o))}return{target:t,transitionEnd:s}}const E4=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Hw=e=>E4.has(e),P4=e=>Object.keys(e).some(Hw),e0=e=>e===zn||e===G,t0=(e,t)=>parseFloat(e.split(", ")[t]),s0=(e,t)=>(s,{transform:n})=>{if(n==="none"||!n)return 0;const a=n.match(/^matrix3d\((.+)\)$/);if(a)return t0(a[1],t);{const o=n.match(/^matrix\((.+)\)$/);return o?t0(o[1],e):0}},T4=new Set(["x","y","z"]),A4=wo.filter(e=>!T4.has(e));function R4(e){const t=[];return A4.forEach(s=>{const n=e.getValue(s);n!==void 0&&(t.push([s,n.get()]),n.set(s.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Lr={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:s0(4,13),y:s0(5,14)};Lr.translateX=Lr.x;Lr.translateY=Lr.y;const D4=(e,t,s)=>{const n=t.measureViewportBox(),a=t.current,o=getComputedStyle(a),{display:i}=o,l={};i==="none"&&t.setStaticValue("display",e.display||"block"),s.forEach(c=>{l[c]=Lr[c](n,o)}),t.render();const u=t.measureViewportBox();return s.forEach(c=>{const d=t.getValue(c);d&&d.jump(l[c]),e[c]=Lr[c](u,o)}),e},M4=(e,t,s={},n={})=>{t={...t},n={...n};const a=Object.keys(t).filter(Hw);let o=[],i=!1;const l=[];if(a.forEach(u=>{const c=e.getValue(u);if(!e.hasValue(u))return;let d=s[u],f=ca(d);const h=t[u];let y;if(al(h)){const b=h.length,g=h[0]===null?1:0;d=h[g],f=ca(d);for(let x=g;x<b&&h[x]!==null;x++)y?_p(ca(h[x])===y):y=ca(h[x])}else y=ca(h);if(f!==y)if(e0(f)&&e0(y)){const b=c.get();typeof b=="string"&&c.set(parseFloat(b)),typeof h=="string"?t[u]=parseFloat(h):Array.isArray(h)&&y===G&&(t[u]=h.map(parseFloat))}else f!=null&&f.transform&&(y!=null&&y.transform)&&(d===0||h===0)?d===0?c.set(y.transform(d)):t[u]=f.transform(h):(i||(o=R4(e),i=!0),l.push(u),n[u]=n[u]!==void 0?n[u]:t[u],c.jump(h))}),l.length){const u=l.indexOf("height")>=0?window.pageYOffset:null,c=D4(t,e,l);return o.length&&o.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),Ql&&u!==null&&window.scrollTo({top:u}),{target:c,transitionEnd:n}}else return{target:t,transitionEnd:n}};function _4(e,t,s,n){return P4(t)?M4(e,t,s,n):{target:t,transitionEnd:n}}const L4=(e,t,s,n)=>{const a=C4(e,t,n);return t=a.target,n=a.transitionEnd,_4(e,t,s,n)},zd={current:null},qw={current:!1};function O4(){if(qw.current=!0,!!Ql)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>zd.current=e.matches;e.addListener(t),t()}else zd.current=!1}function I4(e,t,s){const{willChange:n}=t;for(const a in t){const o=t[a],i=s[a];if(lt(o))e.addValue(a,o),cl(n)&&n.add(a);else if(lt(i))e.addValue(a,_r(o,{owner:e})),cl(n)&&n.remove(a);else if(i!==o)if(e.hasValue(a)){const l=e.getValue(a);!l.hasAnimated&&l.set(o)}else{const l=e.getStaticValue(a);e.addValue(a,_r(l!==void 0?l:o,{owner:e}))}}for(const a in s)t[a]===void 0&&e.removeValue(a);return t}const n0=new WeakMap,Kw=Object.keys(to),F4=Kw.length,r0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],V4=Cp.length;class $4{constructor({parent:t,props:s,presenceContext:n,reducedMotionConfig:a,visualState:o},i={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>fe.render(this.render,!1,!0);const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=s.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=s,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=i,this.isControllingVariants=Jl(s),this.isVariantNode=Rb(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(s,{});for(const f in d){const h=d[f];l[f]!==void 0&&lt(h)&&(h.set(l[f],!1),cl(c)&&c.add(f))}}scrapeMotionValuesFromProps(t,s){return{}}mount(t){this.current=t,n0.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,n)=>this.bindToMotionValue(n,s)),qw.current||O4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:zd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){n0.delete(this.current),this.projection&&this.projection.unmount(),gs(this.notifyUpdate),gs(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,s){const n=Un.has(t),a=s.on("change",i=>{this.latestValues[t]=i,this.props.onUpdate&&fe.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),o=s.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{a(),o()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...s},n,a,o){let i,l;for(let u=0;u<F4;u++){const c=Kw[u],{isEnabled:d,Feature:f,ProjectionNode:h,MeasureLayout:y}=to[c];h&&(i=h),d(s)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),y&&(l=y))}if((this.type==="html"||this.type==="svg")&&!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);const{layoutId:u,layout:c,drag:d,dragConstraints:f,layoutScroll:h,layoutRoot:y}=s;this.projection.setOptions({layoutId:u,layout:c,alwaysMeasureLayout:!!d||f&&cr(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:o,layoutScroll:h,layoutRoot:y})}return l}updateFeatures(){for(const t in this.features){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ke()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}makeTargetAnimatable(t,s=!0){return this.makeTargetAnimatableFromInstance(t,this.props,s)}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let n=0;n<r0.length;n++){const a=r0[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o=t["on"+a];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=I4(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const s={};for(let n=0;n<V4;n++){const a=Cp[n],o=this.props[a];(eo(o)||o===!1)&&(s[a]=o)}return s}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){s!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,s)),this.values.set(t,s),this.latestValues[t]=s.get()}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&s!==void 0&&(n=_r(s,{owner:this}),this.addValue(t,n)),n}readValue(t){var s;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(s=this.getBaseTargetFromProps(this.props,t))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var s;const{initial:n}=this.props,a=typeof n=="string"||typeof n=="object"?(s=Mp(this.props,n))===null||s===void 0?void 0:s[t]:void 0;if(n&&a!==void 0)return a;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!lt(o)?o:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new zp),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}}class Gw extends $4{sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:n}){delete s[t],delete n[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:s,...n},{transformValues:a},o){let i=nD(n,t||{},this);if(a&&(s&&(s=a(s)),n&&(n=a(n)),i&&(i=a(i))),o){tD(this,n,i);const l=L4(this,n,i,s);s=l.transitionEnd,n=l.target}return{transition:t,transitionEnd:s,...n}}}function B4(e){return window.getComputedStyle(e)}class U4 extends Gw{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,s){if(Un.has(s)){const n=Fp(s);return n&&n.default||0}else{const n=B4(t),a=(Ob(s)?n.getPropertyValue(s):n[s])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:s}){return Lw(t,s)}build(t,s,n,a){Pp(t,s,n,a.transformTemplate)}scrapeMotionValuesFromProps(t,s){return Dp(t,s)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;lt(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}renderInstance(t,s,n,a){Ub(t,s,n,a)}}class z4 extends Gw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(Un.has(s)){const n=Fp(s);return n&&n.default||0}return s=zb.has(s)?s:kp(s),t.getAttribute(s)}measureInstanceViewportBox(){return ke()}scrapeMotionValuesFromProps(t,s){return Hb(t,s)}build(t,s,n,a){Ap(t,s,n,this.isSVGTag,a.transformTemplate)}renderInstance(t,s,n,a){Wb(t,s,n,a)}mount(t){this.isSVGTag=Rp(t.tagName),super.mount(t)}}const W4=(e,t)=>Ep(e)?new z4(t,{enableHardwareAcceleration:!1}):new U4(t,{enableHardwareAcceleration:!0}),H4={layout:{ProjectionNode:Ww,MeasureLayout:Iw}},q4={...yD,...FA,...N4,...H4},Ce=qT((e,t)=>SA(e,t,q4,W4)),K4=()=>{const[e,t]=v.useState(""),[s,n]=v.useState(""),[a,o]=v.useState(!1),[i,l]=v.useState(!1),{login:u}=rn(),{toast:c}=nn(),d=async f=>{f.preventDefault(),l(!0);try{await u(e,s)}catch(h){c({variant:"destructive",title:"Login Failed",description:(h==null?void 0:h.message)??"Unable to sign in. Please try again."})}finally{l(!1)}};return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-sky-900 to-purple-900 p-4",children:r.jsx(Ce.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},children:r.jsxs(ne,{className:"w-full max-w-md shadow-2xl bg-slate-800/70 backdrop-blur-lg border-slate-700",children:[r.jsxs(Le,{className:"text-center",children:[r.jsx(cs,{className:"mx-auto h-16 w-16 text-sky-400 mb-4"}),r.jsx(Oe,{className:"text-3xl font-bold text-slate-100",children:"Welcome to AURA GDPR"}),r.jsx(Xt,{className:"text-slate-400",children:"Sign in to access your compliance dashboard."})]}),r.jsx(re,{children:r.jsxs("form",{onSubmit:d,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Mt,{htmlFor:"email",className:"text-slate-300",children:"Email"}),r.jsx(dt,{id:"email",type:"email",placeholder:"you@example.com",value:e,onChange:f=>t(f.target.value),required:!0,className:"bg-slate-700 border-slate-600 text-slate-100 placeholder-slate-400 focus:ring-sky-500 focus:border-sky-500"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Mt,{htmlFor:"password",className:"text-slate-300",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(dt,{id:"password",type:a?"text":"password",placeholder:"********",value:s,onChange:f=>n(f.target.value),required:!0,className:"bg-slate-700 border-slate-600 text-slate-100 placeholder-slate-400 focus:ring-sky-500 focus:border-sky-500 pr-10"}),r.jsx(U,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 text-slate-400 hover:text-sky-400",onClick:()=>o(!a),children:a?r.jsx(bd,{className:"h-4 w-4"}):r.jsx(wd,{className:"h-4 w-4"})})]})]}),r.jsx(U,{type:"submit",className:"w-full bg-gradient-to-r from-sky-500 to-purple-600 hover:from-sky-600 hover:to-purple-700 text-white font-semibold py-3 text-base",disabled:i,children:i?"Signing In...":"Sign In"})]})}),r.jsxs(jp,{className:"flex flex-col items-center space-y-2",children:[r.jsx(Rr,{to:"/forgot-password",className:"text-sm text-sky-400 hover:underline",children:"Forgot password?"}),r.jsxs("p",{className:"text-sm text-slate-400",children:["Don't have an account?"," ",r.jsx(Rr,{to:"/register",className:"font-medium text-sky-400 hover:underline",children:"Sign up"})]})]})]})})})},G4=()=>{const[e,t]=v.useState(""),[s,n]=v.useState(""),[a,o]=v.useState(""),[i,l]=v.useState(!1),[u,c]=v.useState(!1),[d,f]=v.useState(!1),h=$n(),{register:y}=rn(),{toast:b}=nn(),g=async x=>{if(x.preventDefault(),s!==a){b({variant:"destructive",title:"Registration Error",description:"Passwords do not match."});return}f(!0);try{await y(e,s),h("/app/dashboard")}catch(m){b({variant:"destructive",title:"Registration Failed",description:(m==null?void 0:m.message)??"Could not create your account. Please try again."})}finally{f(!1)}};return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-sky-900 to-purple-900 p-4",children:r.jsx(Ce.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},children:r.jsxs(ne,{className:"w-full max-w-md shadow-2xl bg-slate-800/70 backdrop-blur-lg border-slate-700",children:[r.jsxs(Le,{className:"text-center",children:[r.jsx(UE,{className:"mx-auto h-16 w-16 text-sky-400 mb-4"}),r.jsx(Oe,{className:"text-3xl font-bold text-slate-100",children:"Create your AURA Account"}),r.jsx(Xt,{className:"text-slate-400",children:"Join us to simplify your GDPR compliance."})]}),r.jsx(re,{children:r.jsxs("form",{onSubmit:g,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Mt,{htmlFor:"email-register",className:"text-slate-300",children:"Email"}),r.jsx(dt,{id:"email-register",type:"email",placeholder:"you@example.com",value:e,onChange:x=>t(x.target.value),required:!0,className:"bg-slate-700 border-slate-600 text-slate-100 placeholder-slate-400 focus:ring-sky-500 focus:border-sky-500"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Mt,{htmlFor:"password-register",className:"text-slate-300",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(dt,{id:"password-register",type:i?"text":"password",placeholder:"********",value:s,onChange:x=>n(x.target.value),required:!0,className:"bg-slate-700 border-slate-600 text-slate-100 placeholder-slate-400 focus:ring-sky-500 focus:border-sky-500 pr-10"}),r.jsx(U,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 text-slate-400 hover:text-sky-400",onClick:()=>l(!i),children:i?r.jsx(bd,{className:"h-4 w-4"}):r.jsx(wd,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Mt,{htmlFor:"confirm-password",className:"text-slate-300",children:"Confirm Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(dt,{id:"confirm-password",type:u?"text":"password",placeholder:"********",value:a,onChange:x=>o(x.target.value),required:!0,className:"bg-slate-700 border-slate-600 text-slate-100 placeholder-slate-400 focus:ring-sky-500 focus:border-sky-500 pr-10"}),r.jsx(U,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 text-slate-400 hover:text-sky-400",onClick:()=>c(!u),children:u?r.jsx(bd,{className:"h-4 w-4"}):r.jsx(wd,{className:"h-4 w-4"})})]})]}),r.jsx(U,{type:"submit",className:"w-full bg-gradient-to-r from-sky-500 to-purple-600 hover:from-sky-600 hover:to-purple-700 text-white font-semibold py-3 text-base",disabled:d,children:d?"Creating Account...":"Sign Up"})]})}),r.jsx(jp,{className:"flex justify-center",children:r.jsxs("p",{className:"text-sm text-slate-400",children:["Already have an account?"," ",r.jsx(Rr,{to:"/login",className:"font-medium text-sky-400 hover:underline",children:"Sign in"})]})})]})})})},Y4=[{title:"Overview",items:[{label:"Dashboard",path:"/app/dashboard",icon:TE}]},{title:"Compliance",items:[{label:"Documents",path:"/app/documents",icon:Za},{label:"Policies",path:"/app/policies",icon:cs},{label:"Data Subject Requests",path:"/app/dsr",icon:cp},{label:"DPIA",path:"/app/dpia",icon:SE},{label:"ROPA",path:"/app/ropa",icon:jE},{label:"Cookies",path:"/app/cookies",icon:wE},{label:"TOMs",path:"/app/toms",icon:Ja},{label:"Incidents",path:"/app/incidents",icon:Hr}]},{title:"Governance",items:[{label:"Tasks",path:"/app/tasks",icon:xE},{label:"Projects",path:"/app/projects",icon:fE},{label:"Risk Matrix",path:"/app/risk-matrix",icon:op},{label:"Audit Log",path:"/app/audit",icon:bE},{label:"Notifications",path:"/app/notifications",icon:ip},{label:"Admin",path:"/app/admin",icon:cs,adminOnly:!0}]},{title:"AI Tools",items:[{label:"AI Assistant",path:"/app/ai-assistant",icon:Bn},{label:"AI Policy Generator",icon:Za,disabled:!0},{label:"AI Audit Engine",path:"/app/ai-audit",icon:CE}]},{title:"Account",items:[{label:"Billing",path:"/app/billing",icon:$v},{label:"Settings",path:"/app/settings",icon:zv},{label:"IAM",path:"/app/iam",icon:cs},{label:"Security health",path:"/app/security-health",icon:Wl}]}],X4=({isOpen:e,onClose:t})=>{const{user:s}=rn(),n=(s==null?void 0:s.role)==="Admin",a=P.useMemo(()=>Y4.map(i=>({...i,items:i.items.filter(l=>l.adminOnly?n:!0)})).filter(i=>i.items.length>0),[n]),o=i=>!i.path||i.disabled?r.jsxs("div",{className:"flex items-center gap-3 rounded-md border-l-2 border-transparent bg-white/50 px-3 py-2 text-sm font-medium text-slate-400",children:[r.jsx(i.icon,{className:"h-5 w-5"}),r.jsx("span",{children:i.label})]},i.label):r.jsxs(Dr,{to:i.path,onClick:t,className:({isActive:l})=>Z("group flex items-center gap-3 rounded-md border-l-2 px-3 py-2 text-sm font-medium transition-all",l?"border-sky-500 bg-white shadow-sm text-slate-900":"border-transparent text-slate-600 hover:border-slate-200 hover:bg-white/80"),children:[r.jsx(i.icon,{className:"h-5 w-5 text-slate-500 group-hover:text-slate-800"}),r.jsx("span",{children:i.label})]},i.label);return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:Z("fixed inset-0 z-30 bg-slate-900/40 backdrop-blur-sm transition-opacity lg:hidden",e?"opacity-100":"pointer-events-none opacity-0"),onClick:t}),r.jsxs("aside",{className:Z("fixed inset-y-0 left-0 z-40 w-72 transform border-r border-slate-200 bg-white/90 backdrop-blur shadow-xl transition-transform duration-200 lg:static lg:z-auto lg:flex lg:w-72 lg:translate-x-0 lg:flex-col lg:shadow-none",e?"translate-x-0":"-translate-x-full"),children:[r.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-slate-200 bg-white/70 backdrop-blur",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Workspace"}),r.jsx("p",{className:"text-lg font-semibold text-slate-900",children:"AURA-GDPR"})]}),r.jsx(U,{variant:"ghost",size:"icon",className:"lg:hidden text-slate-500 hover:text-slate-900",onClick:t,"aria-label":"Close navigation",children:r.jsx(Ee,{className:"h-5 w-5"})})]}),r.jsx("nav",{className:"flex-1 space-y-6 overflow-y-auto px-4 py-4",children:a.map(i=>r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"px-3 text-xs font-semibold uppercase tracking-wide text-slate-500",children:i.title}),r.jsx("div",{className:"space-y-1",children:i.items.map(l=>o(l))})]},i.title))})]})]})};var Yw={exports:{}},Xw={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Or=v;function Q4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Z4=typeof Object.is=="function"?Object.is:Q4,J4=Or.useState,e3=Or.useEffect,t3=Or.useLayoutEffect,s3=Or.useDebugValue;function n3(e,t){var s=t(),n=J4({inst:{value:s,getSnapshot:t}}),a=n[0].inst,o=n[1];return t3(function(){a.value=s,a.getSnapshot=t,ru(a)&&o({inst:a})},[e,s,t]),e3(function(){return ru(a)&&o({inst:a}),e(function(){ru(a)&&o({inst:a})})},[e]),s3(s),s}function ru(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Z4(e,s)}catch{return!0}}function r3(e,t){return t()}var a3=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?r3:n3;Xw.useSyncExternalStore=Or.useSyncExternalStore!==void 0?Or.useSyncExternalStore:a3;Yw.exports=Xw;var o3=Yw.exports;function i3(){return o3.useSyncExternalStore(l3,()=>!0,()=>!1)}function l3(){return()=>{}}var Wp="Avatar",[c3,hV]=sn(Wp),[u3,Qw]=c3(Wp),Zw=v.forwardRef((e,t)=>{const{__scopeAvatar:s,...n}=e,[a,o]=v.useState("idle");return r.jsx(u3,{scope:s,imageLoadingStatus:a,onImageLoadingStatusChange:o,children:r.jsx(le.span,{...n,ref:t})})});Zw.displayName=Wp;var Jw="AvatarImage",ej=v.forwardRef((e,t)=>{const{__scopeAvatar:s,src:n,onLoadingStatusChange:a=()=>{},...o}=e,i=Qw(Jw,s),l=d3(n,o),u=it(c=>{a(c),i.onImageLoadingStatusChange(c)});return Pt(()=>{l!=="idle"&&u(l)},[l,u]),l==="loaded"?r.jsx(le.img,{...o,ref:t,src:n}):null});ej.displayName=Jw;var tj="AvatarFallback",sj=v.forwardRef((e,t)=>{const{__scopeAvatar:s,delayMs:n,...a}=e,o=Qw(tj,s),[i,l]=v.useState(n===void 0);return v.useEffect(()=>{if(n!==void 0){const u=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(u)}},[n]),i&&o.imageLoadingStatus!=="loaded"?r.jsx(le.span,{...a,ref:t}):null});sj.displayName=tj;function a0(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function d3(e,{referrerPolicy:t,crossOrigin:s}){const n=i3(),a=v.useRef(null),o=n?(a.current||(a.current=new window.Image),a.current):null,[i,l]=v.useState(()=>a0(o,e));return Pt(()=>{l(a0(o,e))},[o,e]),Pt(()=>{const u=f=>()=>{l(f)};if(!o)return;const c=u("loaded"),d=u("error");return o.addEventListener("load",c),o.addEventListener("error",d),t&&(o.referrerPolicy=t),typeof s=="string"&&(o.crossOrigin=s),()=>{o.removeEventListener("load",c),o.removeEventListener("error",d)}},[o,s,t]),i}var nj=Zw,rj=ej,aj=sj;const Hp=P.forwardRef(({className:e,...t},s)=>r.jsx(nj,{ref:s,className:Z("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Hp.displayName=nj.displayName;const qp=P.forwardRef(({className:e,...t},s)=>r.jsx(rj,{ref:s,className:Z("aspect-square h-full w-full",e),...t}));qp.displayName=rj.displayName;const Kp=P.forwardRef(({className:e,...t},s)=>r.jsx(aj,{ref:s,className:Z("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Kp.displayName=aj.displayName;const f3={default:"bg-primary text-primary-foreground",secondary:"bg-secondary text-secondary-foreground",outline:"border border-border text-foreground"},no=v.forwardRef(({className:e,variant:t="default",...s},n)=>r.jsx("div",{ref:n,className:Z("inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold",f3[t],e),...s}));no.displayName="Badge";var p3=v.createContext(void 0);function oj(e){const t=v.useContext(p3);return e||t||"ltr"}var au=0;function m3(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??o0()),document.body.insertAdjacentElement("beforeend",e[1]??o0()),au++,()=>{au===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),au--}},[])}function o0(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ou="focusScope.autoFocusOnMount",iu="focusScope.autoFocusOnUnmount",i0={bubbles:!1,cancelable:!0},h3="FocusScope",ij=v.forwardRef((e,t)=>{const{loop:s=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...i}=e,[l,u]=v.useState(null),c=it(a),d=it(o),f=v.useRef(null),h=Ae(t,g=>u(g)),y=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(n){let g=function(w){if(y.paused||!l)return;const j=w.target;l.contains(j)?f.current=j:Cs(f.current,{select:!0})},x=function(w){if(y.paused||!l)return;const j=w.relatedTarget;j!==null&&(l.contains(j)||Cs(f.current,{select:!0}))},m=function(w){if(document.activeElement===document.body)for(const k of w)k.removedNodes.length>0&&Cs(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",x);const p=new MutationObserver(m);return l&&p.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",x),p.disconnect()}}},[n,l,y.paused]),v.useEffect(()=>{if(l){c0.add(y);const g=document.activeElement;if(!l.contains(g)){const m=new CustomEvent(ou,i0);l.addEventListener(ou,c),l.dispatchEvent(m),m.defaultPrevented||(x3(w3(lj(l)),{select:!0}),document.activeElement===g&&Cs(l))}return()=>{l.removeEventListener(ou,c),setTimeout(()=>{const m=new CustomEvent(iu,i0);l.addEventListener(iu,d),l.dispatchEvent(m),m.defaultPrevented||Cs(g??document.body,{select:!0}),l.removeEventListener(iu,d),c0.remove(y)},0)}}},[l,c,d,y]);const b=v.useCallback(g=>{if(!s&&!n||y.paused)return;const x=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,m=document.activeElement;if(x&&m){const p=g.currentTarget,[w,j]=g3(p);w&&j?!g.shiftKey&&m===j?(g.preventDefault(),s&&Cs(w,{select:!0})):g.shiftKey&&m===w&&(g.preventDefault(),s&&Cs(j,{select:!0})):m===p&&g.preventDefault()}},[s,n,y.paused]);return r.jsx(le.div,{tabIndex:-1,...i,ref:h,onKeyDown:b})});ij.displayName=h3;function x3(e,{select:t=!1}={}){const s=document.activeElement;for(const n of e)if(Cs(n,{select:t}),document.activeElement!==s)return}function g3(e){const t=lj(e),s=l0(t,e),n=l0(t.reverse(),e);return[s,n]}function lj(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function l0(e,t){for(const s of e)if(!y3(s,{upTo:t}))return s}function y3(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function v3(e){return e instanceof HTMLInputElement&&"select"in e}function Cs(e,{select:t=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&v3(e)&&t&&e.select()}}var c0=b3();function b3(){let e=[];return{add(t){const s=e[0];t!==s&&(s==null||s.pause()),e=u0(e,t),e.unshift(t)},remove(t){var s;e=u0(e,t),(s=e[0])==null||s.resume()}}}function u0(e,t){const s=[...e],n=s.indexOf(t);return n!==-1&&s.splice(n,1),s}function w3(e){return e.filter(t=>t.tagName!=="A")}var j3=sf[" useId ".trim().toString()]||(()=>{}),N3=0;function Wd(e){const[t,s]=v.useState(j3());return Pt(()=>{s(n=>n??String(N3++))},[e]),t?`radix-${t}`:""}const k3=["top","right","bottom","left"],Qs=Math.min,ut=Math.max,dl=Math.round,si=Math.floor,Zt=e=>({x:e,y:e}),S3={left:"right",right:"left",bottom:"top",top:"bottom"},C3={start:"end",end:"start"};function Hd(e,t,s){return ut(e,Qs(t,s))}function ys(e,t){return typeof e=="function"?e(t):e}function vs(e){return e.split("-")[0]}function Gr(e){return e.split("-")[1]}function Gp(e){return e==="x"?"y":"x"}function Yp(e){return e==="y"?"height":"width"}function fs(e){return["top","bottom"].includes(vs(e))?"y":"x"}function Xp(e){return Gp(fs(e))}function E3(e,t,s){s===void 0&&(s=!1);const n=Gr(e),a=Xp(e),o=Yp(a);let i=a==="x"?n===(s?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=fl(i)),[i,fl(i)]}function P3(e){const t=fl(e);return[qd(e),t,qd(t)]}function qd(e){return e.replace(/start|end/g,t=>C3[t])}function T3(e,t,s){const n=["left","right"],a=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return s?t?a:n:t?n:a;case"left":case"right":return t?o:i;default:return[]}}function A3(e,t,s,n){const a=Gr(e);let o=T3(vs(e),s==="start",n);return a&&(o=o.map(i=>i+"-"+a),t&&(o=o.concat(o.map(qd)))),o}function fl(e){return e.replace(/left|right|bottom|top/g,t=>S3[t])}function R3(e){return{top:0,right:0,bottom:0,left:0,...e}}function cj(e){return typeof e!="number"?R3(e):{top:e,right:e,bottom:e,left:e}}function pl(e){const{x:t,y:s,width:n,height:a}=e;return{width:n,height:a,top:s,left:t,right:t+n,bottom:s+a,x:t,y:s}}function d0(e,t,s){let{reference:n,floating:a}=e;const o=fs(t),i=Xp(t),l=Yp(i),u=vs(t),c=o==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let y;switch(u){case"top":y={x:d,y:n.y-a.height};break;case"bottom":y={x:d,y:n.y+n.height};break;case"right":y={x:n.x+n.width,y:f};break;case"left":y={x:n.x-a.width,y:f};break;default:y={x:n.x,y:n.y}}switch(Gr(t)){case"start":y[i]-=h*(s&&c?-1:1);break;case"end":y[i]+=h*(s&&c?-1:1);break}return y}const D3=async(e,t,s)=>{const{placement:n="bottom",strategy:a="absolute",middleware:o=[],platform:i}=s,l=o.filter(Boolean),u=await(i.isRTL==null?void 0:i.isRTL(t));let c=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=d0(c,n,u),h=n,y={},b=0;for(let g=0;g<l.length;g++){const{name:x,fn:m}=l[g],{x:p,y:w,data:j,reset:k}=await m({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:y,rects:c,platform:i,elements:{reference:e,floating:t}});d=p??d,f=w??f,y={...y,[x]:{...y[x],...j}},k&&b<=50&&(b++,typeof k=="object"&&(k.placement&&(h=k.placement),k.rects&&(c=k.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:a}):k.rects),{x:d,y:f}=d0(c,h,u)),g=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:y}};async function ro(e,t){var s;t===void 0&&(t={});const{x:n,y:a,platform:o,rects:i,elements:l,strategy:u}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:y=0}=ys(t,e),b=cj(y),x=l[h?f==="floating"?"reference":"floating":f],m=pl(await o.getClippingRect({element:(s=await(o.isElement==null?void 0:o.isElement(x)))==null||s?x:x.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:c,rootBoundary:d,strategy:u})),p=f==="floating"?{x:n,y:a,width:i.floating.width,height:i.floating.height}:i.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),j=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},k=pl(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:p,offsetParent:w,strategy:u}):p);return{top:(m.top-k.top+b.top)/j.y,bottom:(k.bottom-m.bottom+b.bottom)/j.y,left:(m.left-k.left+b.left)/j.x,right:(k.right-m.right+b.right)/j.x}}const M3=e=>({name:"arrow",options:e,async fn(t){const{x:s,y:n,placement:a,rects:o,platform:i,elements:l,middlewareData:u}=t,{element:c,padding:d=0}=ys(e,t)||{};if(c==null)return{};const f=cj(d),h={x:s,y:n},y=Xp(a),b=Yp(y),g=await i.getDimensions(c),x=y==="y",m=x?"top":"left",p=x?"bottom":"right",w=x?"clientHeight":"clientWidth",j=o.reference[b]+o.reference[y]-h[y]-o.floating[b],k=h[y]-o.reference[y],E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let C=E?E[w]:0;(!C||!await(i.isElement==null?void 0:i.isElement(E)))&&(C=l.floating[w]||o.floating[b]);const N=j/2-k/2,S=C/2-g[b]/2-1,T=Qs(f[m],S),I=Qs(f[p],S),D=T,O=C-g[b]-I,_=C/2-g[b]/2+N,F=Hd(D,_,O),$=!u.arrow&&Gr(a)!=null&&_!==F&&o.reference[b]/2-(_<D?T:I)-g[b]/2<0,q=$?_<D?_-D:_-O:0;return{[y]:h[y]+q,data:{[y]:F,centerOffset:_-F-q,...$&&{alignmentOffset:q}},reset:$}}}),_3=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var s,n;const{placement:a,middlewareData:o,rects:i,initialPlacement:l,platform:u,elements:c}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:g=!0,...x}=ys(e,t);if((s=o.arrow)!=null&&s.alignmentOffset)return{};const m=vs(a),p=fs(l),w=vs(l)===l,j=await(u.isRTL==null?void 0:u.isRTL(c.floating)),k=h||(w||!g?[fl(l)]:P3(l)),E=b!=="none";!h&&E&&k.push(...A3(l,g,b,j));const C=[l,...k],N=await ro(t,x),S=[];let T=((n=o.flip)==null?void 0:n.overflows)||[];if(d&&S.push(N[m]),f){const F=E3(a,i,j);S.push(N[F[0]],N[F[1]])}if(T=[...T,{placement:a,overflows:S}],!S.every(F=>F<=0)){var I,D;const F=(((I=o.flip)==null?void 0:I.index)||0)+1,$=C[F];if($){var O;const R=f==="alignment"?p!==fs($):!1,M=((O=T[0])==null?void 0:O.overflows[0])>0;if(!R||M)return{data:{index:F,overflows:T},reset:{placement:$}}}let q=(D=T.filter(R=>R.overflows[0]<=0).sort((R,M)=>R.overflows[1]-M.overflows[1])[0])==null?void 0:D.placement;if(!q)switch(y){case"bestFit":{var _;const R=(_=T.filter(M=>{if(E){const L=fs(M.placement);return L===p||L==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(L=>L>0).reduce((L,V)=>L+V,0)]).sort((M,L)=>M[1]-L[1])[0])==null?void 0:_[0];R&&(q=R);break}case"initialPlacement":q=l;break}if(a!==q)return{reset:{placement:q}}}return{}}}};function f0(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function p0(e){return k3.some(t=>e[t]>=0)}const L3=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:s}=t,{strategy:n="referenceHidden",...a}=ys(e,t);switch(n){case"referenceHidden":{const o=await ro(t,{...a,elementContext:"reference"}),i=f0(o,s.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:p0(i)}}}case"escaped":{const o=await ro(t,{...a,altBoundary:!0}),i=f0(o,s.floating);return{data:{escapedOffsets:i,escaped:p0(i)}}}default:return{}}}}};async function O3(e,t){const{placement:s,platform:n,elements:a}=e,o=await(n.isRTL==null?void 0:n.isRTL(a.floating)),i=vs(s),l=Gr(s),u=fs(s)==="y",c=["left","top"].includes(i)?-1:1,d=o&&u?-1:1,f=ys(t,e);let{mainAxis:h,crossAxis:y,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof b=="number"&&(y=l==="end"?b*-1:b),u?{x:y*d,y:h*c}:{x:h*c,y:y*d}}const I3=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var s,n;const{x:a,y:o,placement:i,middlewareData:l}=t,u=await O3(t,e);return i===((s=l.offset)==null?void 0:s.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+u.x,y:o+u.y,data:{...u,placement:i}}}}},F3=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:s,y:n,placement:a}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:x=>{let{x:m,y:p}=x;return{x:m,y:p}}},...u}=ys(e,t),c={x:s,y:n},d=await ro(t,u),f=fs(vs(a)),h=Gp(f);let y=c[h],b=c[f];if(o){const x=h==="y"?"top":"left",m=h==="y"?"bottom":"right",p=y+d[x],w=y-d[m];y=Hd(p,y,w)}if(i){const x=f==="y"?"top":"left",m=f==="y"?"bottom":"right",p=b+d[x],w=b-d[m];b=Hd(p,b,w)}const g=l.fn({...t,[h]:y,[f]:b});return{...g,data:{x:g.x-s,y:g.y-n,enabled:{[h]:o,[f]:i}}}}}},V3=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:s,y:n,placement:a,rects:o,middlewareData:i}=t,{offset:l=0,mainAxis:u=!0,crossAxis:c=!0}=ys(e,t),d={x:s,y:n},f=fs(a),h=Gp(f);let y=d[h],b=d[f];const g=ys(l,t),x=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(u){const w=h==="y"?"height":"width",j=o.reference[h]-o.floating[w]+x.mainAxis,k=o.reference[h]+o.reference[w]-x.mainAxis;y<j?y=j:y>k&&(y=k)}if(c){var m,p;const w=h==="y"?"width":"height",j=["top","left"].includes(vs(a)),k=o.reference[f]-o.floating[w]+(j&&((m=i.offset)==null?void 0:m[f])||0)+(j?0:x.crossAxis),E=o.reference[f]+o.reference[w]+(j?0:((p=i.offset)==null?void 0:p[f])||0)-(j?x.crossAxis:0);b<k?b=k:b>E&&(b=E)}return{[h]:y,[f]:b}}}},$3=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var s,n;const{placement:a,rects:o,platform:i,elements:l}=t,{apply:u=()=>{},...c}=ys(e,t),d=await ro(t,c),f=vs(a),h=Gr(a),y=fs(a)==="y",{width:b,height:g}=o.floating;let x,m;f==="top"||f==="bottom"?(x=f,m=h===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(m=f,x=h==="end"?"top":"bottom");const p=g-d.top-d.bottom,w=b-d.left-d.right,j=Qs(g-d[x],p),k=Qs(b-d[m],w),E=!t.middlewareData.shift;let C=j,N=k;if((s=t.middlewareData.shift)!=null&&s.enabled.x&&(N=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(C=p),E&&!h){const T=ut(d.left,0),I=ut(d.right,0),D=ut(d.top,0),O=ut(d.bottom,0);y?N=b-2*(T!==0||I!==0?T+I:ut(d.left,d.right)):C=g-2*(D!==0||O!==0?D+O:ut(d.top,d.bottom))}await u({...t,availableWidth:N,availableHeight:C});const S=await i.getDimensions(l.floating);return b!==S.width||g!==S.height?{reset:{rects:!0}}:{}}}};function nc(){return typeof window<"u"}function Yr(e){return uj(e)?(e.nodeName||"").toLowerCase():"#document"}function mt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ts(e){var t;return(t=(uj(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function uj(e){return nc()?e instanceof Node||e instanceof mt(e).Node:!1}function It(e){return nc()?e instanceof Element||e instanceof mt(e).Element:!1}function Jt(e){return nc()?e instanceof HTMLElement||e instanceof mt(e).HTMLElement:!1}function m0(e){return!nc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof mt(e).ShadowRoot}function So(e){const{overflow:t,overflowX:s,overflowY:n,display:a}=Ft(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+s)&&!["inline","contents"].includes(a)}function B3(e){return["table","td","th"].includes(Yr(e))}function rc(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Qp(e){const t=Zp(),s=It(e)?Ft(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>s[n]?s[n]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!t&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!t&&(s.filter?s.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(s.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(s.contain||"").includes(n))}function U3(e){let t=Zs(e);for(;Jt(t)&&!Ir(t);){if(Qp(t))return t;if(rc(t))return null;t=Zs(t)}return null}function Zp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ir(e){return["html","body","#document"].includes(Yr(e))}function Ft(e){return mt(e).getComputedStyle(e)}function ac(e){return It(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Zs(e){if(Yr(e)==="html")return e;const t=e.assignedSlot||e.parentNode||m0(e)&&e.host||ts(e);return m0(t)?t.host:t}function dj(e){const t=Zs(e);return Ir(t)?e.ownerDocument?e.ownerDocument.body:e.body:Jt(t)&&So(t)?t:dj(t)}function ao(e,t,s){var n;t===void 0&&(t=[]),s===void 0&&(s=!0);const a=dj(e),o=a===((n=e.ownerDocument)==null?void 0:n.body),i=mt(a);if(o){const l=Kd(i);return t.concat(i,i.visualViewport||[],So(a)?a:[],l&&s?ao(l):[])}return t.concat(a,ao(a,[],s))}function Kd(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function fj(e){const t=Ft(e);let s=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Jt(e),o=a?e.offsetWidth:s,i=a?e.offsetHeight:n,l=dl(s)!==o||dl(n)!==i;return l&&(s=o,n=i),{width:s,height:n,$:l}}function Jp(e){return It(e)?e:e.contextElement}function br(e){const t=Jp(e);if(!Jt(t))return Zt(1);const s=t.getBoundingClientRect(),{width:n,height:a,$:o}=fj(t);let i=(o?dl(s.width):s.width)/n,l=(o?dl(s.height):s.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const z3=Zt(0);function pj(e){const t=mt(e);return!Zp()||!t.visualViewport?z3:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function W3(e,t,s){return t===void 0&&(t=!1),!s||t&&s!==mt(e)?!1:t}function On(e,t,s,n){t===void 0&&(t=!1),s===void 0&&(s=!1);const a=e.getBoundingClientRect(),o=Jp(e);let i=Zt(1);t&&(n?It(n)&&(i=br(n)):i=br(e));const l=W3(o,s,n)?pj(o):Zt(0);let u=(a.left+l.x)/i.x,c=(a.top+l.y)/i.y,d=a.width/i.x,f=a.height/i.y;if(o){const h=mt(o),y=n&&It(n)?mt(n):n;let b=h,g=Kd(b);for(;g&&n&&y!==b;){const x=br(g),m=g.getBoundingClientRect(),p=Ft(g),w=m.left+(g.clientLeft+parseFloat(p.paddingLeft))*x.x,j=m.top+(g.clientTop+parseFloat(p.paddingTop))*x.y;u*=x.x,c*=x.y,d*=x.x,f*=x.y,u+=w,c+=j,b=mt(g),g=Kd(b)}}return pl({width:d,height:f,x:u,y:c})}function em(e,t){const s=ac(e).scrollLeft;return t?t.left+s:On(ts(e)).left+s}function mj(e,t,s){s===void 0&&(s=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(s?0:em(e,n)),o=n.top+t.scrollTop;return{x:a,y:o}}function H3(e){let{elements:t,rect:s,offsetParent:n,strategy:a}=e;const o=a==="fixed",i=ts(n),l=t?rc(t.floating):!1;if(n===i||l&&o)return s;let u={scrollLeft:0,scrollTop:0},c=Zt(1);const d=Zt(0),f=Jt(n);if((f||!f&&!o)&&((Yr(n)!=="body"||So(i))&&(u=ac(n)),Jt(n))){const y=On(n);c=br(n),d.x=y.x+n.clientLeft,d.y=y.y+n.clientTop}const h=i&&!f&&!o?mj(i,u,!0):Zt(0);return{width:s.width*c.x,height:s.height*c.y,x:s.x*c.x-u.scrollLeft*c.x+d.x+h.x,y:s.y*c.y-u.scrollTop*c.y+d.y+h.y}}function q3(e){return Array.from(e.getClientRects())}function K3(e){const t=ts(e),s=ac(e),n=e.ownerDocument.body,a=ut(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=ut(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-s.scrollLeft+em(e);const l=-s.scrollTop;return Ft(n).direction==="rtl"&&(i+=ut(t.clientWidth,n.clientWidth)-a),{width:a,height:o,x:i,y:l}}function G3(e,t){const s=mt(e),n=ts(e),a=s.visualViewport;let o=n.clientWidth,i=n.clientHeight,l=0,u=0;if(a){o=a.width,i=a.height;const c=Zp();(!c||c&&t==="fixed")&&(l=a.offsetLeft,u=a.offsetTop)}return{width:o,height:i,x:l,y:u}}function Y3(e,t){const s=On(e,!0,t==="fixed"),n=s.top+e.clientTop,a=s.left+e.clientLeft,o=Jt(e)?br(e):Zt(1),i=e.clientWidth*o.x,l=e.clientHeight*o.y,u=a*o.x,c=n*o.y;return{width:i,height:l,x:u,y:c}}function h0(e,t,s){let n;if(t==="viewport")n=G3(e,s);else if(t==="document")n=K3(ts(e));else if(It(t))n=Y3(t,s);else{const a=pj(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return pl(n)}function hj(e,t){const s=Zs(e);return s===t||!It(s)||Ir(s)?!1:Ft(s).position==="fixed"||hj(s,t)}function X3(e,t){const s=t.get(e);if(s)return s;let n=ao(e,[],!1).filter(l=>It(l)&&Yr(l)!=="body"),a=null;const o=Ft(e).position==="fixed";let i=o?Zs(e):e;for(;It(i)&&!Ir(i);){const l=Ft(i),u=Qp(i);!u&&l.position==="fixed"&&(a=null),(o?!u&&!a:!u&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||So(i)&&!u&&hj(e,i))?n=n.filter(d=>d!==i):a=l,i=Zs(i)}return t.set(e,n),n}function Q3(e){let{element:t,boundary:s,rootBoundary:n,strategy:a}=e;const i=[...s==="clippingAncestors"?rc(t)?[]:X3(t,this._c):[].concat(s),n],l=i[0],u=i.reduce((c,d)=>{const f=h0(t,d,a);return c.top=ut(f.top,c.top),c.right=Qs(f.right,c.right),c.bottom=Qs(f.bottom,c.bottom),c.left=ut(f.left,c.left),c},h0(t,l,a));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function Z3(e){const{width:t,height:s}=fj(e);return{width:t,height:s}}function J3(e,t,s){const n=Jt(t),a=ts(t),o=s==="fixed",i=On(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const u=Zt(0);function c(){u.x=em(a)}if(n||!n&&!o)if((Yr(t)!=="body"||So(a))&&(l=ac(t)),n){const y=On(t,!0,o,t);u.x=y.x+t.clientLeft,u.y=y.y+t.clientTop}else a&&c();o&&!n&&a&&c();const d=a&&!n&&!o?mj(a,l):Zt(0),f=i.left+l.scrollLeft-u.x-d.x,h=i.top+l.scrollTop-u.y-d.y;return{x:f,y:h,width:i.width,height:i.height}}function lu(e){return Ft(e).position==="static"}function x0(e,t){if(!Jt(e)||Ft(e).position==="fixed")return null;if(t)return t(e);let s=e.offsetParent;return ts(e)===s&&(s=s.ownerDocument.body),s}function xj(e,t){const s=mt(e);if(rc(e))return s;if(!Jt(e)){let a=Zs(e);for(;a&&!Ir(a);){if(It(a)&&!lu(a))return a;a=Zs(a)}return s}let n=x0(e,t);for(;n&&B3(n)&&lu(n);)n=x0(n,t);return n&&Ir(n)&&lu(n)&&!Qp(n)?s:n||U3(e)||s}const eM=async function(e){const t=this.getOffsetParent||xj,s=this.getDimensions,n=await s(e.floating);return{reference:J3(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function tM(e){return Ft(e).direction==="rtl"}const sM={convertOffsetParentRelativeRectToViewportRelativeRect:H3,getDocumentElement:ts,getClippingRect:Q3,getOffsetParent:xj,getElementRects:eM,getClientRects:q3,getDimensions:Z3,getScale:br,isElement:It,isRTL:tM};function gj(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function nM(e,t){let s=null,n;const a=ts(e);function o(){var l;clearTimeout(n),(l=s)==null||l.disconnect(),s=null}function i(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),o();const c=e.getBoundingClientRect(),{left:d,top:f,width:h,height:y}=c;if(l||t(),!h||!y)return;const b=si(f),g=si(a.clientWidth-(d+h)),x=si(a.clientHeight-(f+y)),m=si(d),w={rootMargin:-b+"px "+-g+"px "+-x+"px "+-m+"px",threshold:ut(0,Qs(1,u))||1};let j=!0;function k(E){const C=E[0].intersectionRatio;if(C!==u){if(!j)return i();C?i(!1,C):n=setTimeout(()=>{i(!1,1e-7)},1e3)}C===1&&!gj(c,e.getBoundingClientRect())&&i(),j=!1}try{s=new IntersectionObserver(k,{...w,root:a.ownerDocument})}catch{s=new IntersectionObserver(k,w)}s.observe(e)}return i(!0),o}function rM(e,t,s,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,c=Jp(e),d=a||o?[...c?ao(c):[],...ao(t)]:[];d.forEach(m=>{a&&m.addEventListener("scroll",s,{passive:!0}),o&&m.addEventListener("resize",s)});const f=c&&l?nM(c,s):null;let h=-1,y=null;i&&(y=new ResizeObserver(m=>{let[p]=m;p&&p.target===c&&y&&(y.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=y)==null||w.observe(t)})),s()}),c&&!u&&y.observe(c),y.observe(t));let b,g=u?On(e):null;u&&x();function x(){const m=On(e);g&&!gj(g,m)&&s(),g=m,b=requestAnimationFrame(x)}return s(),()=>{var m;d.forEach(p=>{a&&p.removeEventListener("scroll",s),o&&p.removeEventListener("resize",s)}),f==null||f(),(m=y)==null||m.disconnect(),y=null,u&&cancelAnimationFrame(b)}}const aM=I3,oM=F3,iM=_3,lM=$3,cM=L3,g0=M3,uM=V3,dM=(e,t,s)=>{const n=new Map,a={platform:sM,...s},o={...a.platform,_c:n};return D3(e,t,{...a,platform:o})};var Si=typeof document<"u"?v.useLayoutEffect:v.useEffect;function ml(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let s,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(s=e.length,s!==t.length)return!1;for(n=s;n--!==0;)if(!ml(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),s=a.length,s!==Object.keys(t).length)return!1;for(n=s;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=s;n--!==0;){const o=a[n];if(!(o==="_owner"&&e.$$typeof)&&!ml(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function yj(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function y0(e,t){const s=yj(e);return Math.round(t*s)/s}function cu(e){const t=v.useRef(e);return Si(()=>{t.current=e}),t}function fM(e){e===void 0&&(e={});const{placement:t="bottom",strategy:s="absolute",middleware:n=[],platform:a,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:u,open:c}=e,[d,f]=v.useState({x:0,y:0,strategy:s,placement:t,middlewareData:{},isPositioned:!1}),[h,y]=v.useState(n);ml(h,n)||y(n);const[b,g]=v.useState(null),[x,m]=v.useState(null),p=v.useCallback(R=>{R!==E.current&&(E.current=R,g(R))},[]),w=v.useCallback(R=>{R!==C.current&&(C.current=R,m(R))},[]),j=o||b,k=i||x,E=v.useRef(null),C=v.useRef(null),N=v.useRef(d),S=u!=null,T=cu(u),I=cu(a),D=cu(c),O=v.useCallback(()=>{if(!E.current||!C.current)return;const R={placement:t,strategy:s,middleware:h};I.current&&(R.platform=I.current),dM(E.current,C.current,R).then(M=>{const L={...M,isPositioned:D.current!==!1};_.current&&!ml(N.current,L)&&(N.current=L,ho.flushSync(()=>{f(L)}))})},[h,t,s,I,D]);Si(()=>{c===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,f(R=>({...R,isPositioned:!1})))},[c]);const _=v.useRef(!1);Si(()=>(_.current=!0,()=>{_.current=!1}),[]),Si(()=>{if(j&&(E.current=j),k&&(C.current=k),j&&k){if(T.current)return T.current(j,k,O);O()}},[j,k,O,T,S]);const F=v.useMemo(()=>({reference:E,floating:C,setReference:p,setFloating:w}),[p,w]),$=v.useMemo(()=>({reference:j,floating:k}),[j,k]),q=v.useMemo(()=>{const R={position:s,left:0,top:0};if(!$.floating)return R;const M=y0($.floating,d.x),L=y0($.floating,d.y);return l?{...R,transform:"translate("+M+"px, "+L+"px)",...yj($.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:M,top:L}},[s,l,$.floating,d.x,d.y]);return v.useMemo(()=>({...d,update:O,refs:F,elements:$,floatingStyles:q}),[d,O,F,$,q])}const pM=e=>{function t(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:e,fn(s){const{element:n,padding:a}=typeof e=="function"?e(s):e;return n&&t(n)?n.current!=null?g0({element:n.current,padding:a}).fn(s):{}:n?g0({element:n,padding:a}).fn(s):{}}}},mM=(e,t)=>({...aM(e),options:[e,t]}),hM=(e,t)=>({...oM(e),options:[e,t]}),xM=(e,t)=>({...uM(e),options:[e,t]}),gM=(e,t)=>({...iM(e),options:[e,t]}),yM=(e,t)=>({...lM(e),options:[e,t]}),vM=(e,t)=>({...cM(e),options:[e,t]}),bM=(e,t)=>({...pM(e),options:[e,t]});var wM="Arrow",vj=v.forwardRef((e,t)=>{const{children:s,width:n=10,height:a=5,...o}=e;return r.jsx(le.svg,{...o,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?s:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});vj.displayName=wM;var jM=vj;function bj(e){const[t,s]=v.useState(void 0);return Pt(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let i,l;if("borderBoxSize"in o){const u=o.borderBoxSize,c=Array.isArray(u)?u[0]:u;i=c.inlineSize,l=c.blockSize}else i=e.offsetWidth,l=e.offsetHeight;s({width:i,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else s(void 0)},[e]),t}var tm="Popper",[wj,jj]=sn(tm),[NM,Nj]=wj(tm),kj=e=>{const{__scopePopper:t,children:s}=e,[n,a]=v.useState(null);return r.jsx(NM,{scope:t,anchor:n,onAnchorChange:a,children:s})};kj.displayName=tm;var Sj="PopperAnchor",Cj=v.forwardRef((e,t)=>{const{__scopePopper:s,virtualRef:n,...a}=e,o=Nj(Sj,s),i=v.useRef(null),l=Ae(t,i);return v.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:r.jsx(le.div,{...a,ref:l})});Cj.displayName=Sj;var sm="PopperContent",[kM,SM]=wj(sm),Ej=v.forwardRef((e,t)=>{var Me,on,Ve,$t,Bt,pc;const{__scopePopper:s,side:n="bottom",sideOffset:a=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:y="optimized",onPlaced:b,...g}=e,x=Nj(sm,s),[m,p]=v.useState(null),w=Ae(t,Qr=>p(Qr)),[j,k]=v.useState(null),E=bj(j),C=(E==null?void 0:E.width)??0,N=(E==null?void 0:E.height)??0,S=n+(o!=="center"?"-"+o:""),T=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},I=Array.isArray(c)?c:[c],D=I.length>0,O={padding:T,boundary:I.filter(EM),altBoundary:D},{refs:_,floatingStyles:F,placement:$,isPositioned:q,middlewareData:R}=fM({strategy:"fixed",placement:S,whileElementsMounted:(...Qr)=>rM(...Qr,{animationFrame:y==="always"}),elements:{reference:x.anchor},middleware:[mM({mainAxis:a+N,alignmentAxis:i}),u&&hM({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?xM():void 0,...O}),u&&gM({...O}),yM({...O,apply:({elements:Qr,rects:um,availableWidth:n1,availableHeight:r1})=>{const{width:a1,height:o1}=um.reference,Ao=Qr.floating.style;Ao.setProperty("--radix-popper-available-width",`${n1}px`),Ao.setProperty("--radix-popper-available-height",`${r1}px`),Ao.setProperty("--radix-popper-anchor-width",`${a1}px`),Ao.setProperty("--radix-popper-anchor-height",`${o1}px`)}}),j&&bM({element:j,padding:l}),PM({arrowWidth:C,arrowHeight:N}),h&&vM({strategy:"referenceHidden",...O})]}),[M,L]=Aj($),V=it(b);Pt(()=>{q&&(V==null||V())},[q,V]);const K=(Me=R.arrow)==null?void 0:Me.x,ae=(on=R.arrow)==null?void 0:on.y,oe=((Ve=R.arrow)==null?void 0:Ve.centerOffset)!==0,[Je,we]=v.useState();return Pt(()=>{m&&we(window.getComputedStyle(m).zIndex)},[m]),r.jsx("div",{ref:_.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:q?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Je,"--radix-popper-transform-origin":[($t=R.transformOrigin)==null?void 0:$t.x,(Bt=R.transformOrigin)==null?void 0:Bt.y].join(" "),...((pc=R.hide)==null?void 0:pc.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(kM,{scope:s,placedSide:M,onArrowChange:k,arrowX:K,arrowY:ae,shouldHideArrow:oe,children:r.jsx(le.div,{"data-side":M,"data-align":L,...g,ref:w,style:{...g.style,animation:q?void 0:"none"}})})})});Ej.displayName=sm;var Pj="PopperArrow",CM={top:"bottom",right:"left",bottom:"top",left:"right"},Tj=v.forwardRef(function(t,s){const{__scopePopper:n,...a}=t,o=SM(Pj,n),i=CM[o.placedSide];return r.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:r.jsx(jM,{...a,ref:s,style:{...a.style,display:"block"}})})});Tj.displayName=Pj;function EM(e){return e!==null}var PM=e=>({name:"transformOrigin",options:e,fn(t){var x,m,p;const{placement:s,rects:n,middlewareData:a}=t,i=((x=a.arrow)==null?void 0:x.centerOffset)!==0,l=i?0:e.arrowWidth,u=i?0:e.arrowHeight,[c,d]=Aj(s),f={start:"0%",center:"50%",end:"100%"}[d],h=(((m=a.arrow)==null?void 0:m.x)??0)+l/2,y=(((p=a.arrow)==null?void 0:p.y)??0)+u/2;let b="",g="";return c==="bottom"?(b=i?f:`${h}px`,g=`${-u}px`):c==="top"?(b=i?f:`${h}px`,g=`${n.floating.height+u}px`):c==="right"?(b=`${-u}px`,g=i?f:`${y}px`):c==="left"&&(b=`${n.floating.width+u}px`,g=i?f:`${y}px`),{data:{x:b,y:g}}}});function Aj(e){const[t,s="center"]=e.split("-");return[t,s]}var TM=kj,AM=Cj,RM=Ej,DM=Tj,uu="rovingFocusGroup.onEntryFocus",MM={bubbles:!1,cancelable:!0},Co="RovingFocusGroup",[Gd,Rj,_M]=Qf(Co),[LM,Dj]=sn(Co,[_M]),[OM,IM]=LM(Co),Mj=v.forwardRef((e,t)=>r.jsx(Gd.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(Gd.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(FM,{...e,ref:t})})}));Mj.displayName=Co;var FM=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,orientation:n,loop:a=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:u,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...f}=e,h=v.useRef(null),y=Ae(t,h),b=oj(o),[g,x]=$l({prop:i,defaultProp:l??null,onChange:u,caller:Co}),[m,p]=v.useState(!1),w=it(c),j=Rj(s),k=v.useRef(!1),[E,C]=v.useState(0);return v.useEffect(()=>{const N=h.current;if(N)return N.addEventListener(uu,w),()=>N.removeEventListener(uu,w)},[w]),r.jsx(OM,{scope:s,orientation:n,dir:b,loop:a,currentTabStopId:g,onItemFocus:v.useCallback(N=>x(N),[x]),onItemShiftTab:v.useCallback(()=>p(!0),[]),onFocusableItemAdd:v.useCallback(()=>C(N=>N+1),[]),onFocusableItemRemove:v.useCallback(()=>C(N=>N-1),[]),children:r.jsx(le.div,{tabIndex:m||E===0?-1:0,"data-orientation":n,...f,ref:y,style:{outline:"none",...e.style},onMouseDown:Y(e.onMouseDown,()=>{k.current=!0}),onFocus:Y(e.onFocus,N=>{const S=!k.current;if(N.target===N.currentTarget&&S&&!m){const T=new CustomEvent(uu,MM);if(N.currentTarget.dispatchEvent(T),!T.defaultPrevented){const I=j().filter($=>$.focusable),D=I.find($=>$.active),O=I.find($=>$.id===g),F=[D,O,...I].filter(Boolean).map($=>$.ref.current);Oj(F,d)}}k.current=!1}),onBlur:Y(e.onBlur,()=>p(!1))})})}),_j="RovingFocusGroupItem",Lj=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,focusable:n=!0,active:a=!1,tabStopId:o,children:i,...l}=e,u=Wd(),c=o||u,d=IM(_j,s),f=d.currentTabStopId===c,h=Rj(s),{onFocusableItemAdd:y,onFocusableItemRemove:b,currentTabStopId:g}=d;return v.useEffect(()=>{if(n)return y(),()=>b()},[n,y,b]),r.jsx(Gd.ItemSlot,{scope:s,id:c,focusable:n,active:a,children:r.jsx(le.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:Y(e.onMouseDown,x=>{n?d.onItemFocus(c):x.preventDefault()}),onFocus:Y(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:Y(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const m=BM(x,d.orientation,d.dir);if(m!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let w=h().filter(j=>j.focusable).map(j=>j.ref.current);if(m==="last")w.reverse();else if(m==="prev"||m==="next"){m==="prev"&&w.reverse();const j=w.indexOf(x.currentTarget);w=d.loop?UM(w,j+1):w.slice(j+1)}setTimeout(()=>Oj(w))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:g!=null}):i})})});Lj.displayName=_j;var VM={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function $M(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function BM(e,t,s){const n=$M(e.key,s);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return VM[n]}function Oj(e,t=!1){const s=document.activeElement;for(const n of e)if(n===s||(n.focus({preventScroll:t}),document.activeElement!==s))return}function UM(e,t){return e.map((s,n)=>e[(t+n)%e.length])}var zM=Mj,WM=Lj,HM=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Kn=new WeakMap,ni=new WeakMap,ri={},du=0,Ij=function(e){return e&&(e.host||Ij(e.parentNode))},qM=function(e,t){return t.map(function(s){if(e.contains(s))return s;var n=Ij(s);return n&&e.contains(n)?n:(console.error("aria-hidden",s,"in not contained inside",e,". Doing nothing"),null)}).filter(function(s){return!!s})},KM=function(e,t,s,n){var a=qM(t,Array.isArray(e)?e:[e]);ri[s]||(ri[s]=new WeakMap);var o=ri[s],i=[],l=new Set,u=new Set(a),c=function(f){!f||l.has(f)||(l.add(f),c(f.parentNode))};a.forEach(c);var d=function(f){!f||u.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var y=h.getAttribute(n),b=y!==null&&y!=="false",g=(Kn.get(h)||0)+1,x=(o.get(h)||0)+1;Kn.set(h,g),o.set(h,x),i.push(h),g===1&&b&&ni.set(h,!0),x===1&&h.setAttribute(s,"true"),b||h.setAttribute(n,"true")}catch(m){console.error("aria-hidden: cannot operate on ",h,m)}})};return d(t),l.clear(),du++,function(){i.forEach(function(f){var h=Kn.get(f)-1,y=o.get(f)-1;Kn.set(f,h),o.set(f,y),h||(ni.has(f)||f.removeAttribute(n),ni.delete(f)),y||f.removeAttribute(s)}),du--,du||(Kn=new WeakMap,Kn=new WeakMap,ni=new WeakMap,ri={})}},GM=function(e,t,s){s===void 0&&(s="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=HM(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),KM(n,a,s,"aria-hidden")):function(){return null}},Kt=function(){return Kt=Object.assign||function(t){for(var s,n=1,a=arguments.length;n<a;n++){s=arguments[n];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o])}return t},Kt.apply(this,arguments)};function Fj(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(s[n[a]]=e[n[a]]);return s}function YM(e,t,s){if(s||arguments.length===2)for(var n=0,a=t.length,o;n<a;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var Ci="right-scroll-bar-position",Ei="width-before-scroll-bar",XM="with-scroll-bars-hidden",QM="--removed-body-scroll-bar-size";function fu(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function ZM(e,t){var s=v.useState(function(){return{value:e,callback:t,facade:{get current(){return s.value},set current(n){var a=s.value;a!==n&&(s.value=n,s.callback(n,a))}}}})[0];return s.callback=t,s.facade}var JM=typeof window<"u"?v.useLayoutEffect:v.useEffect,v0=new WeakMap;function e_(e,t){var s=ZM(null,function(n){return e.forEach(function(a){return fu(a,n)})});return JM(function(){var n=v0.get(s);if(n){var a=new Set(n),o=new Set(e),i=s.current;a.forEach(function(l){o.has(l)||fu(l,null)}),o.forEach(function(l){a.has(l)||fu(l,i)})}v0.set(s,e)},[e]),s}function t_(e){return e}function s_(e,t){t===void 0&&(t=t_);var s=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:e},useMedium:function(o){var i=t(o,n);return s.push(i),function(){s=s.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(n=!0;s.length;){var i=s;s=[],i.forEach(o)}s={push:function(l){return o(l)},filter:function(){return s}}},assignMedium:function(o){n=!0;var i=[];if(s.length){var l=s;s=[],l.forEach(o),i=s}var u=function(){var d=i;i=[],d.forEach(o)},c=function(){return Promise.resolve().then(u)};c(),s={push:function(d){i.push(d),c()},filter:function(d){return i=i.filter(d),s}}}};return a}function n_(e){e===void 0&&(e={});var t=s_(null);return t.options=Kt({async:!0,ssr:!1},e),t}var Vj=function(e){var t=e.sideCar,s=Fj(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return v.createElement(n,Kt({},s))};Vj.isSideCarExport=!0;function r_(e,t){return e.useMedium(t),Vj}var $j=n_(),pu=function(){},oc=v.forwardRef(function(e,t){var s=v.useRef(null),n=v.useState({onScrollCapture:pu,onWheelCapture:pu,onTouchMoveCapture:pu}),a=n[0],o=n[1],i=e.forwardProps,l=e.children,u=e.className,c=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,y=e.noIsolation,b=e.inert,g=e.allowPinchZoom,x=e.as,m=x===void 0?"div":x,p=e.gapMode,w=Fj(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,k=e_([s,t]),E=Kt(Kt({},w),a);return v.createElement(v.Fragment,null,d&&v.createElement(j,{sideCar:$j,removeScrollBar:c,shards:f,noIsolation:y,inert:b,setCallbacks:o,allowPinchZoom:!!g,lockRef:s,gapMode:p}),i?v.cloneElement(v.Children.only(l),Kt(Kt({},E),{ref:k})):v.createElement(m,Kt({},E,{className:u,ref:k}),l))});oc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};oc.classNames={fullWidth:Ei,zeroRight:Ci};var a_=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function o_(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=a_();return t&&e.setAttribute("nonce",t),e}function i_(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function l_(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var c_=function(){var e=0,t=null;return{add:function(s){e==0&&(t=o_())&&(i_(t,s),l_(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},u_=function(){var e=c_();return function(t,s){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&s])}},Bj=function(){var e=u_(),t=function(s){var n=s.styles,a=s.dynamic;return e(n,a),null};return t},d_={left:0,top:0,right:0,gap:0},mu=function(e){return parseInt(e||"",10)||0},f_=function(e){var t=window.getComputedStyle(document.body),s=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[mu(s),mu(n),mu(a)]},p_=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return d_;var t=f_(e),s=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-s+t[2]-t[0])}},m_=Bj(),wr="data-scroll-locked",h_=function(e,t,s,n){var a=e.left,o=e.top,i=e.right,l=e.gap;return s===void 0&&(s="margin"),`
  .`.concat(XM,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(wr,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),s==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),s==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ci,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Ei,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Ci," .").concat(Ci,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Ei," .").concat(Ei,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(wr,`] {
    `).concat(QM,": ").concat(l,`px;
  }
`)},b0=function(){var e=parseInt(document.body.getAttribute(wr)||"0",10);return isFinite(e)?e:0},x_=function(){v.useEffect(function(){return document.body.setAttribute(wr,(b0()+1).toString()),function(){var e=b0()-1;e<=0?document.body.removeAttribute(wr):document.body.setAttribute(wr,e.toString())}},[])},g_=function(e){var t=e.noRelative,s=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;x_();var o=v.useMemo(function(){return p_(a)},[a]);return v.createElement(m_,{styles:h_(o,!t,a,s?"":"!important")})},Yd=!1;if(typeof window<"u")try{var ai=Object.defineProperty({},"passive",{get:function(){return Yd=!0,!0}});window.addEventListener("test",ai,ai),window.removeEventListener("test",ai,ai)}catch{Yd=!1}var Gn=Yd?{passive:!1}:!1,y_=function(e){return e.tagName==="TEXTAREA"},Uj=function(e,t){if(!(e instanceof Element))return!1;var s=window.getComputedStyle(e);return s[t]!=="hidden"&&!(s.overflowY===s.overflowX&&!y_(e)&&s[t]==="visible")},v_=function(e){return Uj(e,"overflowY")},b_=function(e){return Uj(e,"overflowX")},w0=function(e,t){var s=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=zj(e,n);if(a){var o=Wj(e,n),i=o[1],l=o[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==s.body);return!1},w_=function(e){var t=e.scrollTop,s=e.scrollHeight,n=e.clientHeight;return[t,s,n]},j_=function(e){var t=e.scrollLeft,s=e.scrollWidth,n=e.clientWidth;return[t,s,n]},zj=function(e,t){return e==="v"?v_(t):b_(t)},Wj=function(e,t){return e==="v"?w_(t):j_(t)},N_=function(e,t){return e==="h"&&t==="rtl"?-1:1},k_=function(e,t,s,n,a){var o=N_(e,window.getComputedStyle(t).direction),i=o*n,l=s.target,u=t.contains(l),c=!1,d=i>0,f=0,h=0;do{var y=Wj(e,l),b=y[0],g=y[1],x=y[2],m=g-x-o*b;(b||m)&&zj(e,l)&&(f+=m,h+=b),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!u&&l!==document.body||u&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(c=!0),c},oi=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},j0=function(e){return[e.deltaX,e.deltaY]},N0=function(e){return e&&"current"in e?e.current:e},S_=function(e,t){return e[0]===t[0]&&e[1]===t[1]},C_=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},E_=0,Yn=[];function P_(e){var t=v.useRef([]),s=v.useRef([0,0]),n=v.useRef(),a=v.useState(E_++)[0],o=v.useState(Bj)[0],i=v.useRef(e);v.useEffect(function(){i.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var g=YM([e.lockRef.current],(e.shards||[]).map(N0),!0).filter(Boolean);return g.forEach(function(x){return x.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=v.useCallback(function(g,x){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!i.current.allowPinchZoom;var m=oi(g),p=s.current,w="deltaX"in g?g.deltaX:p[0]-m[0],j="deltaY"in g?g.deltaY:p[1]-m[1],k,E=g.target,C=Math.abs(w)>Math.abs(j)?"h":"v";if("touches"in g&&C==="h"&&E.type==="range")return!1;var N=w0(C,E);if(!N)return!0;if(N?k=C:(k=C==="v"?"h":"v",N=w0(C,E)),!N)return!1;if(!n.current&&"changedTouches"in g&&(w||j)&&(n.current=k),!k)return!0;var S=n.current||k;return k_(S,x,g,S==="h"?w:j)},[]),u=v.useCallback(function(g){var x=g;if(!(!Yn.length||Yn[Yn.length-1]!==o)){var m="deltaY"in x?j0(x):oi(x),p=t.current.filter(function(k){return k.name===x.type&&(k.target===x.target||x.target===k.shadowParent)&&S_(k.delta,m)})[0];if(p&&p.should){x.cancelable&&x.preventDefault();return}if(!p){var w=(i.current.shards||[]).map(N0).filter(Boolean).filter(function(k){return k.contains(x.target)}),j=w.length>0?l(x,w[0]):!i.current.noIsolation;j&&x.cancelable&&x.preventDefault()}}},[]),c=v.useCallback(function(g,x,m,p){var w={name:g,delta:x,target:m,should:p,shadowParent:T_(m)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(j){return j!==w})},1)},[]),d=v.useCallback(function(g){s.current=oi(g),n.current=void 0},[]),f=v.useCallback(function(g){c(g.type,j0(g),g.target,l(g,e.lockRef.current))},[]),h=v.useCallback(function(g){c(g.type,oi(g),g.target,l(g,e.lockRef.current))},[]);v.useEffect(function(){return Yn.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",u,Gn),document.addEventListener("touchmove",u,Gn),document.addEventListener("touchstart",d,Gn),function(){Yn=Yn.filter(function(g){return g!==o}),document.removeEventListener("wheel",u,Gn),document.removeEventListener("touchmove",u,Gn),document.removeEventListener("touchstart",d,Gn)}},[]);var y=e.removeScrollBar,b=e.inert;return v.createElement(v.Fragment,null,b?v.createElement(o,{styles:C_(a)}):null,y?v.createElement(g_,{gapMode:e.gapMode}):null)}function T_(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const A_=r_($j,P_);var Hj=v.forwardRef(function(e,t){return v.createElement(oc,Kt({},e,{ref:t,sideCar:A_}))});Hj.classNames=oc.classNames;var Xd=["Enter"," "],R_=["ArrowDown","PageUp","Home"],qj=["ArrowUp","PageDown","End"],D_=[...R_,...qj],M_={ltr:[...Xd,"ArrowRight"],rtl:[...Xd,"ArrowLeft"]},__={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Eo="Menu",[oo,L_,O_]=Qf(Eo),[Wn,Kj]=sn(Eo,[O_,jj,Dj]),ic=jj(),Gj=Dj(),[I_,Hn]=Wn(Eo),[F_,Po]=Wn(Eo),Yj=e=>{const{__scopeMenu:t,open:s=!1,children:n,dir:a,onOpenChange:o,modal:i=!0}=e,l=ic(t),[u,c]=v.useState(null),d=v.useRef(!1),f=it(o),h=oj(a);return v.useEffect(()=>{const y=()=>{d.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>d.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),r.jsx(TM,{...l,children:r.jsx(I_,{scope:t,open:s,onOpenChange:f,content:u,onContentChange:c,children:r.jsx(F_,{scope:t,onClose:v.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:i,children:n})})})};Yj.displayName=Eo;var V_="MenuAnchor",nm=v.forwardRef((e,t)=>{const{__scopeMenu:s,...n}=e,a=ic(s);return r.jsx(AM,{...a,...n,ref:t})});nm.displayName=V_;var rm="MenuPortal",[$_,Xj]=Wn(rm,{forceMount:void 0}),Qj=e=>{const{__scopeMenu:t,forceMount:s,children:n,container:a}=e,o=Hn(rm,t);return r.jsx($_,{scope:t,forceMount:s,children:r.jsx(Wr,{present:s||o.open,children:r.jsx(ep,{asChild:!0,container:a,children:n})})})};Qj.displayName=rm;var St="MenuContent",[B_,am]=Wn(St),Zj=v.forwardRef((e,t)=>{const s=Xj(St,e.__scopeMenu),{forceMount:n=s.forceMount,...a}=e,o=Hn(St,e.__scopeMenu),i=Po(St,e.__scopeMenu);return r.jsx(oo.Provider,{scope:e.__scopeMenu,children:r.jsx(Wr,{present:n||o.open,children:r.jsx(oo.Slot,{scope:e.__scopeMenu,children:i.modal?r.jsx(U_,{...a,ref:t}):r.jsx(z_,{...a,ref:t})})})})}),U_=v.forwardRef((e,t)=>{const s=Hn(St,e.__scopeMenu),n=v.useRef(null),a=Ae(t,n);return v.useEffect(()=>{const o=n.current;if(o)return GM(o)},[]),r.jsx(om,{...e,ref:a,trapFocus:s.open,disableOutsidePointerEvents:s.open,disableOutsideScroll:!0,onFocusOutside:Y(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>s.onOpenChange(!1)})}),z_=v.forwardRef((e,t)=>{const s=Hn(St,e.__scopeMenu);return r.jsx(om,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>s.onOpenChange(!1)})}),W_=Qa("MenuContent.ScrollLock"),om=v.forwardRef((e,t)=>{const{__scopeMenu:s,loop:n=!1,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:u,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:y,disableOutsideScroll:b,...g}=e,x=Hn(St,s),m=Po(St,s),p=ic(s),w=Gj(s),j=L_(s),[k,E]=v.useState(null),C=v.useRef(null),N=Ae(t,C,x.onContentChange),S=v.useRef(0),T=v.useRef(""),I=v.useRef(0),D=v.useRef(null),O=v.useRef("right"),_=v.useRef(0),F=b?Hj:v.Fragment,$=b?{as:W_,allowPinchZoom:!0}:void 0,q=M=>{var Me,on;const L=T.current+M,V=j().filter(Ve=>!Ve.disabled),K=document.activeElement,ae=(Me=V.find(Ve=>Ve.ref.current===K))==null?void 0:Me.textValue,oe=V.map(Ve=>Ve.textValue),Je=s5(oe,L,ae),we=(on=V.find(Ve=>Ve.textValue===Je))==null?void 0:on.ref.current;(function Ve($t){T.current=$t,window.clearTimeout(S.current),$t!==""&&(S.current=window.setTimeout(()=>Ve(""),1e3))})(L),we&&setTimeout(()=>we.focus())};v.useEffect(()=>()=>window.clearTimeout(S.current),[]),m3();const R=v.useCallback(M=>{var V,K;return O.current===((V=D.current)==null?void 0:V.side)&&r5(M,(K=D.current)==null?void 0:K.area)},[]);return r.jsx(B_,{scope:s,searchRef:T,onItemEnter:v.useCallback(M=>{R(M)&&M.preventDefault()},[R]),onItemLeave:v.useCallback(M=>{var L;R(M)||((L=C.current)==null||L.focus(),E(null))},[R]),onTriggerLeave:v.useCallback(M=>{R(M)&&M.preventDefault()},[R]),pointerGraceTimerRef:I,onPointerGraceIntentChange:v.useCallback(M=>{D.current=M},[]),children:r.jsx(F,{...$,children:r.jsx(ij,{asChild:!0,trapped:a,onMountAutoFocus:Y(o,M=>{var L;M.preventDefault(),(L=C.current)==null||L.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:r.jsx(Jf,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:y,children:r.jsx(zM,{asChild:!0,...w,dir:m.dir,orientation:"vertical",loop:n,currentTabStopId:k,onCurrentTabStopIdChange:E,onEntryFocus:Y(u,M=>{m.isUsingKeyboardRef.current||M.preventDefault()}),preventScrollOnEntryFocus:!0,children:r.jsx(RM,{role:"menu","aria-orientation":"vertical","data-state":mN(x.open),"data-radix-menu-content":"",dir:m.dir,...p,...g,ref:N,style:{outline:"none",...g.style},onKeyDown:Y(g.onKeyDown,M=>{const V=M.target.closest("[data-radix-menu-content]")===M.currentTarget,K=M.ctrlKey||M.altKey||M.metaKey,ae=M.key.length===1;V&&(M.key==="Tab"&&M.preventDefault(),!K&&ae&&q(M.key));const oe=C.current;if(M.target!==oe||!D_.includes(M.key))return;M.preventDefault();const we=j().filter(Me=>!Me.disabled).map(Me=>Me.ref.current);qj.includes(M.key)&&we.reverse(),e5(we)}),onBlur:Y(e.onBlur,M=>{M.currentTarget.contains(M.target)||(window.clearTimeout(S.current),T.current="")}),onPointerMove:Y(e.onPointerMove,io(M=>{const L=M.target,V=_.current!==M.clientX;if(M.currentTarget.contains(L)&&V){const K=M.clientX>_.current?"right":"left";O.current=K,_.current=M.clientX}}))})})})})})})});Zj.displayName=St;var H_="MenuGroup",im=v.forwardRef((e,t)=>{const{__scopeMenu:s,...n}=e;return r.jsx(le.div,{role:"group",...n,ref:t})});im.displayName=H_;var q_="MenuLabel",Jj=v.forwardRef((e,t)=>{const{__scopeMenu:s,...n}=e;return r.jsx(le.div,{...n,ref:t})});Jj.displayName=q_;var hl="MenuItem",k0="menu.itemSelect",lc=v.forwardRef((e,t)=>{const{disabled:s=!1,onSelect:n,...a}=e,o=v.useRef(null),i=Po(hl,e.__scopeMenu),l=am(hl,e.__scopeMenu),u=Ae(t,o),c=v.useRef(!1),d=()=>{const f=o.current;if(!s&&f){const h=new CustomEvent(k0,{bubbles:!0,cancelable:!0});f.addEventListener(k0,y=>n==null?void 0:n(y),{once:!0}),Zf(f,h),h.defaultPrevented?c.current=!1:i.onClose()}};return r.jsx(eN,{...a,ref:u,disabled:s,onClick:Y(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),c.current=!0},onPointerUp:Y(e.onPointerUp,f=>{var h;c.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:Y(e.onKeyDown,f=>{const h=l.searchRef.current!=="";s||h&&f.key===" "||Xd.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});lc.displayName=hl;var eN=v.forwardRef((e,t)=>{const{__scopeMenu:s,disabled:n=!1,textValue:a,...o}=e,i=am(hl,s),l=Gj(s),u=v.useRef(null),c=Ae(t,u),[d,f]=v.useState(!1),[h,y]=v.useState("");return v.useEffect(()=>{const b=u.current;b&&y((b.textContent??"").trim())},[o.children]),r.jsx(oo.ItemSlot,{scope:s,disabled:n,textValue:a??h,children:r.jsx(WM,{asChild:!0,...l,focusable:!n,children:r.jsx(le.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:c,onPointerMove:Y(e.onPointerMove,io(b=>{n?i.onItemLeave(b):(i.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Y(e.onPointerLeave,io(b=>i.onItemLeave(b))),onFocus:Y(e.onFocus,()=>f(!0)),onBlur:Y(e.onBlur,()=>f(!1))})})})}),K_="MenuCheckboxItem",tN=v.forwardRef((e,t)=>{const{checked:s=!1,onCheckedChange:n,...a}=e;return r.jsx(oN,{scope:e.__scopeMenu,checked:s,children:r.jsx(lc,{role:"menuitemcheckbox","aria-checked":xl(s)?"mixed":s,...a,ref:t,"data-state":cm(s),onSelect:Y(a.onSelect,()=>n==null?void 0:n(xl(s)?!0:!s),{checkForDefaultPrevented:!1})})})});tN.displayName=K_;var sN="MenuRadioGroup",[G_,Y_]=Wn(sN,{value:void 0,onValueChange:()=>{}}),nN=v.forwardRef((e,t)=>{const{value:s,onValueChange:n,...a}=e,o=it(n);return r.jsx(G_,{scope:e.__scopeMenu,value:s,onValueChange:o,children:r.jsx(im,{...a,ref:t})})});nN.displayName=sN;var rN="MenuRadioItem",aN=v.forwardRef((e,t)=>{const{value:s,...n}=e,a=Y_(rN,e.__scopeMenu),o=s===a.value;return r.jsx(oN,{scope:e.__scopeMenu,checked:o,children:r.jsx(lc,{role:"menuitemradio","aria-checked":o,...n,ref:t,"data-state":cm(o),onSelect:Y(n.onSelect,()=>{var i;return(i=a.onValueChange)==null?void 0:i.call(a,s)},{checkForDefaultPrevented:!1})})})});aN.displayName=rN;var lm="MenuItemIndicator",[oN,X_]=Wn(lm,{checked:!1}),iN=v.forwardRef((e,t)=>{const{__scopeMenu:s,forceMount:n,...a}=e,o=X_(lm,s);return r.jsx(Wr,{present:n||xl(o.checked)||o.checked===!0,children:r.jsx(le.span,{...a,ref:t,"data-state":cm(o.checked)})})});iN.displayName=lm;var Q_="MenuSeparator",lN=v.forwardRef((e,t)=>{const{__scopeMenu:s,...n}=e;return r.jsx(le.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});lN.displayName=Q_;var Z_="MenuArrow",cN=v.forwardRef((e,t)=>{const{__scopeMenu:s,...n}=e,a=ic(s);return r.jsx(DM,{...a,...n,ref:t})});cN.displayName=Z_;var J_="MenuSub",[xV,uN]=Wn(J_),ga="MenuSubTrigger",dN=v.forwardRef((e,t)=>{const s=Hn(ga,e.__scopeMenu),n=Po(ga,e.__scopeMenu),a=uN(ga,e.__scopeMenu),o=am(ga,e.__scopeMenu),i=v.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:u}=o,c={__scopeMenu:e.__scopeMenu},d=v.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return v.useEffect(()=>d,[d]),v.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),u(null)}},[l,u]),r.jsx(nm,{asChild:!0,...c,children:r.jsx(eN,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":a.contentId,"data-state":mN(s.open),...e,ref:Vl(t,a.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),s.open||s.onOpenChange(!0))},onPointerMove:Y(e.onPointerMove,io(f=>{o.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!s.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{s.onOpenChange(!0),d()},100))})),onPointerLeave:Y(e.onPointerLeave,io(f=>{var y,b;d();const h=(y=s.content)==null?void 0:y.getBoundingClientRect();if(h){const g=(b=s.content)==null?void 0:b.dataset.side,x=g==="right",m=x?-5:5,p=h[x?"left":"right"],w=h[x?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+m,y:f.clientY},{x:p,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x:p,y:h.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:Y(e.onKeyDown,f=>{var y;const h=o.searchRef.current!=="";e.disabled||h&&f.key===" "||M_[n.dir].includes(f.key)&&(s.onOpenChange(!0),(y=s.content)==null||y.focus(),f.preventDefault())})})})});dN.displayName=ga;var fN="MenuSubContent",pN=v.forwardRef((e,t)=>{const s=Xj(St,e.__scopeMenu),{forceMount:n=s.forceMount,...a}=e,o=Hn(St,e.__scopeMenu),i=Po(St,e.__scopeMenu),l=uN(fN,e.__scopeMenu),u=v.useRef(null),c=Ae(t,u);return r.jsx(oo.Provider,{scope:e.__scopeMenu,children:r.jsx(Wr,{present:n||o.open,children:r.jsx(oo.Slot,{scope:e.__scopeMenu,children:r.jsx(om,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:c,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;i.isUsingKeyboardRef.current&&((f=u.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Y(e.onFocusOutside,d=>{d.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:Y(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:Y(e.onKeyDown,d=>{var y;const f=d.currentTarget.contains(d.target),h=__[i.dir].includes(d.key);f&&h&&(o.onOpenChange(!1),(y=l.trigger)==null||y.focus(),d.preventDefault())})})})})})});pN.displayName=fN;function mN(e){return e?"open":"closed"}function xl(e){return e==="indeterminate"}function cm(e){return xl(e)?"indeterminate":e?"checked":"unchecked"}function e5(e){const t=document.activeElement;for(const s of e)if(s===t||(s.focus(),document.activeElement!==t))return}function t5(e,t){return e.map((s,n)=>e[(t+n)%e.length])}function s5(e,t,s){const a=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,o=s?e.indexOf(s):-1;let i=t5(e,Math.max(o,0));a.length===1&&(i=i.filter(c=>c!==s));const u=i.find(c=>c.toLowerCase().startsWith(a.toLowerCase()));return u!==s?u:void 0}function n5(e,t){const{x:s,y:n}=e;let a=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o],u=t[i],c=l.x,d=l.y,f=u.x,h=u.y;d>n!=h>n&&s<(f-c)*(n-d)/(h-d)+c&&(a=!a)}return a}function r5(e,t){if(!t)return!1;const s={x:e.clientX,y:e.clientY};return n5(s,t)}function io(e){return t=>t.pointerType==="mouse"?e(t):void 0}var a5=Yj,o5=nm,i5=Qj,l5=Zj,c5=im,u5=Jj,d5=lc,f5=tN,p5=nN,m5=aN,h5=iN,x5=lN,g5=cN,y5=dN,v5=pN,cc="DropdownMenu",[b5,gV]=sn(cc,[Kj]),Ze=Kj(),[w5,hN]=b5(cc),xN=e=>{const{__scopeDropdownMenu:t,children:s,dir:n,open:a,defaultOpen:o,onOpenChange:i,modal:l=!0}=e,u=Ze(t),c=v.useRef(null),[d,f]=$l({prop:a,defaultProp:o??!1,onChange:i,caller:cc});return r.jsx(w5,{scope:t,triggerId:Wd(),triggerRef:c,contentId:Wd(),open:d,onOpenChange:f,onOpenToggle:v.useCallback(()=>f(h=>!h),[f]),modal:l,children:r.jsx(a5,{...u,open:d,onOpenChange:f,dir:n,modal:l,children:s})})};xN.displayName=cc;var gN="DropdownMenuTrigger",yN=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,disabled:n=!1,...a}=e,o=hN(gN,s),i=Ze(s);return r.jsx(o5,{asChild:!0,...i,children:r.jsx(le.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:Vl(t,o.triggerRef),onPointerDown:Y(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:Y(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});yN.displayName=gN;var j5="DropdownMenuPortal",vN=e=>{const{__scopeDropdownMenu:t,...s}=e,n=Ze(t);return r.jsx(i5,{...n,...s})};vN.displayName=j5;var bN="DropdownMenuContent",wN=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=hN(bN,s),o=Ze(s),i=v.useRef(!1);return r.jsx(l5,{id:a.contentId,"aria-labelledby":a.triggerId,...o,...n,ref:t,onCloseAutoFocus:Y(e.onCloseAutoFocus,l=>{var u;i.current||(u=a.triggerRef.current)==null||u.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:Y(e.onInteractOutside,l=>{const u=l.detail.originalEvent,c=u.button===0&&u.ctrlKey===!0,d=u.button===2||c;(!a.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});wN.displayName=bN;var N5="DropdownMenuGroup",k5=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=Ze(s);return r.jsx(c5,{...a,...n,ref:t})});k5.displayName=N5;var S5="DropdownMenuLabel",jN=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=Ze(s);return r.jsx(u5,{...a,...n,ref:t})});jN.displayName=S5;var C5="DropdownMenuItem",NN=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=Ze(s);return r.jsx(d5,{...a,...n,ref:t})});NN.displayName=C5;var E5="DropdownMenuCheckboxItem",kN=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=Ze(s);return r.jsx(f5,{...a,...n,ref:t})});kN.displayName=E5;var P5="DropdownMenuRadioGroup",T5=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=Ze(s);return r.jsx(p5,{...a,...n,ref:t})});T5.displayName=P5;var A5="DropdownMenuRadioItem",SN=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=Ze(s);return r.jsx(m5,{...a,...n,ref:t})});SN.displayName=A5;var R5="DropdownMenuItemIndicator",CN=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=Ze(s);return r.jsx(h5,{...a,...n,ref:t})});CN.displayName=R5;var D5="DropdownMenuSeparator",EN=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=Ze(s);return r.jsx(x5,{...a,...n,ref:t})});EN.displayName=D5;var M5="DropdownMenuArrow",_5=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=Ze(s);return r.jsx(g5,{...a,...n,ref:t})});_5.displayName=M5;var L5="DropdownMenuSubTrigger",PN=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=Ze(s);return r.jsx(y5,{...a,...n,ref:t})});PN.displayName=L5;var O5="DropdownMenuSubContent",TN=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=Ze(s);return r.jsx(v5,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});TN.displayName=O5;var I5=xN,F5=yN,V5=vN,AN=wN,RN=jN,DN=NN,MN=kN,_N=SN,LN=CN,ON=EN,IN=PN,FN=TN;const S0=I5,C0=F5,$5=P.forwardRef(({className:e,inset:t,children:s,...n},a)=>r.jsxs(IN,{ref:a,className:Z("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[s,r.jsx(yE,{className:"ml-auto h-4 w-4"})]}));$5.displayName=IN.displayName;const B5=P.forwardRef(({className:e,...t},s)=>r.jsx(FN,{ref:s,className:Z("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));B5.displayName=FN.displayName;const Qd=P.forwardRef(({className:e,sideOffset:t=4,...s},n)=>r.jsx(V5,{children:r.jsx(AN,{ref:n,sideOffset:t,className:Z("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));Qd.displayName=AN.displayName;const pn=P.forwardRef(({className:e,inset:t,...s},n)=>r.jsx(DN,{ref:n,className:Z("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...s}));pn.displayName=DN.displayName;const U5=P.forwardRef(({className:e,children:t,checked:s,...n},a)=>r.jsxs(MN,{ref:a,className:Z("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:s,...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(LN,{children:r.jsx(gE,{className:"h-4 w-4"})})}),t]}));U5.displayName=MN.displayName;const z5=P.forwardRef(({className:e,children:t,...s},n)=>r.jsxs(_N,{ref:n,className:Z("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(LN,{children:r.jsx(vE,{className:"h-2 w-2 fill-current"})})}),t]}));z5.displayName=_N.displayName;const Pi=P.forwardRef(({className:e,inset:t,...s},n)=>r.jsx(RN,{ref:n,className:Z("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...s}));Pi.displayName=RN.displayName;const ya=P.forwardRef(({className:e,...t},s)=>r.jsx(ON,{ref:s,className:Z("-mx-1 my-1 h-px bg-muted",e),...t}));ya.displayName=ON.displayName;const uc=()=>{const e=P.useContext(Sb);if(!e)throw new Error("useNotifications must be used within NotificationsProvider");return e},W5={"/app/dashboard":"Dashboard","/app/documents":"Documents","/app/ai-assistant":"AI Assistant","/app/tasks":"Tasks","/app/projects":"Projects","/app/audit":"Audit Log","/app/risk-matrix":"Risk Matrix","/app/dsr":"Data Subject Requests","/app/dpia":"DPIA","/app/policies":"Policies","/app/incidents":"Incidents","/app/billing":"Billing","/app/settings":"Settings","/app/settings/notifications":"Notification Settings","/app/admin":"Admin","/app/admin/dsr-portal":"DSR Portal Admin","/app/notifications":"Notifications"},H5=e=>{const t=e.trim().split(" ");return t.length===1?t[0].slice(0,2).toUpperCase():`${t[0][0].toUpperCase()}${t[t.length-1][0].toUpperCase()}`},q5=({onMenuClick:e})=>{const{user:t,logout:s}=rn(),{notifications:n,unreadCount:a,markAsRead:o}=uc(),i=$n(),l=Vn(),u=(t==null?void 0:t.name)||(t==null?void 0:t.email)||"AURA User",c=(t==null?void 0:t.role)||"Member",d=(t==null?void 0:t.tenantName)||"Acme Privacy Ltd.",f="Pro plan",h=W5[l.pathname]??"Dashboard",y=()=>{s()};return r.jsx("header",{className:"sticky top-0 z-30 border-b border-slate-200 bg-white/80 backdrop-blur",children:r.jsxs("div",{className:"flex h-16 items-center gap-3 px-4 lg:px-8",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(U,{variant:"ghost",size:"icon",className:"lg:hidden text-slate-600 hover:text-slate-900",onClick:e,"aria-label":"Open navigation",children:r.jsx(_E,{className:"h-5 w-5"})}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-gradient-to-br from-sky-500 to-indigo-500 text-sm font-semibold text-white shadow-sm",children:"AG"}),r.jsxs("div",{className:"leading-tight",children:[r.jsx("p",{className:"text-xs text-slate-500",children:"AURA-GDPR"}),r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:d})]})]})]}),r.jsxs("div",{className:"hidden flex-1 items-center md:flex",children:[r.jsx("div",{className:"mx-6 h-10 w-px bg-slate-200"}),r.jsx("p",{className:"text-sm font-medium text-slate-700",children:h})]}),r.jsxs("div",{className:"flex flex-1 items-center justify-end gap-2 sm:gap-3 md:flex-none",children:[r.jsxs(no,{className:"hidden sm:inline-flex items-center gap-2 border border-sky-100 bg-sky-50 text-sky-700 shadow-sm",children:[r.jsx(hE,{className:"h-4 w-4"}),f]}),r.jsxs(S0,{children:[r.jsx(C0,{asChild:!0,children:r.jsxs(U,{variant:"ghost",size:"icon",className:"relative text-slate-600 hover:text-slate-900","aria-label":"Notifications",children:[r.jsx(ip,{className:"h-5 w-5"}),a>0&&r.jsx("span",{className:"absolute -right-1 -top-1 flex h-5 w-5 items-center justify-center rounded-full bg-amber-500 text-[10px] font-semibold text-white",children:a})]})}),r.jsxs(Qd,{align:"end",className:"w-80 p-2",children:[r.jsx(Pi,{className:"text-xs uppercase text-slate-500",children:"Notifications"}),r.jsx(ya,{}),r.jsxs("div",{className:"max-h-80 space-y-1 overflow-y-auto",children:[n.slice(0,5).map(b=>r.jsxs(pn,{className:"items-start gap-3 px-2 py-2",onSelect:g=>{g.preventDefault(),o(b.id),b.link&&i(b.link)},children:[r.jsx("span",{className:Z("mt-1 h-2.5 w-2.5 rounded-full",b.severity==="info"?"bg-sky-500":b.severity==="warning"?"bg-amber-500":"bg-rose-500"),"aria-hidden":!0}),r.jsxs("div",{className:"space-y-0.5",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:b.title}),r.jsx("p",{className:"text-xs text-slate-600 line-clamp-2",children:b.description})]})]},b.id)),n.length===0&&r.jsx("div",{className:"px-2 py-3 text-sm text-slate-500",children:"No notifications yet."})]}),r.jsx(ya,{}),r.jsx(pn,{className:"justify-center text-sm font-semibold text-sky-700",onSelect:b=>{b.preventDefault(),i("/app/notifications")},children:"View all notifications"})]})]}),r.jsxs(S0,{children:[r.jsx(C0,{asChild:!0,children:r.jsxs(U,{variant:"ghost",className:"flex items-center gap-3 px-2",children:[r.jsxs("div",{className:"hidden text-right sm:block",children:[r.jsx("div",{className:"text-sm font-semibold text-slate-900",children:u}),r.jsx("div",{className:"text-xs text-slate-500",children:c})]}),r.jsxs(Hp,{className:"h-10 w-10 border border-slate-200",children:[r.jsx(qp,{src:t==null?void 0:t.avatarUrl,alt:u}),r.jsx(Kp,{className:"bg-slate-100 text-slate-600",children:H5(u)})]})]})}),r.jsxs(Qd,{align:"end",className:"w-56",children:[r.jsx(Pi,{className:"text-sm font-semibold text-slate-900",children:u}),r.jsx(Pi,{className:"text-xs font-normal text-slate-500",children:d}),r.jsx(ya,{}),r.jsxs(pn,{onSelect:()=>i("/app/settings"),className:"gap-2",children:[r.jsx(Wv,{className:"h-4 w-4 text-slate-500"}),r.jsx("span",{children:"Profile"})]}),r.jsxs(pn,{onSelect:()=>i("/app/billing"),className:"gap-2",children:[r.jsx($v,{className:"h-4 w-4 text-slate-500"}),r.jsx("span",{children:"Billing"})]}),r.jsxs(pn,{onSelect:()=>i("/app/settings/notifications"),className:"gap-2",children:[r.jsx(zv,{className:"h-4 w-4 text-slate-500"}),r.jsx("span",{children:"Settings"})]}),r.jsx(ya,{}),r.jsxs(pn,{onSelect:y,className:"gap-2 text-red-600 focus:text-red-600",children:[r.jsx(DE,{className:"h-4 w-4"}),r.jsx("span",{children:"Sign out"})]})]})]})]})]})})},K5=()=>{const[e,t]=P.useState(!1);return r.jsxs("div",{className:"flex min-h-screen bg-slate-50 text-slate-900",children:[r.jsx(X4,{isOpen:e,onClose:()=>t(!1)}),r.jsxs("div",{className:"relative flex min-h-screen flex-1 flex-col",children:[r.jsx(q5,{onMenuClick:()=>t(!0)}),r.jsx("main",{className:"flex-1 overflow-y-auto bg-slate-50 px-4 py-6 lg:px-8",children:r.jsx("div",{className:"mx-auto max-w-6xl",children:r.jsx(kS,{})})})]})]})},G5=()=>v.useMemo(()=>({summary:{complianceScore:78,openDsrs:3,policiesExpiringSoon:2,ongoingDpiaCount:4,activeIncidents:1,overallRiskLevel:"medium"},deadlines:[{id:"dl-1",type:"DSR",title:"Respond to DSR: Jane Doe",dueDate:"2025-12-08T10:00:00Z",status:"in_progress"},{id:"dl-2",type:"Policy",title:"Review Data Retention Policy",dueDate:"2025-12-18T09:00:00Z",status:"open"},{id:"dl-3",type:"DPIA",title:"DPIA for AI Chatbot",dueDate:"2026-01-05T12:00:00Z",status:"open"}],activities:[{id:"act-1",timestamp:"2025-12-01T09:14:00Z",actor:"System",action:"Closed DSR request for John Doe.",resourceType:"DSR",resourceName:"DSR-4412"},{id:"act-2",timestamp:"2025-11-30T15:22:00Z",actor:"Admin user",action:"Approved DPIA for Customer Analytics.",resourceType:"DPIA",resourceName:"DPIA-103"},{id:"act-3",timestamp:"2025-11-30T11:08:00Z",actor:"System",action:"Flagged Policy update overdue by 7 days.",resourceType:"Policy",resourceName:"Access Control Policy"},{id:"act-4",timestamp:"2025-11-29T18:45:00Z",actor:"Privacy Officer",action:"Opened new incident: Vendor outage.",resourceType:"Incident",resourceName:"INC-208"}],aiInsights:[{id:"ai-1",title:"High-risk processing without DPIA",description:"You have 3 high-risk processing activities without a completed DPIA.",severity:"critical"},{id:"ai-2",title:"Policies overdue for review",description:"Two policies have not been reviewed in over 18 months.",severity:"warning"},{id:"ai-3",title:"DSR response time healthy",description:"Average DSR response time is 4.2 days, within SLA.",severity:"info"}],riskOverview:{overallRiskLevel:"medium",highRiskSystems:["Marketing Automation","Data Lake"],openIncidents:1,dpiaRequiredCount:3}}),[]),Y5={blue:"text-sky-600 bg-sky-50 border-sky-100",amber:"text-amber-600 bg-amber-50 border-amber-100",emerald:"text-emerald-600 bg-emerald-50 border-emerald-100",red:"text-rose-600 bg-rose-50 border-rose-100",slate:"text-slate-600 bg-slate-50 border-slate-100"},Xn=({label:e,value:t,icon:s,hint:n,accent:a="slate",progress:o})=>r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm transition hover:-translate-y-0.5 hover:shadow-md",children:[r.jsxs("div",{className:"flex items-start justify-between gap-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:e}),r.jsxs("div",{className:"mt-2 flex items-baseline gap-2",children:[r.jsx("span",{className:"text-2xl font-semibold text-slate-900",children:t}),n&&r.jsx("span",{className:"text-xs text-slate-500",children:n})]})]}),r.jsx("div",{className:Z("flex h-10 w-10 items-center justify-center rounded-lg border",Y5[a]),children:s})]}),typeof o=="number"&&r.jsxs("div",{className:"mt-3",children:[r.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[r.jsx("span",{children:"Progress"}),r.jsxs("span",{children:[o,"%"]})]}),r.jsx("div",{className:"mt-1 h-2 w-full rounded-full bg-slate-100",children:r.jsx("div",{className:Z("h-2 rounded-full bg-sky-500 transition-all"),style:{width:`${Math.min(Math.max(o,0),100)}%`}})})]})]}),X5={low:"Low",medium:"Medium",high:"High"},Q5=({summary:e})=>r.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-3",children:[r.jsx(Xn,{label:"Compliance Score",value:`${e.complianceScore}%`,icon:r.jsx(cs,{className:"h-5 w-5"}),accent:"blue",progress:e.complianceScore}),r.jsx(Xn,{label:"Open Data Subject Requests",value:e.openDsrs,icon:r.jsx(cp,{className:"h-5 w-5"}),hint:"Within SLA",accent:"emerald"}),r.jsx(Xn,{label:"Policies Expiring Soon",value:e.policiesExpiringSoon,icon:r.jsx(Za,{className:"h-5 w-5"}),hint:"Next 30 days",accent:"amber"}),r.jsx(Xn,{label:"Ongoing DPIAs",value:e.ongoingDpiaCount,icon:r.jsx(VE,{className:"h-5 w-5"}),hint:"Includes AI projects",accent:"slate"}),r.jsx(Xn,{label:"Active Incidents",value:e.activeIncidents,icon:r.jsx(Hr,{className:"h-5 w-5"}),hint:"Across all systems",accent:"red"}),r.jsx(Xn,{label:"Overall Risk Level",value:X5[e.overallRiskLevel],icon:r.jsx(FE,{className:"h-5 w-5"}),hint:"Last updated 24h",accent:"blue"})]}),Z5={DSR:r.jsx(cp,{className:"h-4 w-4"}),Policy:r.jsx(Za,{className:"h-4 w-4"}),DPIA:r.jsx(cs,{className:"h-4 w-4"})},J5={open:"bg-amber-50 text-amber-700 border-amber-100",in_progress:"bg-sky-50 text-sky-700 border-sky-100",done:"bg-emerald-50 text-emerald-700 border-emerald-100"},eL=e=>new Date(e).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"}),tL=({deadlines:e})=>{const t=[...e].sort((s,n)=>new Date(s.dueDate).getTime()-new Date(n.dueDate).getTime());return r.jsxs(ne,{className:"h-full",children:[r.jsxs(Le,{className:"flex flex-row items-center justify-between space-y-0",children:[r.jsxs("div",{children:[r.jsx(Oe,{className:"text-lg",children:"Upcoming deadlines"}),r.jsx("p",{className:"text-sm text-slate-500",children:"Stay ahead of DSR, DPIA, and policy commitments."})]}),r.jsx(pE,{className:"h-5 w-5 text-slate-400"})]}),r.jsxs(re,{className:"space-y-3",children:[t.length===0&&r.jsx("div",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50 px-4 py-6 text-center text-sm text-slate-500",children:"No upcoming deadlines. You are all caught up."}),t.map(s=>r.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-200 bg-white px-3 py-3 shadow-sm",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-md bg-slate-100 text-slate-700",children:Z5[s.type]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:s.title}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[r.jsx("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-100 px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide text-slate-700",children:s.type}),r.jsx("span",{children:eL(s.dueDate)})]})]})]}),r.jsx("span",{className:Z("rounded-full border px-3 py-1 text-xs font-semibold capitalize",J5[s.status]),children:s.status==="in_progress"?"In progress":s.status})]},s.id))]})]})},sL={info:"bg-sky-50 text-sky-700 border-sky-100",warning:"bg-amber-50 text-amber-700 border-amber-100",critical:"bg-rose-50 text-rose-700 border-rose-100"},nL=({insights:e})=>r.jsxs(ne,{className:"h-full",children:[r.jsxs(Le,{className:"flex flex-row items-center justify-between space-y-0",children:[r.jsxs("div",{children:[r.jsx(Oe,{className:"text-lg",children:"AI insights"}),r.jsx("p",{className:"text-sm text-slate-500",children:"Recommendations to improve your GDPR posture."})]}),r.jsx(Bn,{className:"h-5 w-5 text-amber-500"})]}),r.jsx(re,{className:"space-y-3",children:e.map(t=>r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-3 shadow-sm hover:border-slate-300",children:[r.jsxs("div",{className:"flex items-center justify-between gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-md bg-slate-100 text-slate-700",children:r.jsx(AE,{className:"h-4 w-4"})}),r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:t.title})]}),r.jsx("span",{className:Z("rounded-full border px-2.5 py-1 text-xs font-semibold capitalize",sL[t.severity]),children:t.severity})]}),r.jsx("p",{className:"mt-2 text-sm text-slate-600",children:t.description})]},t.id))})]}),rL=e=>new Date(e).toLocaleString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),aL=({activities:e})=>r.jsxs(ne,{className:"h-full",children:[r.jsxs(Le,{className:"flex flex-row items-center justify-between space-y-0",children:[r.jsxs("div",{children:[r.jsx(Oe,{className:"text-lg",children:"Recent activity"}),r.jsx("p",{className:"text-sm text-slate-500",children:"Latest actions across your workspace."})]}),r.jsx(Vv,{className:"h-5 w-5 text-slate-400"})]}),r.jsx(re,{className:"space-y-4",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute left-4 top-0 h-full w-px bg-slate-200"}),r.jsx("div",{className:"space-y-4",children:e.map((t,s)=>r.jsxs("div",{className:"relative pl-10",children:[r.jsx("div",{className:Z("absolute left-2.5 top-1.5 flex h-4 w-4 items-center justify-center rounded-full border-2 border-white bg-sky-500 shadow-sm",s===0&&"ring-2 ring-sky-200")}),r.jsxs("div",{className:"flex items-center justify-between gap-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:t.action}),r.jsxs("div",{className:"mt-1 flex items-center gap-2 text-xs text-slate-500",children:[r.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-100 px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide text-slate-700",children:[r.jsx(op,{className:"h-3 w-3"}),t.resourceType]}),r.jsx("span",{children:t.resourceName}),r.jsx("span",{children:""}),r.jsx("span",{children:t.actor})]})]}),r.jsx("span",{className:"text-xs text-slate-500",children:rL(t.timestamp)})]})]},t.id))})]})})]}),oL={low:{label:"Low",bg:"bg-emerald-50 text-emerald-700 border-emerald-100",icon:r.jsx(cs,{className:"h-4 w-4"})},medium:{label:"Medium",bg:"bg-amber-50 text-amber-700 border-amber-100",icon:r.jsx(Ja,{className:"h-4 w-4"})},high:{label:"High",bg:"bg-rose-50 text-rose-700 border-rose-100",icon:r.jsx(Hr,{className:"h-4 w-4"})}},iL=({risk:e})=>{const t=oL[e.overallRiskLevel];return r.jsxs(ne,{className:"h-full",children:[r.jsxs(Le,{className:"flex flex-row items-center justify-between space-y-0",children:[r.jsxs("div",{children:[r.jsx(Oe,{className:"text-lg",children:"Risk & incidents"}),r.jsx("p",{className:"text-sm text-slate-500",children:"High-level posture across systems."})]}),r.jsx(Wl,{className:"h-5 w-5 text-rose-500"})]}),r.jsxs(re,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3 rounded-lg border border-slate-200 bg-white px-3 py-3 shadow-sm",children:[r.jsxs("span",{className:Z("inline-flex items-center gap-2 rounded-full border px-3 py-1 text-xs font-semibold",t.bg),children:[t.icon,t.label," risk"]}),r.jsx("p",{className:"text-sm text-slate-600",children:"Overall assessment updated daily."})]}),r.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-3 shadow-sm",children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"High-risk systems"}),r.jsx("p",{className:"mt-2 text-2xl font-semibold text-slate-900",children:e.highRiskSystems.length}),r.jsxs("p",{className:"mt-1 text-sm text-slate-600",children:["Key systems: ",e.highRiskSystems.join(", ")]})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-3 shadow-sm",children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Open incidents"}),r.jsx("p",{className:"mt-2 text-2xl font-semibold text-slate-900",children:e.openIncidents}),r.jsx("p",{className:"mt-1 text-sm text-slate-600",children:"Tracked across vendors and assets."})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-3 shadow-sm sm:col-span-2",children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Processing activities needing DPIA"}),r.jsx("p",{className:"mt-2 text-2xl font-semibold text-slate-900",children:e.dpiaRequiredCount}),r.jsx("p",{className:"mt-1 text-sm text-slate-600",children:"Prioritize assessments for AI-related automations and marketing data flows."})]})]})]})]})},lL=()=>{const{summary:e,deadlines:t,activities:s,aiInsights:n,riskOverview:a}=G5();return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:"Dashboard"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Data-driven overview of your GDPR compliance posture."})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(U,{variant:"outline",size:"sm",children:[r.jsx(dp,{className:"mr-2 h-4 w-4"}),"Refresh"]}),r.jsxs(U,{size:"sm",children:[r.jsx(NE,{className:"mr-2 h-4 w-4"}),"Export"]})]})]}),r.jsx("section",{"aria-label":"Key metrics",children:r.jsx(Q5,{summary:e})}),r.jsx("section",{"aria-label":"Deadlines and AI insights",children:r.jsxs("div",{className:"grid gap-4 lg:grid-cols-3",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsx(tL,{deadlines:t})}),r.jsx(nL,{insights:n})]})}),r.jsx("section",{"aria-label":"Activity and risk",children:r.jsxs("div",{className:"grid gap-4 lg:grid-cols-3",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsx(aL,{activities:s})}),r.jsx(iL,{risk:a})]})})]})},dc=({title:e,description:t})=>r.jsxs("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded",children:[r.jsx("h2",{className:"font-semibold text-blue-900",children:e}),r.jsx("p",{className:"text-sm text-blue-700 mt-1",children:t})]}),Nn=e=>({...e,id:(e==null?void 0:e.id)??(e==null?void 0:e._id)??(e==null?void 0:e.document_id)??"",lastUpdated:(e==null?void 0:e.lastUpdated)??(e==null?void 0:e.last_updated)??(e==null?void 0:e.updated_at)??(e==null?void 0:e.updatedAt)??"",createdAt:(e==null?void 0:e.createdAt)??(e==null?void 0:e.created_at)??"",tags:(e==null?void 0:e.tags)??[]}),cL=e=>{if(Array.isArray(e))return e.map(Nn);const t=e;return Array.isArray(t==null?void 0:t.items)?t.items.map(Nn):Array.isArray(t==null?void 0:t.documents)?t.documents.map(Nn):[]};async function uL(){const e=await H.get("/api/documents");return cL(e.data)}async function dL(e){const t=await H.get(`/api/documents/${e}`);return Nn(t.data)}async function fL(e){const t=await H.post("/api/documents",e);return Nn(t.data)}async function pL(e,t){const s=await H.put(`/api/documents/${e}`,t);return Nn(s.data)}async function mL(e,t){const s=await H.patch(`/api/documents/${e}`,t);return Nn(s.data)}function hL(){const[e,t]=v.useState([]),[s,n]=v.useState(!1),[a,o]=v.useState(!1),[i,l]=v.useState(!1),[u,c]=v.useState(null),d=v.useRef(!0);v.useEffect(()=>()=>{d.current=!1},[]);const f=v.useCallback(async()=>{n(!0),c(null);try{const x=await uL();d.current&&t(x)}catch(x){d.current&&c((x==null?void 0:x.message)??"Failed to load documents.")}finally{d.current&&n(!1)}},[]);v.useEffect(()=>{f()},[f]);const h=v.useCallback(async x=>{o(!0);try{const m=await dL(x);return d.current&&t(p=>p.map(w=>w.id===m.id?m:w)),m}finally{d.current&&o(!1)}},[]),y=v.useCallback(async x=>{l(!0);try{const m=await fL(x);return d.current&&t(p=>[m,...p]),m}finally{d.current&&l(!1)}},[]),b=v.useCallback(async(x,m)=>{l(!0);try{const p=await pL(x,m);return d.current&&t(w=>w.map(j=>j.id===p.id?p:j)),p}finally{d.current&&l(!1)}},[]),g=v.useCallback(async(x,m)=>{const p=await mL(x,m);return d.current&&t(w=>w.map(j=>j.id===p.id?p:j)),p},[]);return{documents:e,loading:s,detailLoading:a,saving:i,error:u,refresh:f,fetchOne:h,create:y,update:b,patch:g}}const gl={draft:"Draft",in_review:"In review",approved:"Approved",published:"Published",archived:"Archived"},yl={privacy_policy:"Privacy Policy",cookie_policy:"Cookie Policy",data_processing_agreement:"Data Processing Agreement",security_policy:"Information Security Policy",internal_guideline:"Internal Guideline",other:"Other"},xL=({search:e,status:t,type:s,onSearch:n,onStatusChange:a,onTypeChange:o})=>r.jsxs("div",{className:"flex flex-col gap-3 rounded-xl border border-slate-200 bg-white p-4 shadow-sm md:flex-row md:items-center md:justify-between",children:[r.jsx("div",{className:"flex flex-1 items-center gap-3",children:r.jsx("input",{type:"text",value:e,onChange:i=>n(i.target.value),placeholder:"Search documents...",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100"})}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:t,onChange:i=>a(i.target.value),children:[r.jsx("option",{value:"all",children:"All statuses"}),Object.keys(gl).map(i=>r.jsx("option",{value:i,children:gl[i]},i))]}),r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:s,onChange:i=>o(i.target.value),children:[r.jsx("option",{value:"all",children:"All types"}),Object.keys(yl).map(i=>r.jsx("option",{value:i,children:yl[i]},i))]})]})]}),gL={draft:"bg-slate-100 text-slate-700 border-slate-200",in_review:"bg-amber-50 text-amber-700 border-amber-200",approved:"bg-sky-50 text-sky-700 border-sky-200",published:"bg-emerald-50 text-emerald-700 border-emerald-200",archived:"bg-slate-50 text-slate-500 border-slate-200"},VN=({status:e})=>r.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-semibold ${gL[e]}`,children:gl[e]}),yL=e=>{const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},vL=({document:e,onClick:t})=>r.jsxs("tr",{className:"cursor-pointer border-b last:border-0 hover:bg-slate-50 focus-within:bg-slate-50",tabIndex:0,role:"button",onClick:t,onKeyDown:s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),t())},children:[r.jsx("td",{className:"py-3 pr-4 font-semibold text-foreground",children:e.name}),r.jsx("td",{className:"py-3 pr-4 text-foreground capitalize",children:e.type.replaceAll("_"," ")}),r.jsx("td",{className:"py-3 pr-4",children:r.jsx(VN,{status:e.status})}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:e.owner}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:yL(e.lastUpdated)})]}),bL=({documents:e,onSelect:t,isLoading:s,isError:n})=>s?r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading documents..."}):n?r.jsx("p",{className:"text-sm text-red-600",children:"Failed to load documents."}):e.length===0?r.jsx("p",{className:"text-sm text-muted-foreground",children:"No documents found for the selected filters."}):r.jsx("div",{className:"overflow-auto rounded-lg border border-slate-200 bg-white shadow-sm",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b bg-slate-50 text-left text-slate-500",children:[r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Name"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Type"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Status"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Owner"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Last updated"})]})}),r.jsx("tbody",{children:e.map(a=>r.jsx(vL,{document:a,onClick:()=>t(a)},a.id))})]})});async function wL(e){console.log("PDF export stub called with payload:",e),await new Promise(t=>setTimeout(t,1200))}function jL(e){const[t,s]=v.useState(!1);return{isExporting:t,exportPdf:async(a,o)=>{s(!0);try{await wL({resourceType:a,resourceId:o}),e!=null&&e.onSuccess||alert("PDF export completed. In a future update this will download the generated PDF.")}catch(i){console.error("Failed to export PDF",i),alert("Failed to export PDF. Please try again.")}finally{s(!1)}}}}const Xr=({resourceType:e,resourceId:t,className:s})=>{const{isExporting:n,exportPdf:a}=jL(),o=()=>{a(e,t)};return r.jsx("button",{type:"button",onClick:o,disabled:n,className:s??"inline-flex items-center rounded-md border border-slate-200 px-3 py-1.5 text-sm font-medium text-slate-700 shadow-sm hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-60",children:n?"Exporting":"Export to PDF"})},NL=["draft","in_review","approved","published","archived"],kL=["privacy_policy","cookie_policy","data_processing_agreement","security_policy","internal_guideline","other"],E0=e=>{if(!e)return"N/A";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},SL=({document:e,isOpen:t,onClose:s,onSave:n,mode:a,isLoading:o=!1,isSaving:i=!1})=>{var g;const[l,u]=P.useState(e),[c,d]=P.useState(null);if(P.useEffect(()=>{t&&(u(e),d(null))},[e,t]),P.useEffect(()=>{if(!t)return;const x=m=>{m.key==="Escape"&&s()};return e.addEventListener("keydown",x),()=>e.removeEventListener("keydown",x)},[t,s]),!t||!l)return null;const f=a==="create",h=(x,m)=>{u(p=>p&&{...p,[x]:m})},y=()=>{h("description","This document was generated as a placeholder. Replace with your organization-specific policy language."),d("AI generation preview placeholder. Replace with real content later.")},b=()=>{l.name.trim()&&n(l)};return r.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/30 backdrop-blur-sm",children:r.jsxs("div",{className:"flex h-full w-full max-w-xl flex-col overflow-y-auto bg-white shadow-2xl",children:[r.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-5 py-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:l.name||"Untitled document"}),r.jsx(VN,{status:l.status})]}),r.jsx("p",{className:"text-sm text-slate-600 capitalize",children:yl[l.type]})]}),r.jsx("button",{type:"button",onClick:s,className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:r.jsx(Ee,{className:"h-5 w-5"})})]}),r.jsxs("div",{className:"space-y-4 p-5",children:[o&&r.jsx("p",{className:"text-sm text-slate-500",children:"Loading document details..."}),r.jsxs("div",{className:"space-y-3 rounded-lg border border-slate-200 bg-white p-4",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Name"}),r.jsx("input",{type:"text",value:l.name,onChange:x=>h("name",x.target.value),disabled:!f||i,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Type"}),r.jsx("select",{value:l.type,onChange:x=>h("type",x.target.value),disabled:!f||i,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:kL.map(x=>r.jsx("option",{value:x,children:yl[x]},x))})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Status"}),r.jsx("select",{value:l.status,onChange:x=>h("status",x.target.value),disabled:!f||i,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:NL.map(x=>r.jsx("option",{value:x,children:gl[x]},x))})]})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Owner"}),r.jsx("input",{type:"text",value:l.owner,onChange:x=>h("owner",x.target.value),disabled:!f||i,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Tags (comma separated)"}),r.jsx("input",{type:"text",value:((g=l.tags)==null?void 0:g.join(", "))||"",onChange:x=>h("tags",x.target.value.split(",").map(m=>m.trim()).filter(Boolean)),disabled:!f||i,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Description"}),r.jsx("textarea",{value:l.description||"",onChange:x=>h("description",x.target.value),disabled:!f||i,className:"min-h-[120px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",placeholder:"Summary or key points for this document."})]}),r.jsxs("button",{type:"button",disabled:!0,onClick:y,className:"inline-flex items-center gap-2 text-sm text-sky-600 disabled:cursor-not-allowed",title:"AI generation will be available soon.",children:[r.jsx(Bn,{className:"h-4 w-4"}),"Generate with AI (coming soon)"]}),c&&r.jsx("p",{className:"text-xs text-slate-500",children:c})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 rounded-lg border border-slate-200 bg-slate-50 p-4 text-sm text-slate-700 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-800",children:"Created"}),r.jsx("p",{children:E0(l.createdAt)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-800",children:"Last updated"}),r.jsx("p",{children:E0(l.lastUpdated)})]})]})]}),r.jsx("div",{className:"sticky bottom-0 border-t border-slate-200 bg-white p-4",children:r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[!f&&l.id&&r.jsx(Xr,{resourceType:"document",resourceId:l.id}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(U,{variant:"outline",onClick:s,children:"Cancel"}),f?r.jsx(U,{onClick:b,disabled:i,children:i?"Saving...":"Create document"}):r.jsx(U,{variant:"outline",onClick:s,children:"Close"})]})]})})]})})},CL=[{name:"Privacy Policy",type:"privacy_policy",description:"Standard privacy policy template."},{name:"Cookie Policy",type:"cookie_policy",description:"Covers cookie usage and consent."},{name:"Data Processing Agreement",type:"data_processing_agreement",description:"DPA for processors."},{name:"Information Security Policy",type:"security_policy",description:"Outlines security controls."}],EL=({onNewBlank:e,onTemplateSelect:t})=>{const[s,n]=P.useState(!1);return r.jsxs("div",{className:"relative",children:[r.jsxs(U,{className:"inline-flex items-center gap-2",onClick:()=>n(a=>!a),children:[r.jsx(Ul,{className:"h-4 w-4"}),"New document",r.jsx(lp,{className:"h-4 w-4"})]}),s&&r.jsxs("div",{className:"absolute right-0 z-20 mt-2 w-64 rounded-lg border border-slate-200 bg-white shadow-lg",children:[r.jsxs("button",{type:"button",className:"flex w-full items-start gap-2 px-4 py-3 text-left text-sm text-slate-800 hover:bg-slate-50",onClick:()=>{e(),n(!1)},children:[r.jsx("span",{className:"font-semibold",children:"Blank document"}),r.jsx("span",{className:"text-xs text-slate-500",children:"Start from scratch"})]}),r.jsxs("div",{className:"border-t border-slate-200",children:[r.jsx("p",{className:"px-4 py-2 text-xs font-semibold uppercase tracking-wide text-slate-500",children:"From template"}),CL.map(a=>r.jsxs("button",{type:"button",className:"flex w-full flex-col items-start px-4 py-3 text-left text-sm text-slate-800 hover:bg-slate-50",onClick:()=>{t(a),n(!1)},children:[r.jsx("span",{className:"font-semibold",children:a.name}),r.jsx("span",{className:"text-xs text-slate-500",children:a.description})]},a.name))]})]})]})},PL=()=>{const{documents:e,loading:t,detailLoading:s,saving:n,error:a,refresh:o,create:i,update:l,fetchOne:u}=hL(),[c,d]=P.useState(""),[f,h]=P.useState("all"),[y,b]=P.useState("all"),[g,x]=P.useState(null),[m,p]=P.useState("view"),w=P.useMemo(()=>e.filter(N=>{const S=N.name.toLowerCase().includes(c.toLowerCase())||(N.tags||[]).some(D=>D.toLowerCase().includes(c.toLowerCase())),T=f==="all"?!0:N.status===f,I=y==="all"?!0:N.type===y;return S&&T&&I}),[e,c,f,y]),j=N=>{x(N),p("view"),N.id&&u(N.id).then(S=>x(S)).catch(()=>{})},k=()=>{const N=new Date().toISOString();x({id:"",name:"New document",type:"other",status:"draft",owner:"",lastUpdated:N,createdAt:N,description:"",tags:[]}),p("create")},E=N=>{const S=new Date().toISOString();x({id:"",name:N.name,type:N.type,status:"draft",owner:"",lastUpdated:S,createdAt:S,description:N.description??"",tags:["template"]}),p("create")},C=async N=>{if(m==="create"){const{id:S,...T}=N;await i(T)}else N.id&&await l(N.id,N);await o(),x(null),p("view")};return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-slate-900",children:"Documents"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Manage all your GDPR-related documents, policies, and agreements in one place."})]}),r.jsx(EL,{onNewBlank:k,onTemplateSelect:E})]}),r.jsx(dc,{title:"Document center",description:"Centralize policies, agreements, and guidelines. Future AI assistance will help you draft, review, and publish faster."}),r.jsx(xL,{search:c,status:f,type:y,onSearch:d,onStatusChange:h,onTypeChange:b}),r.jsx(bL,{documents:w,onSelect:j,isLoading:t,isError:!!a}),a&&r.jsx("p",{className:"text-sm text-rose-600",children:a}),r.jsx("div",{className:"rounded-xl border border-dashed border-slate-300 bg-slate-50 p-4 text-sm text-slate-600",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(Bn,{className:"mt-0.5 h-4 w-4 text-sky-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-800",children:"AI document workflows (coming soon)"}),r.jsx("p",{children:"Generate drafts, review for GDPR gaps, and keep your templates up to date with AI assistance. This UI is ready for future integration."})]})]})}),r.jsx(SL,{document:g,isOpen:!!g,onClose:()=>x(null),onSave:C,mode:m,isLoading:s,isSaving:n})]})},TL=()=>{const{user:e}=rn();return(e==null?void 0:e.role)==="Pro"||(e==null?void 0:e.role)==="Admin"?r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Ce.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight text-foreground",children:"AI Compliance Assistant"}),r.jsx("p",{className:"text-md text-muted-foreground",children:"Leverage AI to analyze documents and identify GDPR compliance gaps."})]}),r.jsx(Ce.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.5},children:r.jsxs(ne,{className:"bg-card/70 dark:bg-slate-800/70 backdrop-blur-sm border-border/50 shadow-lg",children:[r.jsxs(Le,{children:[r.jsxs(Oe,{className:"flex items-center text-xl",children:[r.jsx(kE,{className:"mr-2 h-6 w-6 text-sky-500"}),"Analyze Document"]}),r.jsx(Xt,{children:"Select a document to begin AI analysis. Ensure it's a PDF."})]}),r.jsxs(re,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Select a document from your library:"}),r.jsxs("select",{className:"w-full p-2 border rounded-md bg-input text-foreground border-border focus:ring-primary focus:border-primary",children:[r.jsx("option",{children:"Privacy Policy v2.1.pdf"}),r.jsx("option",{children:"Data Processing Agreement - VendorX.pdf"})]})]}),r.jsxs(U,{className:"w-full bg-gradient-to-r from-sky-500 to-purple-600 hover:from-sky-600 hover:to-purple-700 text-white",children:[r.jsx(Ih,{className:"mr-2 h-4 w-4"})," Analyze with AI"]}),r.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:[r.jsx(cs,{className:"inline h-3 w-3 mr-1 text-green-500"}),"AI analysis is performed in an isolated environment. Your data remains secure."]})]})]})}),r.jsxs(Ce.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4,duration:.5},className:"mt-8",children:[r.jsx("h2",{className:"text-2xl font-semibold text-foreground mb-4",children:"Analysis Results"}),r.jsx(ne,{className:"bg-card/70 dark:bg-slate-800/70 backdrop-blur-sm border-border/50 shadow-md",children:r.jsx(re,{className:"p-6",children:r.jsxs("div",{className:"flex flex-col items-center justify-center text-center text-muted-foreground h-40",children:[r.jsx(uE,{className:"h-12 w-12 mb-2"}),r.jsx("p",{children:'No analysis performed yet. Select a document and click "Analyze with AI".'})]})})})]})]}):r.jsxs(Ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col items-center justify-center h-full text-center p-8",children:[r.jsx(Ih,{className:"h-24 w-24 text-yellow-400 mb-6"}),r.jsx("h1",{className:"text-4xl font-bold text-foreground mb-3",children:"Unlock AI Compliance Assistant"}),r.jsx("p",{className:"text-lg text-muted-foreground mb-8 max-w-md",children:"Upgrade to Pro to access automated document analysis, risk flagging, and GDPR insights powered by our isolated AI."}),r.jsx(U,{size:"lg",className:"bg-gradient-to-r from-yellow-400 to-orange-500 hover:from-yellow-500 hover:to-orange-600 text-white text-lg px-8 py-3",asChild:!0,children:r.jsx(Rr,{to:"/app/billing",children:"Upgrade to Pro"})}),r.jsx("p",{className:"text-sm text-muted-foreground mt-4",children:"Your privacy is paramount. Our AI operates in an isolated environment."})]})};async function AL(){alert("In a future update, this will open your secure billing portal (e.g. PayPal or Stripe).")}const RL=(e,t)=>new Intl.NumberFormat(void 0,{style:"currency",currency:t}).format(e),DL=({plan:e})=>{const t=()=>{alert("Plan changes will be managed in a future update.")},s=()=>{alert("Plan changes will be managed in a future update.")},n=()=>{AL()};return r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:[r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Current plan"}),r.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:e.name}),r.jsx("p",{className:"text-sm text-slate-600",children:e.isTrial&&e.trialDaysLeft&&e.trialDaysLeft>0?`Free trial  ${e.trialDaysLeft} days left`:`${RL(e.pricePerMonth,e.currency)} / month`})]}),r.jsx("span",{className:"rounded-full bg-sky-50 px-3 py-1 text-xs font-semibold text-sky-700",children:e.type})]}),r.jsx("ul",{className:"mt-4 space-y-2 text-sm text-slate-700",children:e.features.map(a=>r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"mt-1 h-1.5 w-1.5 rounded-full bg-sky-500"}),r.jsx("span",{children:a})]},a))}),r.jsxs("div",{className:"mt-5 flex flex-wrap gap-2",children:[r.jsx(U,{onClick:t,children:"Upgrade plan"}),r.jsx(U,{variant:"outline",onClick:s,children:"Downgrade or cancel"}),r.jsx(U,{variant:"ghost",onClick:n,children:"Manage billing"})]})]})},ML=({usage:e})=>{const s=((n,a)=>!a||a===0?0:Math.min(100,Math.round(n/a*100)))(e.aiCallsThisMonth,e.maxAiCallsPerMonth);return r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Usage this month"}),r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Usage overview"})]})}),r.jsxs("div",{className:"mt-4 space-y-3 text-sm text-slate-700",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{children:"Data subject requests"}),r.jsx("span",{className:"font-semibold text-slate-900",children:e.dsrCountThisMonth})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{children:"Documents"}),r.jsx("span",{className:"font-semibold text-slate-900",children:e.documentsCount})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{children:"Policies"}),r.jsx("span",{className:"font-semibold text-slate-900",children:e.policiesCount})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{children:"AI calls"}),r.jsxs("span",{className:"font-semibold text-slate-900",children:[e.aiCallsThisMonth,e.maxAiCallsPerMonth?` / ${e.maxAiCallsPerMonth}`:""]})]}),e.maxAiCallsPerMonth&&r.jsx("div",{className:"h-2 w-full rounded-full bg-slate-100",children:r.jsx("div",{className:"h-2 rounded-full bg-sky-500",style:{width:`${s}%`}})})]})]})]})},_L={paid:"bg-emerald-50 text-emerald-700 border-emerald-200",pending:"bg-amber-50 text-amber-700 border-amber-200",failed:"bg-rose-50 text-rose-700 border-rose-200"},LL=e=>{const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},OL=(e,t)=>new Intl.NumberFormat(void 0,{style:"currency",currency:t}).format(e),IL=({history:e})=>e.length===0?r.jsx("p",{className:"text-sm text-muted-foreground",children:"No invoices found yet."}):r.jsx("div",{className:"overflow-auto rounded-xl border border-slate-200 bg-white shadow-sm",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b bg-slate-50 text-left text-slate-500",children:[r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Date"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Description"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Amount"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Status"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Actions"})]})}),r.jsx("tbody",{children:e.map(t=>r.jsxs("tr",{className:"border-b last:border-0",children:[r.jsx("td",{className:"py-3 pr-4 text-foreground",children:LL(t.date)}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:t.description}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:OL(t.amount,t.currency)}),r.jsx("td",{className:"py-3 pr-4",children:r.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-semibold ${_L[t.status]}`,children:t.status})}),r.jsx("td",{className:"py-3 pr-4",children:t.invoiceUrl?r.jsx("a",{href:t.invoiceUrl,className:"text-sky-600 hover:underline",target:"_blank",rel:"noreferrer",children:"Download invoice"}):r.jsx("span",{className:"text-slate-400",children:"Not available"})})]},t.id))})]})});function FL(){return{currentPlan:{type:"pro",name:"Pro plan",pricePerMonth:99,currency:"EUR",isTrial:!1,trialDaysLeft:0,features:["Unlimited data subject requests","Unlimited documents and policies","AI policy and DPIA generator","Priority support"]},usage:{dsrCountThisMonth:7,documentsCount:24,policiesCount:6,aiCallsThisMonth:132,maxDsrsPerMonth:void 0,maxAiCallsPerMonth:2e3},history:[{id:"inv_001",date:"2025-03-01T09:15:00Z",amount:99,currency:"EUR",description:"AURA-GDPR Pro plan  March 2025",status:"paid",invoiceUrl:"#"},{id:"inv_002",date:"2025-02-01T09:12:00Z",amount:99,currency:"EUR",description:"AURA-GDPR Pro plan  February 2025",status:"paid",invoiceUrl:"#"}],isLoading:!1,isError:!1}}const VL=()=>{const{currentPlan:e,usage:t,history:s,isLoading:n,isError:a}=FL();return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-slate-900",children:"Billing & subscription"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Manage your plan, usage, and invoices."})]}),r.jsx(dc,{title:"Billing overview",description:"Review your current plan, usage, and invoice history. PayPal/checkout integration will be added later."}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsx(DL,{plan:e}),r.jsx(ML,{usage:t})]}),r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Billing history"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Invoices and payment status."}),r.jsxs("div",{className:"mt-3",children:[n,a,r.jsx(IL,{history:s})]})]})]})},$L=()=>{const{user:e,logout:t}=rn(),{toast:s}=nn(),[n,a]=v.useState((e==null?void 0:e.name)??""),[o,i]=v.useState((e==null?void 0:e.email)??""),[l,u]=v.useState(""),[c,d]=v.useState(""),[f,h]=v.useState(""),y=w=>{w.preventDefault(),s({title:"Profile Updated",description:"Your profile information has been saved."})},b=w=>{if(w.preventDefault(),c!==f){s({variant:"destructive",title:"Error",description:"New passwords do not match."});return}s({title:"Password Changed",description:"Your password has been updated successfully."}),u(""),d(""),h("")},g=()=>{s({title:"Data Export Requested",description:"Your data export will be prepared and sent to your email."})},x=()=>{window.confirm("Are you sure you want to delete your account? This action cannot be undone.")&&(s({variant:"destructive",title:"Account Deletion Initiated",description:"Your account deletion process has started."}),t())},m=w=>{if(!w)return"AU";const j=w.split(" ");return j.length===1?j[0].substring(0,2).toUpperCase():`${j[0][0].toUpperCase()}${j[j.length-1][0].toUpperCase()}`},p={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}};return r.jsxs("div",{className:"space-y-8",children:[r.jsxs(Ce.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight text-foreground",children:"Account Settings"}),r.jsx("p",{className:"text-md text-muted-foreground",children:"Manage your profile, password, and data preferences."})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Dr,{to:"/app/settings",className:({isActive:w})=>`px-3 py-2 rounded-md text-sm ${w?"bg-slate-200 dark:bg-slate-700 font-semibold":"text-muted-foreground"}`,children:"Profile"}),r.jsx(Dr,{to:"/app/settings/notifications",className:({isActive:w})=>`px-3 py-2 rounded-md text-sm ${w?"bg-slate-200 dark:bg-slate-700 font-semibold":"text-muted-foreground"}`,children:"Notifications"})]}),r.jsx(Ce.div,{variants:p,initial:"hidden",animate:"visible",children:r.jsxs(ne,{className:"bg-card/70 dark:bg-slate-800/70 backdrop-blur-sm border-border/50 shadow-lg",children:[r.jsxs(Le,{children:[r.jsxs(Oe,{className:"flex items-center text-xl",children:[r.jsx(BE,{className:"mr-2 h-6 w-6 text-sky-500"}),"Profile Information"]}),r.jsx(Xt,{children:"Update your personal details."})]}),r.jsx(re,{children:r.jsxs("form",{onSubmit:y,className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[r.jsxs(Hp,{className:"h-20 w-20 border-4 border-primary/30",children:[r.jsx(qp,{src:e==null?void 0:e.avatarUrl,alt:e==null?void 0:e.name}),r.jsx(Kp,{className:"text-2xl bg-gradient-to-br from-sky-400 to-purple-500 text-white font-semibold",children:m(e==null?void 0:e.name)})]}),r.jsxs(U,{variant:"outline",className:"border-sky-500 text-sky-500 hover:bg-sky-500 hover:text-white",children:[r.jsx(LE,{className:"mr-2 h-4 w-4"})," Change Avatar"]})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Mt,{htmlFor:"name",children:"Full Name"}),r.jsx(dt,{id:"name",value:n,onChange:w=>a(w.target.value),className:"bg-input"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Mt,{htmlFor:"email",children:"Email Address"}),r.jsx(dt,{id:"email",type:"email",value:o,onChange:w=>i(w.target.value),className:"bg-input"})]})]}),r.jsx(U,{type:"submit",className:"bg-gradient-to-r from-sky-500 to-purple-600 hover:from-sky-600 hover:to-purple-700 text-white",children:"Save Profile Changes"})]})})]})}),r.jsx(Ce.div,{variants:p,initial:"hidden",animate:"visible",children:r.jsxs(ne,{className:"bg-card/70 dark:bg-slate-800/70 backdrop-blur-sm border-border/50 shadow-lg",children:[r.jsxs(Le,{children:[r.jsxs(Oe,{className:"flex items-center text-xl",children:[r.jsx(RE,{className:"mr-2 h-6 w-6 text-sky-500"}),"Change Password"]}),r.jsx(Xt,{children:"Update your account password for better security."})]}),r.jsx(re,{children:r.jsxs("form",{onSubmit:b,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Mt,{htmlFor:"current-password",children:"Current Password"}),r.jsx(dt,{id:"current-password",type:"password",value:l,onChange:w=>u(w.target.value),className:"bg-input"})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Mt,{htmlFor:"new-password",children:"New Password"}),r.jsx(dt,{id:"new-password",type:"password",value:c,onChange:w=>d(w.target.value),className:"bg-input"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Mt,{htmlFor:"confirm-new-password",children:"Confirm New Password"}),r.jsx(dt,{id:"confirm-new-password",type:"password",value:f,onChange:w=>h(w.target.value),className:"bg-input"})]})]}),r.jsx(U,{type:"submit",className:"bg-gradient-to-r from-sky-500 to-purple-600 hover:from-sky-600 hover:to-purple-700 text-white",children:"Change Password"})]})})]})}),r.jsx(Ce.div,{variants:p,initial:"hidden",animate:"visible",children:r.jsxs(ne,{className:"bg-card/70 dark:bg-slate-800/70 backdrop-blur-sm border-border/50 shadow-lg",children:[r.jsxs(Le,{children:[r.jsxs(Oe,{className:"flex items-center text-xl",children:[r.jsx(Lh,{className:"mr-2 h-6 w-6 text-sky-500"}),"Data Management"]}),r.jsx(Xt,{children:"Manage your personal data stored with AURA GDPR."})]}),r.jsxs(re,{className:"space-y-4",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"You have the right to access and export your personal data. You can also request account deletion."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs(U,{onClick:g,variant:"outline",className:"flex-1 border-sky-500 text-sky-500 hover:bg-sky-500 hover:text-white",children:[r.jsx(Lh,{className:"mr-2 h-4 w-4"})," Export My Data"]}),r.jsxs(U,{onClick:x,variant:"destructive",className:"flex-1",children:[r.jsx($E,{className:"mr-2 h-4 w-4"})," Delete My Account"]})]})]})]})})]})},BL=[{id:"u1",name:"Alice Wonderland",email:"alice@example.com",plan:"Pro",status:"Active",docCount:15,joinDate:"2025-01-15"},{id:"u2",name:"Bob The Builder",email:"bob@example.com",plan:"Free",status:"Active",docCount:3,joinDate:"2025-03-22"},{id:"u3",name:"Charlie Brown",email:"charlie@example.com",plan:"Pro",status:"Inactive",docCount:8,joinDate:"2024-11-05"},{id:"u4",name:"Diana Prince",email:"diana@example.com",plan:"Free",status:"Active",docCount:1,joinDate:"2025-05-10"}],UL=()=>{const{user:e}=rn(),[t,s]=P.useState(""),[n]=P.useState(BL);if((e==null?void 0:e.role)!=="Admin")return r.jsx(el,{to:"/app/dashboard",replace:!0});const a=n.filter(l=>l.name.toLowerCase().includes(t.toLowerCase())||l.email.toLowerCase().includes(t.toLowerCase())),o={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},i={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Ce.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[r.jsxs("h1",{className:"text-3xl font-bold tracking-tight text-foreground flex items-center",children:[r.jsx(Wl,{className:"mr-3 h-8 w-8 text-purple-500"})," Admin Panel"]}),r.jsx("p",{className:"text-md text-muted-foreground",children:"Manage users and system settings."})]}),r.jsxs(Ce.div,{variants:i,initial:"hidden",animate:"visible",className:"grid md:grid-cols-3 gap-6",children:[r.jsxs(ne,{className:"bg-card/70 dark:bg-slate-800/70 backdrop-blur-sm border-border/50 shadow-md",children:[r.jsxs(Le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Oe,{className:"text-sm font-medium text-muted-foreground",children:"Total Users"}),r.jsx(Oh,{className:"h-5 w-5 text-sky-500"})]}),r.jsx(re,{children:r.jsx("div",{className:"text-3xl font-bold text-sky-500",children:n.length})})]}),r.jsxs(ne,{className:"bg-card/70 dark:bg-slate-800/70 backdrop-blur-sm border-border/50 shadow-md",children:[r.jsxs(Le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Oe,{className:"text-sm font-medium text-muted-foreground",children:"Pro Users"}),r.jsx(Oh,{className:"h-5 w-5 text-purple-500"})]}),r.jsx(re,{children:r.jsx("div",{className:"text-3xl font-bold text-purple-500",children:n.filter(l=>l.plan==="Pro").length})})]}),r.jsxs(ne,{className:"bg-card/70 dark:bg-slate-800/70 backdrop-blur-sm border-border/50 shadow-md",children:[r.jsxs(Le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Oe,{className:"text-sm font-medium text-muted-foreground",children:"Total Documents"}),r.jsx(Za,{className:"h-5 w-5 text-green-500"})]}),r.jsx(re,{children:r.jsx("div",{className:"text-3xl font-bold text-green-500",children:n.reduce((l,u)=>l+u.docCount,0)})})]})]}),r.jsx(Ce.div,{variants:i,initial:"hidden",animate:"visible",children:r.jsxs(ne,{className:"bg-card/70 dark:bg-slate-800/70 backdrop-blur-sm border-border/50 shadow-lg",children:[r.jsxs(Le,{children:[r.jsx(Oe,{className:"text-xl",children:"User Management"}),r.jsx(Xt,{children:"View, filter, and manage user accounts."}),r.jsxs("div",{className:"pt-4 flex gap-4",children:[r.jsxs("div",{className:"relative flex-grow",children:[r.jsx(IE,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),r.jsx(dt,{type:"search",placeholder:"Search users by name or email...",className:"pl-10 w-full bg-input",value:t,onChange:l=>s(l.target.value)})]}),r.jsxs(U,{variant:"outline",className:"border-sky-500 text-sky-500 hover:bg-sky-500 hover:text-white",children:[r.jsx(Bv,{className:"mr-2 h-4 w-4"})," Filter Users"]})]})]}),r.jsxs(re,{children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{className:"text-left text-muted-foreground",children:r.jsxs("tr",{children:[r.jsx("th",{className:"p-2",children:"Name"}),r.jsx("th",{className:"p-2",children:"Email"}),r.jsx("th",{className:"p-2",children:"Plan"}),r.jsx("th",{className:"p-2",children:"Status"}),r.jsx("th",{className:"p-2",children:"Docs"}),r.jsx("th",{className:"p-2",children:"Joined"}),r.jsx("th",{className:"p-2",children:"Actions"})]})}),r.jsx(Ce.tbody,{variants:o,initial:"hidden",animate:"visible",children:a.map(l=>r.jsxs(Ce.tr,{variants:i,className:"border-b border-border/50 hover:bg-slate-100 dark:hover:bg-slate-700/50 transition-colors",children:[r.jsx("td",{className:"p-2 font-medium",children:l.name}),r.jsx("td",{className:"p-2 text-muted-foreground",children:l.email}),r.jsx("td",{className:"p-2",children:r.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${l.plan==="Pro"?"bg-purple-200 text-purple-700 dark:bg-purple-700 dark:text-purple-200":"bg-sky-200 text-sky-700 dark:bg-sky-700 dark:text-sky-200"}`,children:l.plan})}),r.jsx("td",{className:"p-2",children:r.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${l.status==="Active"?"bg-green-200 text-green-700 dark:bg-green-700 dark:text-green-200":"bg-red-200 text-red-700 dark:bg-red-700 dark:text-red-200"}`,children:l.status})}),r.jsx("td",{className:"p-2 text-muted-foreground",children:l.docCount}),r.jsx("td",{className:"p-2 text-muted-foreground",children:l.joinDate}),r.jsx("td",{className:"p-2",children:r.jsx(U,{variant:"ghost",size:"sm",className:"text-red-500 hover:bg-red-100 dark:hover:bg-red-700/50",children:"Deactivate"})})]},l.id))})]})}),a.length===0&&r.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No users match your search criteria."})]})]})})]})},qs=({className:e,...t})=>r.jsx("div",{className:Z("animate-pulse rounded-md bg-muted",e),...t}),zL=["open","in_progress","blocked","completed","cancelled"],WL=["low","medium","high","urgent"],HL=["dsr","policy","document","dpia","ropa","incident","toms","general"],qL=({search:e,status:t,priority:s,resource:n,due:a,onSearch:o,onStatusChange:i,onPriorityChange:l,onResourceChange:u,onDueChange:c})=>r.jsxs("div",{className:"flex flex-col gap-3 rounded-xl border border-slate-200 bg-white p-4 shadow-sm md:flex-row md:items-center md:justify-between",children:[r.jsx("input",{type:"text",value:e,onChange:d=>o(d.target.value),placeholder:"Search tasks by title or resource...",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100"}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:t,onChange:d=>i(d.target.value),children:[r.jsx("option",{value:"all",children:"All statuses"}),zL.map(d=>r.jsx("option",{value:d,children:d.replace("_"," ")},d))]}),r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:s,onChange:d=>l(d.target.value),children:[r.jsx("option",{value:"all",children:"All priorities"}),WL.map(d=>r.jsx("option",{value:d,children:d},d))]}),r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:n,onChange:d=>u(d.target.value),children:[r.jsx("option",{value:"all",children:"All resources"}),HL.map(d=>r.jsx("option",{value:d,children:d},d))]}),r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:a,onChange:d=>c(d.target.value),children:[r.jsx("option",{value:"all",children:"All due dates"}),r.jsx("option",{value:"overdue",children:"Overdue"}),r.jsx("option",{value:"today",children:"Due today"}),r.jsx("option",{value:"week",children:"Due this week"})]})]})]}),KL={low:"bg-slate-100 text-slate-700 border-slate-200",medium:"bg-sky-50 text-sky-700 border-sky-200",high:"bg-orange-50 text-orange-700 border-orange-200",urgent:"bg-rose-50 text-rose-700 border-rose-200"},GL={low:"Low",medium:"Medium",high:"High",urgent:"Urgent"},$N=({priority:e})=>r.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-semibold ${KL[e]}`,children:GL[e]}),YL={open:"bg-sky-50 text-sky-700 border-sky-200",in_progress:"bg-amber-50 text-amber-700 border-amber-200",blocked:"bg-orange-50 text-orange-700 border-orange-200",completed:"bg-emerald-50 text-emerald-700 border-emerald-200",cancelled:"bg-slate-100 text-slate-700 border-slate-200"},XL={open:"Open",in_progress:"In progress",blocked:"Blocked",completed:"Completed",cancelled:"Cancelled"},BN=({status:e})=>r.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-semibold ${YL[e]}`,children:XL[e]}),QL=e=>{const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},ZL=e=>e.resourceName?`${e.resourceType}: ${e.resourceName}`:e.resourceType,JL=({task:e,onClick:t})=>r.jsxs("tr",{className:"cursor-pointer border-b last:border-0 hover:bg-slate-50 focus-within:bg-slate-50",tabIndex:0,role:"button",onClick:t,onKeyDown:s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),t())},children:[r.jsx("td",{className:"py-3 pr-4 font-semibold text-foreground",children:e.title}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:ZL(e)}),r.jsx("td",{className:"py-3 pr-4",children:r.jsx($N,{priority:e.priority})}),r.jsx("td",{className:"py-3 pr-4",children:r.jsx(BN,{status:e.status})}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:e.assignee}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:QL(e.dueDate)})]}),eO=({tasks:e,onSelect:t,isLoading:s,isError:n})=>s?r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading tasks..."}):n?r.jsx("p",{className:"text-sm text-red-600",children:"Failed to load tasks."}):e.length===0?r.jsx("p",{className:"text-sm text-muted-foreground",children:"No tasks found for the selected filters."}):r.jsx("div",{className:"overflow-auto rounded-lg border border-slate-200 bg-white shadow-sm",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b bg-slate-50 text-left text-slate-500",children:[r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Title"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Resource"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Priority"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Status"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Assignee"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Due date"})]})}),r.jsx("tbody",{children:e.map(a=>r.jsx(JL,{task:a,onClick:()=>t(a)},a.id))})]})}),tO=["open","in_progress","blocked","completed","cancelled"],sO=["low","medium","high","urgent"],nO=["dsr","policy","document","dpia","ropa","incident","toms","general"],rO={dsr:"/app/dsr",policy:"/app/policies",document:"/app/documents",dpia:"/app/dpia",ropa:"/app/ropa",incident:"/app/incidents",toms:"/app/toms"},aO=({task:e,isOpen:t,mode:s,isLoading:n,isSaving:a,onClose:o,onSave:i,onStatusChange:l,onPriorityChange:u})=>{const[c,d]=P.useState(e),[f,h]=P.useState({}),y=P.useRef(null);if(P.useEffect(()=>{t&&(d(e),h({}))},[e,t]),P.useEffect(()=>{var I;if(!t)return;const S=D=>{if(D.key==="Escape"&&o(),D.key==="Tab"&&y.current){const O=y.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(O.length===0)return;const _=O[0],F=O[O.length-1];!D.shiftKey&&document.activeElement===F?(D.preventDefault(),_.focus()):D.shiftKey&&document.activeElement===_&&(D.preventDefault(),F.focus())}};document.addEventListener("keydown",S);const T=(I=y.current)==null?void 0:I.querySelector("input, select, textarea, button");return T==null||T.focus(),()=>document.removeEventListener("keydown",S)},[t,o]),!t||!c&&!n)return null;const b=(s==="create"||s==="edit")&&!n,g=l&&(c==null?void 0:c.id)&&s!=="create",x=u&&(c==null?void 0:c.id)&&s!=="create",m=!!(n||a),p=(S,T)=>{d(I=>I&&{...I,[S]:T})},w=()=>{const S={};return c.title.trim()||(S.title="Title is required."),c.description.trim()||(S.description="Description is required."),c.resourceType||(S.resourceType="Resource type is required."),c.status||(S.status="Status is required."),c.priority||(S.priority="Priority is required."),c.dueDate||(S.dueDate="Due date is required."),h(S),Object.keys(S).length===0},j=async()=>{w()&&await i(c,s==="create"?"create":"edit")},k=async S=>{p("status",S),g&&(c!=null&&c.id)&&await(l==null?void 0:l(c.id,S))},E=async S=>{p("priority",S),x&&(c!=null&&c.id)&&await(u==null?void 0:u(c.id,S))},C=S=>{S.target===S.currentTarget&&o()};if(!c&&n)return r.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/30 backdrop-blur-sm",onMouseDown:C,children:r.jsxs("div",{className:"flex h-full w-full max-w-2xl flex-col overflow-y-auto bg-white shadow-2xl",ref:y,children:[r.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-5 py-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Task"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Loading task..."})]}),r.jsx("button",{type:"button",onClick:o,className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:r.jsx(Ee,{className:"h-5 w-5"})})]}),r.jsx("div",{className:"p-5 text-sm text-slate-600",children:"Loading task..."})]})});const N=c.resourceType&&rO[c.resourceType];return r.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/30 backdrop-blur-sm",onMouseDown:C,children:r.jsxs("div",{className:"flex h-full w-full max-w-2xl flex-col overflow-y-auto bg-white shadow-2xl",ref:y,children:[r.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-5 py-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:s==="create"?"New task":c.title||"Task"}),r.jsx(BN,{status:c.status}),r.jsx($N,{priority:c.priority})]}),r.jsx("p",{className:"text-sm text-slate-600",children:c.resourceName||c.resourceType})]}),r.jsx("button",{type:"button",onClick:o,className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:r.jsx(Ee,{className:"h-5 w-5"})})]}),n&&c&&r.jsx("div",{className:"px-5 py-2 text-sm text-slate-600",children:"Loading task..."}),r.jsxs("div",{className:"space-y-4 p-5",children:[r.jsxs("div",{className:"space-y-3 rounded-lg border border-slate-200 bg-white p-4",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Title"}),r.jsx("input",{type:"text",value:c.title,onChange:S=>p("title",S.target.value),disabled:!b||m,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),f.title&&r.jsx("p",{className:"text-xs text-rose-600",children:f.title})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Description"}),r.jsx("textarea",{value:c.description,onChange:S=>p("description",S.target.value),disabled:!b||m,className:"min-h-[90px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),f.description&&r.jsx("p",{className:"text-xs text-rose-600",children:f.description})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-3",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Status"}),r.jsx("select",{value:c.status,onChange:S=>k(S.target.value),disabled:!b&&!g||m,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:tO.map(S=>r.jsx("option",{value:S,children:S.replace("_"," ")},S))}),f.status&&r.jsx("p",{className:"text-xs text-rose-600",children:f.status})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Priority"}),r.jsx("select",{value:c.priority,onChange:S=>E(S.target.value),disabled:!b&&!x||m,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:sO.map(S=>r.jsx("option",{value:S,children:S},S))}),f.priority&&r.jsx("p",{className:"text-xs text-rose-600",children:f.priority})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Due date"}),r.jsx("input",{type:"date",value:c.dueDate.slice(0,10),onChange:S=>p("dueDate",S.target.value),disabled:!b||m,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),f.dueDate&&r.jsx("p",{className:"text-xs text-rose-600",children:f.dueDate})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Assignee"}),r.jsx("input",{type:"text",value:c.assignee,onChange:S=>p("assignee",S.target.value),disabled:!b||m,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Resource type"}),r.jsx("select",{value:c.resourceType,onChange:S=>p("resourceType",S.target.value),disabled:!b||m,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:nO.map(S=>r.jsx("option",{value:S,children:S},S))}),f.resourceType&&r.jsx("p",{className:"text-xs text-rose-600",children:f.resourceType})]}),r.jsxs("div",{className:"flex flex-col gap-2 md:flex-row",children:[r.jsx("input",{type:"text",placeholder:"Resource id (optional)",value:c.resourceId||"",onChange:S=>p("resourceId",S.target.value),disabled:!b||m,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),r.jsx("input",{type:"text",placeholder:"Resource name (optional)",value:c.resourceName||"",onChange:S=>p("resourceName",S.target.value),disabled:!b||m,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),N&&r.jsx(Dr,{to:N,className:"text-sm font-semibold text-sky-700 hover:underline",children:"Open related module"})]})]})]}),s!=="create"&&r.jsxs("div",{className:"grid grid-cols-1 gap-3 rounded-lg border border-slate-200 bg-slate-50 p-4 text-sm text-slate-700 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-800",children:"Created"}),r.jsx("p",{children:new Date(c.createdAt).toLocaleString()})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-800",children:"Last updated"}),r.jsx("p",{children:new Date(c.updatedAt).toLocaleString()})]})]})]}),r.jsx("div",{className:"sticky bottom-0 border-t border-slate-200 bg-white p-4",children:r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(U,{variant:"outline",onClick:o,disabled:m,children:"Cancel"}),b&&r.jsx(U,{onClick:j,disabled:m,children:a?"Saving...":s==="create"?"Create task":"Save changes"})]})})]})})},oO=({onNew:e})=>r.jsxs(U,{className:"inline-flex items-center gap-2",onClick:e,children:[r.jsx(zl,{className:"h-4 w-4"}),"New task"]}),iO=e=>["open","in_progress","blocked","completed","cancelled"].includes(e)?e:"open",lO=e=>["low","medium","high","urgent"].includes(e)?e:"medium",kn=e=>{const t=(e==null?void 0:e.createdAt)??(e==null?void 0:e.created_at)??new Date().toISOString(),s=(e==null?void 0:e.updatedAt)??(e==null?void 0:e.updated_at)??t;return{id:(e==null?void 0:e.id)??(e==null?void 0:e._id)??"",title:(e==null?void 0:e.title)??"",description:(e==null?void 0:e.description)??"",status:iO(e==null?void 0:e.status),priority:lO(e==null?void 0:e.priority),dueDate:(e==null?void 0:e.dueDate)??(e==null?void 0:e.due_date)??"",createdAt:t,updatedAt:s,assignee:(e==null?void 0:e.assignee)??"",resourceType:(e==null?void 0:e.resourceType)??(e==null?void 0:e.resource_type)??"general",resourceId:(e==null?void 0:e.resourceId)??(e==null?void 0:e.resource_id)??"",resourceName:(e==null?void 0:e.resourceName)??(e==null?void 0:e.resource_name)??""}},cO=e=>{if(Array.isArray(e))return e.map(kn);const t=e;return Array.isArray(t==null?void 0:t.items)?t.items.map(kn):Array.isArray(t==null?void 0:t.tasks)?t.tasks.map(kn):[]};async function uO(){const e=await H.get("/api/tasks");return cO(e.data)}async function dO(e){const t=await H.get(`/api/tasks/${e}`);return kn(t.data)}async function fO(e){const t=await H.post("/api/tasks",e);return kn(t.data)}async function pO(e,t){const s=await H.put(`/api/tasks/${e}`,t);return kn(s.data)}async function mO(e,t){const s=await H.patch(`/api/tasks/${e}`,t);return kn(s.data)}function hO(){const[e,t]=v.useState([]),[s,n]=v.useState(!1),[a,o]=v.useState(!1),[i,l]=v.useState(!1),[u,c]=v.useState(null),d=v.useRef(!0);v.useEffect(()=>()=>{d.current=!1},[]);const f=v.useCallback(async()=>{n(!0),c(null);try{const x=await uO();d.current&&t(x)}catch(x){d.current&&c((x==null?void 0:x.message)??"Failed to load tasks.")}finally{d.current&&n(!1)}},[]);v.useEffect(()=>{f()},[f]);const h=v.useCallback(async x=>{o(!0);try{const m=await dO(x);return d.current&&t(p=>p.some(j=>j.id===m.id)?p.map(j=>j.id===m.id?m:j):[m,...p]),m}finally{d.current&&o(!1)}},[]),y=v.useCallback(async x=>{l(!0),c(null);try{const m=await fO(x);return d.current&&t(p=>[m,...p]),m}catch(m){throw d.current&&c((m==null?void 0:m.message)??"Failed to create task."),m}finally{d.current&&l(!1)}},[]),b=v.useCallback(async(x,m)=>{l(!0),c(null);try{const p=await pO(x,m);return d.current&&t(w=>w.map(j=>j.id===p.id?p:j)),p}catch(p){throw d.current&&c((p==null?void 0:p.message)??"Failed to update task."),p}finally{d.current&&l(!1)}},[]),g=v.useCallback(async(x,m)=>{l(!0),c(null);try{const p=await mO(x,m);return d.current&&t(w=>w.map(j=>j.id===p.id?p:j)),p}catch(p){throw d.current&&c((p==null?void 0:p.message)??"Failed to update task."),p}finally{d.current&&l(!1)}},[]);return{tasks:e,loading:s,detailLoading:a,saving:i,error:u,refresh:f,fetchOne:h,create:y,update:b,patch:g}}const xO=(e,t)=>{if(t==="all")return!0;const s=new Date(e);if(Number.isNaN(s.getTime()))return!1;const n=new Date,a=Math.floor((s.getTime()-n.getTime())/(1e3*60*60*24));return t==="overdue"?a<0:t==="today"?a===0:t==="week"?a>=0&&a<=7:!0},gO=()=>{const{tasks:e,loading:t,detailLoading:s,saving:n,error:a,refresh:o,fetchOne:i,create:l,update:u,patch:c}=hO(),[d,f]=P.useState(""),[h,y]=P.useState("all"),[b,g]=P.useState("all"),[x,m]=P.useState("all"),[p,w]=P.useState("all"),[j,k]=P.useState(null),[E,C]=P.useState("view"),N=P.useMemo(()=>e.filter(F=>{const $=F.title.toLowerCase().includes(d.toLowerCase())||(F.resourceName||"").toLowerCase().includes(d.toLowerCase()),q=h==="all"?!0:F.status===h,R=b==="all"?!0:F.priority===b,M=x==="all"?!0:F.resourceType===x,L=xO(F.dueDate,p);return $&&q&&R&&M&&L}),[e,d,h,b,x,p]),S=F=>{k(F),C("edit"),F.id&&i(F.id).then($=>k($)).catch(()=>{})},T=async(F,$)=>{try{if($==="create"){const{id:q,...R}=F;await l(R)}else F.id&&await u(F.id,F);await o(),k(null),C("view")}catch{}},I=()=>{const F=new Date().toISOString();k({id:"",title:"",description:"",status:"open",priority:"medium",dueDate:F.slice(0,10),createdAt:F,updatedAt:F,assignee:"",resourceType:"general",resourceId:"",resourceName:""}),C("create")},D=async(F,$)=>{try{await c(F,{status:$}),await o()}catch{}},O=async(F,$)=>{try{await c(F,{priority:$}),await o()}catch{}},_=()=>t?r.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((F,$)=>r.jsx(qs,{className:"h-20 w-full rounded-lg bg-slate-100"},$))}):a?r.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 p-4 text-sm text-rose-700",children:r.jsxs("div",{className:"flex items-center justify-between gap-3",children:[r.jsx("p",{children:a}),r.jsx("button",{type:"button",className:"text-xs font-semibold text-rose-800 underline",onClick:()=>o(),children:"Retry"})]})}):N.length===0?r.jsxs("div",{className:"rounded-lg border border-dashed border-slate-300 bg-slate-50 p-6 text-sm text-slate-700",children:[r.jsx("p",{className:"font-semibold text-slate-900",children:"No tasks match the current filters."}),r.jsx("p",{className:"text-slate-600",children:"Adjust filters or create a new task."})]}):r.jsx(eO,{tasks:N,onSelect:S});return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-slate-900",children:"Tasks"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Track and manage your compliance tasks."})]}),r.jsx(oO,{onNew:I})]}),r.jsx(qL,{search:d,status:h,priority:b,resource:x,due:p,onSearch:f,onStatusChange:y,onPriorityChange:g,onResourceChange:m,onDueChange:w}),_(),r.jsx(aO,{task:j,isOpen:!!j,mode:E,onClose:()=>{k(null),C("view")},onSave:T,isLoading:s,isSaving:n,onStatusChange:D,onPriorityChange:O})]})},To=({title:e,description:t,actions:s})=>r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:e}),t&&r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t})]}),s&&r.jsx("div",{className:"flex items-center gap-2",children:s})]}),yO=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsx(To,{title:"Projects",description:"Processing activities and GDPR projects.",actions:r.jsxs(U,{size:"sm",className:"bg-gradient-to-r from-sky-500 to-purple-600 text-white",children:[r.jsx(zl,{className:"h-4 w-4 mr-2"}),"New Project"]})}),r.jsxs(ne,{children:[r.jsxs(Le,{children:[r.jsx(Oe,{children:"Coming soon"}),r.jsx(Xt,{children:"Project list and wizard will be added next."})]}),r.jsx(re,{className:"text-sm text-muted-foreground",children:"This placeholder keeps routing intact while we build the projects module."})]})]}),vO=["dsr","policy","document","dpia","ropa","incident","toms","user","tenant","system"],bO=({search:e,dateRange:t,resource:s,severity:n,onSearch:a,onDateRangeChange:o,onResourceChange:i,onSeverityChange:l})=>r.jsxs("div",{className:"flex flex-col gap-3 rounded-xl border border-slate-200 bg-white p-4 shadow-sm md:flex-row md:items-center md:justify-between",children:[r.jsx("input",{type:"text",value:e,onChange:u=>a(u.target.value),placeholder:"Search audit log (action, resource, actor)...",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100"}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:t,onChange:u=>o(u.target.value),children:[r.jsx("option",{value:"24h",children:"Last 24 hours"}),r.jsx("option",{value:"7d",children:"Last 7 days"}),r.jsx("option",{value:"30d",children:"Last 30 days"}),r.jsx("option",{value:"all",children:"All time"})]}),r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:s,onChange:u=>i(u.target.value),children:[r.jsx("option",{value:"all",children:"All resources"}),vO.map(u=>r.jsx("option",{value:u,children:u},u))]}),r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:n,onChange:u=>l(u.target.value),children:[r.jsx("option",{value:"all",children:"All severities"}),r.jsx("option",{value:"info",children:"Info"}),r.jsx("option",{value:"warning",children:"Warning"}),r.jsx("option",{value:"critical",children:"Critical"})]})]})]}),wO={info:"bg-sky-50 text-sky-700 border-sky-200",warning:"bg-amber-50 text-amber-700 border-amber-200",critical:"bg-rose-50 text-rose-700 border-rose-200"},UN=({severity:e})=>r.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-semibold ${wO[e]}`,children:e}),jO=e=>{const t=new Date(e),s=Date.now(),n=Math.max(0,s-t.getTime()),a=Math.floor(n/6e4);if(a<1)return"just now";if(a<60)return`${a}m ago`;const o=Math.floor(a/60);if(o<24)return`${o}h ago`;const i=Math.floor(o/24);return i<7?`${i}d ago`:t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},NO=({item:e,onClick:t})=>{const s=e.resourceName?`${e.resourceType}: ${e.resourceName}`:e.resourceType;return r.jsxs("tr",{className:"cursor-pointer border-b last:border-0 hover:bg-slate-50 focus-within:bg-slate-50",tabIndex:0,role:"button",onClick:t,onKeyDown:n=>{(n.key==="Enter"||n.key===" ")&&(n.preventDefault(),t())},children:[r.jsx("td",{className:"py-3 pr-4 text-foreground",children:jO(e.timestamp)}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:e.actor}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:e.action}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:s}),r.jsx("td",{className:"py-3 pr-4",children:r.jsx(UN,{severity:e.severity})})]})},kO=({items:e,onSelect:t,isLoading:s,isError:n})=>s?r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading audit log..."}):n?r.jsx("p",{className:"text-sm text-red-600",children:"Failed to load audit log."}):e.length===0?r.jsx("p",{className:"text-sm text-muted-foreground",children:"No audit events found for the selected filters."}):r.jsx("div",{className:"overflow-auto rounded-lg border border-slate-200 bg-white shadow-sm",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b bg-slate-50 text-left text-slate-500",children:[r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Timestamp"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Actor"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Action"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Resource"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Severity"})]})}),r.jsx("tbody",{children:e.map(a=>r.jsx(NO,{item:a,onClick:()=>t(a)},a.id))})]})}),P0=e=>{if(!e)return"";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},SO=({item:e,isOpen:t,onClose:s})=>{const n=P.useRef(null);if(P.useEffect(()=>{var l;if(!t)return;const o=u=>{if(u.key==="Escape"&&s(),u.key==="Tab"&&n.current){const c=n.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(c.length===0)return;const d=c[0],f=c[c.length-1];!u.shiftKey&&document.activeElement===f?(u.preventDefault(),d.focus()):u.shiftKey&&document.activeElement===d&&(u.preventDefault(),f.focus())}};document.addEventListener("keydown",o);const i=(l=n.current)==null?void 0:l.querySelector("button, [href], input, select, textarea");return i==null||i.focus(),()=>document.removeEventListener("keydown",o)},[t,s]),!t||!e)return null;const a=o=>{o.target===o.currentTarget&&s()};return r.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/30 backdrop-blur-sm",onMouseDown:a,children:r.jsxs("div",{className:"flex h-full w-full max-w-xl flex-col overflow-y-auto bg-white shadow-2xl",ref:n,children:[r.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-5 py-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Audit event"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(UN,{severity:e.severity}),r.jsx("span",{className:"text-sm text-slate-600",children:P0(e.timestamp)})]})]}),r.jsx("button",{type:"button",onClick:s,className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:r.jsx(Ee,{className:"h-5 w-5"})})]}),r.jsxs("div",{className:"space-y-3 p-5 text-sm text-slate-800",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-900",children:"Actor"}),r.jsx("p",{children:e.actor})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-900",children:"Action"}),r.jsx("p",{children:e.action})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-900",children:"Resource"}),r.jsxs("p",{children:[e.resourceType,e.resourceName?` - ${e.resourceName}`:""]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-900",children:"Timestamp"}),r.jsx("p",{children:P0(e.timestamp)})]}),e.ipAddress&&r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-900",children:"IP address"}),r.jsx("p",{children:e.ipAddress})]}),e.userAgent&&r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-900",children:"User agent"}),r.jsx("p",{className:"break-all",children:e.userAgent})]}),e.details&&r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-900",children:"Details"}),r.jsx("pre",{className:"overflow-auto rounded-md bg-slate-50 p-3 text-xs text-slate-800",children:e.details})]})]}),r.jsx("div",{className:"sticky bottom-0 border-t border-slate-200 bg-white p-4",children:r.jsx("div",{className:"flex justify-end",children:r.jsx(U,{variant:"outline",onClick:s,children:"Close"})})})]})})},CO=new Date("2025-05-15T12:00:00Z").getTime(),Wt=e=>new Date(CO-e*24*60*60*1e3).toISOString();function EO(){const[e]=v.useState([{id:"log_001",timestamp:Wt(0),actor:"system",action:"AI audit run completed",resourceType:"system",severity:"info",details:"Overall score 78. Areas reviewed: DSR, policies, DPIA, ROPA, incidents."},{id:"log_002",timestamp:Wt(1),actor:"dpo@aura.test",action:"Created DSR request",resourceType:"dsr",resourceId:"dsr_123",resourceName:"DSR request for Jane Doe",severity:"info",ipAddress:"192.168.1.10"},{id:"log_003",timestamp:Wt(2),actor:"analyst@aura.test",action:"Updated DPIA status to approved",resourceType:"dpia",resourceId:"dpia_002",resourceName:"Employee monitoring DPIA",severity:"warning"},{id:"log_004",timestamp:Wt(3),actor:"security@aura.test",action:"Created incident",resourceType:"incident",resourceId:"inc_003",resourceName:"Unauthorized access attempt",severity:"critical",details:"Incident severity: critical. Status: contained."},{id:"log_005",timestamp:Wt(4),actor:"legal@aura.test",action:"Updated policy",resourceType:"policy",resourceId:"pol_1",resourceName:"Privacy Policy",severity:"info"},{id:"log_006",timestamp:Wt(5),actor:"system",action:"New TOM added",resourceType:"toms",resourceId:"tom_004",resourceName:"Backup & disaster recovery",severity:"info"},{id:"log_007",timestamp:Wt(6),actor:"owner@aura.test",action:"Added ROPA record",resourceType:"ropa",resourceId:"ropa_002",resourceName:"Employee HR processing",severity:"info"},{id:"log_008",timestamp:Wt(7),actor:"system",action:"User login",resourceType:"user",resourceId:"user_123",resourceName:"admin@aura.test",severity:"info",ipAddress:"10.1.0.5",userAgent:"Chrome on Windows"},{id:"log_009",timestamp:Wt(8),actor:"security@aura.test",action:"Updated incident status to resolved",resourceType:"incident",resourceId:"inc_002",resourceName:"Lost laptop with customer data",severity:"warning"},{id:"log_010",timestamp:Wt(9),actor:"system",action:"Document generated via AI",resourceType:"document",resourceId:"doc_009",resourceName:"AI generated DPIA summary",severity:"info",details:"Draft created for review."}]);return{items:e,isLoading:!1,isError:!1}}const PO=e=>{const t=Date.now();return e==="24h"?t-24*60*60*1e3:e==="7d"?t-7*24*60*60*1e3:e==="30d"?t-30*24*60*60*1e3:0},TO=()=>{const{items:e,isLoading:t,isError:s}=EO(),[n,a]=P.useState(""),[o,i]=P.useState("7d"),[l,u]=P.useState("all"),[c,d]=P.useState("all"),[f,h]=P.useState(null),y=P.useMemo(()=>{const g=PO(o);return e.filter(x=>{const m=new Date(x.timestamp).getTime(),p=g===0?!0:m>=g,w=x.action.toLowerCase().includes(n.toLowerCase())||(x.resourceName||"").toLowerCase().includes(n.toLowerCase())||x.actor.toLowerCase().includes(n.toLowerCase()),j=l==="all"?!0:x.resourceType===l,k=c==="all"?!0:x.severity===c;return p&&w&&j&&k})},[e,n,o,l,c]),b=g=>{h(g)};return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-slate-900",children:"Audit log"}),r.jsx("p",{className:"text-sm text-slate-600",children:"See who performed which actions in your tenant, and when."})]}),r.jsx(bO,{search:n,dateRange:o,resource:l,severity:c,onSearch:a,onDateRangeChange:i,onResourceChange:u,onSeverityChange:d}),r.jsx(kO,{items:y,onSelect:b,isLoading:t,isError:s}),r.jsx(SO,{item:f,isOpen:!!f,onClose:()=>h(null)})]})},AO={low:"bg-green-100 dark:bg-green-900/40 hover:bg-green-200 dark:hover:bg-green-800",medium:"bg-amber-100 dark:bg-amber-900/40 hover:bg-amber-200 dark:hover:bg-amber-800",high:"bg-red-100 dark:bg-red-900/40 hover:bg-red-200 dark:hover:bg-red-800"},hu=({label:e,count:t,tone:s,onClick:n})=>r.jsx("button",{onClick:n,className:`w-full rounded-md border border-border px-4 py-6 text-left transition ${AO[s]}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-semibold capitalize",children:e}),r.jsx(no,{children:t})]})}),RO=({grouped:e,onSelect:t})=>r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(hu,{label:"Low",count:e.low.length,tone:"low",onClick:()=>t("low")}),r.jsx(hu,{label:"Medium",count:e.medium.length,tone:"medium",onClick:()=>t("medium")}),r.jsx(hu,{label:"High",count:e.high.length,tone:"high",onClick:()=>t("high")})]}),DO=({open:e,riskLevel:t,items:s,onClose:n})=>{const a=$n();return r.jsxs(r.Fragment,{children:[e&&r.jsx("div",{className:"fixed inset-0 bg-black/40 z-40",onClick:n}),r.jsxs("div",{className:`fixed top-0 right-0 h-full w-full max-w-3xl bg-background shadow-2xl z-50 transform transition-transform ${e?"translate-x-0":"translate-x-full"}`,children:[r.jsxs("div",{className:"flex items-center justify-between border-b border-border px-4 py-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase text-muted-foreground",children:"Risks"}),r.jsx("h3",{className:"text-xl font-semibold capitalize",children:t?`${t} risk`:"Risks"})]}),r.jsx(U,{variant:"ghost",size:"icon",onClick:n,"aria-label":"Close risk list",children:r.jsx(Ee,{className:"h-5 w-5"})})]}),r.jsx("div",{className:"p-4 space-y-3 overflow-auto h-[calc(100%-56px)]",children:s.length===0?r.jsx("div",{className:"text-sm text-muted-foreground",children:"No items for this risk level."}):s.map(o=>r.jsx(ne,{children:r.jsxs(re,{className:"p-4 flex items-start justify-between gap-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"text-sm font-semibold",children:o.title}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[r.jsx(no,{variant:"secondary",className:"capitalize",children:o.type}),r.jsx(no,{className:"capitalize",children:o.risk}),o.source&&r.jsx("span",{children:o.source})]})]}),o.link&&r.jsx(U,{size:"sm",variant:"outline",onClick:()=>{a(o.link),n()},children:"Open"})]})},`${o.type}-${o.id}`))})]})]})},xu=e=>{if(typeof e=="number")return e>=16?"high":e>=9?"medium":"low";const t=(e||"").toString().toLowerCase();return t==="high"||t==="critical"?"high":t==="medium"?"medium":"low"},MO=()=>{const[e,t]=v.useState([]),[s,n]=v.useState(!0),[a,o]=v.useState(null),i=v.useCallback(async()=>{var u,c,d;try{n(!0),o(null);const[f,h,y]=await Promise.all([H.get("/dpia"),H.get("/incidents"),H.get("/projects")]),b=((u=f.data.items)==null?void 0:u.map(m=>({id:m.id,type:"dpia",title:m.title,risk:xu(m.overall_risk),source:`DPIA (${m.overall_risk})`,link:`/app/dpia/${m.id}`})))??[],g=((c=h.data.items)==null?void 0:c.map(m=>{const p=(m.severity||"").toString().toLowerCase(),j=xu(p==="critical"||p==="high"?16:p==="medium"?9:4);return{id:m.id,type:"incident",title:m.title||`Incident ${m.id}`,risk:j,source:`Incident (${m.severity??"unknown"})`,link:"/app/incidents"}}))??[],x=((d=y.data.items)==null?void 0:d.map(m=>({id:m.id,type:"project",title:m.name,risk:xu(m.risk_level),source:`Project (${m.risk_level??"unknown"})`,link:"/app/projects"})))??[];t([...b,...g,...x])}catch(f){o((f==null?void 0:f.message)??"Failed to load risks"),t([])}finally{n(!1)}},[]);v.useEffect(()=>{i()},[i]);const l=v.useMemo(()=>e.reduce((u,c)=>(u[c.risk].push(c),u),{low:[],medium:[],high:[]}),[e]);return{data:e,grouped:l,loading:s,error:a,reload:i}},_O=()=>{const{data:e,grouped:t,loading:s,error:n,reload:a}=MO(),[o,i]=v.useState(null),l=c=>{i(c)},u=o?t[o]:[];return r.jsxs("div",{className:"space-y-6",children:[r.jsx(To,{title:"Risk Matrix",description:"Aggregate risks across DPIAs, Incidents, and Projects.",actions:r.jsxs(U,{variant:"outline",size:"sm",onClick:a,disabled:s,children:[r.jsx(dp,{className:"h-4 w-4 mr-2"}),"Refresh"]})}),n&&r.jsx(ne,{children:r.jsxs(re,{className:"p-4 text-sm text-destructive flex items-center justify-between",children:[r.jsxs("span",{children:["Failed to load risks: ",n]}),r.jsx(U,{size:"sm",variant:"outline",onClick:a,children:"Retry"})]})}),s?r.jsx(ne,{children:r.jsx(re,{className:"p-4",children:r.jsx(qs,{className:"h-24 w-full"})})}):e.length===0?r.jsx(ne,{children:r.jsx(re,{className:"p-6 text-sm text-muted-foreground text-center",children:"No risks found yet."})}):r.jsx(RO,{grouped:t,onSelect:l}),r.jsx(DO,{open:!!o,riskLevel:o,items:u,onClose:()=>i(null)})]})},LO=({search:e,status:t,risk:s,onSearch:n,onStatusChange:a,onRiskChange:o})=>r.jsxs("div",{className:"flex flex-col gap-3 rounded-xl border border-slate-200 bg-white p-4 shadow-sm md:flex-row md:items-center md:justify-between",children:[r.jsx("input",{type:"text",value:e,onChange:i=>n(i.target.value),placeholder:"Search DPIAs by name or system...",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100"}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:t,onChange:i=>a(i.target.value),children:[r.jsx("option",{value:"all",children:"All statuses"}),r.jsx("option",{value:"draft",children:"Draft"}),r.jsx("option",{value:"in_review",children:"In review"}),r.jsx("option",{value:"approved",children:"Approved"}),r.jsx("option",{value:"rejected",children:"Rejected"}),r.jsx("option",{value:"archived",children:"Archived"})]}),r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:s,onChange:i=>o(i.target.value),children:[r.jsx("option",{value:"all",children:"All risk levels"}),r.jsx("option",{value:"low",children:"Low"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"high",children:"High"})]})]})]}),OO={draft:"bg-slate-100 text-slate-700 border-slate-200",in_review:"bg-amber-50 text-amber-700 border-amber-200",approved:"bg-emerald-50 text-emerald-700 border-emerald-200",rejected:"bg-rose-50 text-rose-700 border-rose-200",archived:"bg-slate-50 text-slate-500 border-slate-200"},IO={draft:"Draft",in_review:"In review",approved:"Approved",rejected:"Rejected",archived:"Archived"},zN=({status:e})=>r.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-semibold ${OO[e]}`,children:IO[e]}),FO=e=>{const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},VO=({dpia:e,onClick:t})=>r.jsxs("tr",{className:"cursor-pointer border-b last:border-0 hover:bg-slate-50 focus-within:bg-slate-50",tabIndex:0,role:"button",onClick:t,onKeyDown:s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),t())},children:[r.jsx("td",{className:"py-3 pr-4 font-semibold text-foreground",children:e.name}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:e.systemName}),r.jsx("td",{className:"py-3 pr-4",children:r.jsx(zN,{status:e.status})}),r.jsx("td",{className:"py-3 pr-4 text-foreground capitalize",children:e.risk.level}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:e.owner}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:FO(e.lastUpdated)})]}),$O=({dpias:e,onSelect:t,isLoading:s,isError:n})=>s?r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading DPIAs..."}):n?r.jsx("p",{className:"text-sm text-red-600",children:"Failed to load DPIAs."}):e.length===0?r.jsx("p",{className:"text-sm text-muted-foreground",children:"No DPIAs found for the selected filters."}):r.jsx("div",{className:"overflow-auto rounded-lg border border-slate-200 bg-white shadow-sm",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b bg-slate-50 text-left text-slate-500",children:[r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Name"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"System"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Status"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Risk level"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Owner"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Last updated"})]})}),r.jsx("tbody",{children:e.map(a=>r.jsx(VO,{dpia:a,onClick:()=>t(a)},a.id))})]})}),BO=["draft","in_review","approved","rejected","archived"],UO=(e,t)=>{const s=e*t,n=s<=5?"low":s<=12?"medium":"high";return{likelihood:e,impact:t,overallScore:s,level:n}},zO=({dpia:e,isOpen:t,mode:s,onClose:n,onSave:a,isLoading:o=!1,isSaving:i=!1})=>{const[l,u]=P.useState(e),c=P.useRef(null);if(P.useEffect(()=>{t&&u(e)},[e,t]),P.useEffect(()=>{var m;if(!t)return;const g=p=>{if(p.key==="Escape"&&n(),p.key==="Tab"&&c.current){const w=c.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(w.length===0)return;const j=w[0],k=w[w.length-1];!p.shiftKey&&document.activeElement===k?(p.preventDefault(),j.focus()):p.shiftKey&&document.activeElement===j&&(p.preventDefault(),k.focus())}};document.addEventListener("keydown",g);const x=(m=c.current)==null?void 0:m.querySelector("input, select, textarea, button");return x==null||x.focus(),()=>document.removeEventListener("keydown",g)},[t,n]),!t||!l)return null;const d=s==="create"||s==="edit",f=(g,x)=>{u(m=>m&&{...m,[g]:x})},h=(g,x)=>{u(m=>{if(!m)return m;const p=UO(g==="likelihood"?x:m.risk.likelihood,g==="impact"?x:m.risk.impact);return{...m,risk:p}})},y=()=>{l.name.trim()&&a(l)},b=g=>{g.target===g.currentTarget&&n()};return r.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/30 backdrop-blur-sm",onMouseDown:b,children:r.jsxs("div",{className:"flex h-full w-full max-w-2xl flex-col overflow-y-auto bg-white shadow-2xl",ref:c,children:[r.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-5 py-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:l.name||"Untitled DPIA"}),r.jsx(zN,{status:l.status})]}),r.jsx("p",{className:"text-sm text-slate-600",children:l.systemName})]}),r.jsx("button",{type:"button",onClick:n,className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:r.jsx(Ee,{className:"h-5 w-5"})})]}),r.jsxs("div",{className:"space-y-4 p-5",children:[o&&r.jsx("p",{className:"text-sm text-slate-500",children:"Loading DPIA details..."}),r.jsxs("div",{className:"space-y-3 rounded-lg border border-slate-200 bg-white p-4",children:[r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Name"}),r.jsx("input",{type:"text",value:l.name,onChange:g=>f("name",g.target.value),disabled:!d||i,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"System name"}),r.jsx("input",{type:"text",value:l.systemName,onChange:g=>f("systemName",g.target.value),disabled:!d||i,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-3",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Owner"}),r.jsx("input",{type:"text",value:l.owner,onChange:g=>f("owner",g.target.value),disabled:!d||i,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Status"}),r.jsx("select",{value:l.status,onChange:g=>f("status",g.target.value),disabled:!d||i,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:BO.map(g=>r.jsx("option",{value:g,children:g.replace("_"," ")},g))})]}),r.jsxs("div",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Risk level"}),r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm font-semibold capitalize text-slate-900",children:[l.risk.level," (",l.risk.overallScore,")"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Purpose"}),r.jsx("textarea",{value:l.purpose,onChange:g=>f("purpose",g.target.value),disabled:!d||i,className:"min-h-[80px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Legal basis"}),r.jsx("textarea",{value:l.legalBasis||"",onChange:g=>f("legalBasis",g.target.value),disabled:!d||i,className:"min-h-[80px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Processing description"}),r.jsx("textarea",{value:l.processingDescription,onChange:g=>f("processingDescription",g.target.value),disabled:!d,className:"min-h-[90px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Data subjects"}),r.jsx("textarea",{value:l.dataSubjects,onChange:g=>f("dataSubjects",g.target.value),disabled:!d||i,className:"min-h-[70px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Data categories"}),r.jsx("textarea",{value:l.dataCategories,onChange:g=>f("dataCategories",g.target.value),disabled:!d||i,className:"min-h-[70px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Recipients"}),r.jsx("textarea",{value:l.recipients||"",onChange:g=>f("recipients",g.target.value),disabled:!d||i,className:"min-h-[60px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Transfers outside EU"}),r.jsx("textarea",{value:l.transfersOutsideEU||"",onChange:g=>f("transfersOutsideEU",g.target.value),disabled:!d||i,className:"min-h-[60px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Mitigation measures"}),r.jsx("textarea",{value:l.mitigationMeasures||"",onChange:g=>f("mitigationMeasures",g.target.value),disabled:!d,className:"min-h-[80px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]})]}),r.jsxs("div",{className:"space-y-3 rounded-lg border border-slate-200 bg-white p-4",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"Risk assessment"}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-3",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Likelihood (1-5)"}),r.jsx("select",{value:l.risk.likelihood,onChange:g=>h("likelihood",Number(g.target.value)),disabled:!d||i,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:[1,2,3,4,5].map(g=>r.jsx("option",{value:g,children:g},g))})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Impact (1-5)"}),r.jsx("select",{value:l.risk.impact,onChange:g=>h("impact",Number(g.target.value)),disabled:!d||i,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:[1,2,3,4,5].map(g=>r.jsx("option",{value:g,children:g},g))})]}),r.jsxs("div",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Overall score"}),r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm font-semibold text-slate-900",children:[l.risk.overallScore," (",l.risk.level,")"]})]})]})]})]}),r.jsx("div",{className:"sticky bottom-0 border-t border-slate-200 bg-white p-4",children:r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[s!=="create"&&l.id&&r.jsx(Xr,{resourceType:"dpia",resourceId:l.id}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(U,{variant:"outline",onClick:n,children:"Cancel"}),d&&r.jsx(U,{onClick:y,disabled:i,children:i?"Saving...":s==="create"?"Create DPIA":"Save changes"})]})]})})]})})},WO=[{name:"Employee monitoring",purpose:"Monitor workstation usage for security and productivity analysis.",processingDescription:"Processing of log-in times, application usage and visited websites for employees."},{name:"Video surveillance",purpose:"Monitor office premises for safety and asset protection.",processingDescription:"Processing of video footage of employees and visitors in office premises."},{name:"New marketing tool",purpose:"Assess processing for targeted marketing campaigns with a new tool.",processingDescription:"Processing of contact details, engagement metrics and website behaviour for marketing."}],HO=({onNewBlank:e,onTemplateSelect:t})=>{const[s,n]=P.useState(!1);return r.jsxs("div",{className:"relative",children:[r.jsxs(U,{className:"inline-flex items-center gap-2",onClick:()=>n(a=>!a),children:[r.jsx(Ul,{className:"h-4 w-4"}),"New DPIA",r.jsx(lp,{className:"h-4 w-4"})]}),s&&r.jsxs("div",{className:"absolute right-0 z-20 mt-2 w-72 rounded-lg border border-slate-200 bg-white shadow-lg",children:[r.jsxs("button",{type:"button",className:"flex w-full items-start gap-2 px-4 py-3 text-left text-sm text-slate-800 hover:bg-slate-50",onClick:()=>{e(),n(!1)},children:[r.jsx("span",{className:"font-semibold",children:"Blank DPIA"}),r.jsx("span",{className:"text-xs text-slate-500",children:"Start from scratch."})]}),r.jsxs("div",{className:"border-t border-slate-200 px-4 py-3",children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"From template"}),r.jsx("div",{className:"mt-2 space-y-2",children:WO.map(a=>r.jsxs("button",{type:"button",className:"flex w-full flex-col items-start rounded-md px-2 py-2 text-left text-sm text-slate-800 hover:bg-slate-50",onClick:()=>{t(a),n(!1)},children:[r.jsx("span",{className:"font-semibold",children:a.name}),r.jsx("span",{className:"text-xs text-slate-500",children:a.purpose})]},a.name))})]})]})]})},Sn=e=>({...e,id:(e==null?void 0:e.id)??(e==null?void 0:e._id)??(e==null?void 0:e.dpia_id)??"",createdAt:(e==null?void 0:e.createdAt)??(e==null?void 0:e.created_at)??"",lastUpdated:(e==null?void 0:e.lastUpdated)??(e==null?void 0:e.last_updated)??(e==null?void 0:e.updated_at)??(e==null?void 0:e.updatedAt)??"",risk:(e==null?void 0:e.risk)??(e==null?void 0:e.risk_rating)??(e==null?void 0:e.riskRating)??{likelihood:1,impact:1,overallScore:1,level:"low"}}),qO=e=>{if(Array.isArray(e))return e.map(Sn);const t=e;return Array.isArray(t==null?void 0:t.items)?t.items.map(Sn):Array.isArray(t==null?void 0:t.dpias)?t.dpias.map(Sn):[]};async function KO(){const e=await H.get("/api/dpia");return qO(e.data)}async function GO(e){const t=await H.get(`/api/dpia/${e}`);return Sn(t.data)}async function YO(e){const t=await H.post("/api/dpia",e);return Sn(t.data)}async function XO(e,t){const s=await H.put(`/api/dpia/${e}`,t);return Sn(s.data)}async function QO(e,t){const s=await H.patch(`/api/dpia/${e}`,t);return Sn(s.data)}function ZO(){const[e,t]=v.useState([]),[s,n]=v.useState(!1),[a,o]=v.useState(!1),[i,l]=v.useState(!1),[u,c]=v.useState(null),d=v.useRef(!0);v.useEffect(()=>()=>{d.current=!1},[]);const f=v.useCallback(async()=>{n(!0),c(null);try{const x=await KO();d.current&&t(x)}catch(x){d.current&&c((x==null?void 0:x.message)??"Failed to load DPIA items.")}finally{d.current&&n(!1)}},[]);v.useEffect(()=>{f()},[f]);const h=v.useCallback(async x=>{o(!0);try{const m=await GO(x);return d.current&&t(p=>p.map(w=>w.id===m.id?m:w)),m}finally{d.current&&o(!1)}},[]),y=v.useCallback(async x=>{l(!0);try{const m=await YO(x);return d.current&&t(p=>[m,...p]),m}finally{d.current&&l(!1)}},[]),b=v.useCallback(async(x,m)=>{l(!0);try{const p=await XO(x,m);return d.current&&t(w=>w.map(j=>j.id===p.id?p:j)),p}finally{d.current&&l(!1)}},[]),g=v.useCallback(async(x,m)=>{const p=await QO(x,m);return d.current&&t(w=>w.map(j=>j.id===p.id?p:j)),p},[]);return{dpias:e,loading:s,detailLoading:a,saving:i,error:u,refresh:f,fetchOne:h,create:y,update:b,patch:g}}const JO=()=>{const{dpias:e,loading:t,detailLoading:s,saving:n,error:a,refresh:o,create:i,update:l,fetchOne:u}=ZO(),[c,d]=P.useState(""),[f,h]=P.useState("all"),[y,b]=P.useState("all"),[g,x]=P.useState(null),[m,p]=P.useState("view"),w=P.useMemo(()=>e.filter(N=>{const S=N.name.toLowerCase().includes(c.toLowerCase())||N.systemName.toLowerCase().includes(c.toLowerCase()),T=f==="all"?!0:N.status===f,I=y==="all"?!0:N.risk.level===y;return S&&T&&I}),[e,c,f,y]),j=N=>{x(N),p("view"),N.id&&u(N.id).then(S=>x(S)).catch(()=>{})},k=async N=>{if(m==="create"){const{id:S,...T}=N;await i(T)}else N.id&&await l(N.id,N);await o(),x(null),p("view")},E=()=>{const N=new Date().toISOString();x({id:`dpia-${Date.now()}`,name:"New DPIA",systemName:"",owner:"You",status:"draft",createdAt:N,lastUpdated:N,purpose:"",legalBasis:"",processingDescription:"",dataSubjects:"",dataCategories:"",recipients:"",transfersOutsideEU:"",mitigationMeasures:"",risk:{likelihood:1,impact:1,overallScore:1,level:"low"}}),p("create")},C=N=>{const S=new Date().toISOString();x({id:`dpia-${Date.now()}`,name:N.name,systemName:N.name,owner:"You",status:"draft",createdAt:S,lastUpdated:S,purpose:N.purpose,legalBasis:"",processingDescription:N.processingDescription,dataSubjects:"",dataCategories:"",recipients:"",transfersOutsideEU:"",mitigationMeasures:"",risk:{likelihood:2,impact:2,overallScore:4,level:"low"}}),p("create")};return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-slate-900",children:"DPIA"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Manage your Data Protection Impact Assessments for high-risk processing activities."})]}),r.jsx(HO,{onNewBlank:E,onTemplateSelect:C})]}),r.jsx(LO,{search:c,status:f,risk:y,onSearch:d,onStatusChange:h,onRiskChange:b}),r.jsx($O,{dpias:w,onSelect:j,isLoading:t,isError:!!a}),a&&r.jsx("p",{className:"text-sm text-rose-600",children:a}),r.jsx(zO,{dpia:g,isOpen:!!g,mode:m,onClose:()=>x(null),onSave:k,isLoading:s,isSaving:n})]})},eI=[{value:"access",label:"Access"},{value:"rectification",label:"Rectification"},{value:"erasure",label:"Erasure"},{value:"restriction",label:"Restriction"},{value:"portability",label:"Portability"},{value:"objection",label:"Objection"},{value:"other",label:"Other"}],tI=[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"}],T0=()=>{const e=new Date;return e.setDate(e.getDate()+30),e.toISOString().split("T")[0]??""},sI='button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])',nI=({open:e,onClose:t,onCreate:s})=>{const{toast:n}=nn(),[a,o]=P.useState({type:"access",data_subject:"",email:"",identifier:"",description:"",due_at:T0(),priority:"medium"}),[i,l]=P.useState({}),[u,c]=P.useState(null),[d,f]=P.useState(!1),h=P.useRef(null),y=P.useCallback(()=>{o({type:"access",data_subject:"",email:"",identifier:"",description:"",due_at:T0(),priority:"medium"}),l({}),c(null)},[]);P.useEffect(()=>{e&&y()},[e,y]),P.useEffect(()=>{var j;if(!e)return;const p=k=>{if(k.key==="Escape"){k.preventDefault(),t();return}if(k.key==="Tab"&&h.current){const E=h.current.querySelectorAll(sI);if(E.length===0)return;const C=E[0],N=E[E.length-1],S=document.activeElement;!k.shiftKey&&S===N?(k.preventDefault(),C.focus()):k.shiftKey&&S===C&&(k.preventDefault(),N.focus())}};document.addEventListener("keydown",p);const w=(j=h.current)==null?void 0:j.querySelector("input, select, textarea, button");return w==null||w.focus(),()=>{document.removeEventListener("keydown",p)}},[e,t]);const b=p=>{p.target===p.currentTarget&&t()},g=(p,w)=>{o(j=>({...j,[p]:w})),l(j=>({...j,[p]:void 0}))},x=()=>{const p={};return a.data_subject.trim()||(p.data_subject="Name is required."),a.email.trim()?/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(a.email.trim())||(p.email="Email format is invalid."):p.email="Email is required.",a.type||(p.type="Request type is required."),a.description.trim()||(p.description="Description is required."),a.due_at||(p.due_at="Due date is required."),l(p),Object.keys(p).length===0},m=async p=>{var w;if(p.preventDefault(),!!x()){f(!0),c(null);try{await s({...a,data_subject:a.data_subject.trim(),email:a.email.trim(),identifier:((w=a.identifier)==null?void 0:w.trim())||void 0,description:a.description.trim(),due_at:a.due_at,priority:a.priority||void 0}),n({title:"Data subject request created",description:"The new request has been registered successfully."}),t(),y()}catch(j){c((j==null?void 0:j.message)??"Failed to create data subject request. Please try again.")}finally{f(!1)}}};return e?r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/40 px-4 backdrop-blur-sm",onMouseDown:b,children:r.jsxs("div",{ref:h,role:"dialog","aria-modal":"true","aria-labelledby":"new-dsr-title",className:"relative w-full max-w-2xl rounded-xl bg-white shadow-xl focus:outline-none",onMouseDown:p=>p.stopPropagation(),children:[r.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-6 py-4",children:[r.jsxs("div",{children:[r.jsx("h2",{id:"new-dsr-title",className:"text-lg font-semibold text-slate-900",children:"Create data subject request"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Register a new GDPR data subject request and track its status."})]}),r.jsx("button",{type:"button",onClick:t,className:"rounded-full p-2 text-slate-500 transition hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:r.jsx(Ee,{className:"h-5 w-5"})})]}),r.jsxs("form",{onSubmit:m,className:"space-y-4 px-6 py-5",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsxs("span",{className:"font-medium",children:["Data subject name ",r.jsx("span",{className:"text-rose-600",children:"*"})]}),r.jsx("input",{type:"text",className:"w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-200 disabled:opacity-60",value:a.data_subject,onChange:p=>g("data_subject",p.target.value),disabled:d,required:!0}),i.data_subject&&r.jsx("p",{className:"text-xs text-rose-600",children:i.data_subject})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsxs("span",{className:"font-medium",children:["Email address ",r.jsx("span",{className:"text-rose-600",children:"*"})]}),r.jsx("input",{type:"email",className:"w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-200 disabled:opacity-60",value:a.email,onChange:p=>g("email",p.target.value),disabled:d,required:!0}),i.email&&r.jsx("p",{className:"text-xs text-rose-600",children:i.email})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsxs("span",{className:"font-medium",children:["Request type ",r.jsx("span",{className:"text-rose-600",children:"*"})]}),r.jsx("select",{className:"w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-200 disabled:opacity-60",value:a.type,onChange:p=>g("type",p.target.value),disabled:d,required:!0,children:eI.map(p=>r.jsx("option",{value:p.value,children:p.label},p.value))}),i.type&&r.jsx("p",{className:"text-xs text-rose-600",children:i.type})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Priority"}),r.jsxs("select",{className:"w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-200 disabled:opacity-60",value:a.priority??"",onChange:p=>g("priority",p.target.value||void 0),disabled:d,children:[r.jsx("option",{value:"",children:"Select priority"}),tI.map(p=>r.jsx("option",{value:p.value,children:p.label},p.value))]}),i.priority&&r.jsx("p",{className:"text-xs text-rose-600",children:i.priority})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Identifier / Reference"}),r.jsx("input",{type:"text",className:"w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-200 disabled:opacity-60",value:a.identifier??"",onChange:p=>g("identifier",p.target.value),disabled:d,placeholder:"Customer ID, case number, etc."})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsxs("span",{className:"font-medium",children:["Due date ",r.jsx("span",{className:"text-rose-600",children:"*"})]}),r.jsx("input",{type:"date",className:"w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-200 disabled:opacity-60",value:a.due_at,onChange:p=>g("due_at",p.target.value),disabled:d,required:!0}),i.due_at&&r.jsx("p",{className:"text-xs text-rose-600",children:i.due_at})]})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsxs("span",{className:"font-medium",children:["Description ",r.jsx("span",{className:"text-rose-600",children:"*"})]}),r.jsx("textarea",{className:"min-h-[110px] w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-200 disabled:opacity-60",value:a.description,onChange:p=>g("description",p.target.value),disabled:d,placeholder:"Short description of the request.",required:!0}),i.description&&r.jsx("p",{className:"text-xs text-rose-600",children:i.description})]}),u&&r.jsx("div",{className:"rounded-md border border-rose-200 bg-rose-50 px-3 py-2 text-sm text-rose-700",children:u}),r.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2",children:[r.jsx(U,{type:"button",variant:"outline",onClick:t,disabled:d,children:"Cancel"}),r.jsxs(U,{type:"submit",disabled:d,children:[d&&r.jsx(up,{className:"mr-2 h-4 w-4 animate-spin"}),d?"Creating...":"Create"]})]})]})]})}):null},A0={received:{label:"Received",classes:"bg-slate-100 text-slate-800 border-slate-200"},identity_required:{label:"Identity required",classes:"bg-amber-50 text-amber-700 border-amber-200"},in_progress:{label:"In progress",classes:"bg-sky-50 text-sky-700 border-sky-200"},waiting_for_information:{label:"Waiting for information",classes:"bg-amber-50 text-amber-700 border-amber-200"},completed:{label:"Completed",classes:"bg-emerald-50 text-emerald-700 border-emerald-200"},rejected:{label:"Rejected",classes:"bg-rose-50 text-rose-700 border-rose-200"}},WN=({status:e})=>{const t=A0[e]??A0.received;return r.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-semibold ${t.classes}`,children:t.label})},R0={received:["identity_required","in_progress"],identity_required:["in_progress"],in_progress:["waiting_for_information","completed","rejected"],waiting_for_information:["in_progress","completed","rejected"],completed:[],rejected:[]},rI={received:"Mark as received",identity_required:"Mark as identity required",in_progress:"Mark as in progress",waiting_for_information:"Mark as waiting for information",completed:"Mark as completed",rejected:"Mark as rejected"},D0=e=>{if(!e)return"N/A";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},aI=e=>{if(!e)return"N/A";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},oI=e=>{if(!e)return{label:"No due date set",tone:"ok"};const t=new Date,s=new Date(e);if(Number.isNaN(s.getTime()))return{label:e,tone:"ok"};const n=s.getTime()-t.getTime(),a=Math.floor(n/(1e3*60*60*24));return a>1?{label:`Due in ${a} days`,tone:a<=7?"soon":"ok"}:a===1?{label:"Due tomorrow",tone:"soon"}:a===0?{label:"Due today",tone:"soon"}:{label:`Overdue by ${Math.abs(a)} days`,tone:"late"}},iI=e=>[{label:"Request created",timestamp:e.createdAt??e.created_at??e.received_at??""},{label:`Status set to ${e.status}`,timestamp:e.updatedAt??e.updated_at??""}].filter(s=>s.timestamp),lI=({dsr:e,isOpen:t,onClose:s,onStatusChange:n,isUpdating:a=!1,error:o,isLoading:i=!1})=>{const l=P.useRef(null);if(P.useEffect(()=>{var y;if(!t)return;const f=b=>{if(b.key==="Escape"&&s(),b.key==="Tab"&&l.current){const g=l.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(g.length===0)return;const x=g[0],m=g[g.length-1];!b.shiftKey&&document.activeElement===m?(b.preventDefault(),x.focus()):b.shiftKey&&document.activeElement===x&&(b.preventDefault(),m.focus())}};document.addEventListener("keydown",f);const h=(y=l.current)==null?void 0:y.querySelector("button, [href], input, select, textarea");return h==null||h.focus(),()=>document.removeEventListener("keydown",f)},[t,s]),!t||!e)return null;const u=oI(e.dueDate??e.due_at??null),c=e.events&&e.events.length>0?e.events:iI(e),d=f=>{f.target===f.currentTarget&&s()};return r.jsx("div",{className:"fixed inset-0 z-40 flex justify-end bg-slate-900/30 backdrop-blur-sm",onMouseDown:d,children:r.jsxs("div",{className:"h-full w-full max-w-xl overflow-y-auto bg-white shadow-2xl",ref:l,children:[r.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-5 py-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:e.data_subject}),r.jsx(WN,{status:e.status})]}),r.jsx("p",{className:"text-sm text-slate-600",children:e.type})]}),r.jsx("button",{type:"button",onClick:s,className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:r.jsx(Ee,{className:"h-5 w-5"})})]}),r.jsxs("div",{className:"space-y-4 p-5",children:[i&&r.jsx("p",{className:"text-sm text-slate-500",children:"Loading request details..."}),r.jsxs("div",{className:"grid gap-3 rounded-lg border border-slate-200 bg-slate-50 p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-700",children:[r.jsx(ME,{className:"h-4 w-4 text-slate-500"}),r.jsx("span",{children:e.email||"No email provided"})]}),e.identifier&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-700",children:[r.jsx(EE,{className:"h-4 w-4 text-slate-500"}),r.jsx("span",{children:e.identifier})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-700",children:[r.jsx(Wv,{className:"h-4 w-4 text-slate-500"}),r.jsx("span",{className:"capitalize",children:e.type})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-700",children:[r.jsx(mE,{className:"h-4 w-4 text-slate-500"}),r.jsxs("span",{children:["Created: ",D0(e.createdAt??e.created_at)]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-700",children:[r.jsx(Vv,{className:"h-4 w-4 text-slate-500"}),r.jsxs("span",{children:["Due: ",aI(e.dueDate??e.due_at)," -"," ",r.jsx("span",{className:u.tone==="ok"?"text-emerald-600":u.tone==="soon"?"text-amber-600":"text-rose-600",children:u.label})]})]})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(PE,{className:"h-4 w-4 text-sky-600"}),r.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Details"})]}),r.jsx("p",{className:"mt-2 whitespace-pre-wrap text-sm text-slate-700",children:e.description||"No additional details provided."})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hr,{className:"h-4 w-4 text-sky-600"}),r.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Activity"})]}),r.jsxs("div",{className:"mt-3 space-y-3",children:[c.map(f=>r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"mt-1 h-2 w-2 rounded-full bg-sky-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-slate-900",children:f.label}),r.jsx("p",{className:"text-xs text-slate-500",children:D0(f.timestamp)})]})]},f.timestamp+f.label)),c.length===0&&r.jsx("p",{className:"text-sm text-slate-500",children:"No activity logged."})]})]})]}),r.jsxs("div",{className:"sticky bottom-0 border-t border-slate-200 bg-white p-4",children:[r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.id?r.jsx(Xr,{resourceType:"dsr",resourceId:e.id}):r.jsx("div",{className:"h-9","aria-hidden":!0}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[R0[e.status].length===0&&r.jsx(U,{variant:"outline",disabled:!0,className:"cursor-not-allowed",children:"No further actions"}),R0[e.status].map(f=>r.jsx(U,{variant:"outline",size:"sm",disabled:a||i,onClick:()=>n(f),children:rI[f]||"Update status"},f))]})]}),o&&r.jsx("p",{className:"mt-2 text-sm text-rose-600",children:o})]})]})})},cI=e=>["received","identity_required","in_progress","waiting_for_information","completed","rejected"].includes(e)?e:"received",uI=e=>["access","rectification","erasure","restriction","portability","objection","other"].includes(e)?e:"access",jr=e=>({...e,type:uI(e==null?void 0:e.type),status:cI(e==null?void 0:e.status),dueDate:(e==null?void 0:e.dueDate)??(e==null?void 0:e.due_at)??null,createdAt:(e==null?void 0:e.createdAt)??(e==null?void 0:e.created_at),updatedAt:(e==null?void 0:e.updatedAt)??(e==null?void 0:e.updated_at)}),dI=e=>{if(Array.isArray(e))return e.map(jr);const t=e;return Array.isArray(t==null?void 0:t.items)?t.items.map(jr):Array.isArray(t==null?void 0:t.requests)?t.requests.map(jr):[]};async function fI(){const e=await H.get("/api/dsr");return dI(e.data)}async function pI(e){const t=await H.get(`/api/dsr/${e}`);return jr(t.data)}async function mI(e){const t=await H.post("/api/dsr",e);return jr(t.data)}async function hI(e,t){const s=await H.patch(`/api/dsr/${e}`,{status:t});return jr(s.data)}async function xI(e,t){if(!e)throw new Error("Missing tenant identifier.");await H.post(`/api/public/dsr/${e}`,t)}const gI=()=>{const[e,t]=v.useState([]),[s,n]=v.useState(!1),[a,o]=v.useState(!1),[i,l]=v.useState(null),u=v.useRef(!0);v.useEffect(()=>()=>{u.current=!1},[]);const c=v.useCallback(async()=>{n(!0),l(null);try{const y=await fI();u.current&&t(y)}catch(y){u.current&&(l((y==null?void 0:y.message)??"Failed to load data subject requests."),t([]))}finally{u.current&&n(!1)}},[]);v.useEffect(()=>{c()},[c]);const d=v.useCallback(async y=>{const b=await mI(y);return u.current&&t(g=>[b,...g]),b},[]),f=v.useCallback(async(y,b)=>{const g=await hI(y,b);return u.current&&t(x=>x.map(m=>m.id===g.id?g:m)),g},[]),h=v.useCallback(async y=>{o(!0);try{const b=await pI(y);return u.current&&t(g=>g.map(x=>x.id===b.id?b:x)),b}finally{u.current&&o(!1)}},[]);return{data:e,loading:s,detailLoading:a,error:i,reload:c,create:d,updateStatus:f,fetchDetail:h}},M0=e=>{if(!e)return"N/A";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},gu=e=>e?e.slice(0,1).toUpperCase()+e.slice(1):"N/A",yI=["received","identity_required","in_progress","waiting_for_information"],vI=e=>{if(!e)return"";const t=new Date,s=new Date(e);if(Number.isNaN(s.getTime()))return"";const n=s.getTime()-t.getTime(),a=Math.floor(n/(1e3*60*60*24));return a<0?"text-rose-600":a<=3?"text-amber-600":""},bI=()=>{const{data:e,loading:t,detailLoading:s,error:n,reload:a,create:o,updateStatus:i,fetchDetail:l}=gI(),{toast:u}=nn(),[c,d]=P.useState(!1),[f,h]=P.useState("all"),[y,b]=P.useState(null),[g,x]=P.useState(null),[m,p]=P.useState(!1),w=async N=>{await o(N),await a(),d(!1)},j=P.useMemo(()=>f==="all"?e:f==="completed"?e.filter(N=>N.status==="completed"):f==="rejected"?e.filter(N=>N.status==="rejected"):e.filter(N=>yI.includes(N.status)),[e,f]),k=N=>{b(N),x(null),N.id&&l(N.id).then(S=>b(S)).catch(S=>x((S==null?void 0:S.message)??"Failed to load request details."))},E=async N=>{if(y!=null&&y.id){p(!0),x(null);try{const S=await i(y.id,N);b(S),u({title:"Status updated",description:`Request marked as ${gu(N)}.`})}catch(S){x((S==null?void 0:S.message)??"Failed to update status. Please try again.")}finally{p(!1)}}},C=()=>{b(null),x(null)};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsx(dc,{title:"Data Subject Requests",description:"Track and manage GDPR data subject requests such as access, erasure, rectification, and objection."}),r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Data Subject Requests"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Monitor incoming requests and keep deadlines on track."})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(U,{variant:"outline",size:"sm",onClick:a,disabled:t,children:[r.jsx(dp,{className:"mr-2 h-4 w-4"}),"Refresh"]}),r.jsxs(U,{size:"sm",onClick:()=>d(!0),children:[r.jsx(zl,{className:"mr-2 h-4 w-4"}),"New request"]})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-white px-3 py-1 text-sm text-slate-700",children:[r.jsx(Bv,{className:"h-4 w-4 text-slate-500"}),"Status"]}),["all","open","completed","rejected"].map(N=>r.jsx("button",{type:"button",className:`rounded-full border px-3 py-1 text-xs font-semibold ${f===N?"border-sky-500 bg-sky-50 text-sky-700":"border-slate-200 bg-white text-slate-700 hover:bg-slate-50"}`,onClick:()=>h(N),children:gu(N)},N))]}),r.jsxs("div",{className:"space-y-3 rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[t&&r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading requests..."}),n&&r.jsx("p",{className:"text-sm text-red-600",children:n}),!t&&!n&&j.length===0&&r.jsx("p",{className:"text-sm text-muted-foreground",children:"No data subject requests yet."}),!t&&j.length>0&&r.jsx("div",{className:"overflow-auto",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b text-left text-slate-500",children:[r.jsx("th",{className:"py-2 pr-4 font-semibold",children:"Type"}),r.jsx("th",{className:"py-2 pr-4 font-semibold",children:"Data subject"}),r.jsx("th",{className:"py-2 pr-4 font-semibold",children:"Email"}),r.jsx("th",{className:"py-2 pr-4 font-semibold",children:"Status"}),r.jsx("th",{className:"py-2 pr-4 font-semibold",children:"Received"}),r.jsx("th",{className:"py-2 pr-4 font-semibold",children:"Due date"}),r.jsx("th",{className:"py-2 pr-4 font-semibold",children:"Identifier"})]})}),r.jsx("tbody",{children:j.map(N=>r.jsxs("tr",{className:"cursor-pointer border-b last:border-0 hover:bg-slate-50 focus-within:bg-slate-50",tabIndex:0,role:"button",onClick:()=>k(N),onKeyDown:S=>{(S.key==="Enter"||S.key===" ")&&(S.preventDefault(),k(N))},children:[r.jsx("td",{className:"py-3 pr-4 font-semibold text-foreground",children:gu(N.type)}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:N.data_subject}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:N.email||"N/A"}),r.jsx("td",{className:"py-3 pr-4",children:r.jsx(WN,{status:N.status})}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:M0(N.received_at??N.createdAt)}),r.jsx("td",{className:`py-3 pr-4 text-foreground ${vI(N.dueDate??N.due_at)}`,children:M0(N.dueDate??N.due_at)}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:N.identifier||""})]},N.id??`${N.data_subject}-${N.due_at??""}`))})]})})]})]}),r.jsx(lI,{dsr:y,isOpen:!!y,onClose:C,onStatusChange:E,isUpdating:m,error:g,isLoading:s}),r.jsx(nI,{open:c,onClose:()=>d(!1),onCreate:async N=>{try{await w(N)}catch(S){throw u({variant:"destructive",title:"Failed to create request",description:(S==null?void 0:S.message)??"Please try again."}),S}}})]})},yu=["access","rectification","erasure","restriction","portability","objection"],wI=()=>{const[e,t]=v.useState(""),[s,n]=v.useState(yu[0]),[a,o]=v.useState(""),[i,l]=v.useState(!1),[u,c]=v.useState(null),[d,f]=v.useState(null),h=async b=>{var g;b.preventDefault(),l(!0),c(null);try{const m=((g=(await H.post("/dsr",{email:e,type:s,description:a})).data)==null?void 0:g.id)??"N/A";f(m)}catch(x){c((x==null?void 0:x.message)??"Failed to submit request")}finally{l(!1)}},y=()=>{t(""),n(yu[0]),o(""),f(null),c(null)};return r.jsxs("div",{className:"space-y-6 max-w-3xl mx-auto p-4",children:[r.jsx(To,{title:"Data Subject Request Portal",description:"Submit a GDPR request (access, rectification, erasure, restriction, portability, objection)."}),r.jsx(ne,{children:r.jsx(re,{className:"p-6 space-y-4",children:d?r.jsxs("div",{className:"space-y-3",children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Request submitted"}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Your ticket ID is ",r.jsx("span",{className:"font-semibold",children:d}),". We will respond within 30 days."]}),r.jsx(U,{onClick:y,children:"Submit another request"})]}):r.jsxs("form",{className:"space-y-4",onSubmit:h,children:[u&&r.jsxs("div",{className:"text-sm text-destructive",children:["Error: ",u]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Email"}),r.jsx(dt,{type:"email",value:e,onChange:b=>t(b.target.value),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Request type"}),r.jsx("select",{value:s,onChange:b=>n(b.target.value),className:"w-full rounded-md border border-border bg-background px-3 py-2 text-sm",children:yu.map(b=>r.jsx("option",{value:b,children:b},b))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Description"}),r.jsx("textarea",{value:a,onChange:b=>o(b.target.value),className:"w-full rounded-md border border-border bg-background px-3 py-2 text-sm min-h-[120px]",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Attachments"}),r.jsx("input",{type:"file",disabled:!0,className:"text-sm text-muted-foreground"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"File uploads coming soon."})]}),r.jsx(U,{type:"submit",disabled:i,children:i?"Submitting":"Submit request"})]})})})]})},jI={dsr_deadline:"DSR",policy_expiring:"Policy",dpia_required:"DPIA",incident_alert:"Incident",ai_recommendation:"AI",system_health:"System"},NI={dsr_deadline:"bg-amber-50 text-amber-700 border-amber-200",policy_expiring:"bg-sky-50 text-sky-700 border-sky-200",dpia_required:"bg-emerald-50 text-emerald-700 border-emerald-200",incident_alert:"bg-rose-50 text-rose-700 border-rose-200",ai_recommendation:"bg-purple-50 text-purple-700 border-purple-200",system_health:"bg-slate-100 text-slate-700 border-slate-200"},kI=({type:e})=>r.jsx("span",{className:`inline-flex items-center rounded-full border px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide ${NI[e]}`,children:jI[e]}),SI={dsr_deadline:r.jsx(ip,{className:"h-4 w-4 text-amber-600"}),policy_expiring:r.jsx(Hr,{className:"h-4 w-4 text-amber-600"}),dpia_required:r.jsx(Wl,{className:"h-4 w-4 text-rose-600"}),incident_alert:r.jsx(Uv,{className:"h-4 w-4 text-rose-600"}),ai_recommendation:r.jsx(Bn,{className:"h-4 w-4 text-purple-600"}),system_health:r.jsx(op,{className:"h-4 w-4 text-sky-600"})},CI={info:"bg-sky-500",warning:"bg-amber-500",critical:"bg-rose-500"},EI=e=>{const t=new Date(e),s=Date.now(),n=Math.max(0,s-t.getTime()),a=Math.floor(n/6e4);if(a<1)return"just now";if(a<60)return`${a}m ago`;const o=Math.floor(a/60);return o<24?`${o}h ago`:`${Math.floor(o/24)}d ago`},PI=({notification:e})=>{const{markAsRead:t}=uc(),s=$n(),n=()=>{t(e.id),e.link&&s(e.link)};return r.jsxs("div",{className:`flex cursor-pointer items-start gap-3 rounded-lg border border-slate-200 bg-white px-4 py-3 shadow-sm transition hover:bg-slate-50 focus-within:bg-slate-50 ${e.read?"opacity-90":""}`,tabIndex:0,role:"button",onClick:n,onKeyDown:a=>{(a.key==="Enter"||a.key===" ")&&(a.preventDefault(),n())},children:[r.jsxs("div",{className:"relative",children:[SI[e.type],!e.read&&r.jsx("span",{className:"absolute -right-1 -top-1 h-2 w-2 rounded-full bg-sky-500"})]}),r.jsxs("div",{className:"flex-1 space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(kI,{type:e.type}),r.jsx("span",{className:`h-2 w-2 rounded-full ${CI[e.severity]}`}),r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:e.title})]}),r.jsx("p",{className:"text-sm text-slate-700",children:e.description}),r.jsx("p",{className:"text-xs text-slate-500",children:EI(e.createdAt)})]})]})},TI=({notifications:e})=>e.length===0?r.jsx("p",{className:"text-sm text-muted-foreground",children:"You are all caught up. No notifications to show."}):r.jsx("div",{className:"space-y-3",children:e.map(t=>r.jsx(PI,{notification:t},t.id))}),AI=()=>{const{notifications:e,markAllAsRead:t}=uc();return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-slate-900",children:"Notifications"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Review all system notifications related to your GDPR compliance."})]}),r.jsx(U,{variant:"outline",size:"sm",onClick:t,children:"Mark all as read"})]}),r.jsx("div",{className:"rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:r.jsx(TI,{notifications:e})})]})},RI=e=>e>=80?"bg-emerald-50 text-emerald-700 border-emerald-200":e>=60?"bg-amber-50 text-amber-700 border-amber-200":"bg-rose-50 text-rose-700 border-rose-200",DI=e=>{if(!e)return"";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},MI=({overallScore:e,lastRunAt:t})=>r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:[r.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Overall GDPR audit score"}),r.jsxs("div",{className:"mt-2 flex items-end gap-3",children:[r.jsx("p",{className:"text-4xl font-semibold text-slate-900",children:e}),r.jsx("span",{className:`rounded-full border px-3 py-1 text-xs font-semibold ${RI(e)}`,children:e>=80?"Good":e>=60?"Needs attention":"Critical"})]}),r.jsxs("p",{className:"mt-2 text-sm text-slate-600",children:["Latest run: ",DI(t)]})]}),_I={good:"bg-emerald-50 text-emerald-700 border-emerald-200",needs_attention:"bg-amber-50 text-amber-700 border-amber-200",critical:"bg-rose-50 text-rose-700 border-rose-200"},LI=({area:e})=>r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:e.name}),r.jsxs("p",{className:"text-xs text-slate-500",children:["Recommendations: ",e.recommendationsCount]})]}),r.jsx("span",{className:`rounded-full border px-3 py-1 text-xs font-semibold ${_I[e.status]}`,children:e.status==="good"?"Good":e.status==="critical"?"Critical":"Needs attention"})]}),r.jsxs("div",{className:"mt-3",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm font-semibold text-slate-900",children:[r.jsx("span",{children:"Score"}),r.jsx("span",{children:e.score})]}),r.jsx("div",{className:"mt-2 h-2 w-full rounded-full bg-slate-100",children:r.jsx("div",{className:`h-2 rounded-full ${e.score>=80?"bg-emerald-500":e.score>=60?"bg-amber-500":"bg-rose-500"}`,style:{width:`${e.score}%`}})})]}),r.jsx("p",{className:"mt-3 text-sm text-slate-700",children:e.summary})]}),OI={dsr:"Data subject requests",policies:"Policies",documents:"Documents",dpia:"DPIA",ropa:"ROPA",incidents:"Incidents",security_measures:"Security measures"},II={low:"bg-slate-100 text-slate-700 border-slate-200",medium:"bg-amber-50 text-amber-700 border-amber-200",high:"bg-rose-50 text-rose-700 border-rose-200"},FI=({recommendations:e})=>e.length===0?r.jsx("p",{className:"text-sm text-muted-foreground",children:"No recommendations. You are all set."}):r.jsx("div",{className:"space-y-3",children:e.map(t=>r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4 shadow-sm",children:[r.jsx("div",{className:"flex items-center justify-between gap-2",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"rounded-full border border-slate-200 bg-slate-50 px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide text-slate-700",children:OI[t.area]}),r.jsxs("span",{className:`rounded-full border px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide ${II[t.severity]}`,children:[t.severity," priority"]})]})}),r.jsx("p",{className:"mt-2 text-sm font-semibold text-slate-900",children:t.title}),r.jsx("p",{className:"text-sm text-slate-700",children:t.description}),t.estimatedImpact&&r.jsxs("p",{className:"text-xs text-slate-500",children:["Impact: ",t.estimatedImpact]})]},t.id))}),VI=e=>{const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},$I=(e,t)=>{const s=new Date(e),n=new Date(t);return Number.isNaN(s.getTime())||Number.isNaN(n.getTime())?"":`${(Math.max(0,n.getTime()-s.getTime())/1e3).toFixed(1)}s`},BI=({history:e})=>e.length===0?r.jsx("p",{className:"text-sm text-muted-foreground",children:"No audit runs yet."}):r.jsx("div",{className:"overflow-auto rounded-xl border border-slate-200 bg-white shadow-sm",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b bg-slate-50 text-left text-slate-500",children:[r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Date"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Overall score"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Duration"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Recommendations"})]})}),r.jsx("tbody",{children:e.slice(0,8).map(t=>r.jsxs("tr",{className:"border-b last:border-0",children:[r.jsx("td",{className:"py-3 pr-4 text-foreground",children:VI(t.createdAt)}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:t.overallScore}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:$I(t.createdAt,t.completedAt)}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:t.recommendations.length})]},t.id))})]})}),_0=({onRun:e,isRunning:t})=>r.jsxs(U,{onClick:e,disabled:t,className:"inline-flex items-center gap-2",children:[t?r.jsx(up,{className:"h-4 w-4 animate-spin"}):r.jsx(Bn,{className:"h-4 w-4"}),t?"Running audit":"Run AI audit"]});async function HN(){return{id:"audit_001",createdAt:"2025-05-10T09:00:00Z",completedAt:"2025-05-10T09:00:10Z",overallScore:78,areas:[{key:"dsr",name:"Data subject requests",score:82,status:"needs_attention",summary:"Response times are good, but you lack a formal identity verification guideline.",recommendationsCount:2},{key:"policies",name:"Policies",score:74,status:"needs_attention",summary:"Several policies have not been reviewed in the last 18 months.",recommendationsCount:3},{key:"documents",name:"Documents",score:80,status:"good",summary:"Most core GDPR documents exist and are up to date.",recommendationsCount:1},{key:"dpia",name:"DPIA",score:65,status:"needs_attention",summary:"Some high-risk processing activities are missing DPIAs.",recommendationsCount:2},{key:"ropa",name:"ROPA",score:70,status:"needs_attention",summary:"Your records of processing activities are incomplete for some systems.",recommendationsCount:2},{key:"incidents",name:"Incidents",score:85,status:"good",summary:"Incident logging is in place with no unresolved incidents.",recommendationsCount:0},{key:"security_measures",name:"Security measures",score:76,status:"needs_attention",summary:"Technical measures are documented, but regular reviews are missing.",recommendationsCount:2}],recommendations:[{id:"rec_1",area:"policies",title:"Review and update privacy and cookie policies",description:"Your last review was more than 18 months ago. Update the policies and document the review date.",severity:"medium",estimatedImpact:"Improves transparency and reduces legal risk."},{id:"rec_2",area:"dpia",title:"Perform DPIA for high-risk processing activities",description:"At least two processing activities meet the criteria for mandatory DPIAs.",severity:"high",estimatedImpact:"Reduces risk of non-compliance with GDPR Article 35."},{id:"rec_3",area:"dsr",title:"Introduce a documented identity verification process",description:"Create and document a clear process for verifying the identity of data subjects before responding to requests.",severity:"medium"}]}}async function UI(){await new Promise(t=>setTimeout(t,1500));const e=await HN();if(!e)throw new Error("No audit data available.");return e}function zI(){const[e,t]=v.useState({latestRun:null,history:[],isRunning:!1});v.useEffect(()=>{let n=!1;async function a(){const o=await HN();n||t(i=>({...i,latestRun:o,history:o?[o,...i.history]:i.history}))}return a(),()=>{n=!0}},[]);const s=async()=>{t(n=>({...n,isRunning:!0}));try{const n=await UI();t(a=>({latestRun:n,history:[n,...a.history],isRunning:!1}))}catch{t(a=>({...a,isRunning:!1}))}};return{latestRun:e.latestRun,history:e.history,isRunning:e.isRunning,runAudit:s}}const WI=()=>{const{latestRun:e,history:t,isRunning:s,runAudit:n}=zI();return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-slate-900",children:"AI Audit Engine"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Get an AI-generated overview of your GDPR compliance and prioritized recommendations."})]}),r.jsx(_0,{onRun:n,isRunning:s})]}),e?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsx("div",{className:"md:col-span-1",children:r.jsx(MI,{overallScore:e.overallScore,lastRunAt:e.completedAt})}),r.jsxs("div",{className:"md:col-span-2 rounded-xl border border-slate-200 bg-white p-4 shadow-sm text-sm text-slate-700",children:[r.jsx("p",{className:"font-semibold text-slate-900",children:"Latest run"}),r.jsxs("p",{children:["Completed: ",new Date(e.completedAt).toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})]}),r.jsx("p",{className:"text-slate-600",children:"The audit reviews key GDPR areas including DSR handling, policies, DPIA, ROPA, incidents, and security measures."})]})]}),r.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:e.areas.map(a=>r.jsx(LI,{area:a},a.key))}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{className:"space-y-3 rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"AI recommendations"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Prioritized actions to improve compliance."})]})}),r.jsx(FI,{recommendations:e.recommendations})]}),r.jsxs("div",{className:"space-y-3 rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Recent audit runs"}),r.jsx("p",{className:"text-sm text-slate-600",children:"History of recent AI audits."})]})}),r.jsx(BI,{history:t})]})]})]}):r.jsxs("div",{className:"rounded-xl border border-dashed border-slate-300 bg-slate-50 p-6 text-center text-sm text-slate-600",children:[r.jsx("p",{className:"font-semibold text-slate-800",children:"No audit run yet"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Run your first AI audit to see compliance insights."}),r.jsx("div",{className:"mt-4 flex justify-center",children:r.jsx(_0,{onRun:n,isRunning:s})})]})]})},HI=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsx(To,{title:"DSR Portal Settings",description:"Configure public DSR portal options (placeholder)."}),r.jsx(ne,{children:r.jsx(re,{className:"p-4 text-sm text-muted-foreground",children:"Portal settings will be available here. Configure branding, allowed request types, and notification preferences."})})]});function qI(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function KI(e){const t=GI(e),s=v.forwardRef((n,a)=>{const{children:o,...i}=n,l=v.Children.toArray(o),u=l.find(XI);if(u){const c=u.props.children,d=l.map(f=>f===u?v.Children.count(c)>1?v.Children.only(null):v.isValidElement(c)?c.props.children:null:f);return r.jsx(t,{...i,ref:a,children:v.isValidElement(c)?v.cloneElement(c,void 0,d):null})}return r.jsx(t,{...i,ref:a,children:o})});return s.displayName=`${e}.Slot`,s}function GI(e){const t=v.forwardRef((s,n)=>{const{children:a,...o}=s;if(v.isValidElement(a)){const i=ZI(a),l=QI(o,a.props);return a.type!==v.Fragment&&(l.ref=n?Vl(n,i):i),v.cloneElement(a,l)}return v.Children.count(a)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var YI=Symbol("radix.slottable");function XI(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===YI}function QI(e,t){const s={...t};for(const n in t){const a=e[n],o=t[n];/^on[A-Z]/.test(n)?a&&o?s[n]=(...l)=>{const u=o(...l);return a(...l),u}:a&&(s[n]=a):n==="style"?s[n]={...a,...o}:n==="className"&&(s[n]=[a,o].filter(Boolean).join(" "))}return{...e,...s}}function ZI(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var JI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],qN=JI.reduce((e,t)=>{const s=KI(`Primitive.${t}`),n=v.forwardRef((a,o)=>{const{asChild:i,...l}=a,u=i?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(u,{...l,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),fc="Switch",[eF,yV]=sn(fc),[tF,sF]=eF(fc),KN=v.forwardRef((e,t)=>{const{__scopeSwitch:s,name:n,checked:a,defaultChecked:o,required:i,disabled:l,value:u="on",onCheckedChange:c,form:d,...f}=e,[h,y]=v.useState(null),b=Ae(t,w=>y(w)),g=v.useRef(!1),x=h?d||!!h.closest("form"):!0,[m,p]=$l({prop:a,defaultProp:o??!1,onChange:c,caller:fc});return r.jsxs(tF,{scope:s,checked:m,disabled:l,children:[r.jsx(qN.button,{type:"button",role:"switch","aria-checked":m,"aria-required":i,"data-state":QN(m),"data-disabled":l?"":void 0,disabled:l,value:u,...f,ref:b,onClick:Y(e.onClick,w=>{p(j=>!j),x&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),x&&r.jsx(XN,{control:h,bubbles:!g.current,name:n,value:u,checked:m,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});KN.displayName=fc;var GN="SwitchThumb",YN=v.forwardRef((e,t)=>{const{__scopeSwitch:s,...n}=e,a=sF(GN,s);return r.jsx(qN.span,{"data-state":QN(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});YN.displayName=GN;var nF="SwitchBubbleInput",XN=v.forwardRef(({__scopeSwitch:e,control:t,checked:s,bubbles:n=!0,...a},o)=>{const i=v.useRef(null),l=Ae(i,o),u=qI(s),c=bj(t);return v.useEffect(()=>{const d=i.current;if(!d)return;const f=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(f,"checked").set;if(u!==s&&y){const b=new Event("click",{bubbles:n});y.call(d,s),d.dispatchEvent(b)}},[u,s,n]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...a,tabIndex:-1,ref:l,style:{...a.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});XN.displayName=nF;function QN(e){return e?"checked":"unchecked"}var ZN=KN,rF=YN;const JN=v.forwardRef(({className:e,...t},s)=>r.jsx(ZN,{className:Z("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-muted",e),...t,ref:s,children:r.jsx(rF,{className:Z("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));JN.displayName=ZN.displayName;const da=({label:e,description:t,checked:s,onChange:n})=>r.jsxs("div",{className:"flex items-center justify-between rounded-md border border-border p-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:e}),t&&r.jsx("p",{className:"text-xs text-muted-foreground",children:t})]}),r.jsx(JN,{checked:s,onCheckedChange:n,"aria-label":e})]}),aF=({open:e,onClose:t})=>e?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 bg-black/40 z-40",onClick:t}),r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"w-full max-w-2xl bg-background rounded-lg shadow-2xl border border-border",children:[r.jsxs("div",{className:"flex items-center justify-between border-b border-border px-4 py-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase text-muted-foreground",children:"Preview"}),r.jsx("h3",{className:"text-lg font-semibold",children:"Email preview"})]}),r.jsx(U,{variant:"ghost",size:"icon",onClick:t,"aria-label":"Close preview",children:r.jsx(Ee,{className:"h-5 w-5"})})]}),r.jsx("div",{className:"p-4 space-y-3",children:r.jsxs(ne,{children:[r.jsxs(Le,{children:[r.jsx(Oe,{children:"Your DPIA was approved"}),r.jsx(Xt,{children:"Example notification email"})]}),r.jsxs(re,{className:"text-sm space-y-2",children:[r.jsx("p",{children:"Hello,"}),r.jsx("p",{children:"Your recent DPIA has been reviewed and approved by the DPO."}),r.jsx("p",{children:"You can view the details in your AURA-GDPR dashboard."}),r.jsx("p",{className:"text-muted-foreground text-xs",children:"This is a preview. Actual email content may vary."})]})]})})]})})]}):null,oF={dsr_reminders:!1,incident_alerts:!1,dpia_approvals:!1,task_reminders:!1,system_alerts:!1},iF=()=>{const[e,t]=v.useState(null),[s,n]=v.useState(!0),[a,o]=v.useState(null),[i,l]=v.useState(!1),u=v.useCallback(async()=>{try{n(!0),o(null);const d=await H.get("/settings/notifications");t(d.data)}catch(d){o((d==null?void 0:d.message)??"Failed to load notification settings"),t(oF)}finally{n(!1)}},[]);v.useEffect(()=>{u()},[u]);const c=v.useCallback(async d=>{l(!0),o(null);try{await H.patch("/settings/notifications",d),t(d)}catch(f){throw o((f==null?void 0:f.message)??"Failed to save notification settings"),f}finally{l(!1)}},[]);return{data:e,loading:s,error:a,saving:i,reload:u,saveSettings:c}},lF=()=>{const{data:e,loading:t,error:s,saving:n,reload:a,saveSettings:o}=iF(),[i,l]=v.useState(null),[u,c]=v.useState(!1),{toast:d}=nn();v.useEffect(()=>{e&&l(e)},[e]);const f=(y,b)=>{l(g=>g&&{...g,[y]:b})},h=async()=>{if(i)try{await o(i),d({title:"Settings saved",description:"Notification preferences updated."})}catch(y){d({variant:"destructive",title:"Save failed",description:(y==null?void 0:y.message)??"Unable to save settings."})}};return r.jsxs("div",{className:"space-y-6",children:[r.jsx(To,{title:"Notification Settings",description:"Configure email alerts for GDPR-critical events.",actions:r.jsxs("div",{className:"flex gap-2",children:[r.jsx(U,{variant:"outline",size:"sm",onClick:()=>c(!0),children:"Preview email"}),r.jsx(U,{variant:"outline",size:"sm",onClick:a,disabled:t,children:"Reload"})]})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Dr,{to:"/app/settings",className:({isActive:y})=>`px-3 py-2 rounded-md text-sm ${y?"bg-slate-200 dark:bg-slate-700 font-semibold":"text-muted-foreground"}`,children:"Profile"}),r.jsx(Dr,{to:"/app/settings/notifications",className:({isActive:y})=>`px-3 py-2 rounded-md text-sm ${y?"bg-slate-200 dark:bg-slate-700 font-semibold":"text-muted-foreground"}`,children:"Notifications"})]}),s&&r.jsx(ne,{children:r.jsxs(re,{className:"p-4 text-sm text-destructive flex items-center justify-between",children:[r.jsxs("span",{children:["Failed to load settings: ",s]}),r.jsx(U,{size:"sm",variant:"outline",onClick:a,children:"Retry"})]})}),t||!i?r.jsx(ne,{children:r.jsxs(re,{className:"p-4 space-y-3",children:[r.jsx(qs,{className:"h-10 w-full"}),r.jsx(qs,{className:"h-10 w-full"}),r.jsx(qs,{className:"h-10 w-full"})]})}):r.jsx(ne,{children:r.jsxs(re,{className:"p-4 space-y-3",children:[r.jsx(da,{label:"DSR reminders",description:"Email reminders for pending data subject requests.",checked:i.dsr_reminders,onChange:y=>f("dsr_reminders",y)}),r.jsx(da,{label:"Incident alerts",description:"Alerts for new or updated incidents.",checked:i.incident_alerts,onChange:y=>f("incident_alerts",y)}),r.jsx(da,{label:"DPIA approvals",description:"Notifications when DPIAs require or receive approval.",checked:i.dpia_approvals,onChange:y=>f("dpia_approvals",y)}),r.jsx(da,{label:"Task reminders",description:"Reminders for upcoming or overdue tasks.",checked:i.task_reminders,onChange:y=>f("task_reminders",y)}),r.jsx(da,{label:"System alerts",description:"System-level notifications for platform events.",checked:i.system_alerts,onChange:y=>f("system_alerts",y)}),r.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[r.jsx(U,{variant:"outline",onClick:a,disabled:t,children:"Reset"}),r.jsx(U,{onClick:h,disabled:n,children:n?"Saving":"Save"})]})]})}),r.jsx(aF,{open:u,onClose:()=>c(!1)})]})},vl={draft:"Draft",in_review:"In review",approved:"Approved",published:"Published",archived:"Archived"},lo={privacy_policy:"Privacy Policy",cookie_policy:"Cookie Policy",data_processing_agreement:"Data Processing Agreement",data_retention_policy:"Data Retention Policy",information_security_policy:"Information Security Policy",internal_guideline:"Internal Guideline",other:"Other"},cF=({search:e,status:t,type:s,onSearch:n,onStatusChange:a,onTypeChange:o})=>r.jsxs("div",{className:"flex flex-col gap-3 rounded-xl border border-slate-200 bg-white p-4 shadow-sm md:flex-row md:items-center md:justify-between",children:[r.jsx("input",{type:"text",value:e,onChange:i=>n(i.target.value),placeholder:"Search policies...",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100"}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:t,onChange:i=>a(i.target.value),children:[r.jsx("option",{value:"all",children:"All statuses"}),Object.keys(vl).map(i=>r.jsx("option",{value:i,children:vl[i]},i))]}),r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:s,onChange:i=>o(i.target.value),children:[r.jsx("option",{value:"all",children:"All types"}),Object.keys(lo).map(i=>r.jsx("option",{value:i,children:lo[i]},i))]})]})]}),uF={draft:"bg-slate-100 text-slate-700 border-slate-200",in_review:"bg-amber-50 text-amber-700 border-amber-200",approved:"bg-sky-50 text-sky-700 border-sky-200",published:"bg-emerald-50 text-emerald-700 border-emerald-200",archived:"bg-slate-50 text-slate-500 border-slate-200"},e1=({status:e})=>r.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-semibold ${uF[e]}`,children:vl[e]}),dF=e=>{const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},fF=({policy:e,onClick:t})=>r.jsxs("tr",{className:"cursor-pointer border-b last:border-0 hover:bg-slate-50 focus-within:bg-slate-50",tabIndex:0,role:"button",onClick:t,onKeyDown:s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),t())},children:[r.jsx("td",{className:"py-3 pr-4 font-semibold text-foreground",children:e.name}),r.jsx("td",{className:"py-3 pr-4 text-foreground capitalize",children:e.type.replaceAll("_"," ")}),r.jsx("td",{className:"py-3 pr-4",children:r.jsx(e1,{status:e.status})}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:e.owner}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:dF(e.lastUpdated)})]}),pF=({policies:e,onSelect:t,isLoading:s,isError:n})=>s?r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading policies..."}):n?r.jsx("p",{className:"text-sm text-red-600",children:"Failed to load policies."}):e.length===0?r.jsx("p",{className:"text-sm text-muted-foreground",children:"No policies found for the selected filters."}):r.jsx("div",{className:"overflow-auto rounded-lg border border-slate-200 bg-white shadow-sm",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b bg-slate-50 text-left text-slate-500",children:[r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Name"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Type"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Status"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Owner"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Last updated"})]})}),r.jsx("tbody",{children:e.map(a=>r.jsx(fF,{policy:a,onClick:()=>t(a)},a.id))})]})}),mF=["draft","in_review","approved","published","archived"],hF=["privacy_policy","cookie_policy","data_processing_agreement","data_retention_policy","information_security_policy","internal_guideline","other"],L0=e=>{if(!e)return"N/A";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},xF=({policy:e,isOpen:t,mode:s,onClose:n,onSave:a,onRegenerateAi:o,aiGenerating:i,isLoading:l=!1,isSaving:u=!1})=>{var m;const[c,d]=P.useState(e),f=P.useRef(null);if(P.useEffect(()=>{t&&d(e)},[e,t]),P.useEffect(()=>{var j;if(!t)return;const p=k=>{if(k.key==="Escape"&&n(),k.key==="Tab"&&f.current){const E=f.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(E.length===0)return;const C=E[0],N=E[E.length-1];!k.shiftKey&&document.activeElement===N?(k.preventDefault(),C.focus()):k.shiftKey&&document.activeElement===C&&(k.preventDefault(),N.focus())}};document.addEventListener("keydown",p);const w=(j=f.current)==null?void 0:j.querySelector("input, select, textarea, button");return w==null||w.focus(),()=>document.removeEventListener("keydown",p)},[t,n]),!t||!c)return null;const h=s==="create"||s==="edit",y=(p,w)=>{d(j=>j&&{...j,[p]:w})},b=()=>{c.name.trim()&&a(c)},g=p=>{p.target===p.currentTarget&&n()},x=async()=>{o&&await o({type:c.type,contextDescription:c.summary})};return r.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/30 backdrop-blur-sm",onMouseDown:g,children:r.jsxs("div",{className:"flex h-full w-full max-w-2xl flex-col overflow-y-auto bg-white shadow-2xl",ref:f,children:[r.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-5 py-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:c.name||"Untitled policy"}),r.jsx(e1,{status:c.status})]}),r.jsx("p",{className:"text-sm text-slate-600 capitalize",children:lo[c.type]})]}),r.jsx("button",{type:"button",onClick:n,className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:r.jsx(Ee,{className:"h-5 w-5"})})]}),r.jsxs("div",{className:"space-y-4 p-5",children:[l&&r.jsx("p",{className:"text-sm text-slate-500",children:"Loading policy..."}),l&&r.jsx("p",{className:"text-sm text-slate-500",children:"Loading policy details..."}),r.jsxs("div",{className:"space-y-3 rounded-lg border border-slate-200 bg-white p-4",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Name"}),r.jsx("input",{type:"text",value:c.name,onChange:p=>y("name",p.target.value),disabled:!h||u,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Type"}),r.jsx("select",{value:c.type,onChange:p=>y("type",p.target.value),disabled:!h||u,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:hF.map(p=>r.jsx("option",{value:p,children:lo[p]},p))})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Status"}),r.jsx("select",{value:c.status,onChange:p=>y("status",p.target.value),disabled:!h||u,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:mF.map(p=>r.jsx("option",{value:p,children:vl[p]},p))})]})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Owner"}),r.jsx("input",{type:"text",value:c.owner,onChange:p=>y("owner",p.target.value),disabled:!h||u,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Tags (comma separated)"}),r.jsx("input",{type:"text",value:((m=c.tags)==null?void 0:m.join(", "))||"",onChange:p=>y("tags",p.target.value.split(",").map(w=>w.trim()).filter(Boolean)),disabled:!h||u,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Summary"}),r.jsx("textarea",{value:c.summary||"",onChange:p=>y("summary",p.target.value),disabled:!h||u,className:"min-h-[80px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",placeholder:"Short summary of the policy."})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Content"}),r.jsx("textarea",{value:c.content||"",onChange:p=>y("content",p.target.value),disabled:!h||u,className:"min-h-[200px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",placeholder:"Full policy content."})]}),s==="create"&&r.jsx("p",{className:"text-xs text-slate-500",children:"This is an AI-generated draft. Please review and adapt before publishing."}),o&&r.jsxs(U,{type:"button",variant:"outline",size:"sm",className:"inline-flex items-center gap-2",onClick:x,disabled:i,children:[r.jsx(OE,{className:"h-4 w-4"}),i?"Regenerating...":"Regenerate with AI"]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 rounded-lg border border-slate-200 bg-slate-50 p-4 text-sm text-slate-700 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-800",children:"Created"}),r.jsx("p",{children:L0(c.createdAt)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-800",children:"Last updated"}),r.jsx("p",{children:L0(c.lastUpdated)})]})]})]}),r.jsx("div",{className:"sticky bottom-0 border-t border-slate-200 bg-white p-4",children:r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[s!=="create"&&c.id&&r.jsx(Xr,{resourceType:"policy",resourceId:c.id}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(U,{variant:"outline",onClick:n,children:s==="create"?"Cancel":"Close"}),h&&r.jsx(U,{onClick:b,disabled:i||u,children:s==="create"?"Create policy":"Save changes"})]})]})})]})})},gF=["privacy_policy","cookie_policy","data_processing_agreement","data_retention_policy","information_security_policy","internal_guideline","other"],yF=({onNewBlank:e,onGenerateWithAi:t,aiGenerating:s})=>{const[n,a]=P.useState(!1),[o,i]=P.useState({type:"privacy_policy",contextDescription:""}),l=()=>{t(o),a(!1)};return r.jsxs("div",{className:"relative",children:[r.jsxs(U,{className:"inline-flex items-center gap-2",onClick:()=>a(u=>!u),children:[r.jsx(Ul,{className:"h-4 w-4"}),"New policy",r.jsx(lp,{className:"h-4 w-4"})]}),n&&r.jsxs("div",{className:"absolute right-0 z-20 mt-2 w-72 rounded-lg border border-slate-200 bg-white shadow-lg",children:[r.jsxs("button",{type:"button",className:"flex w-full items-start gap-2 px-4 py-3 text-left text-sm text-slate-800 hover:bg-slate-50",onClick:()=>{e(),a(!1)},children:[r.jsx("span",{className:"font-semibold",children:"Blank policy"}),r.jsx("span",{className:"text-xs text-slate-500",children:"Start from scratch."})]}),r.jsxs("div",{className:"border-t border-slate-200 px-4 py-3",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-slate-800",children:[r.jsx(Bn,{className:"h-4 w-4 text-sky-600"}),"Generate with AI"]}),r.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Provide context to draft a policy."}),r.jsxs("div",{className:"mt-3 space-y-2",children:[r.jsx("select",{value:o.type,onChange:u=>i(c=>({...c,type:u.target.value})),className:"w-full rounded-md border border-slate-200 px-2 py-2 text-sm text-slate-800 focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",children:gF.map(u=>r.jsx("option",{value:u,children:lo[u]},u))}),r.jsx("textarea",{value:o.contextDescription,onChange:u=>i(c=>({...c,contextDescription:u.target.value})),placeholder:"Short context (e.g. SaaS company serving EU customers)",className:"w-full rounded-md border border-slate-200 px-2 py-2 text-sm text-slate-800 focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",rows:3}),r.jsx(U,{className:"w-full",onClick:l,disabled:s,children:s?"Generating...":"Generate policy draft"})]})]})]})]})},Cn=e=>({...e,id:(e==null?void 0:e.id)??(e==null?void 0:e._id)??(e==null?void 0:e.policy_id)??"",lastUpdated:(e==null?void 0:e.lastUpdated)??(e==null?void 0:e.last_updated)??(e==null?void 0:e.updated_at)??(e==null?void 0:e.updatedAt)??"",createdAt:(e==null?void 0:e.createdAt)??(e==null?void 0:e.created_at)??"",tags:(e==null?void 0:e.tags)??[]}),vF=e=>{if(Array.isArray(e))return e.map(Cn);const t=e;return Array.isArray(t==null?void 0:t.items)?t.items.map(Cn):Array.isArray(t==null?void 0:t.policies)?t.policies.map(Cn):[]};async function bF(){const e=await H.get("/api/policies");return vF(e.data)}async function wF(e){const t=await H.get(`/api/policies/${e}`);return Cn(t.data)}async function jF(e){const t=await H.post("/api/policies",e);return Cn(t.data)}async function NF(e,t){const s=await H.put(`/api/policies/${e}`,t);return Cn(s.data)}async function kF(e,t){const s=await H.patch(`/api/policies/${e}`,t);return Cn(s.data)}async function O0(){return Promise.resolve({title:"Privacy Policy",summary:"This policy explains how we collect, use, and protect personal data across our services.",content:"This AI-generated policy draft outlines how personal data is collected, used, and protected. It should include sections for Introduction, Data We Collect, Legal Bases, Data Sharing, Data Retention, Data Subject Rights, Security Measures, International Transfers, and Contact Information. Please review and tailor this draft to your organization before publishing."})}function SF(){const[e,t]=v.useState([]),[s,n]=v.useState(!1),[a,o]=v.useState(!1),[i,l]=v.useState(!1),[u,c]=v.useState(null),d=v.useRef(!0);v.useEffect(()=>()=>{d.current=!1},[]);const f=v.useCallback(async()=>{n(!0),c(null);try{const x=await bF();d.current&&t(x)}catch(x){d.current&&c((x==null?void 0:x.message)??"Failed to load policies.")}finally{d.current&&n(!1)}},[]);v.useEffect(()=>{f()},[f]);const h=v.useCallback(async x=>{o(!0);try{const m=await wF(x);return d.current&&t(p=>p.map(w=>w.id===m.id?m:w)),m}finally{d.current&&o(!1)}},[]),y=v.useCallback(async x=>{l(!0);try{const m=await jF(x);return d.current&&t(p=>[m,...p]),m}finally{d.current&&l(!1)}},[]),b=v.useCallback(async(x,m)=>{l(!0);try{const p=await NF(x,m);return d.current&&t(w=>w.map(j=>j.id===p.id?p:j)),p}finally{d.current&&l(!1)}},[]),g=v.useCallback(async(x,m)=>{const p=await kF(x,m);return d.current&&t(w=>w.map(j=>j.id===p.id?p:j)),p},[]);return{policies:e,loading:s,detailLoading:a,saving:i,error:u,refresh:f,fetchOne:h,create:y,update:b,patch:g}}const CF=()=>{const{policies:e,loading:t,detailLoading:s,saving:n,error:a,refresh:o,create:i,update:l,fetchOne:u}=SF(),[c,d]=P.useState(""),[f,h]=P.useState("all"),[y,b]=P.useState("all"),[g,x]=P.useState(null),[m,p]=P.useState("view"),[w,j]=P.useState(!1),[k,E]=P.useState(null),C=P.useMemo(()=>e.filter(O=>{const _=O.name.toLowerCase().includes(c.toLowerCase())||(O.tags||[]).some(q=>q.toLowerCase().includes(c.toLowerCase()))||(O.summary||"").toLowerCase().includes(c.toLowerCase()),F=f==="all"?!0:O.status===f,$=y==="all"?!0:O.type===y;return _&&F&&$}),[e,c,f,y]),N=O=>{x(O),p("view"),O.id&&u(O.id).then(_=>x(_)).catch(()=>{})},S=async O=>{if(m==="create"){const{id:_,...F}=O;await i(F)}else O.id&&await l(O.id,O);await o(),x(null),p("view")},T=()=>{const O=new Date().toISOString();x({id:"",name:"New policy",type:"other",status:"draft",owner:"",lastUpdated:O,createdAt:O,summary:"",content:"",tags:[]}),p("create")},I=async O=>{j(!0),E(O);try{const _=await O0(O),F=new Date().toISOString();x({id:`policy-${Date.now()}`,name:_.title,type:O.type,status:"draft",owner:"You",lastUpdated:F,createdAt:F,summary:_.summary,content:_.content,tags:["ai-draft"]}),p("create")}finally{j(!1)}},D=async O=>{const _=O??k;if(_){j(!0);try{const F=await O0(_);x($=>$&&{...$,name:F.title,summary:F.summary,content:F.content,tags:Array.from(new Set([...$.tags||[],"ai-draft"]))})}finally{j(!1)}}};return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-slate-900",children:"Policies"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Manage your GDPR-related policies and keep them up to date."})]}),r.jsx(yF,{onNewBlank:T,onGenerateWithAi:I,aiGenerating:w})]}),r.jsx(dc,{title:"Policy center",description:"Centralize policy creation, reviews, and publication. AI-assisted drafts will help you ship faster."}),r.jsx(cF,{search:c,status:f,type:y,onSearch:d,onStatusChange:h,onTypeChange:b}),r.jsx(pF,{policies:C,onSelect:N,isLoading:t,isError:!!a}),a&&r.jsx("p",{className:"text-sm text-rose-600",children:a}),r.jsx(xF,{policy:g,isOpen:!!g,mode:m,onClose:()=>x(null),onSave:S,isLoading:s,isSaving:n,onRegenerateAi:m==="create"?D:void 0,aiGenerating:w})]})},EF=({search:e,severity:t,status:s,onSearch:n,onSeverityChange:a,onStatusChange:o})=>r.jsxs("div",{className:"flex flex-col gap-3 rounded-xl border border-slate-200 bg-white p-4 shadow-sm md:flex-row md:items-center md:justify-between",children:[r.jsx("input",{type:"text",value:e,onChange:i=>n(i.target.value),placeholder:"Search incidents by title or system...",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100"}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:t,onChange:i=>a(i.target.value),children:[r.jsx("option",{value:"all",children:"All severities"}),r.jsx("option",{value:"low",children:"Low"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"high",children:"High"}),r.jsx("option",{value:"critical",children:"Critical"})]}),r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:s,onChange:i=>o(i.target.value),children:[r.jsx("option",{value:"all",children:"All statuses"}),r.jsx("option",{value:"open",children:"Open"}),r.jsx("option",{value:"investigating",children:"Investigating"}),r.jsx("option",{value:"contained",children:"Contained"}),r.jsx("option",{value:"resolved",children:"Resolved"}),r.jsx("option",{value:"closed",children:"Closed"})]})]})]}),PF={open:"bg-sky-50 text-sky-700 border-sky-200",investigating:"bg-amber-50 text-amber-700 border-amber-200",contained:"bg-orange-50 text-orange-700 border-orange-200",resolved:"bg-emerald-50 text-emerald-700 border-emerald-200",closed:"bg-slate-100 text-slate-700 border-slate-200"},TF={open:"Open",investigating:"Investigating",contained:"Contained",resolved:"Resolved",closed:"Closed"},AF=({status:e})=>r.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-semibold ${PF[e]}`,children:TF[e]}),RF={low:"bg-slate-100 text-slate-700 border-slate-200",medium:"bg-amber-50 text-amber-700 border-amber-200",high:"bg-rose-50 text-rose-700 border-rose-200",critical:"bg-rose-600 text-white border-rose-700"},DF={low:"Low",medium:"Medium",high:"High",critical:"Critical"},MF=({severity:e})=>r.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-semibold ${RF[e]}`,children:DF[e]}),_F=e=>{const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},LF=({incident:e,onClick:t})=>r.jsxs("tr",{className:"cursor-pointer border-b last:border-0 hover:bg-slate-50 focus-within:bg-slate-50",tabIndex:0,role:"button",onClick:t,onKeyDown:s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),t())},children:[r.jsx("td",{className:"py-3 pr-4 font-semibold text-foreground",children:e.title}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:e.systemName}),r.jsx("td",{className:"py-3 pr-4",children:r.jsx(MF,{severity:e.severity})}),r.jsx("td",{className:"py-3 pr-4",children:r.jsx(AF,{status:e.status})}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:_F(e.lastUpdated)})]}),OF=({incidents:e,onSelect:t,isLoading:s,isError:n})=>s?r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading incidents..."}):n?r.jsx("p",{className:"text-sm text-red-600",children:"Failed to load incidents."}):e.length===0?r.jsx("p",{className:"text-sm text-muted-foreground",children:"No incidents found for the selected filters."}):r.jsx("div",{className:"overflow-auto rounded-lg border border-slate-200 bg-white shadow-sm",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b bg-slate-50 text-left text-slate-500",children:[r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Title"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"System"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Severity"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Status"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Last updated"})]})}),r.jsx("tbody",{children:e.map(a=>r.jsx(LF,{incident:a,onClick:()=>t(a)},a.id))})]})}),IF=["low","medium","high","critical"],FF=["open","investigating","contained","resolved","closed"],VF=({incident:e,isOpen:t,mode:s,isLoading:n,isSaving:a,onClose:o,onSave:i,onStatusChange:l})=>{const[u,c]=P.useState(e),[d,f]=P.useState({}),[h,y]=P.useState({actor:"",action:"",notes:""}),b=P.useRef(null);if(P.useEffect(()=>{t&&(c(e),f({}),y({actor:"",action:"",notes:""}))},[e,t]),P.useEffect(()=>{var I;if(!t)return;const S=D=>{if(D.key==="Escape"&&o(),D.key==="Tab"&&b.current){const O=b.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(O.length===0)return;const _=O[0],F=O[O.length-1];!D.shiftKey&&document.activeElement===F?(D.preventDefault(),_.focus()):D.shiftKey&&document.activeElement===_&&(D.preventDefault(),F.focus())}};document.addEventListener("keydown",S);const T=(I=b.current)==null?void 0:I.querySelector("input, select, textarea, button");return T==null||T.focus(),()=>document.removeEventListener("keydown",S)},[t,o]),!t||!u&&!n)return null;const g=(s==="create"||s==="edit")&&!n,x=l&&(u==null?void 0:u.id)&&s!=="create",m=!!a,p=!!(n||m),w=(S,T)=>{c(I=>I&&{...I,[S]:T})},j=()=>{const S={};return u.title.trim()||(S.title="Title is required."),u.systemName.trim()||(S.systemName="System name is required."),u.description.trim()||(S.description="Description is required."),u.severity||(S.severity="Severity is required."),u.status||(S.status="Status is required."),f(S),Object.keys(S).length===0},k=async()=>{j()&&await i(u,s==="create"?"create":"edit")},E=async S=>{w("status",S),x&&(u!=null&&u.id)&&await(l==null?void 0:l(u.id,S))},C=S=>{S.target===S.currentTarget&&o()},N=()=>{var T;if(!h.actor.trim()||!h.action.trim())return;const S={id:`event-${Date.now()}`,actor:h.actor.trim(),action:h.action.trim(),notes:((T=h.notes)==null?void 0:T.trim())||void 0,timestamp:new Date().toISOString()};c(I=>I&&{...I,timeline:[S,...I.timeline]}),y({actor:"",action:"",notes:""})};return!u&&n?r.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/30 backdrop-blur-sm",onMouseDown:C,children:r.jsxs("div",{className:"flex h-full w-full max-w-2xl flex-col overflow-y-auto bg-white shadow-2xl",ref:b,children:[r.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-5 py-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Incident"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Loading incident..."})]}),r.jsx("button",{type:"button",onClick:o,className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:r.jsx(Ee,{className:"h-5 w-5"})})]}),r.jsx("div",{className:"p-5 text-sm text-slate-600",children:"Loading incident..."})]})}):r.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/30 backdrop-blur-sm",onMouseDown:C,children:r.jsxs("div",{className:"flex h-full w-full max-w-2xl flex-col overflow-y-auto bg-white shadow-2xl",ref:b,children:[r.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-5 py-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:s==="create"?"New incident":u.title||"Incident"}),r.jsx("p",{className:"text-sm text-slate-600",children:u.systemName})]}),r.jsx("button",{type:"button",onClick:o,className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:r.jsx(Ee,{className:"h-5 w-5"})})]}),n&&u&&r.jsx("div",{className:"px-5 py-2 text-sm text-slate-600",children:"Loading incident..."}),r.jsxs("div",{className:"space-y-4 p-5",children:[r.jsxs("div",{className:"space-y-3 rounded-lg border border-slate-200 bg-white p-4",children:[r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Title"}),r.jsx("input",{type:"text",value:u.title,onChange:S=>w("title",S.target.value),disabled:!g||p,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),d.title&&r.jsx("p",{className:"text-xs text-rose-600",children:d.title})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"System"}),r.jsx("input",{type:"text",value:u.systemName,onChange:S=>w("systemName",S.target.value),disabled:!g||p,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),d.systemName&&r.jsx("p",{className:"text-xs text-rose-600",children:d.systemName})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-3",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Severity"}),r.jsx("select",{value:u.severity,onChange:S=>w("severity",S.target.value),disabled:!g||p,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:IF.map(S=>r.jsx("option",{value:S,children:S},S))}),d.severity&&r.jsx("p",{className:"text-xs text-rose-600",children:d.severity})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Status"}),r.jsx("select",{value:u.status,onChange:S=>E(S.target.value),disabled:!g&&!x||p,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:FF.map(S=>r.jsx("option",{value:S,children:S},S))}),d.status&&r.jsx("p",{className:"text-xs text-rose-600",children:d.status})]}),r.jsxs("div",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Detection method"}),r.jsx("input",{type:"text",value:u.detectionMethod,onChange:S=>w("detectionMethod",S.target.value),disabled:!g||p,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Description"}),r.jsx("textarea",{value:u.description,onChange:S=>w("description",S.target.value),disabled:!g||p,className:"min-h-[90px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),d.description&&r.jsx("p",{className:"text-xs text-rose-600",children:d.description})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Affected data"}),r.jsx("textarea",{value:u.affectedData,onChange:S=>w("affectedData",S.target.value),disabled:!g||p,className:"min-h-[70px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Affected subjects"}),r.jsx("textarea",{value:u.affectedSubjects,onChange:S=>w("affectedSubjects",S.target.value),disabled:!g||p,className:"min-h-[70px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]})]})]}),r.jsxs("div",{className:"space-y-3 rounded-lg border border-slate-200 bg-white p-4",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"Timeline"})}),r.jsxs("div",{className:"space-y-3",children:[u.timeline.map(S=>r.jsxs("div",{className:"flex gap-3",children:[r.jsx("div",{className:"mt-1 h-2 w-2 rounded-full bg-sky-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:S.action}),r.jsxs("p",{className:"text-xs text-slate-500",children:[new Date(S.timestamp).toLocaleString()," - ",S.actor]}),S.notes&&r.jsx("p",{className:"text-xs text-slate-600",children:S.notes})]})]},S.id)),u.timeline.length===0&&r.jsx("p",{className:"text-sm text-muted-foreground",children:"No timeline events yet."})]}),g&&r.jsxs("div",{className:"space-y-2 rounded-lg border border-dashed border-slate-200 p-3",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"Add timeline event"}),r.jsxs("div",{className:"grid grid-cols-1 gap-2 md:grid-cols-2",children:[r.jsx("input",{type:"text",placeholder:"Actor",value:h.actor,onChange:S=>y(T=>({...T,actor:S.target.value})),disabled:p,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100"}),r.jsx("input",{type:"text",placeholder:"Action",value:h.action,onChange:S=>y(T=>({...T,action:S.target.value})),disabled:p,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100"})]}),r.jsx("textarea",{placeholder:"Notes (optional)",value:h.notes,onChange:S=>y(T=>({...T,notes:S.target.value})),disabled:p,className:"min-h-[60px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100"}),r.jsx(U,{type:"button",variant:"outline",size:"sm",onClick:N,disabled:p,children:"Add event"})]})]})]}),r.jsx("div",{className:"sticky bottom-0 border-t border-slate-200 bg-white p-4",children:r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[s!=="create"&&u.id&&r.jsx(Xr,{resourceType:"incident",resourceId:u.id}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(U,{variant:"outline",onClick:o,disabled:p,children:"Cancel"}),g&&r.jsx(U,{onClick:k,disabled:p,children:m?"Saving...":s==="create"?"Create incident":"Save changes"})]})]})})]})})},$F=({onNew:e})=>r.jsxs(U,{className:"inline-flex items-center gap-2",onClick:e,children:[r.jsx(Uv,{className:"h-4 w-4"}),"New incident"]}),BF=e=>["low","medium","high","critical"].includes(e)?e:"medium",UF=e=>["open","investigating","contained","resolved","closed"].includes(e)?e:"open",zF=e=>({id:(e==null?void 0:e.id)??(e==null?void 0:e._id)??`timeline-${(e==null?void 0:e.timestamp)??Date.now()}`,timestamp:(e==null?void 0:e.timestamp)??(e==null?void 0:e.time)??(e==null?void 0:e.created_at)??(e==null?void 0:e.createdAt)??new Date().toISOString(),actor:(e==null?void 0:e.actor)??(e==null?void 0:e.user)??"System",action:(e==null?void 0:e.action)??(e==null?void 0:e.activity)??"",notes:(e==null?void 0:e.notes)??(e==null?void 0:e.description)??void 0}),En=e=>{const t=(e==null?void 0:e.createdAt)??(e==null?void 0:e.created_at)??new Date().toISOString(),s=(e==null?void 0:e.lastUpdated)??(e==null?void 0:e.last_updated)??(e==null?void 0:e.updated_at)??(e==null?void 0:e.updatedAt)??t;return{id:(e==null?void 0:e.id)??(e==null?void 0:e._id)??"",title:(e==null?void 0:e.title)??"",systemName:(e==null?void 0:e.systemName)??(e==null?void 0:e.system_name)??"",severity:BF(e==null?void 0:e.severity),status:UF(e==null?void 0:e.status),description:(e==null?void 0:e.description)??"",affectedData:(e==null?void 0:e.affectedData)??(e==null?void 0:e.affected_data)??"",affectedSubjects:(e==null?void 0:e.affectedSubjects)??(e==null?void 0:e.affected_subjects)??"",detectionMethod:(e==null?void 0:e.detectionMethod)??(e==null?void 0:e.detection_method)??"",createdAt:t,lastUpdated:s,timeline:Array.isArray(e==null?void 0:e.timeline)?e.timeline.map(zF):[]}},WF=e=>{if(Array.isArray(e))return e.map(En);const t=e;return Array.isArray(t==null?void 0:t.items)?t.items.map(En):Array.isArray(t==null?void 0:t.incidents)?t.incidents.map(En):[]};async function HF(){const e=await H.get("/api/incidents");return WF(e.data)}async function qF(e){const t=await H.get(`/api/incidents/${e}`);return En(t.data)}async function KF(e){const t=await H.post("/api/incidents",e);return En(t.data)}async function GF(e,t){const s=await H.put(`/api/incidents/${e}`,t);return En(s.data)}async function YF(e,t){const s=await H.patch(`/api/incidents/${e}`,t);return En(s.data)}function XF(){const[e,t]=v.useState([]),[s,n]=v.useState(!1),[a,o]=v.useState(!1),[i,l]=v.useState(!1),[u,c]=v.useState(null),d=v.useRef(!0);v.useEffect(()=>()=>{d.current=!1},[]);const f=v.useCallback(async()=>{n(!0),c(null);try{const x=await HF();d.current&&t(x)}catch(x){d.current&&c((x==null?void 0:x.message)??"Failed to load incidents.")}finally{d.current&&n(!1)}},[]);v.useEffect(()=>{f()},[f]);const h=v.useCallback(async x=>{o(!0);try{const m=await qF(x);return d.current&&t(p=>p.some(j=>j.id===m.id)?p.map(j=>j.id===m.id?m:j):[m,...p]),m}finally{d.current&&o(!1)}},[]),y=v.useCallback(async x=>{l(!0),c(null);try{const m=await KF(x);return d.current&&t(p=>[m,...p]),m}catch(m){throw d.current&&c((m==null?void 0:m.message)??"Failed to create incident."),m}finally{d.current&&l(!1)}},[]),b=v.useCallback(async(x,m)=>{l(!0),c(null);try{const p=await GF(x,m);return d.current&&t(w=>w.map(j=>j.id===p.id?p:j)),p}catch(p){throw d.current&&c((p==null?void 0:p.message)??"Failed to update incident."),p}finally{d.current&&l(!1)}},[]),g=v.useCallback(async(x,m)=>{l(!0),c(null);try{const p=await YF(x,m);return d.current&&t(w=>w.map(j=>j.id===p.id?p:j)),p}catch(p){throw d.current&&c((p==null?void 0:p.message)??"Failed to update incident."),p}finally{d.current&&l(!1)}},[]);return{incidents:e,loading:s,detailLoading:a,saving:i,error:u,refresh:f,fetchOne:h,create:y,update:b,patch:g}}const QF=()=>{const{incidents:e,loading:t,detailLoading:s,saving:n,error:a,refresh:o,fetchOne:i,create:l,update:u,patch:c}=XF(),{markAsRead:d,notifications:f}=uc(),[h,y]=P.useState(""),[b,g]=P.useState("all"),[x,m]=P.useState("all"),[p,w]=P.useState(null),[j,k]=P.useState("view"),E=P.useMemo(()=>e.filter(D=>{const O=D.title.toLowerCase().includes(h.toLowerCase())||D.systemName.toLowerCase().includes(h.toLowerCase()),_=b==="all"?!0:D.severity===b,F=x==="all"?!0:D.status===x;return O&&_&&F}),[e,h,b,x]),C=D=>{w(D),k("edit"),D.id&&i(D.id).then(O=>w(O)).catch(()=>{})},N=async(D,O)=>{try{if(O==="create"){const{id:_,...F}=D;await l(F)}else D.id&&await u(D.id,D);await o(),w(null),k("view")}catch{}},S=()=>{const D=new Date().toISOString();w({id:"",title:"",systemName:"",severity:"medium",status:"open",description:"",affectedData:"",affectedSubjects:"",detectionMethod:"",createdAt:D,lastUpdated:D,timeline:[]}),k("create")},T=async(D,O)=>{try{await c(D,{status:O}),await o()}catch{}};P.useEffect(()=>{f.filter(D=>D.type==="incident_alert"&&!D.read).forEach(D=>d(D.id))},[f,d]);const I=()=>t?r.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((D,O)=>r.jsx(qs,{className:"h-20 w-full rounded-lg bg-slate-100"},O))}):a?r.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 p-4 text-sm text-rose-700",children:r.jsxs("div",{className:"flex items-center justify-between gap-3",children:[r.jsx("p",{children:a}),r.jsx("button",{type:"button",className:"text-xs font-semibold text-rose-800 underline",onClick:()=>o(),children:"Retry"})]})}):E.length===0?r.jsxs("div",{className:"rounded-lg border border-dashed border-slate-300 bg-slate-50 p-6 text-sm text-slate-700",children:[r.jsx("p",{className:"font-semibold text-slate-900",children:"No incidents match the current filters."}),r.jsx("p",{className:"text-slate-600",children:"Try adjusting filters or create a new incident to get started."})]}):r.jsx(OF,{incidents:E,onSelect:C});return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-slate-900",children:"Incidents"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Log, investigate and resolve personal data breaches."})]}),r.jsx($F,{onNew:S})]}),r.jsx(EF,{search:h,severity:b,status:x,onSearch:y,onSeverityChange:g,onStatusChange:m}),I(),r.jsx(VF,{incident:p,isOpen:!!p,mode:j,onClose:()=>{w(null),k("view")},onSave:N,isLoading:s,isSaving:n,onStatusChange:T})]})},ZF=["customer_data","employee_data","marketing","website_analytics","it_security","other"],JF=({search:e,category:t,owner:s,owners:n,onSearch:a,onCategoryChange:o,onOwnerChange:i})=>r.jsxs("div",{className:"flex flex-col gap-3 rounded-xl border border-slate-200 bg-white p-4 shadow-sm md:flex-row md:items-center md:justify-between",children:[r.jsx("input",{type:"text",value:e,onChange:l=>a(l.target.value),placeholder:"Search processing activities...",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100"}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:t,onChange:l=>o(l.target.value),children:[r.jsx("option",{value:"all",children:"All categories"}),ZF.map(l=>r.jsx("option",{value:l,children:l.replace("_"," ")},l))]}),r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:s,onChange:l=>i(l.target.value==="all"?"all":l.target.value),children:[r.jsx("option",{value:"all",children:"All owners"}),n.map(l=>r.jsx("option",{value:l,children:l},l))]})]})]}),e6=e=>{const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},t6=({record:e,onClick:t})=>r.jsxs("tr",{className:"cursor-pointer border-b last:border-0 hover:bg-slate-50 focus-within:bg-slate-50",tabIndex:0,role:"button",onClick:t,onKeyDown:s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),t())},children:[r.jsx("td",{className:"py-3 pr-4 font-semibold text-foreground",children:e.name}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:e.systemName}),r.jsx("td",{className:"py-3 pr-4 text-foreground capitalize",children:e.processingCategory.replace("_"," ")}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:e.owner}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:e.legalBasis}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:e6(e.lastUpdated)})]}),s6=({records:e,onSelect:t,isLoading:s,isError:n})=>s?r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading records..."}):n?r.jsx("p",{className:"text-sm text-red-600",children:"Failed to load records."}):e.length===0?r.jsx("p",{className:"text-sm text-muted-foreground",children:"No records found for the selected filters."}):r.jsx("div",{className:"overflow-auto rounded-lg border border-slate-200 bg-white shadow-sm",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b bg-slate-50 text-left text-slate-500",children:[r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Name"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"System"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Category"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Owner"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Legal basis"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Last updated"})]})}),r.jsx("tbody",{children:e.map(a=>r.jsx(t6,{record:a,onClick:()=>t(a)},a.id))})]})}),n6=["customer_data","employee_data","marketing","website_analytics","it_security","other"],r6=({record:e,isOpen:t,mode:s,onClose:n,onSave:a,isLoading:o=!1,isSaving:i=!1})=>{const[l,u]=P.useState(e),[c,d]=P.useState({}),f=P.useRef(null);if(P.useEffect(()=>{t&&(u(e),d({}))},[e,t]),P.useEffect(()=>{var w;if(!t)return;const m=j=>{if(j.key==="Escape"&&n(),j.key==="Tab"&&f.current){const k=f.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(k.length===0)return;const E=k[0],C=k[k.length-1];!j.shiftKey&&document.activeElement===C?(j.preventDefault(),E.focus()):j.shiftKey&&document.activeElement===E&&(j.preventDefault(),C.focus())}};document.addEventListener("keydown",m);const p=(w=f.current)==null?void 0:w.querySelector("input, select, textarea, button");return p==null||p.focus(),()=>document.removeEventListener("keydown",m)},[t,n]),!t||!l)return null;const h=s==="create"||s==="edit",y=(m,p)=>{u(w=>w&&{...w,[m]:p})},b=()=>{const m={};return l.name.trim()||(m.name="Name is required."),l.systemName.trim()||(m.systemName="System name is required."),l.purpose.trim()||(m.purpose="Purpose is required."),d(m),Object.keys(m).length===0},g=()=>{b()&&a(l,s==="create"?"create":"edit")},x=m=>{m.target===m.currentTarget&&n()};return r.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/30 backdrop-blur-sm",onMouseDown:x,children:r.jsxs("div",{className:"flex h-full w-full max-w-2xl flex-col overflow-y-auto bg-white shadow-2xl",ref:f,children:[r.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-5 py-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:s==="create"?"New processing activity":l.name||"Processing activity"}),r.jsx("p",{className:"text-sm text-slate-600",children:l.systemName})]}),r.jsx("button",{type:"button",onClick:n,className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:r.jsx(Ee,{className:"h-5 w-5"})})]}),r.jsxs("div",{className:"space-y-4 p-5",children:[o&&r.jsx("p",{className:"text-sm text-slate-500",children:"Loading processing activity..."}),r.jsxs("div",{className:"space-y-3 rounded-lg border border-slate-200 bg-white p-4",children:[r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Name"}),r.jsx("input",{type:"text",value:l.name,onChange:m=>y("name",m.target.value),disabled:!h||i,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),c.name&&r.jsx("p",{className:"text-xs text-rose-600",children:c.name})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"System name"}),r.jsx("input",{type:"text",value:l.systemName,onChange:m=>y("systemName",m.target.value),disabled:!h||i,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),c.systemName&&r.jsx("p",{className:"text-xs text-rose-600",children:c.systemName})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-3",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Owner"}),r.jsx("input",{type:"text",value:l.owner,onChange:m=>y("owner",m.target.value),disabled:!h||i,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Processing category"}),r.jsx("select",{value:l.processingCategory,onChange:m=>y("processingCategory",m.target.value),disabled:!h||i,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:n6.map(m=>r.jsx("option",{value:m,children:m.replace("_"," ")},m))})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Legal basis"}),r.jsx("input",{type:"text",value:l.legalBasis,onChange:m=>y("legalBasis",m.target.value),disabled:!h||i,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Purpose"}),r.jsx("textarea",{value:l.purpose,onChange:m=>y("purpose",m.target.value),disabled:!h,className:"min-h-[70px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),c.purpose&&r.jsx("p",{className:"text-xs text-rose-600",children:c.purpose})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Data subjects"}),r.jsx("textarea",{value:l.dataSubjects,onChange:m=>y("dataSubjects",m.target.value),disabled:!h||i,className:"min-h-[70px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Data categories"}),r.jsx("textarea",{value:l.dataCategories,onChange:m=>y("dataCategories",m.target.value),disabled:!h||i,className:"min-h-[70px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Recipients"}),r.jsx("textarea",{value:l.recipients,onChange:m=>y("recipients",m.target.value),disabled:!h||i,className:"min-h-[60px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Transfers outside EU"}),r.jsx("textarea",{value:l.transfersOutsideEU,onChange:m=>y("transfersOutsideEU",m.target.value),disabled:!h||i,className:"min-h-[60px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Retention period"}),r.jsx("textarea",{value:l.retentionPeriod,onChange:m=>y("retentionPeriod",m.target.value),disabled:!h||i,className:"min-h-[60px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Security measures"}),r.jsx("textarea",{value:l.securityMeasures,onChange:m=>y("securityMeasures",m.target.value),disabled:!h||i,className:"min-h-[60px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]})]}),s!=="create"&&r.jsxs("div",{className:"grid grid-cols-1 gap-3 rounded-lg border border-slate-200 bg-slate-50 p-4 text-sm text-slate-700 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-800",children:"Created"}),r.jsx("p",{children:new Date(l.createdAt).toLocaleString()})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-800",children:"Last updated"}),r.jsx("p",{children:new Date(l.lastUpdated).toLocaleString()})]})]})]})]}),r.jsx("div",{className:"sticky bottom-0 border-t border-slate-200 bg-white p-4",children:r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[s!=="create"&&l.id&&r.jsx(Xr,{resourceType:"ropa",resourceId:l.id}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(U,{variant:"outline",onClick:n,children:"Cancel"}),h&&r.jsx(U,{onClick:g,disabled:i,children:i?"Saving...":s==="create"?"Create record":"Save changes"})]})]})})]})})},a6=({onNew:e})=>r.jsxs(U,{className:"inline-flex items-center gap-2",onClick:e,children:[r.jsx(Ul,{className:"h-4 w-4"}),"New processing activity"]}),Ls=e=>({...e,id:(e==null?void 0:e.id)??(e==null?void 0:e._id)??(e==null?void 0:e.ropa_id)??"",createdAt:(e==null?void 0:e.createdAt)??(e==null?void 0:e.created_at)??"",lastUpdated:(e==null?void 0:e.lastUpdated)??(e==null?void 0:e.last_updated)??(e==null?void 0:e.updated_at)??(e==null?void 0:e.updatedAt)??""}),o6=e=>{if(Array.isArray(e))return e.map(Ls);const t=e;return Array.isArray(t==null?void 0:t.items)?t.items.map(Ls):Array.isArray(t==null?void 0:t.records)?t.records.map(Ls):Array.isArray(t==null?void 0:t.ropa)?t.ropa.map(Ls):[]};async function i6(){const e=await H.get("/api/ropa");return o6(e.data)}async function l6(e){const t=await H.get(`/api/ropa/${e}`);return Ls(t.data)}async function c6(e){const t=await H.post("/api/ropa",e);return Ls(t.data)}async function u6(e,t){const s=await H.put(`/api/ropa/${e}`,t);return Ls(s.data)}async function d6(e,t){const s=await H.patch(`/api/ropa/${e}`,t);return Ls(s.data)}function f6(){const[e,t]=v.useState([]),[s,n]=v.useState(!1),[a,o]=v.useState(!1),[i,l]=v.useState(!1),[u,c]=v.useState(null),d=v.useRef(!0);v.useEffect(()=>()=>{d.current=!1},[]);const f=v.useCallback(async()=>{n(!0),c(null);try{const x=await i6();d.current&&t(x)}catch(x){d.current&&c((x==null?void 0:x.message)??"Failed to load ROPA records.")}finally{d.current&&n(!1)}},[]);v.useEffect(()=>{f()},[f]);const h=v.useCallback(async x=>{o(!0);try{const m=await l6(x);return d.current&&t(p=>p.map(w=>w.id===m.id?m:w)),m}finally{d.current&&o(!1)}},[]),y=v.useCallback(async x=>{l(!0);try{const m=await c6(x);return d.current&&t(p=>[m,...p]),m}finally{d.current&&l(!1)}},[]),b=v.useCallback(async(x,m)=>{l(!0);try{const p=await u6(x,m);return d.current&&t(w=>w.map(j=>j.id===p.id?p:j)),p}finally{d.current&&l(!1)}},[]),g=v.useCallback(async(x,m)=>{const p=await d6(x,m);return d.current&&t(w=>w.map(j=>j.id===p.id?p:j)),p},[]);return{records:e,loading:s,detailLoading:a,saving:i,error:u,refresh:f,fetchOne:h,create:y,update:b,patch:g}}const p6=()=>{const{records:e,loading:t,detailLoading:s,saving:n,error:a,refresh:o,create:i,update:l,fetchOne:u}=f6(),[c,d]=P.useState(""),[f,h]=P.useState("all"),[y,b]=P.useState("all"),[g,x]=P.useState(null),[m,p]=P.useState("view"),w=P.useMemo(()=>Array.from(new Set(e.map(N=>N.owner))),[e]),j=P.useMemo(()=>e.filter(N=>{const S=N.name.toLowerCase().includes(c.toLowerCase())||N.systemName.toLowerCase().includes(c.toLowerCase()),T=f==="all"?!0:N.processingCategory===f,I=y==="all"?!0:N.owner===y;return S&&T&&I}),[e,c,f,y]),k=N=>{x(N),p("view"),N.id&&u(N.id).then(S=>x(S)).catch(()=>{})},E=async(N,S)=>{if(S==="create"){const{id:T,...I}=N;await i(I)}else N.id&&await l(N.id,N);await o(),x(null),p("view")},C=()=>{const N=new Date().toISOString();x({id:"",name:"",systemName:"",owner:"",purpose:"",legalBasis:"",processingCategory:"other",dataSubjects:"",dataCategories:"",recipients:"",transfersOutsideEU:"",retentionPeriod:"",securityMeasures:"",createdAt:N,lastUpdated:N}),p("create")};return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-slate-900",children:"Records of Processing Activities (ROPA)"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Maintain an overview of all personal data processing activities."})]}),r.jsx(a6,{onNew:C})]}),r.jsx(JF,{search:c,category:f,owner:y,owners:w,onSearch:d,onCategoryChange:h,onOwnerChange:b}),r.jsx(s6,{records:j,onSelect:k,isLoading:t,isError:!!a}),a&&r.jsx("p",{className:"text-sm text-rose-600",children:a}),r.jsx(r6,{record:g,isOpen:!!g,mode:m,onClose:()=>x(null),onSave:E,isLoading:s,isSaving:n})]})},m6=["access_control","encryption","logging_monitoring","network_security","backup_recovery","organizational_policies","data_minimization","vendor_management","other"],h6=({search:e,category:t,effectiveness:s,onSearch:n,onCategoryChange:a,onEffectivenessChange:o})=>r.jsxs("div",{className:"flex flex-col gap-3 rounded-xl border border-slate-200 bg-white p-4 shadow-sm md:flex-row md:items-center md:justify-between",children:[r.jsx("input",{type:"text",value:e,onChange:i=>n(i.target.value),placeholder:"Search TOMs...",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100"}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:t,onChange:i=>a(i.target.value),children:[r.jsx("option",{value:"all",children:"All categories"}),m6.map(i=>r.jsx("option",{value:i,children:i.replace("_"," ")},i))]}),r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:s,onChange:i=>o(i.target.value),children:[r.jsx("option",{value:"all",children:"All effectiveness"}),r.jsx("option",{value:"low",children:"Low"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"high",children:"High"})]})]})]}),x6={access_control:"Access control",encryption:"Encryption",logging_monitoring:"Logging & monitoring",network_security:"Network security",backup_recovery:"Backup & recovery",organizational_policies:"Organizational policies",data_minimization:"Data minimization",vendor_management:"Vendor management",other:"Other"},g6={access_control:"bg-slate-100 text-slate-700 border-slate-200",encryption:"bg-emerald-50 text-emerald-700 border-emerald-200",logging_monitoring:"bg-sky-50 text-sky-700 border-sky-200",network_security:"bg-indigo-50 text-indigo-700 border-indigo-200",backup_recovery:"bg-amber-50 text-amber-700 border-amber-200",organizational_policies:"bg-purple-50 text-purple-700 border-purple-200",data_minimization:"bg-teal-50 text-teal-700 border-teal-200",vendor_management:"bg-rose-50 text-rose-700 border-rose-200",other:"bg-slate-100 text-slate-700 border-slate-200"},y6=({category:e})=>r.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-semibold ${g6[e]}`,children:x6[e]}),v6=e=>{const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},b6={low:"text-slate-600",medium:"text-amber-600",high:"text-emerald-700"},w6=({tom:e,onClick:t})=>r.jsxs("tr",{className:"cursor-pointer border-b last:border-0 hover:bg-slate-50 focus-within:bg-slate-50",tabIndex:0,role:"button",onClick:t,onKeyDown:s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),t())},children:[r.jsx("td",{className:"py-3 pr-4 font-semibold text-foreground",children:e.name}),r.jsx("td",{className:"py-3 pr-4",children:r.jsx(y6,{category:e.category})}),r.jsx("td",{className:`py-3 pr-4 font-semibold ${b6[e.effectiveness]}`,children:e.effectiveness}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:e.owner}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:v6(e.lastUpdated)})]}),j6=({toms:e,onSelect:t,isLoading:s,isError:n})=>s?r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading measures..."}):n?r.jsx("p",{className:"text-sm text-red-600",children:"Failed to load measures."}):e.length===0?r.jsx("p",{className:"text-sm text-muted-foreground",children:"No measures found for the selected filters."}):r.jsx("div",{className:"overflow-auto rounded-lg border border-slate-200 bg-white shadow-sm",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b bg-slate-50 text-left text-slate-500",children:[r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Name"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Category"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Effectiveness"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Owner"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Last updated"})]})}),r.jsx("tbody",{children:e.map(a=>r.jsx(w6,{tom:a,onClick:()=>t(a)},a.id))})]})}),N6=["access_control","encryption","logging_monitoring","network_security","backup_recovery","organizational_policies","data_minimization","vendor_management","other"],k6=["low","medium","high"],S6=({tom:e,isOpen:t,mode:s,isLoading:n,isSaving:a,onClose:o,onSave:i})=>{const[l,u]=P.useState(e),[c,d]=P.useState({}),f=P.useRef(null);if(P.useEffect(()=>{t&&(u(e),d({}))},[e,t]),P.useEffect(()=>{var j;if(!t)return;const p=k=>{if(k.key==="Escape"&&o(),k.key==="Tab"&&f.current){const E=f.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(E.length===0)return;const C=E[0],N=E[E.length-1];!k.shiftKey&&document.activeElement===N?(k.preventDefault(),C.focus()):k.shiftKey&&document.activeElement===C&&(k.preventDefault(),N.focus())}};document.addEventListener("keydown",p);const w=(j=f.current)==null?void 0:j.querySelector("input, select, textarea, button");return w==null||w.focus(),()=>document.removeEventListener("keydown",p)},[t,o]),!t||!l&&!n)return null;const h=(s==="create"||s==="edit")&&!n,y=!!(n||a),b=(p,w)=>{u(j=>j&&{...j,[p]:w})},g=()=>{const p={};return l.name.trim()||(p.name="Name is required."),l.category||(p.category="Category is required."),l.description.trim()||(p.description="Description is required."),d(p),Object.keys(p).length===0},x=async()=>{g()&&await i(l,s==="create"?"create":"edit")},m=p=>{p.target===p.currentTarget&&o()};return!l&&n?r.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/30 backdrop-blur-sm",onMouseDown:m,children:r.jsxs("div",{className:"flex h-full w-full max-w-2xl flex-col overflow-y-auto bg-white shadow-2xl",ref:f,children:[r.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-5 py-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Technical measure"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Loading measure..."})]}),r.jsx("button",{type:"button",onClick:o,className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:r.jsx(Ee,{className:"h-5 w-5"})})]}),r.jsx("div",{className:"p-5 text-sm text-slate-600",children:"Loading measure..."})]})}):r.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/30 backdrop-blur-sm",onMouseDown:m,children:r.jsxs("div",{className:"flex h-full w-full max-w-2xl flex-col overflow-y-auto bg-white shadow-2xl",ref:f,children:[r.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-5 py-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:s==="create"?"New TOM":l.name||"Technical measure"}),r.jsx("p",{className:"text-sm text-slate-600",children:l.category.replace("_"," ")})]}),r.jsx("button",{type:"button",onClick:o,className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:r.jsx(Ee,{className:"h-5 w-5"})})]}),n&&l&&r.jsx("div",{className:"px-5 py-2 text-sm text-slate-600",children:"Loading measure..."}),r.jsx("div",{className:"space-y-4 p-5",children:r.jsxs("div",{className:"space-y-3 rounded-lg border border-slate-200 bg-white p-4",children:[r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Name"}),r.jsx("input",{type:"text",value:l.name,onChange:p=>b("name",p.target.value),disabled:!h||y,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),c.name&&r.jsx("p",{className:"text-xs text-rose-600",children:c.name})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Category"}),r.jsx("select",{value:l.category,onChange:p=>b("category",p.target.value),disabled:!h||y,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:N6.map(p=>r.jsx("option",{value:p,children:p.replace("_"," ")},p))}),c.category&&r.jsx("p",{className:"text-xs text-rose-600",children:c.category})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Owner"}),r.jsx("input",{type:"text",value:l.owner,onChange:p=>b("owner",p.target.value),disabled:!h||y,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Effectiveness"}),r.jsx("select",{value:l.effectiveness,onChange:p=>b("effectiveness",p.target.value),disabled:!h||y,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:k6.map(p=>r.jsx("option",{value:p,children:p},p))})]})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Description"}),r.jsx("textarea",{value:l.description,onChange:p=>b("description",p.target.value),disabled:!h||y,className:"min-h-[90px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),c.description&&r.jsx("p",{className:"text-xs text-rose-600",children:c.description})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Implementation"}),r.jsx("textarea",{value:l.implementation,onChange:p=>b("implementation",p.target.value),disabled:!h||y,className:"min-h-[90px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),s!=="create"&&r.jsxs("div",{className:"grid grid-cols-1 gap-3 rounded-lg border border-slate-200 bg-slate-50 p-4 text-sm text-slate-700 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-800",children:"Created"}),r.jsx("p",{children:new Date(l.createdAt).toLocaleString()})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-800",children:"Last updated"}),r.jsx("p",{children:new Date(l.lastUpdated).toLocaleString()})]})]})]})}),r.jsx("div",{className:"sticky bottom-0 border-t border-slate-200 bg-white p-4",children:r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(U,{variant:"outline",onClick:o,disabled:y,children:"Cancel"}),h&&r.jsx(U,{onClick:x,disabled:y,children:a?"Saving...":s==="create"?"Create measure":"Save changes"})]})})]})})},C6=({onNew:e})=>r.jsxs(U,{className:"inline-flex items-center gap-2",onClick:e,children:[r.jsx(Ja,{className:"h-4 w-4"}),"New TOM"]}),E6=e=>["access_control","encryption","logging_monitoring","network_security","backup_recovery","organizational_policies","data_minimization","vendor_management","other"].includes(e)?e:"other",P6=e=>["low","medium","high"].includes(e)?e:"medium",Pn=e=>{const t=(e==null?void 0:e.createdAt)??(e==null?void 0:e.created_at)??new Date().toISOString(),s=(e==null?void 0:e.lastUpdated)??(e==null?void 0:e.last_updated)??(e==null?void 0:e.updated_at)??(e==null?void 0:e.updatedAt)??t;return{id:(e==null?void 0:e.id)??(e==null?void 0:e._id)??"",name:(e==null?void 0:e.name)??"",category:E6(e==null?void 0:e.category),description:(e==null?void 0:e.description)??"",implementation:(e==null?void 0:e.implementation)??"",effectiveness:P6(e==null?void 0:e.effectiveness),owner:(e==null?void 0:e.owner)??"",createdAt:t,lastUpdated:s}},T6=e=>{if(Array.isArray(e))return e.map(Pn);const t=e;return Array.isArray(t==null?void 0:t.items)?t.items.map(Pn):Array.isArray(t==null?void 0:t.toms)?t.toms.map(Pn):[]};async function A6(){const e=await H.get("/api/toms");return T6(e.data)}async function R6(e){const t=await H.get(`/api/toms/${e}`);return Pn(t.data)}async function D6(e){const t=await H.post("/api/toms",e);return Pn(t.data)}async function M6(e,t){const s=await H.put(`/api/toms/${e}`,t);return Pn(s.data)}async function _6(e,t){const s=await H.patch(`/api/toms/${e}`,t);return Pn(s.data)}function L6(){const[e,t]=v.useState([]),[s,n]=v.useState(!1),[a,o]=v.useState(!1),[i,l]=v.useState(!1),[u,c]=v.useState(null),d=v.useRef(!0);v.useEffect(()=>()=>{d.current=!1},[]);const f=v.useCallback(async()=>{n(!0),c(null);try{const x=await A6();d.current&&t(x)}catch(x){d.current&&c((x==null?void 0:x.message)??"Failed to load TOMs.")}finally{d.current&&n(!1)}},[]);v.useEffect(()=>{f()},[f]);const h=v.useCallback(async x=>{o(!0);try{const m=await R6(x);return d.current&&t(p=>p.some(j=>j.id===m.id)?p.map(j=>j.id===m.id?m:j):[m,...p]),m}finally{d.current&&o(!1)}},[]),y=v.useCallback(async x=>{l(!0),c(null);try{const m=await D6(x);return d.current&&t(p=>[m,...p]),m}catch(m){throw d.current&&c((m==null?void 0:m.message)??"Failed to create TOM."),m}finally{d.current&&l(!1)}},[]),b=v.useCallback(async(x,m)=>{l(!0),c(null);try{const p=await M6(x,m);return d.current&&t(w=>w.map(j=>j.id===p.id?p:j)),p}catch(p){throw d.current&&c((p==null?void 0:p.message)??"Failed to update TOM."),p}finally{d.current&&l(!1)}},[]),g=v.useCallback(async(x,m)=>{l(!0),c(null);try{const p=await _6(x,m);return d.current&&t(w=>w.map(j=>j.id===p.id?p:j)),p}catch(p){throw d.current&&c((p==null?void 0:p.message)??"Failed to update TOM."),p}finally{d.current&&l(!1)}},[]);return{toms:e,loading:s,detailLoading:a,saving:i,error:u,refresh:f,fetchOne:h,create:y,update:b,patch:g}}const O6=()=>{const{toms:e,loading:t,detailLoading:s,saving:n,error:a,refresh:o,fetchOne:i,create:l,update:u}=L6(),[c,d]=P.useState(""),[f,h]=P.useState("all"),[y,b]=P.useState("all"),[g,x]=P.useState(null),[m,p]=P.useState("view"),w=P.useMemo(()=>e.filter(N=>{const S=N.name.toLowerCase().includes(c.toLowerCase()),T=f==="all"?!0:N.category===f,I=y==="all"?!0:N.effectiveness===y;return S&&T&&I}),[e,c,f,y]),j=N=>{x(N),p("edit"),N.id&&i(N.id).then(S=>x(S)).catch(()=>{})},k=async(N,S)=>{try{if(S==="create"){const{id:T,...I}=N;await l(I)}else N.id&&await u(N.id,N);await o(),x(null),p("view")}catch{}},E=()=>{const N=new Date().toISOString();x({id:"",name:"",category:"other",description:"",implementation:"",effectiveness:"medium",owner:"You",createdAt:N,lastUpdated:N}),p("create")},C=()=>t?r.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((N,S)=>r.jsx(qs,{className:"h-20 w-full rounded-lg bg-slate-100"},S))}):a?r.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 p-4 text-sm text-rose-700",children:r.jsxs("div",{className:"flex items-center justify-between gap-3",children:[r.jsx("p",{children:a}),r.jsx("button",{type:"button",className:"text-xs font-semibold text-rose-800 underline",onClick:()=>o(),children:"Retry"})]})}):w.length===0?r.jsxs("div",{className:"rounded-lg border border-dashed border-slate-300 bg-slate-50 p-6 text-sm text-slate-700",children:[r.jsx("p",{className:"font-semibold text-slate-900",children:"No measures match the current filters."}),r.jsx("p",{className:"text-slate-600",children:"Try adjusting filters or create a new TOM."})]}):r.jsx(j6,{toms:w,onSelect:j});return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-slate-900",children:"Technical & Organisational Measures (TOMs)"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Document the security measures used to protect personal data."})]}),r.jsx(C6,{onNew:E})]}),r.jsx(h6,{search:c,category:f,effectiveness:y,onSearch:d,onCategoryChange:h,onEffectivenessChange:b}),C(),r.jsx(S6,{tom:g,isOpen:!!g,mode:m,onClose:()=>{x(null),p("view")},onSave:k,isLoading:s,isSaving:n})]})},I6={necessary:"bg-emerald-50 text-emerald-700 border-emerald-200",preferences:"bg-sky-50 text-sky-700 border-sky-200",analytics:"bg-amber-50 text-amber-700 border-amber-200",marketing:"bg-rose-50 text-rose-700 border-rose-200",unclassified:"bg-slate-100 text-slate-700 border-slate-200"},F6={necessary:"Necessary",preferences:"Preferences",analytics:"Analytics",marketing:"Marketing",unclassified:"Unclassified"},V6=({category:e})=>r.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-semibold ${I6[e]}`,children:F6[e]}),$6=e=>{const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},B6=({cookie:e,onClick:t})=>r.jsxs("tr",{className:"cursor-pointer border-b last:border-0 hover:bg-slate-50 focus-within:bg-slate-50",tabIndex:0,role:"button",onClick:t,onKeyDown:s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),t())},children:[r.jsx("td",{className:"py-3 pr-4 font-semibold text-foreground",children:e.name}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:e.domain}),r.jsx("td",{className:"py-3 pr-4",children:r.jsx(V6,{category:e.category})}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:e.duration}),r.jsx("td",{className:"py-3 pr-4 text-foreground capitalize",children:e.type.replace("_","-")}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:e.provider}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:$6(e.lastUpdated)})]}),U6=({cookies:e,onSelect:t,isLoading:s,isError:n})=>s?r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading cookies..."}):n?r.jsx("p",{className:"text-sm text-red-600",children:"Failed to load cookies."}):e.length===0?r.jsx("p",{className:"text-sm text-muted-foreground",children:"No cookies found for the selected filters."}):r.jsx("div",{className:"overflow-auto rounded-lg border border-slate-200 bg-white shadow-sm",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b bg-slate-50 text-left text-slate-500",children:[r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Name"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Domain"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Category"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Duration"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Type"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Provider"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Last updated"})]})}),r.jsx("tbody",{children:e.map(a=>r.jsx(B6,{cookie:a,onClick:()=>t(a)},a.id))})]})}),z6=["necessary","preferences","analytics","marketing","unclassified"],W6=["manual","scanner","imported"],H6=({search:e,category:t,type:s,source:n,onSearch:a,onCategoryChange:o,onTypeChange:i,onSourceChange:l})=>r.jsxs("div",{className:"flex flex-col gap-3 rounded-xl border border-slate-200 bg-white p-4 shadow-sm md:flex-row md:items-center md:justify-between",children:[r.jsx("input",{type:"text",value:e,onChange:u=>a(u.target.value),placeholder:"Search cookies by name or provider...",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100"}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:t,onChange:u=>o(u.target.value),children:[r.jsx("option",{value:"all",children:"All categories"}),z6.map(u=>r.jsx("option",{value:u,children:u},u))]}),r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:s,onChange:u=>i(u.target.value),children:[r.jsx("option",{value:"all",children:"All types"}),r.jsx("option",{value:"first_party",children:"First-party"}),r.jsx("option",{value:"third_party",children:"Third-party"})]}),r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:n,onChange:u=>l(u.target.value),children:[r.jsx("option",{value:"all",children:"All sources"}),W6.map(u=>r.jsx("option",{value:u,children:u},u))]})]})]}),q6=["necessary","preferences","analytics","marketing","unclassified"],K6=["first_party","third_party"],G6=["manual","scanner","imported"],Y6=({cookie:e,isOpen:t,mode:s,isLoading:n,isSaving:a,onClose:o,onSave:i,onCategoryChange:l,onTypeChange:u})=>{const[c,d]=P.useState(e),[f,h]=P.useState({}),y=P.useRef(null);if(P.useEffect(()=>{t&&(d(e),h({}))},[e,t]),P.useEffect(()=>{var T;if(!t)return;const N=I=>{if(I.key==="Escape"&&o(),I.key==="Tab"&&y.current){const D=y.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(D.length===0)return;const O=D[0],_=D[D.length-1];!I.shiftKey&&document.activeElement===_?(I.preventDefault(),O.focus()):I.shiftKey&&document.activeElement===O&&(I.preventDefault(),_.focus())}};document.addEventListener("keydown",N);const S=(T=y.current)==null?void 0:T.querySelector("input, select, textarea, button");return S==null||S.focus(),()=>document.removeEventListener("keydown",N)},[t,o]),!t||!c&&!n)return null;const b=(s==="create"||s==="edit")&&!n,g=l&&(c==null?void 0:c.id)&&s!=="create",x=u&&(c==null?void 0:c.id)&&s!=="create",m=!!(n||a),p=(N,S)=>{d(T=>T&&{...T,[N]:S})},w=()=>{const N={};return c.name.trim()||(N.name="Name is required."),c.domain.trim()||(N.domain="Domain is required."),c.purpose.trim()||(N.purpose="Purpose is required."),c.category||(N.category="Category is required."),c.type||(N.type="Type is required."),h(N),Object.keys(N).length===0},j=async()=>{w()&&await i(c,s==="create"?"create":"edit")},k=async N=>{p("category",N),g&&(c!=null&&c.id)&&await(l==null?void 0:l(c.id,N))},E=async N=>{p("type",N),x&&(c!=null&&c.id)&&await(u==null?void 0:u(c.id,N))},C=N=>{N.target===N.currentTarget&&o()};return!c&&n?r.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/30 backdrop-blur-sm",onMouseDown:C,children:r.jsxs("div",{className:"flex h-full w-full max-w-2xl flex-col overflow-y-auto bg-white shadow-2xl",ref:y,children:[r.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-5 py-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Cookie"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Loading cookie..."})]}),r.jsx("button",{type:"button",onClick:o,className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:r.jsx(Ee,{className:"h-5 w-5"})})]}),r.jsx("div",{className:"p-5 text-sm text-slate-600",children:"Loading cookie..."})]})}):r.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/30 backdrop-blur-sm",onMouseDown:C,children:r.jsxs("div",{className:"flex h-full w-full max-w-2xl flex-col overflow-y-auto bg-white shadow-2xl",ref:y,children:[r.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-5 py-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:s==="create"?"New cookie":c.name}),r.jsx("p",{className:"text-sm text-slate-600",children:c.domain})]}),r.jsx("button",{type:"button",onClick:o,className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:r.jsx(Ee,{className:"h-5 w-5"})})]}),n&&c&&r.jsx("div",{className:"px-5 py-2 text-sm text-slate-600",children:"Loading cookie..."}),r.jsx("div",{className:"space-y-4 p-5",children:r.jsxs("div",{className:"space-y-3 rounded-lg border border-slate-200 bg-white p-4",children:[r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Name"}),r.jsx("input",{type:"text",value:c.name,onChange:N=>p("name",N.target.value),disabled:!b||m,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),f.name&&r.jsx("p",{className:"text-xs text-rose-600",children:f.name})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Domain"}),r.jsx("input",{type:"text",value:c.domain,onChange:N=>p("domain",N.target.value),disabled:!b||m,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),f.domain&&r.jsx("p",{className:"text-xs text-rose-600",children:f.domain})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-3",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Category"}),r.jsx("select",{value:c.category,onChange:N=>k(N.target.value),disabled:!b&&!g||m,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:q6.map(N=>r.jsx("option",{value:N,children:N},N))}),f.category&&r.jsx("p",{className:"text-xs text-rose-600",children:f.category})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Type"}),r.jsx("select",{value:c.type,onChange:N=>E(N.target.value),disabled:!b&&!x||m,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:K6.map(N=>r.jsx("option",{value:N,children:N.replace("_"," ")},N))}),f.type&&r.jsx("p",{className:"text-xs text-rose-600",children:f.type})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Source"}),r.jsx("select",{value:c.source,onChange:N=>p("source",N.target.value),disabled:!b||m,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:G6.map(N=>r.jsx("option",{value:N,children:N},N))})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Provider"}),r.jsx("input",{type:"text",value:c.provider,onChange:N=>p("provider",N.target.value),disabled:!b||m,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Duration"}),r.jsx("input",{type:"text",value:c.duration,onChange:N=>p("duration",N.target.value),disabled:!b||m,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",placeholder:"e.g. 2 years"})]})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Purpose"}),r.jsx("textarea",{value:c.purpose,onChange:N=>p("purpose",N.target.value),disabled:!b||m,className:"min-h-[90px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),f.purpose&&r.jsx("p",{className:"text-xs text-rose-600",children:f.purpose})]}),s!=="create"&&r.jsxs("div",{className:"grid grid-cols-1 gap-3 rounded-lg border border-slate-200 bg-slate-50 p-4 text-sm text-slate-700 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-800",children:"Created"}),r.jsx("p",{children:new Date(c.createdAt).toLocaleString()})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-800",children:"Last updated"}),r.jsx("p",{children:new Date(c.lastUpdated).toLocaleString()})]})]})]})}),r.jsx("div",{className:"sticky bottom-0 border-t border-slate-200 bg-white p-4",children:r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(U,{variant:"outline",onClick:o,disabled:m,children:"Cancel"}),b&&r.jsx(U,{onClick:j,disabled:m,children:a?"Saving...":s==="create"?"Create cookie":"Save changes"})]})})]})})},X6=({onNew:e})=>r.jsxs(U,{className:"inline-flex items-center gap-2",onClick:e,children:[r.jsx(zl,{className:"h-4 w-4"}),"New cookie"]}),Q6=e=>["necessary","preferences","analytics","marketing","unclassified"].includes(e)?e:"unclassified",Z6=e=>["first_party","third_party"].includes(e)?e:"first_party",Tn=e=>{const t=(e==null?void 0:e.createdAt)??(e==null?void 0:e.created_at)??new Date().toISOString(),s=(e==null?void 0:e.lastUpdated)??(e==null?void 0:e.last_updated)??(e==null?void 0:e.updated_at)??(e==null?void 0:e.updatedAt)??t;return{id:(e==null?void 0:e.id)??(e==null?void 0:e._id)??"",name:(e==null?void 0:e.name)??"",domain:(e==null?void 0:e.domain)??"",duration:(e==null?void 0:e.duration)??(e==null?void 0:e.retention)??"",category:Q6(e==null?void 0:e.category),purpose:(e==null?void 0:e.purpose)??"",provider:(e==null?void 0:e.provider)??"",type:Z6(e==null?void 0:e.type),source:(e==null?void 0:e.source)??"manual",createdAt:t,lastUpdated:s}},J6=e=>{if(Array.isArray(e))return e.map(Tn);const t=e;return Array.isArray(t==null?void 0:t.items)?t.items.map(Tn):Array.isArray(t==null?void 0:t.cookies)?t.cookies.map(Tn):[]};async function e7(){return`
This is a mock AI-generated cookie policy in English.
It will later include your cookie inventory, purposes, categories and retention periods.
Please review and adapt before publishing.
`}async function t7(){const e=await H.get("/api/cookies");return J6(e.data)}async function s7(e){const t=await H.get(`/api/cookies/${e}`);return Tn(t.data)}async function n7(e){const t=await H.post("/api/cookies",e);return Tn(t.data)}async function r7(e,t){const s=await H.put(`/api/cookies/${e}`,t);return Tn(s.data)}async function a7(e,t){const s=await H.patch(`/api/cookies/${e}`,t);return Tn(s.data)}function o7(){const[e,t]=v.useState([]),[s,n]=v.useState(!1),[a,o]=v.useState(!1),[i,l]=v.useState(!1),[u,c]=v.useState(null),d=v.useRef(!0);v.useEffect(()=>()=>{d.current=!1},[]);const f=v.useCallback(async()=>{n(!0),c(null);try{const x=await t7();d.current&&t(x)}catch(x){d.current&&c((x==null?void 0:x.message)??"Failed to load cookies.")}finally{d.current&&n(!1)}},[]);v.useEffect(()=>{f()},[f]);const h=v.useCallback(async x=>{o(!0);try{const m=await s7(x);return d.current&&t(p=>p.some(j=>j.id===m.id)?p.map(j=>j.id===m.id?m:j):[m,...p]),m}finally{d.current&&o(!1)}},[]),y=v.useCallback(async x=>{l(!0),c(null);try{const m=await n7(x);return d.current&&t(p=>[m,...p]),m}catch(m){throw d.current&&c((m==null?void 0:m.message)??"Failed to create cookie."),m}finally{d.current&&l(!1)}},[]),b=v.useCallback(async(x,m)=>{l(!0),c(null);try{const p=await r7(x,m);return d.current&&t(w=>w.map(j=>j.id===p.id?p:j)),p}catch(p){throw d.current&&c((p==null?void 0:p.message)??"Failed to update cookie."),p}finally{d.current&&l(!1)}},[]),g=v.useCallback(async(x,m)=>{l(!0),c(null);try{const p=await a7(x,m);return d.current&&t(w=>w.map(j=>j.id===p.id?p:j)),p}catch(p){throw d.current&&c((p==null?void 0:p.message)??"Failed to update cookie."),p}finally{d.current&&l(!1)}},[]);return{cookies:e,loading:s,detailLoading:a,saving:i,error:u,refresh:f,fetchOne:h,create:y,update:b,patch:g}}const i7=()=>{const{cookies:e,loading:t,detailLoading:s,saving:n,error:a,refresh:o,fetchOne:i,create:l,update:u,patch:c}=o7(),[d,f]=P.useState(""),[h,y]=P.useState("all"),[b,g]=P.useState("all"),[x,m]=P.useState("all"),[p,w]=P.useState(null),[j,k]=P.useState("view"),[E,C]=P.useState(!1),[N,S]=P.useState(""),[T,I]=P.useState(!1),D=P.useMemo(()=>e.filter(L=>{const V=L.name.toLowerCase().includes(d.toLowerCase())||L.provider.toLowerCase().includes(d.toLowerCase()),K=h==="all"?!0:L.category===h,ae=b==="all"?!0:L.type===b,oe=x==="all"?!0:L.source===x;return V&&K&&ae&&oe}),[e,d,h,b,x]),O=L=>{w(L),k("edit"),L.id&&i(L.id).then(V=>w(V)).catch(()=>{})},_=async(L,V)=>{try{if(V==="create"){const{id:K,...ae}=L;await l(ae)}else L.id&&await u(L.id,L);await o(),w(null),k("view")}catch{}},F=()=>{const L=new Date().toISOString();w({id:"",name:"",domain:"",duration:"",category:"unclassified",purpose:"",provider:"",type:"first_party",source:"manual",createdAt:L,lastUpdated:L}),k("create")},$=async(L,V)=>{try{await c(L,{category:V}),await o()}catch{}},q=async(L,V)=>{try{await c(L,{type:V}),await o()}catch{}},R=async()=>{I(!0);const L=await e7();S(L.trim()),C(!0),I(!1)},M=()=>t?r.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((L,V)=>r.jsx(qs,{className:"h-20 w-full rounded-lg bg-slate-100"},V))}):a?r.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 p-4 text-sm text-rose-700",children:r.jsxs("div",{className:"flex items-center justify-between gap-3",children:[r.jsx("p",{children:a}),r.jsx("button",{type:"button",className:"text-xs font-semibold text-rose-800 underline",onClick:()=>o(),children:"Retry"})]})}):D.length===0?r.jsxs("div",{className:"rounded-lg border border-dashed border-slate-300 bg-slate-50 p-6 text-sm text-slate-700",children:[r.jsx("p",{className:"font-semibold text-slate-900",children:"No cookies match the current filters."}),r.jsx("p",{className:"text-slate-600",children:"Adjust filters or create a new cookie entry."})]}):r.jsx(U6,{cookies:D,onSelect:O});return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-slate-900",children:"Cookie compliance"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Manage your cookie inventory and prepare your cookie policy."})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(U,{variant:"outline",onClick:R,disabled:T,children:T?"Generating...":"Generate cookie policy (AI)"}),r.jsx(X6,{onNew:F})]})]}),r.jsx(H6,{search:d,category:h,type:b,source:x,onSearch:f,onCategoryChange:y,onTypeChange:g,onSourceChange:m}),M(),r.jsx(Y6,{cookie:p,isOpen:!!p,mode:j,onClose:()=>{w(null),k("view")},onSave:_,isLoading:s,isSaving:n,onCategoryChange:$,onTypeChange:q}),E&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/30 backdrop-blur-sm",children:r.jsxs("div",{className:"w-full max-w-2xl rounded-xl border border-slate-200 bg-white p-5 shadow-2xl",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"AI-generated cookie policy"}),r.jsx("p",{className:"text-sm text-slate-600",children:"This is a draft. Review before publishing."})]}),r.jsx("button",{type:"button",onClick:()=>C(!1),className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:"X"})]}),r.jsx("pre",{className:"mt-3 max-h-[400px] overflow-auto rounded-md bg-slate-50 p-3 text-sm text-slate-800 whitespace-pre-wrap",children:N}),r.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[r.jsx(U,{variant:"outline",onClick:()=>{navigator.clipboard.writeText(N)},children:"Copy"}),r.jsx(U,{onClick:()=>C(!1),children:"Close"})]})]})})]})},l7={active:"bg-emerald-50 text-emerald-700 border-emerald-200",disabled:"bg-rose-50 text-rose-700 border-rose-200",pending_invite:"bg-amber-50 text-amber-700 border-amber-200"},c7={active:"Active",disabled:"Disabled",pending_invite:"Pending invite"},t1=({status:e})=>r.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-semibold ${l7[e]}`,children:c7[e]}),u7={owner:"bg-purple-50 text-purple-700 border-purple-200",admin:"bg-sky-50 text-sky-700 border-sky-200",editor:"bg-amber-50 text-amber-700 border-amber-200",viewer:"bg-slate-100 text-slate-700 border-slate-200"},d7={owner:"Owner",admin:"Admin",editor:"Editor",viewer:"Viewer"},s1=({role:e})=>r.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-semibold ${u7[e]}`,children:d7[e]}),f7=e=>{if(!e)return"Never";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},p7=({user:e,onClick:t})=>r.jsxs("tr",{className:"cursor-pointer border-b last:border-0 hover:bg-slate-50 focus-within:bg-slate-50",tabIndex:0,role:"button",onClick:t,onKeyDown:s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),t())},children:[r.jsx("td",{className:"py-3 pr-4 font-semibold text-foreground",children:e.name}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:e.email}),r.jsx("td",{className:"py-3 pr-4",children:r.jsx(s1,{role:e.role})}),r.jsx("td",{className:"py-3 pr-4",children:r.jsx(t1,{status:e.status})}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:f7(e.lastLogin)})]}),m7=({users:e,onSelect:t,isLoading:s,isError:n})=>s?r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading users..."}):n?r.jsx("p",{className:"text-sm text-red-600",children:"Failed to load users."}):e.length===0?r.jsx("p",{className:"text-sm text-muted-foreground",children:"No users found for the selected filters."}):r.jsx("div",{className:"overflow-auto rounded-lg border border-slate-200 bg-white shadow-sm",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b bg-slate-50 text-left text-slate-500",children:[r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Name"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Email"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Role"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Status"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Last login"})]})}),r.jsx("tbody",{children:e.map(a=>r.jsx(p7,{user:a,onClick:()=>t(a)},a.id))})]})}),h7=["owner","admin","editor","viewer"],x7=["active","pending_invite","disabled"],g7=({search:e,role:t,status:s,onSearch:n,onRoleChange:a,onStatusChange:o})=>r.jsxs("div",{className:"flex flex-col gap-3 rounded-xl border border-slate-200 bg-white p-4 shadow-sm md:flex-row md:items-center md:justify-between",children:[r.jsx("input",{type:"text",value:e,onChange:i=>n(i.target.value),placeholder:"Search users by name or email...",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100"}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:t,onChange:i=>a(i.target.value),children:[r.jsx("option",{value:"all",children:"All roles"}),h7.map(i=>r.jsx("option",{value:i,children:i},i))]}),r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:s,onChange:i=>o(i.target.value),children:[r.jsx("option",{value:"all",children:"All statuses"}),x7.map(i=>r.jsx("option",{value:i,children:i.replace("_"," ")},i))]})]})]}),y7=["owner","admin","editor","viewer"],v7=["active","pending_invite","disabled"],b7=({user:e,isOpen:t,mode:s,onClose:n,onSave:a})=>{const[o,i]=P.useState(e),[l,u]=P.useState({}),c=P.useRef(null);if(P.useEffect(()=>{t&&(i(e),u({}))},[e,t]),P.useEffect(()=>{var m;if(!t)return;const g=p=>{if(p.key==="Escape"&&n(),p.key==="Tab"&&c.current){const w=c.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(w.length===0)return;const j=w[0],k=w[w.length-1];!p.shiftKey&&document.activeElement===k?(p.preventDefault(),j.focus()):p.shiftKey&&document.activeElement===j&&(p.preventDefault(),k.focus())}};document.addEventListener("keydown",g);const x=(m=c.current)==null?void 0:m.querySelector("input, select, textarea, button");return x==null||x.focus(),()=>document.removeEventListener("keydown",g)},[t,n]),!t||!o)return null;const d=s==="create"||s==="edit",f=(g,x)=>{i(m=>m&&{...m,[g]:x})},h=()=>{const g={};return o.name.trim()||(g.name="Name is required."),o.email.trim()||(g.email="Email is required."),u(g),Object.keys(g).length===0},y=()=>{h()&&a(o,s==="create"?"create":"edit")},b=g=>{g.target===g.currentTarget&&n()};return r.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/30 backdrop-blur-sm",onMouseDown:b,children:r.jsxs("div",{className:"flex h-full w-full max-w-2xl flex-col overflow-y-auto bg-white shadow-2xl",ref:c,children:[r.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-5 py-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:s==="create"?"New user":o.name||"User"}),r.jsx(s1,{role:o.role}),r.jsx(t1,{status:o.status})]}),r.jsx("p",{className:"text-sm text-slate-600",children:o.email})]}),r.jsx("button",{type:"button",onClick:n,className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:r.jsx(Ee,{className:"h-5 w-5"})})]}),r.jsx("div",{className:"space-y-4 p-5",children:r.jsxs("div",{className:"space-y-3 rounded-lg border border-slate-200 bg-white p-4",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Name"}),r.jsx("input",{type:"text",value:o.name,onChange:g=>f("name",g.target.value),disabled:!d,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),l.name&&r.jsx("p",{className:"text-xs text-rose-600",children:l.name})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Email"}),r.jsx("input",{type:"email",value:o.email,onChange:g=>f("email",g.target.value),disabled:!d,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),l.email&&r.jsx("p",{className:"text-xs text-rose-600",children:l.email})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Role"}),r.jsx("select",{value:o.role,onChange:g=>f("role",g.target.value),disabled:!d,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:y7.map(g=>r.jsx("option",{value:g,children:g},g))})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Status"}),r.jsx("select",{value:o.status,onChange:g=>f("status",g.target.value),disabled:!d,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:v7.map(g=>r.jsx("option",{value:g,children:g.replace("_"," ")},g))})]})]}),s!=="create"&&r.jsxs("div",{className:"grid grid-cols-1 gap-3 rounded-lg border border-slate-200 bg-slate-50 p-4 text-sm text-slate-700 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-800",children:"Created"}),r.jsx("p",{children:new Date(o.createdAt).toLocaleString()})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-800",children:"Last login"}),r.jsx("p",{children:o.lastLogin?new Date(o.lastLogin).toLocaleString():"Never"})]})]})]})}),r.jsx("div",{className:"sticky bottom-0 border-t border-slate-200 bg-white p-4",children:r.jsxs("div",{className:"flex flex-wrap justify-end gap-2",children:[s!=="create"&&r.jsxs(r.Fragment,{children:[o.status==="active"&&r.jsx(U,{variant:"outline",onClick:()=>f("status","disabled"),className:"border-rose-200 text-rose-700 hover:bg-rose-50",children:"Disable user"}),o.status==="disabled"&&r.jsx(U,{variant:"outline",onClick:()=>f("status","active"),children:"Enable user"}),o.status==="pending_invite"&&r.jsxs(r.Fragment,{children:[r.jsx(U,{variant:"outline",onClick:()=>f("status","pending_invite"),children:"Resend invite"}),r.jsx(U,{variant:"outline",onClick:()=>f("status","disabled"),children:"Cancel invite"})]})]}),r.jsx(U,{variant:"outline",onClick:n,children:"Cancel"}),r.jsx(U,{onClick:y,children:s==="create"?"Create user":"Save changes"})]})})]})})},w7=["owner","admin","editor","viewer"],j7=({open:e,onClose:t,onInvite:s})=>{const[n,a]=P.useState(""),[o,i]=P.useState(""),[l,u]=P.useState("viewer"),[c,d]=P.useState({});if(P.useEffect(()=>{e&&(a(""),i(""),u("viewer"),d({}))},[e]),!e)return null;const f=()=>{const y={};return n.trim()||(y.name="Name is required."),o.trim()||(y.email="Email is required."),d(y),Object.keys(y).length===0},h=()=>{f()&&s({name:n.trim(),email:o.trim(),role:l})};return r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/30 backdrop-blur-sm",onClick:t,children:r.jsxs("div",{className:"w-full max-w-md rounded-xl border border-slate-200 bg-white p-5 shadow-2xl",onClick:y=>y.stopPropagation(),children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Invite user"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Send an invite to a new user with a selected role."}),r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsxs("div",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("label",{className:"font-medium",children:"Name"}),r.jsx("input",{type:"text",value:n,onChange:y=>a(y.target.value),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100"}),c.name&&r.jsx("p",{className:"text-xs text-rose-600",children:c.name})]}),r.jsxs("div",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("label",{className:"font-medium",children:"Email"}),r.jsx("input",{type:"email",value:o,onChange:y=>i(y.target.value),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100"}),c.email&&r.jsx("p",{className:"text-xs text-rose-600",children:c.email})]}),r.jsxs("div",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("label",{className:"font-medium",children:"Role"}),r.jsx("select",{value:l,onChange:y=>u(y.target.value),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",children:w7.map(y=>r.jsx("option",{value:y,children:y},y))})]})]}),r.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[r.jsx(U,{variant:"outline",onClick:t,children:"Cancel"}),r.jsx(U,{onClick:h,children:"Send invite"})]})]})})};function N7(){const[e,t]=v.useState([{id:"user_001",name:"Alice Owner",email:"owner@aura.test",role:"owner",status:"active",createdAt:"2025-01-01T09:00:00Z",lastLogin:"2025-05-10T10:00:00Z"},{id:"user_002",name:"Andy Admin",email:"admin@aura.test",role:"admin",status:"active",createdAt:"2025-01-10T09:00:00Z",lastLogin:"2025-05-12T11:00:00Z"},{id:"user_003",name:"Eva Editor",email:"editor@aura.test",role:"editor",status:"active",createdAt:"2025-02-01T08:00:00Z",lastLogin:"2025-05-11T14:00:00Z"},{id:"user_004",name:"Victor Viewer",email:"viewer@aura.test",role:"viewer",status:"active",createdAt:"2025-02-15T10:00:00Z",lastLogin:"2025-05-09T09:30:00Z"},{id:"user_005",name:"Doris Disabled",email:"disabled@aura.test",role:"viewer",status:"disabled",createdAt:"2025-02-20T09:00:00Z",lastLogin:"2025-03-01T12:00:00Z"},{id:"user_006",name:"Peter Pending",email:"pending@aura.test",role:"editor",status:"pending_invite",createdAt:"2025-05-01T09:00:00Z"}]);return{users:e,setUsers:t,isLoading:!1,isError:!1}}const I0={owner:["All permissions"],admin:["Manage users","Manage all GDPR modules","View billing"],editor:["Edit Documents","Edit Policies","Manage DSR"],viewer:["Read-only access"]},k7=()=>{const{users:e,setUsers:t,isLoading:s,isError:n}=N7(),[a,o]=P.useState(""),[i,l]=P.useState("all"),[u,c]=P.useState("all"),[d,f]=P.useState(null),[h,y]=P.useState("view"),[b,g]=P.useState(!1),x=P.useMemo(()=>e.filter(j=>{const k=j.name.toLowerCase().includes(a.toLowerCase())||j.email.toLowerCase().includes(a.toLowerCase()),E=i==="all"?!0:j.role===i,C=u==="all"?!0:j.status===u;return k&&E&&C}),[e,a,i,u]),m=j=>{f(j),y("view")},p=(j,k)=>{const E=new Date().toISOString();t(C=>k==="edit"?C.map(N=>N.id===j.id?{...j,updatedAt:E}:N):[{...j,id:j.id||`user-${Date.now()}`,createdAt:E,lastLogin:void 0},...C]),f(null),y("view")},w=j=>{const k=new Date().toISOString();t(E=>[{id:`user-${Date.now()}`,name:j.name,email:j.email,role:j.role,status:"pending_invite",createdAt:k},...E]),g(!1)};return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-slate-900",children:"Identity & Access Management"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Manage user accounts, roles and permissions."})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx(U,{variant:"outline",onClick:()=>g(!0),children:"Invite user"})})]}),r.jsx(g7,{search:a,role:i,status:u,onSearch:o,onRoleChange:l,onStatusChange:c}),r.jsx(m7,{users:x,onSelect:m,isLoading:s,isError:n}),r.jsxs("div",{className:"space-y-3 rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Roles & Permissions"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Overview of default roles and their permissions."}),r.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:Object.keys(I0).map(j=>r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-900 capitalize",children:j}),r.jsx("ul",{className:"mt-2 list-disc space-y-1 pl-4 text-sm text-slate-700",children:I0[j].map(k=>r.jsx("li",{children:k},k))})]},j))})]}),r.jsx(b7,{user:d,isOpen:!!d,mode:h,onClose:()=>f(null),onSave:p}),r.jsx(j7,{open:b,onClose:()=>g(!1),onInvite:w})]})},S7=()=>r.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-slate-900 via-sky-900 to-purple-900 text-center p-4",children:[r.jsx(Ce.div,{initial:{opacity:0,y:-50,rotate:-5},animate:{opacity:1,y:0,rotate:0},transition:{type:"spring",stiffness:100,duration:.8},children:r.jsx(Hr,{className:"h-32 w-32 text-yellow-400 mb-8 animate-pulse"})}),r.jsx(Ce.h1,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.5},className:"text-6xl font-extrabold text-slate-100 mb-4",children:"404"}),r.jsx(Ce.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.5},className:"text-2xl text-slate-300 mb-8",children:"Oops! Page Not Found."}),r.jsx(Ce.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.5},className:"text-slate-400 mb-10 max-w-md",children:"The page you're looking for doesn't exist or has been moved. Let's get you back on track."}),r.jsx(Ce.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.8,duration:.5},children:r.jsx(U,{asChild:!0,size:"lg",className:"bg-gradient-to-r from-sky-500 to-purple-600 hover:from-sky-600 hover:to-purple-700 text-white font-semibold py-3 px-8 text-lg",children:r.jsx(Rr,{to:"/app/dashboard",children:"Go to Dashboard"})})})]}),C7=e=>e>=80?"bg-emerald-50 text-emerald-700 border-emerald-200":e>=50?"bg-amber-50 text-amber-700 border-amber-200":"bg-rose-50 text-rose-700 border-rose-200",E7=({score:e})=>r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:[r.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Overall security score"}),r.jsxs("div",{className:"mt-2 flex items-end gap-3",children:[r.jsx("p",{className:"text-4xl font-semibold text-slate-900",children:e}),r.jsx("span",{className:`rounded-full border px-3 py-1 text-xs font-semibold ${C7(e)}`,children:e>=80?"Good":e>=50?"Needs attention":"Critical"})]}),r.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Higher scores indicate stronger technical and organisational measures."})]}),P7=({kpi:e})=>{const t=Math.min(100,Math.round(e.value/e.max*100));return r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[r.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:e.label}),r.jsxs("div",{className:"mt-2 flex items-baseline gap-2",children:[r.jsx("p",{className:"text-2xl font-semibold text-slate-900",children:e.value}),r.jsxs("p",{className:"text-xs text-slate-500",children:["/ ",e.max]})]}),r.jsx("div",{className:"mt-2 h-2 w-full rounded-full bg-slate-100",children:r.jsx("div",{className:"h-2 rounded-full bg-sky-500",style:{width:`${t}%`}})})]})},T7={good:"bg-emerald-50 text-emerald-700 border-emerald-200",medium:"bg-amber-50 text-amber-700 border-amber-200",poor:"bg-rose-50 text-rose-700 border-rose-200"},A7=({controls:e})=>r.jsx("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:r.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:e.map(t=>r.jsxs("div",{className:`rounded-lg border p-3 ${T7[t.level]}`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-sm font-semibold",children:t.name}),r.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide",children:t.level})]}),r.jsx("p",{className:"text-xs text-slate-700",children:t.category})]},t.id))})}),R7={active:"bg-emerald-50 text-emerald-700 border-emerald-200",inactive:"bg-amber-50 text-amber-700 border-amber-200",not_configured:"bg-slate-100 text-slate-700 border-slate-200"},D7={active:"Active",inactive:"Inactive",not_configured:"Not configured"},M7=({integration:e})=>r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:e.name}),r.jsx("span",{className:`rounded-full border px-2.5 py-1 text-xs font-semibold ${R7[e.status]}`,children:D7[e.status]})]}),r.jsx("p",{className:"mt-2 text-sm text-slate-700",children:e.description})]}),_7={low:"border-slate-200 text-slate-700 bg-slate-50",medium:"border-amber-200 text-amber-700 bg-amber-50",high:"border-rose-200 text-rose-700 bg-rose-50",critical:"border-rose-300 text-rose-800 bg-rose-50"},L7=({warnings:e})=>e.length===0?r.jsx("p",{className:"text-sm text-muted-foreground",children:"No warnings. Security posture looks good."}):r.jsx("div",{className:"space-y-3",children:e.map(t=>r.jsx("div",{className:`rounded-lg border px-3 py-3 text-sm font-semibold ${_7[t.severity]}`,children:t.message},t.id))}),O7={info:"bg-slate-100 text-slate-700 border-slate-200",warning:"bg-amber-50 text-amber-700 border-amber-200",critical:"bg-rose-50 text-rose-700 border-rose-200"},I7=e=>{const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},F7=({events:e})=>e.length===0?r.jsx("p",{className:"text-sm text-muted-foreground",children:"No recent security events."}):r.jsx("div",{className:"space-y-3",children:e.map(t=>r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-3 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:`rounded-full border px-2.5 py-1 text-[11px] font-semibold uppercase tracking-wide ${O7[t.severity]}`,children:t.severity}),r.jsx("span",{className:"text-xs text-slate-500",children:I7(t.timestamp)})]}),r.jsx("p",{className:"mt-1 text-sm font-semibold text-slate-900",children:t.event}),r.jsxs("p",{className:"text-xs text-slate-600",children:["Source: ",t.source]})]},t.id))});function V7(){const[e]=v.useState(78),[t]=v.useState([{id:"kpi_encryption",label:"Encryption coverage",value:90,max:100},{id:"kpi_access_control",label:"Access control maturity",value:65,max:100},{id:"kpi_backup",label:"Backup integrity",value:80,max:100},{id:"kpi_patch",label:"Patch compliance",value:70,max:100}]),[s]=v.useState([{id:"ctrl_firewall",name:"Firewall configuration",category:"Network",level:"good"},{id:"ctrl_mfa",name:"MFA / 2FA enforcement",category:"Access control",level:"medium"},{id:"ctrl_encryption",name:"Encryption at rest",category:"Encryption",level:"good"},{id:"ctrl_logging",name:"Logging & monitoring",category:"Monitoring",level:"medium"},{id:"ctrl_backup",name:"Backup testing",category:"Resilience",level:"poor"}]),[n]=v.useState([{id:"int_siem",name:"SIEM integration",status:"active",description:"Security events forwarded to SIEM."},{id:"int_sso",name:"SSO / Identity Provider",status:"active",description:"SSO configured for all users."},{id:"int_2fa",name:"2FA enforcement",status:"inactive",description:"2FA not enforced for all users."},{id:"int_vuln",name:"Vulnerability scanner",status:"not_configured",description:"Scanner not yet connected to assets."}]),[a]=v.useState([{id:"warn_1",severity:"high",message:"2FA is not enforced for all users."},{id:"warn_2",severity:"medium",message:"Backups have not been tested in 90 days."}]),[o]=v.useState([{id:"evt_1",timestamp:"2025-05-14T10:00:00Z",event:"User failed login attempt",source:"Identity provider",severity:"warning"},{id:"evt_2",timestamp:"2025-05-14T09:20:00Z",event:"Firewall rule updated",source:"Network firewall",severity:"info"},{id:"evt_3",timestamp:"2025-05-13T18:00:00Z",event:"Backup completed successfully",source:"Backup system",severity:"info"},{id:"evt_4",timestamp:"2025-05-13T16:45:00Z",event:"Unusual login pattern detected",source:"SIEM",severity:"critical"}]);return{score:e,kpis:t,controls:s,integrations:n,warnings:a,events:o,isLoading:!1,isError:!1}}const $7=()=>{const{score:e,kpis:t,controls:s,integrations:n,warnings:a,events:o}=V7();return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-slate-900",children:"Security health"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Overview of your technical and organisational security posture."})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsx("div",{className:"md:col-span-1",children:r.jsx(E7,{score:e})}),r.jsx("div",{className:"md:col-span-2 grid gap-4 sm:grid-cols-2",children:t.map(i=>r.jsx(P7,{kpi:i},i.id))})]}),r.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[r.jsx(A7,{controls:s}),r.jsx("div",{className:"grid gap-3",children:n.map(i=>r.jsx(M7,{integration:i},i.id))})]}),r.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"System warnings"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Actionable items detected by the security engine."}),r.jsx("div",{className:"mt-3",children:r.jsx(L7,{warnings:a})})]}),r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Recent security events"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Latest security signals and activities."}),r.jsx("div",{className:"mt-3",children:r.jsx(F7,{events:o})})]})]})]})},B7=async(e,t)=>{if(!e)throw new Error("Missing tenant identifier.");await xI(e,t)},U7=[{value:"access",label:"Access"},{value:"rectification",label:"Rectification"},{value:"erasure",label:"Erasure"},{value:"restriction",label:"Restriction"},{value:"portability",label:"Portability"},{value:"objection",label:"Objection"},{value:"other",label:"Other"}],F0={fullName:"",email:"",requestType:"access",identifier:"",description:"",confirmAccuracy:!1},z7=({tenantSlug:e,onSuccess:t})=>{const[s,n]=P.useState(F0),[a,o]=P.useState({}),[i,l]=P.useState(null),[u,c]=P.useState(!1),d=(y,b)=>{n(g=>({...g,[y]:b})),o(g=>({...g,[y]:void 0}))},f=()=>{const y={};return s.fullName.trim()||(y.fullName="Full name is required."),s.email.trim()?/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(s.email.trim())||(y.email="Please enter a valid email address."):y.email="Email is required.",s.requestType||(y.requestType="Request type is required."),s.description.trim()||(y.description="Description is required."),o(y),Object.keys(y).length===0},h=async y=>{if(y.preventDefault(),!!f()){c(!0),l(null);try{const b={fullName:s.fullName.trim(),email:s.email.trim(),requestType:s.requestType,identifier:s.identifier.trim()||void 0,description:s.description.trim(),confirmAccuracy:s.confirmAccuracy};await B7(e,b),n(F0),o({}),t()}catch(b){l((b==null?void 0:b.message)??"Failed to submit your request. Please try again.")}finally{c(!1)}}};return r.jsxs("form",{className:"space-y-5",onSubmit:h,children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"text-sm font-medium text-slate-800",children:["Full name ",r.jsx("span",{className:"text-rose-600",children:"*"})]}),r.jsx("input",{type:"text",className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-60",value:s.fullName,onChange:y=>d("fullName",y.target.value),disabled:u,placeholder:"Jane Doe",required:!0}),a.fullName&&r.jsx("p",{className:"text-xs text-rose-600",children:a.fullName})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"text-sm font-medium text-slate-800",children:["Email address ",r.jsx("span",{className:"text-rose-600",children:"*"})]}),r.jsx("input",{type:"email",className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-60",value:s.email,onChange:y=>d("email",y.target.value),disabled:u,placeholder:"name@example.com",required:!0}),a.email&&r.jsx("p",{className:"text-xs text-rose-600",children:a.email})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"text-sm font-medium text-slate-800",children:["Request type ",r.jsx("span",{className:"text-rose-600",children:"*"})]}),r.jsx("select",{className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-60",value:s.requestType,onChange:y=>d("requestType",y.target.value),disabled:u,required:!0,children:U7.map(y=>r.jsx("option",{value:y.value,children:y.label},y.value))}),a.requestType&&r.jsx("p",{className:"text-xs text-rose-600",children:a.requestType})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-slate-800",children:"Identifier / Reference (optional)"}),r.jsx("input",{type:"text",className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-60",value:s.identifier,onChange:y=>d("identifier",y.target.value),disabled:u,placeholder:"Customer ID, case number, etc."}),a.identifier&&r.jsx("p",{className:"text-xs text-rose-600",children:a.identifier})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"text-sm font-medium text-slate-800",children:["Request details ",r.jsx("span",{className:"text-rose-600",children:"*"})]}),r.jsx("textarea",{className:"min-h-[120px] w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-60",value:s.description,onChange:y=>d("description",y.target.value),disabled:u,placeholder:"Describe the request you are making.",required:!0}),a.description&&r.jsx("p",{className:"text-xs text-rose-600",children:a.description})]}),r.jsxs("label",{className:"flex items-start gap-3 text-sm text-slate-700",children:[r.jsx("input",{type:"checkbox",className:"mt-1 h-4 w-4 rounded border-slate-300 text-sky-600 focus:ring-sky-500",checked:s.confirmAccuracy,onChange:y=>d("confirmAccuracy",y.target.checked),disabled:u}),r.jsx("span",{children:"I confirm that the information I have provided is accurate."})]}),i&&r.jsx("div",{className:"rounded-md border border-rose-200 bg-rose-50 px-3 py-2 text-sm text-rose-700",children:i}),r.jsx("div",{className:"flex items-center justify-between rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(cs,{className:"h-4 w-4 text-sky-600"}),r.jsx("span",{children:"Your submission will be securely sent to the data protection team."})]})}),r.jsxs("button",{type:"submit",disabled:u,className:"flex w-full items-center justify-center rounded-lg bg-sky-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-sky-400 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-70",children:[u&&r.jsx(up,{className:"mr-2 h-4 w-4 animate-spin"}),u?"Submitting...":"Submit request"]})]})},W7=()=>{const{tenantSlug:e}=cS(),[t,s]=P.useState(!1);return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-sky-50 px-4 py-10",children:r.jsxs("div",{className:"mx-auto flex max-w-4xl flex-col items-center gap-8",children:[r.jsxs("div",{className:"flex items-center gap-3 text-slate-800",children:[r.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-sky-600 text-white shadow-sm",children:r.jsx(Ja,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"AURA-GDPR"}),r.jsx("h1",{className:"text-xl font-semibold text-slate-900",children:"Submit a data subject request"})]})]}),r.jsx("div",{className:"w-full max-w-3xl rounded-2xl border border-slate-200 bg-white p-6 shadow-xl",children:t?r.jsxs("div",{className:"space-y-4 text-center",children:[r.jsx("div",{className:"mx-auto flex h-14 w-14 items-center justify-center rounded-full bg-emerald-50 text-emerald-600",children:r.jsx(Ja,{className:"h-7 w-7"})}),r.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Your request has been submitted"}),r.jsx("p",{className:"text-sm text-slate-600",children:"We have received your data subject request. You will be contacted via email as soon as your request has been processed."}),r.jsxs("button",{type:"button",onClick:()=>s(!1),className:"inline-flex items-center justify-center gap-2 rounded-lg border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-800 shadow-sm transition hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-sky-400 focus:ring-offset-2",children:[r.jsx(dE,{className:"h-4 w-4"}),"Submit another request"]})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Tell us about your request"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Use this form to submit a GDPR data subject request to the organization. Your request will be handled by the data protection team."})]}),r.jsx(z7,{tenantSlug:e??"",onSuccess:()=>s(!0)})]})}),r.jsx("p",{className:"text-center text-xs text-slate-500",children:"This form is provided by AURA-GDPR. Please avoid sharing sensitive information beyond what is necessary."})]})})},H7=({children:e})=>{const{isAuthenticated:t}=rn();return t?r.jsx(r.Fragment,{children:e}):r.jsx(el,{to:"/login",replace:!0})},q7=()=>r.jsxs(CS,{children:[r.jsx(te,{path:"/",element:r.jsx(el,{to:"/app/dashboard",replace:!0})}),r.jsx(te,{path:"/dsr-portal",element:r.jsx(wI,{})}),r.jsx(te,{path:"/public/dsr/:tenantSlug",element:r.jsx(W7,{})}),r.jsx(te,{path:"/login",element:r.jsx(K4,{})}),r.jsx(te,{path:"/register",element:r.jsx(G4,{})}),r.jsxs(te,{path:"/app",element:r.jsx(H7,{children:r.jsx(K5,{})}),children:[r.jsx(te,{index:!0,element:r.jsx(el,{to:"/app/dashboard",replace:!0})}),r.jsx(te,{path:"dashboard",element:r.jsx(lL,{})}),r.jsx(te,{path:"documents",element:r.jsx(PL,{})}),r.jsx(te,{path:"ai-assistant",element:r.jsx(TL,{})}),r.jsx(te,{path:"ai-audit",element:r.jsx(WI,{})}),r.jsx(te,{path:"tasks",element:r.jsx(gO,{})}),r.jsx(te,{path:"projects",element:r.jsx(yO,{})}),r.jsx(te,{path:"audit",element:r.jsx(TO,{})}),r.jsx(te,{path:"risk-matrix",element:r.jsx(_O,{})}),r.jsx(te,{path:"dsr",element:r.jsx(bI,{})}),r.jsx(te,{path:"dpia",element:r.jsx(JO,{})}),r.jsx(te,{path:"ropa",element:r.jsx(p6,{})}),r.jsx(te,{path:"cookies",element:r.jsx(i7,{})}),r.jsx(te,{path:"policies",element:r.jsx(CF,{})}),r.jsx(te,{path:"incidents",element:r.jsx(QF,{})}),r.jsx(te,{path:"toms",element:r.jsx(O6,{})}),r.jsx(te,{path:"security-health",element:r.jsx($7,{})}),r.jsx(te,{path:"notifications",element:r.jsx(AI,{})}),r.jsx(te,{path:"billing",element:r.jsx(VL,{})}),r.jsx(te,{path:"iam",element:r.jsx(k7,{})}),r.jsx(te,{path:"settings",element:r.jsx($L,{})}),r.jsx(te,{path:"settings/notifications",element:r.jsx(lF,{})}),r.jsx(te,{path:"admin",element:r.jsx(UL,{})}),r.jsx(te,{path:"admin/dsr-portal",element:r.jsx(HI,{})})]}),r.jsx(te,{path:"*",element:r.jsx(S7,{})})]}),K7=()=>r.jsx(_S,{children:r.jsx(QE,{children:r.jsx(AT,{children:r.jsxs(DT,{children:[r.jsx(q7,{}),r.jsx(YE,{})]})})})}),G7=document.getElementById("root");Zy(G7).render(r.jsx(P.StrictMode,{children:r.jsx(K7,{})}));
