function m1(e,t){for(var s=0;s<t.length;s++){const n=t[s];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(n,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=s(a);fetch(a.href,o)}})();function H0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var q0={exports:{}},jl={},K0={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var po=Symbol.for("react.element"),x1=Symbol.for("react.portal"),g1=Symbol.for("react.fragment"),y1=Symbol.for("react.strict_mode"),v1=Symbol.for("react.profiler"),b1=Symbol.for("react.provider"),w1=Symbol.for("react.context"),j1=Symbol.for("react.forward_ref"),N1=Symbol.for("react.suspense"),k1=Symbol.for("react.memo"),S1=Symbol.for("react.lazy"),xh=Symbol.iterator;function C1(e){return e===null||typeof e!="object"?null:(e=xh&&e[xh]||e["@@iterator"],typeof e=="function"?e:null)}var G0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y0=Object.assign,X0={};function Ur(e,t,s){this.props=e,this.context=t,this.refs=X0,this.updater=s||G0}Ur.prototype.isReactComponent={};Ur.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ur.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Q0(){}Q0.prototype=Ur.prototype;function sf(e,t,s){this.props=e,this.context=t,this.refs=X0,this.updater=s||G0}var nf=sf.prototype=new Q0;nf.constructor=sf;Y0(nf,Ur.prototype);nf.isPureReactComponent=!0;var gh=Array.isArray,Z0=Object.prototype.hasOwnProperty,rf={current:null},J0={key:!0,ref:!0,__self:!0,__source:!0};function eg(e,t,s){var n,a={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)Z0.call(t,n)&&!J0.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=s;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:po,type:e,key:o,ref:i,props:a,_owner:rf.current}}function E1(e,t){return{$$typeof:po,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function af(e){return typeof e=="object"&&e!==null&&e.$$typeof===po}function P1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var yh=/\/+/g;function xc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?P1(""+e.key):t.toString(36)}function ui(e,t,s,n,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case po:case x1:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+xc(i,0):n,gh(a)?(s="",e!=null&&(s=e.replace(yh,"$&/")+"/"),ui(a,t,s,"",function(c){return c})):a!=null&&(af(a)&&(a=E1(a,s+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(yh,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",gh(e))for(var l=0;l<e.length;l++){o=e[l];var u=n+xc(o,l);i+=ui(o,t,s,u,a)}else if(u=C1(e),typeof u=="function")for(e=u.call(e),l=0;!(o=e.next()).done;)o=o.value,u=n+xc(o,l++),i+=ui(o,t,s,u,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Mo(e,t,s){if(e==null)return e;var n=[],a=0;return ui(e,n,"","",function(o){return t.call(s,o,a++)}),n}function A1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xe={current:null},di={transition:null},T1={ReactCurrentDispatcher:Xe,ReactCurrentBatchConfig:di,ReactCurrentOwner:rf};function tg(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:Mo,forEach:function(e,t,s){Mo(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return Mo(e,function(){t++}),t},toArray:function(e){return Mo(e,function(t){return t})||[]},only:function(e){if(!af(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};J.Component=Ur;J.Fragment=g1;J.Profiler=v1;J.PureComponent=sf;J.StrictMode=y1;J.Suspense=N1;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T1;J.act=tg;J.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Y0({},e.props),a=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=rf.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)Z0.call(t,u)&&!J0.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=s;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];n.children=l}return{$$typeof:po,type:e.type,key:a,ref:o,props:n,_owner:i}};J.createContext=function(e){return e={$$typeof:w1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:b1,_context:e},e.Consumer=e};J.createElement=eg;J.createFactory=function(e){var t=eg.bind(null,e);return t.type=e,t};J.createRef=function(){return{current:null}};J.forwardRef=function(e){return{$$typeof:j1,render:e}};J.isValidElement=af;J.lazy=function(e){return{$$typeof:S1,_payload:{_status:-1,_result:e},_init:A1}};J.memo=function(e,t){return{$$typeof:k1,type:e,compare:t===void 0?null:t}};J.startTransition=function(e){var t=di.transition;di.transition={};try{e()}finally{di.transition=t}};J.unstable_act=tg;J.useCallback=function(e,t){return Xe.current.useCallback(e,t)};J.useContext=function(e){return Xe.current.useContext(e)};J.useDebugValue=function(){};J.useDeferredValue=function(e){return Xe.current.useDeferredValue(e)};J.useEffect=function(e,t){return Xe.current.useEffect(e,t)};J.useId=function(){return Xe.current.useId()};J.useImperativeHandle=function(e,t,s){return Xe.current.useImperativeHandle(e,t,s)};J.useInsertionEffect=function(e,t){return Xe.current.useInsertionEffect(e,t)};J.useLayoutEffect=function(e,t){return Xe.current.useLayoutEffect(e,t)};J.useMemo=function(e,t){return Xe.current.useMemo(e,t)};J.useReducer=function(e,t,s){return Xe.current.useReducer(e,t,s)};J.useRef=function(e){return Xe.current.useRef(e)};J.useState=function(e){return Xe.current.useState(e)};J.useSyncExternalStore=function(e,t,s){return Xe.current.useSyncExternalStore(e,t,s)};J.useTransition=function(){return Xe.current.useTransition()};J.version="18.3.1";K0.exports=J;var y=K0.exports;const P=H0(y),of=m1({__proto__:null,default:P},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R1=y,D1=Symbol.for("react.element"),_1=Symbol.for("react.fragment"),M1=Object.prototype.hasOwnProperty,L1=R1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,I1={key:!0,ref:!0,__self:!0,__source:!0};function sg(e,t,s){var n,a={},o=null,i=null;s!==void 0&&(o=""+s),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)M1.call(t,n)&&!I1.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:D1,type:e,key:o,ref:i,props:a,_owner:L1.current}}jl.Fragment=_1;jl.jsx=sg;jl.jsxs=sg;q0.exports=jl;var r=q0.exports,ng={exports:{}},gt={},rg={exports:{}},ag={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,_){var L=R.length;R.push(_);e:for(;0<L;){var $=L-1>>>1,K=R[$];if(0<a(K,_))R[$]=_,R[L]=K,L=$;else break e}}function s(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var _=R[0],L=R.pop();if(L!==_){R[0]=L;e:for(var $=0,K=R.length,ae=K>>>1;$<ae;){var oe=2*($+1)-1,Je=R[oe],we=oe+1,_e=R[we];if(0>a(Je,L))we<K&&0>a(_e,Je)?(R[$]=_e,R[we]=L,$=we):(R[$]=Je,R[oe]=L,$=oe);else if(we<K&&0>a(_e,L))R[$]=_e,R[we]=L,$=we;else break e}}return _}function a(R,_){var L=R.sortIndex-_.sortIndex;return L!==0?L:R.id-_.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var u=[],c=[],d=1,f=null,m=3,g=!1,b=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(R){for(var _=s(c);_!==null;){if(_.callback===null)n(c);else if(_.startTime<=R)n(c),_.sortIndex=_.expirationTime,t(u,_);else break;_=s(c)}}function j(R){if(v=!1,w(R),!b)if(s(u)!==null)b=!0,V(S);else{var _=s(c);_!==null&&q(j,_.startTime-R)}}function S(R,_){b=!1,v&&(v=!1,h(N),N=-1),g=!0;var L=m;try{for(w(_),f=s(u);f!==null&&(!(f.expirationTime>_)||R&&!I());){var $=f.callback;if(typeof $=="function"){f.callback=null,m=f.priorityLevel;var K=$(f.expirationTime<=_);_=e.unstable_now(),typeof K=="function"?f.callback=K:f===s(u)&&n(u),w(_)}else n(u);f=s(u)}if(f!==null)var ae=!0;else{var oe=s(c);oe!==null&&q(j,oe.startTime-_),ae=!1}return ae}finally{f=null,m=L,g=!1}}var E=!1,C=null,N=-1,k=5,A=-1;function I(){return!(e.unstable_now()-A<k)}function D(){if(C!==null){var R=e.unstable_now();A=R;var _=!0;try{_=C(!0,R)}finally{_?O():(E=!1,C=null)}}else E=!1}var O;if(typeof p=="function")O=function(){p(D)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,F=M.port2;M.port1.onmessage=D,O=function(){F.postMessage(null)}}else O=function(){x(D,0)};function V(R){C=R,E||(E=!0,O())}function q(R,_){N=x(function(){R(e.unstable_now())},_)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){b||g||(b=!0,V(S))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return s(u)},e.unstable_next=function(R){switch(m){case 1:case 2:case 3:var _=3;break;default:_=m}var L=m;m=_;try{return R()}finally{m=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,_){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var L=m;m=R;try{return _()}finally{m=L}},e.unstable_scheduleCallback=function(R,_,L){var $=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?$+L:$):L=$,R){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=L+K,R={id:d++,callback:_,priorityLevel:R,startTime:L,expirationTime:K,sortIndex:-1},L>$?(R.sortIndex=L,t(c,R),s(u)===null&&R===s(c)&&(v?(h(N),N=-1):v=!0,q(j,L-$))):(R.sortIndex=K,t(u,R),b||g||(b=!0,V(S))),R},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(R){var _=m;return function(){var L=m;m=_;try{return R.apply(this,arguments)}finally{m=L}}}})(ag);rg.exports=ag;var O1=rg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F1=y,mt=O1;function U(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var og=new Set,Ia={};function Vn(e,t){Sr(e,t),Sr(e+"Capture",t)}function Sr(e,t){for(Ia[e]=t,e=0;e<t.length;e++)og.add(t[e])}var ms=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nu=Object.prototype.hasOwnProperty,$1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vh={},bh={};function V1(e){return Nu.call(bh,e)?!0:Nu.call(vh,e)?!1:$1.test(e)?bh[e]=!0:(vh[e]=!0,!1)}function U1(e,t,s,n){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function B1(e,t,s,n){if(t===null||typeof t>"u"||U1(e,t,s,n))return!0;if(n)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qe(e,t,s,n,a,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Fe[e]=new Qe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Fe[t]=new Qe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Fe[e]=new Qe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Fe[e]=new Qe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Fe[e]=new Qe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Fe[e]=new Qe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Fe[e]=new Qe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Fe[e]=new Qe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Fe[e]=new Qe(e,5,!1,e.toLowerCase(),null,!1,!1)});var lf=/[\-:]([a-z])/g;function cf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(lf,cf);Fe[t]=new Qe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(lf,cf);Fe[t]=new Qe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(lf,cf);Fe[t]=new Qe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Fe[e]=new Qe(e,1,!1,e.toLowerCase(),null,!1,!1)});Fe.xlinkHref=new Qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Fe[e]=new Qe(e,1,!1,e.toLowerCase(),null,!0,!0)});function uf(e,t,s,n){var a=Fe.hasOwnProperty(t)?Fe[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(B1(t,s,a,n)&&(s=null),n||a===null?V1(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):a.mustUseProperty?e[a.propertyName]=s===null?a.type===3?!1:"":s:(t=a.attributeName,n=a.attributeNamespace,s===null?e.removeAttribute(t):(a=a.type,s=a===3||a===4&&s===!0?"":""+s,n?e.setAttributeNS(n,t,s):e.setAttribute(t,s))))}var js=F1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Lo=Symbol.for("react.element"),Jn=Symbol.for("react.portal"),er=Symbol.for("react.fragment"),df=Symbol.for("react.strict_mode"),ku=Symbol.for("react.profiler"),ig=Symbol.for("react.provider"),lg=Symbol.for("react.context"),ff=Symbol.for("react.forward_ref"),Su=Symbol.for("react.suspense"),Cu=Symbol.for("react.suspense_list"),pf=Symbol.for("react.memo"),As=Symbol.for("react.lazy"),cg=Symbol.for("react.offscreen"),wh=Symbol.iterator;function ta(e){return e===null||typeof e!="object"?null:(e=wh&&e[wh]||e["@@iterator"],typeof e=="function"?e:null)}var ye=Object.assign,gc;function ma(e){if(gc===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);gc=t&&t[1]||""}return`
`+gc+e}var yc=!1;function vc(e,t){if(!e||yc)return"";yc=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),o=n.stack.split(`
`),i=a.length-1,l=o.length-1;1<=i&&0<=l&&a[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||a[i]!==o[l]){var u=`
`+a[i].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=i&&0<=l);break}}}finally{yc=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?ma(e):""}function z1(e){switch(e.tag){case 5:return ma(e.type);case 16:return ma("Lazy");case 13:return ma("Suspense");case 19:return ma("SuspenseList");case 0:case 2:case 15:return e=vc(e.type,!1),e;case 11:return e=vc(e.type.render,!1),e;case 1:return e=vc(e.type,!0),e;default:return""}}function Eu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case er:return"Fragment";case Jn:return"Portal";case ku:return"Profiler";case df:return"StrictMode";case Su:return"Suspense";case Cu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case lg:return(e.displayName||"Context")+".Consumer";case ig:return(e._context.displayName||"Context")+".Provider";case ff:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case pf:return t=e.displayName||null,t!==null?t:Eu(e.type)||"Memo";case As:t=e._payload,e=e._init;try{return Eu(e(t))}catch{}}return null}function W1(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Eu(t);case 8:return t===df?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Gs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ug(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function H1(e){var t=ug(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var a=s.get,o=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Io(e){e._valueTracker||(e._valueTracker=H1(e))}function dg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),n="";return e&&(n=ug(e)?e.checked?"true":"false":e.value),e=n,e!==s?(t.setValue(e),!0):!1}function Di(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Pu(e,t){var s=t.checked;return ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function jh(e,t){var s=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;s=Gs(t.value!=null?t.value:s),e._wrapperState={initialChecked:n,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function fg(e,t){t=t.checked,t!=null&&uf(e,"checked",t,!1)}function Au(e,t){fg(e,t);var s=Gs(t.value),n=t.type;if(s!=null)n==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Tu(e,t.type,s):t.hasOwnProperty("defaultValue")&&Tu(e,t.type,Gs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Nh(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Tu(e,t,s){(t!=="number"||Di(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var xa=Array.isArray;function mr(e,t,s,n){if(e=e.options,t){t={};for(var a=0;a<s.length;a++)t["$"+s[a]]=!0;for(s=0;s<e.length;s++)a=t.hasOwnProperty("$"+e[s].value),e[s].selected!==a&&(e[s].selected=a),a&&n&&(e[s].defaultSelected=!0)}else{for(s=""+Gs(s),t=null,a=0;a<e.length;a++){if(e[a].value===s){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Ru(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(U(91));return ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function kh(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(U(92));if(xa(s)){if(1<s.length)throw Error(U(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:Gs(s)}}function pg(e,t){var s=Gs(t.value),n=Gs(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),n!=null&&(e.defaultValue=""+n)}function Sh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function hg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Du(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?hg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Oo,mg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,s,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Oo=Oo||document.createElement("div"),Oo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Oo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Oa(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var ja={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},q1=["Webkit","ms","Moz","O"];Object.keys(ja).forEach(function(e){q1.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ja[t]=ja[e]})});function xg(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||ja.hasOwnProperty(e)&&ja[e]?(""+t).trim():t+"px"}function gg(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var n=s.indexOf("--")===0,a=xg(s,t[s],n);s==="float"&&(s="cssFloat"),n?e.setProperty(s,a):e[s]=a}}var K1=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _u(e,t){if(t){if(K1[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(U(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(U(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(t.style!=null&&typeof t.style!="object")throw Error(U(62))}}function Mu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lu=null;function hf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Iu=null,xr=null,gr=null;function Ch(e){if(e=xo(e)){if(typeof Iu!="function")throw Error(U(280));var t=e.stateNode;t&&(t=El(t),Iu(e.stateNode,e.type,t))}}function yg(e){xr?gr?gr.push(e):gr=[e]:xr=e}function vg(){if(xr){var e=xr,t=gr;if(gr=xr=null,Ch(e),t)for(e=0;e<t.length;e++)Ch(t[e])}}function bg(e,t){return e(t)}function wg(){}var bc=!1;function jg(e,t,s){if(bc)return e(t,s);bc=!0;try{return bg(e,t,s)}finally{bc=!1,(xr!==null||gr!==null)&&(wg(),vg())}}function Fa(e,t){var s=e.stateNode;if(s===null)return null;var n=El(s);if(n===null)return null;s=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(U(231,t,typeof s));return s}var Ou=!1;if(ms)try{var sa={};Object.defineProperty(sa,"passive",{get:function(){Ou=!0}}),window.addEventListener("test",sa,sa),window.removeEventListener("test",sa,sa)}catch{Ou=!1}function G1(e,t,s,n,a,o,i,l,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(s,c)}catch(d){this.onError(d)}}var Na=!1,_i=null,Mi=!1,Fu=null,Y1={onError:function(e){Na=!0,_i=e}};function X1(e,t,s,n,a,o,i,l,u){Na=!1,_i=null,G1.apply(Y1,arguments)}function Q1(e,t,s,n,a,o,i,l,u){if(X1.apply(this,arguments),Na){if(Na){var c=_i;Na=!1,_i=null}else throw Error(U(198));Mi||(Mi=!0,Fu=c)}}function Un(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function Ng(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Eh(e){if(Un(e)!==e)throw Error(U(188))}function Z1(e){var t=e.alternate;if(!t){if(t=Un(e),t===null)throw Error(U(188));return t!==e?null:e}for(var s=e,n=t;;){var a=s.return;if(a===null)break;var o=a.alternate;if(o===null){if(n=a.return,n!==null){s=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===s)return Eh(a),e;if(o===n)return Eh(a),t;o=o.sibling}throw Error(U(188))}if(s.return!==n.return)s=a,n=o;else{for(var i=!1,l=a.child;l;){if(l===s){i=!0,s=a,n=o;break}if(l===n){i=!0,n=a,s=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===s){i=!0,s=o,n=a;break}if(l===n){i=!0,n=o,s=a;break}l=l.sibling}if(!i)throw Error(U(189))}}if(s.alternate!==n)throw Error(U(190))}if(s.tag!==3)throw Error(U(188));return s.stateNode.current===s?e:t}function kg(e){return e=Z1(e),e!==null?Sg(e):null}function Sg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Sg(e);if(t!==null)return t;e=e.sibling}return null}var Cg=mt.unstable_scheduleCallback,Ph=mt.unstable_cancelCallback,J1=mt.unstable_shouldYield,e2=mt.unstable_requestPaint,je=mt.unstable_now,t2=mt.unstable_getCurrentPriorityLevel,mf=mt.unstable_ImmediatePriority,Eg=mt.unstable_UserBlockingPriority,Li=mt.unstable_NormalPriority,s2=mt.unstable_LowPriority,Pg=mt.unstable_IdlePriority,Nl=null,Yt=null;function n2(e){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(Nl,e,void 0,(e.current.flags&128)===128)}catch{}}var Mt=Math.clz32?Math.clz32:o2,r2=Math.log,a2=Math.LN2;function o2(e){return e>>>=0,e===0?32:31-(r2(e)/a2|0)|0}var Fo=64,$o=4194304;function ga(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ii(e,t){var s=e.pendingLanes;if(s===0)return 0;var n=0,a=e.suspendedLanes,o=e.pingedLanes,i=s&268435455;if(i!==0){var l=i&~a;l!==0?n=ga(l):(o&=i,o!==0&&(n=ga(o)))}else i=s&~a,i!==0?n=ga(i):o!==0&&(n=ga(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(n&4&&(n|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)s=31-Mt(t),a=1<<s,n|=e[s],t&=~a;return n}function i2(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function l2(e,t){for(var s=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-Mt(o),l=1<<i,u=a[i];u===-1?(!(l&s)||l&n)&&(a[i]=i2(l,t)):u<=t&&(e.expiredLanes|=l),o&=~l}}function $u(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ag(){var e=Fo;return Fo<<=1,!(Fo&4194240)&&(Fo=64),e}function wc(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function ho(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Mt(t),e[t]=s}function c2(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<s;){var a=31-Mt(s),o=1<<a;t[a]=0,n[a]=-1,e[a]=-1,s&=~o}}function xf(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var n=31-Mt(s),a=1<<n;a&t|e[n]&t&&(e[n]|=t),s&=~a}}var se=0;function Tg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Rg,gf,Dg,_g,Mg,Vu=!1,Vo=[],Fs=null,$s=null,Vs=null,$a=new Map,Va=new Map,Ds=[],u2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ah(e,t){switch(e){case"focusin":case"focusout":Fs=null;break;case"dragenter":case"dragleave":$s=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":$a.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Va.delete(t.pointerId)}}function na(e,t,s,n,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:s,eventSystemFlags:n,nativeEvent:o,targetContainers:[a]},t!==null&&(t=xo(t),t!==null&&gf(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function d2(e,t,s,n,a){switch(t){case"focusin":return Fs=na(Fs,e,t,s,n,a),!0;case"dragenter":return $s=na($s,e,t,s,n,a),!0;case"mouseover":return Vs=na(Vs,e,t,s,n,a),!0;case"pointerover":var o=a.pointerId;return $a.set(o,na($a.get(o)||null,e,t,s,n,a)),!0;case"gotpointercapture":return o=a.pointerId,Va.set(o,na(Va.get(o)||null,e,t,s,n,a)),!0}return!1}function Lg(e){var t=xn(e.target);if(t!==null){var s=Un(t);if(s!==null){if(t=s.tag,t===13){if(t=Ng(s),t!==null){e.blockedOn=t,Mg(e.priority,function(){Dg(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Uu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var n=new s.constructor(s.type,s);Lu=n,s.target.dispatchEvent(n),Lu=null}else return t=xo(s),t!==null&&gf(t),e.blockedOn=s,!1;t.shift()}return!0}function Th(e,t,s){fi(e)&&s.delete(t)}function f2(){Vu=!1,Fs!==null&&fi(Fs)&&(Fs=null),$s!==null&&fi($s)&&($s=null),Vs!==null&&fi(Vs)&&(Vs=null),$a.forEach(Th),Va.forEach(Th)}function ra(e,t){e.blockedOn===t&&(e.blockedOn=null,Vu||(Vu=!0,mt.unstable_scheduleCallback(mt.unstable_NormalPriority,f2)))}function Ua(e){function t(a){return ra(a,e)}if(0<Vo.length){ra(Vo[0],e);for(var s=1;s<Vo.length;s++){var n=Vo[s];n.blockedOn===e&&(n.blockedOn=null)}}for(Fs!==null&&ra(Fs,e),$s!==null&&ra($s,e),Vs!==null&&ra(Vs,e),$a.forEach(t),Va.forEach(t),s=0;s<Ds.length;s++)n=Ds[s],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ds.length&&(s=Ds[0],s.blockedOn===null);)Lg(s),s.blockedOn===null&&Ds.shift()}var yr=js.ReactCurrentBatchConfig,Oi=!0;function p2(e,t,s,n){var a=se,o=yr.transition;yr.transition=null;try{se=1,yf(e,t,s,n)}finally{se=a,yr.transition=o}}function h2(e,t,s,n){var a=se,o=yr.transition;yr.transition=null;try{se=4,yf(e,t,s,n)}finally{se=a,yr.transition=o}}function yf(e,t,s,n){if(Oi){var a=Uu(e,t,s,n);if(a===null)Rc(e,t,n,Fi,s),Ah(e,n);else if(d2(a,e,t,s,n))n.stopPropagation();else if(Ah(e,n),t&4&&-1<u2.indexOf(e)){for(;a!==null;){var o=xo(a);if(o!==null&&Rg(o),o=Uu(e,t,s,n),o===null&&Rc(e,t,n,Fi,s),o===a)break;a=o}a!==null&&n.stopPropagation()}else Rc(e,t,n,null,s)}}var Fi=null;function Uu(e,t,s,n){if(Fi=null,e=hf(n),e=xn(e),e!==null)if(t=Un(e),t===null)e=null;else if(s=t.tag,s===13){if(e=Ng(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Fi=e,null}function Ig(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(t2()){case mf:return 1;case Eg:return 4;case Li:case s2:return 16;case Pg:return 536870912;default:return 16}default:return 16}}var Ms=null,vf=null,pi=null;function Og(){if(pi)return pi;var e,t=vf,s=t.length,n,a="value"in Ms?Ms.value:Ms.textContent,o=a.length;for(e=0;e<s&&t[e]===a[e];e++);var i=s-e;for(n=1;n<=i&&t[s-n]===a[o-n];n++);return pi=a.slice(e,1<n?1-n:void 0)}function hi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Uo(){return!0}function Rh(){return!1}function yt(e){function t(s,n,a,o,i){this._reactName=s,this._targetInst=a,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(s=e[l],this[l]=s?s(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Uo:Rh,this.isPropagationStopped=Rh,this}return ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Uo)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Uo)},persist:function(){},isPersistent:Uo}),t}var Br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bf=yt(Br),mo=ye({},Br,{view:0,detail:0}),m2=yt(mo),jc,Nc,aa,kl=ye({},mo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==aa&&(aa&&e.type==="mousemove"?(jc=e.screenX-aa.screenX,Nc=e.screenY-aa.screenY):Nc=jc=0,aa=e),jc)},movementY:function(e){return"movementY"in e?e.movementY:Nc}}),Dh=yt(kl),x2=ye({},kl,{dataTransfer:0}),g2=yt(x2),y2=ye({},mo,{relatedTarget:0}),kc=yt(y2),v2=ye({},Br,{animationName:0,elapsedTime:0,pseudoElement:0}),b2=yt(v2),w2=ye({},Br,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),j2=yt(w2),N2=ye({},Br,{data:0}),_h=yt(N2),k2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},S2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},C2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function E2(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=C2[e])?!!t[e]:!1}function wf(){return E2}var P2=ye({},mo,{key:function(e){if(e.key){var t=k2[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=hi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?S2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wf,charCode:function(e){return e.type==="keypress"?hi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),A2=yt(P2),T2=ye({},kl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mh=yt(T2),R2=ye({},mo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wf}),D2=yt(R2),_2=ye({},Br,{propertyName:0,elapsedTime:0,pseudoElement:0}),M2=yt(_2),L2=ye({},kl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),I2=yt(L2),O2=[9,13,27,32],jf=ms&&"CompositionEvent"in window,ka=null;ms&&"documentMode"in document&&(ka=document.documentMode);var F2=ms&&"TextEvent"in window&&!ka,Fg=ms&&(!jf||ka&&8<ka&&11>=ka),Lh=" ",Ih=!1;function $g(e,t){switch(e){case"keyup":return O2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var tr=!1;function $2(e,t){switch(e){case"compositionend":return Vg(t);case"keypress":return t.which!==32?null:(Ih=!0,Lh);case"textInput":return e=t.data,e===Lh&&Ih?null:e;default:return null}}function V2(e,t){if(tr)return e==="compositionend"||!jf&&$g(e,t)?(e=Og(),pi=vf=Ms=null,tr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fg&&t.locale!=="ko"?null:t.data;default:return null}}var U2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!U2[e.type]:t==="textarea"}function Ug(e,t,s,n){yg(n),t=$i(t,"onChange"),0<t.length&&(s=new bf("onChange","change",null,s,n),e.push({event:s,listeners:t}))}var Sa=null,Ba=null;function B2(e){Zg(e,0)}function Sl(e){var t=rr(e);if(dg(t))return e}function z2(e,t){if(e==="change")return t}var Bg=!1;if(ms){var Sc;if(ms){var Cc="oninput"in document;if(!Cc){var Fh=document.createElement("div");Fh.setAttribute("oninput","return;"),Cc=typeof Fh.oninput=="function"}Sc=Cc}else Sc=!1;Bg=Sc&&(!document.documentMode||9<document.documentMode)}function $h(){Sa&&(Sa.detachEvent("onpropertychange",zg),Ba=Sa=null)}function zg(e){if(e.propertyName==="value"&&Sl(Ba)){var t=[];Ug(t,Ba,e,hf(e)),jg(B2,t)}}function W2(e,t,s){e==="focusin"?($h(),Sa=t,Ba=s,Sa.attachEvent("onpropertychange",zg)):e==="focusout"&&$h()}function H2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Sl(Ba)}function q2(e,t){if(e==="click")return Sl(t)}function K2(e,t){if(e==="input"||e==="change")return Sl(t)}function G2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ot=typeof Object.is=="function"?Object.is:G2;function za(e,t){if(Ot(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var a=s[n];if(!Nu.call(t,a)||!Ot(e[a],t[a]))return!1}return!0}function Vh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Uh(e,t){var s=Vh(e);e=0;for(var n;s;){if(s.nodeType===3){if(n=e+s.textContent.length,e<=t&&n>=t)return{node:s,offset:t-e};e=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Vh(s)}}function Wg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Wg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Hg(){for(var e=window,t=Di();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Di(e.document)}return t}function Nf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Y2(e){var t=Hg(),s=e.focusedElem,n=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&Wg(s.ownerDocument.documentElement,s)){if(n!==null&&Nf(s)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=s.textContent.length,o=Math.min(n.start,a);n=n.end===void 0?o:Math.min(n.end,a),!e.extend&&o>n&&(a=n,n=o,o=a),a=Uh(s,o);var i=Uh(s,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var X2=ms&&"documentMode"in document&&11>=document.documentMode,sr=null,Bu=null,Ca=null,zu=!1;function Bh(e,t,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;zu||sr==null||sr!==Di(n)||(n=sr,"selectionStart"in n&&Nf(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ca&&za(Ca,n)||(Ca=n,n=$i(Bu,"onSelect"),0<n.length&&(t=new bf("onSelect","select",null,t,s),e.push({event:t,listeners:n}),t.target=sr)))}function Bo(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var nr={animationend:Bo("Animation","AnimationEnd"),animationiteration:Bo("Animation","AnimationIteration"),animationstart:Bo("Animation","AnimationStart"),transitionend:Bo("Transition","TransitionEnd")},Ec={},qg={};ms&&(qg=document.createElement("div").style,"AnimationEvent"in window||(delete nr.animationend.animation,delete nr.animationiteration.animation,delete nr.animationstart.animation),"TransitionEvent"in window||delete nr.transitionend.transition);function Cl(e){if(Ec[e])return Ec[e];if(!nr[e])return e;var t=nr[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in qg)return Ec[e]=t[s];return e}var Kg=Cl("animationend"),Gg=Cl("animationiteration"),Yg=Cl("animationstart"),Xg=Cl("transitionend"),Qg=new Map,zh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function en(e,t){Qg.set(e,t),Vn(t,[e])}for(var Pc=0;Pc<zh.length;Pc++){var Ac=zh[Pc],Q2=Ac.toLowerCase(),Z2=Ac[0].toUpperCase()+Ac.slice(1);en(Q2,"on"+Z2)}en(Kg,"onAnimationEnd");en(Gg,"onAnimationIteration");en(Yg,"onAnimationStart");en("dblclick","onDoubleClick");en("focusin","onFocus");en("focusout","onBlur");en(Xg,"onTransitionEnd");Sr("onMouseEnter",["mouseout","mouseover"]);Sr("onMouseLeave",["mouseout","mouseover"]);Sr("onPointerEnter",["pointerout","pointerover"]);Sr("onPointerLeave",["pointerout","pointerover"]);Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ya="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J2=new Set("cancel close invalid load scroll toggle".split(" ").concat(ya));function Wh(e,t,s){var n=e.type||"unknown-event";e.currentTarget=s,Q1(n,t,void 0,e),e.currentTarget=null}function Zg(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var n=e[s],a=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==o&&a.isPropagationStopped())break e;Wh(a,l,c),o=u}else for(i=0;i<n.length;i++){if(l=n[i],u=l.instance,c=l.currentTarget,l=l.listener,u!==o&&a.isPropagationStopped())break e;Wh(a,l,c),o=u}}}if(Mi)throw e=Fu,Mi=!1,Fu=null,e}function ue(e,t){var s=t[Gu];s===void 0&&(s=t[Gu]=new Set);var n=e+"__bubble";s.has(n)||(Jg(t,e,2,!1),s.add(n))}function Tc(e,t,s){var n=0;t&&(n|=4),Jg(s,e,n,t)}var zo="_reactListening"+Math.random().toString(36).slice(2);function Wa(e){if(!e[zo]){e[zo]=!0,og.forEach(function(s){s!=="selectionchange"&&(J2.has(s)||Tc(s,!1,e),Tc(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[zo]||(t[zo]=!0,Tc("selectionchange",!1,t))}}function Jg(e,t,s,n){switch(Ig(t)){case 1:var a=p2;break;case 4:a=h2;break;default:a=yf}s=a.bind(null,t,s,e),a=void 0,!Ou||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,s,{capture:!0,passive:a}):e.addEventListener(t,s,!0):a!==void 0?e.addEventListener(t,s,{passive:a}):e.addEventListener(t,s,!1)}function Rc(e,t,s,n,a){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var u=i.tag;if((u===3||u===4)&&(u=i.stateNode.containerInfo,u===a||u.nodeType===8&&u.parentNode===a))return;i=i.return}for(;l!==null;){if(i=xn(l),i===null)return;if(u=i.tag,u===5||u===6){n=o=i;continue e}l=l.parentNode}}n=n.return}jg(function(){var c=o,d=hf(s),f=[];e:{var m=Qg.get(e);if(m!==void 0){var g=bf,b=e;switch(e){case"keypress":if(hi(s)===0)break e;case"keydown":case"keyup":g=A2;break;case"focusin":b="focus",g=kc;break;case"focusout":b="blur",g=kc;break;case"beforeblur":case"afterblur":g=kc;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Dh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=g2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=D2;break;case Kg:case Gg:case Yg:g=b2;break;case Xg:g=M2;break;case"scroll":g=m2;break;case"wheel":g=I2;break;case"copy":case"cut":case"paste":g=j2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Mh}var v=(t&4)!==0,x=!v&&e==="scroll",h=v?m!==null?m+"Capture":null:m;v=[];for(var p=c,w;p!==null;){w=p;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,h!==null&&(j=Fa(p,h),j!=null&&v.push(Ha(p,j,w)))),x)break;p=p.return}0<v.length&&(m=new g(m,b,null,s,d),f.push({event:m,listeners:v}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",m&&s!==Lu&&(b=s.relatedTarget||s.fromElement)&&(xn(b)||b[xs]))break e;if((g||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,g?(b=s.relatedTarget||s.toElement,g=c,b=b?xn(b):null,b!==null&&(x=Un(b),b!==x||b.tag!==5&&b.tag!==6)&&(b=null)):(g=null,b=c),g!==b)){if(v=Dh,j="onMouseLeave",h="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(v=Mh,j="onPointerLeave",h="onPointerEnter",p="pointer"),x=g==null?m:rr(g),w=b==null?m:rr(b),m=new v(j,p+"leave",g,s,d),m.target=x,m.relatedTarget=w,j=null,xn(d)===c&&(v=new v(h,p+"enter",b,s,d),v.target=w,v.relatedTarget=x,j=v),x=j,g&&b)t:{for(v=g,h=b,p=0,w=v;w;w=Gn(w))p++;for(w=0,j=h;j;j=Gn(j))w++;for(;0<p-w;)v=Gn(v),p--;for(;0<w-p;)h=Gn(h),w--;for(;p--;){if(v===h||h!==null&&v===h.alternate)break t;v=Gn(v),h=Gn(h)}v=null}else v=null;g!==null&&Hh(f,m,g,v,!1),b!==null&&x!==null&&Hh(f,x,b,v,!0)}}e:{if(m=c?rr(c):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var S=z2;else if(Oh(m))if(Bg)S=K2;else{S=H2;var E=W2}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(S=q2);if(S&&(S=S(e,c))){Ug(f,S,s,d);break e}E&&E(e,m,c),e==="focusout"&&(E=m._wrapperState)&&E.controlled&&m.type==="number"&&Tu(m,"number",m.value)}switch(E=c?rr(c):window,e){case"focusin":(Oh(E)||E.contentEditable==="true")&&(sr=E,Bu=c,Ca=null);break;case"focusout":Ca=Bu=sr=null;break;case"mousedown":zu=!0;break;case"contextmenu":case"mouseup":case"dragend":zu=!1,Bh(f,s,d);break;case"selectionchange":if(X2)break;case"keydown":case"keyup":Bh(f,s,d)}var C;if(jf)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else tr?$g(e,s)&&(N="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(N="onCompositionStart");N&&(Fg&&s.locale!=="ko"&&(tr||N!=="onCompositionStart"?N==="onCompositionEnd"&&tr&&(C=Og()):(Ms=d,vf="value"in Ms?Ms.value:Ms.textContent,tr=!0)),E=$i(c,N),0<E.length&&(N=new _h(N,e,null,s,d),f.push({event:N,listeners:E}),C?N.data=C:(C=Vg(s),C!==null&&(N.data=C)))),(C=F2?$2(e,s):V2(e,s))&&(c=$i(c,"onBeforeInput"),0<c.length&&(d=new _h("onBeforeInput","beforeinput",null,s,d),f.push({event:d,listeners:c}),d.data=C))}Zg(f,t)})}function Ha(e,t,s){return{instance:e,listener:t,currentTarget:s}}function $i(e,t){for(var s=t+"Capture",n=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=Fa(e,s),o!=null&&n.unshift(Ha(e,o,a)),o=Fa(e,t),o!=null&&n.push(Ha(e,o,a))),e=e.return}return n}function Gn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Hh(e,t,s,n,a){for(var o=t._reactName,i=[];s!==null&&s!==n;){var l=s,u=l.alternate,c=l.stateNode;if(u!==null&&u===n)break;l.tag===5&&c!==null&&(l=c,a?(u=Fa(s,o),u!=null&&i.unshift(Ha(s,u,l))):a||(u=Fa(s,o),u!=null&&i.push(Ha(s,u,l)))),s=s.return}i.length!==0&&e.push({event:t,listeners:i})}var ek=/\r\n?/g,tk=/\u0000|\uFFFD/g;function qh(e){return(typeof e=="string"?e:""+e).replace(ek,`
`).replace(tk,"")}function Wo(e,t,s){if(t=qh(t),qh(e)!==t&&s)throw Error(U(425))}function Vi(){}var Wu=null,Hu=null;function qu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ku=typeof setTimeout=="function"?setTimeout:void 0,sk=typeof clearTimeout=="function"?clearTimeout:void 0,Kh=typeof Promise=="function"?Promise:void 0,nk=typeof queueMicrotask=="function"?queueMicrotask:typeof Kh<"u"?function(e){return Kh.resolve(null).then(e).catch(rk)}:Ku;function rk(e){setTimeout(function(){throw e})}function Dc(e,t){var s=t,n=0;do{var a=s.nextSibling;if(e.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(n===0){e.removeChild(a),Ua(t);return}n--}else s!=="$"&&s!=="$?"&&s!=="$!"||n++;s=a}while(s);Ua(t)}function Us(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Gh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var zr=Math.random().toString(36).slice(2),Kt="__reactFiber$"+zr,qa="__reactProps$"+zr,xs="__reactContainer$"+zr,Gu="__reactEvents$"+zr,ak="__reactListeners$"+zr,ok="__reactHandles$"+zr;function xn(e){var t=e[Kt];if(t)return t;for(var s=e.parentNode;s;){if(t=s[xs]||s[Kt]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=Gh(e);e!==null;){if(s=e[Kt])return s;e=Gh(e)}return t}e=s,s=e.parentNode}return null}function xo(e){return e=e[Kt]||e[xs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function rr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(U(33))}function El(e){return e[qa]||null}var Yu=[],ar=-1;function tn(e){return{current:e}}function de(e){0>ar||(e.current=Yu[ar],Yu[ar]=null,ar--)}function ie(e,t){ar++,Yu[ar]=e.current,e.current=t}var Ys={},He=tn(Ys),st=tn(!1),_n=Ys;function Cr(e,t){var s=e.type.contextTypes;if(!s)return Ys;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in s)a[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function nt(e){return e=e.childContextTypes,e!=null}function Ui(){de(st),de(He)}function Yh(e,t,s){if(He.current!==Ys)throw Error(U(168));ie(He,t),ie(st,s)}function ey(e,t,s){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return s;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(U(108,W1(e)||"Unknown",a));return ye({},s,n)}function Bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ys,_n=He.current,ie(He,e),ie(st,st.current),!0}function Xh(e,t,s){var n=e.stateNode;if(!n)throw Error(U(169));s?(e=ey(e,t,_n),n.__reactInternalMemoizedMergedChildContext=e,de(st),de(He),ie(He,e)):de(st),ie(st,s)}var is=null,Pl=!1,_c=!1;function ty(e){is===null?is=[e]:is.push(e)}function ik(e){Pl=!0,ty(e)}function sn(){if(!_c&&is!==null){_c=!0;var e=0,t=se;try{var s=is;for(se=1;e<s.length;e++){var n=s[e];do n=n(!0);while(n!==null)}is=null,Pl=!1}catch(a){throw is!==null&&(is=is.slice(e+1)),Cg(mf,sn),a}finally{se=t,_c=!1}}return null}var or=[],ir=0,zi=null,Wi=0,wt=[],jt=0,Mn=null,ls=1,cs="";function dn(e,t){or[ir++]=Wi,or[ir++]=zi,zi=e,Wi=t}function sy(e,t,s){wt[jt++]=ls,wt[jt++]=cs,wt[jt++]=Mn,Mn=e;var n=ls;e=cs;var a=32-Mt(n)-1;n&=~(1<<a),s+=1;var o=32-Mt(t)+a;if(30<o){var i=a-a%5;o=(n&(1<<i)-1).toString(32),n>>=i,a-=i,ls=1<<32-Mt(t)+a|s<<a|n,cs=o+e}else ls=1<<o|s<<a|n,cs=e}function kf(e){e.return!==null&&(dn(e,1),sy(e,1,0))}function Sf(e){for(;e===zi;)zi=or[--ir],or[ir]=null,Wi=or[--ir],or[ir]=null;for(;e===Mn;)Mn=wt[--jt],wt[jt]=null,cs=wt[--jt],wt[jt]=null,ls=wt[--jt],wt[jt]=null}var pt=null,ft=null,pe=!1,Dt=null;function ny(e,t){var s=Nt(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function Qh(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,pt=e,ft=Us(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,pt=e,ft=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=Mn!==null?{id:ls,overflow:cs}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=Nt(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,pt=e,ft=null,!0):!1;default:return!1}}function Xu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Qu(e){if(pe){var t=ft;if(t){var s=t;if(!Qh(e,t)){if(Xu(e))throw Error(U(418));t=Us(s.nextSibling);var n=pt;t&&Qh(e,t)?ny(n,s):(e.flags=e.flags&-4097|2,pe=!1,pt=e)}}else{if(Xu(e))throw Error(U(418));e.flags=e.flags&-4097|2,pe=!1,pt=e}}}function Zh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pt=e}function Ho(e){if(e!==pt)return!1;if(!pe)return Zh(e),pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!qu(e.type,e.memoizedProps)),t&&(t=ft)){if(Xu(e))throw ry(),Error(U(418));for(;t;)ny(e,t),t=Us(t.nextSibling)}if(Zh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){ft=Us(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}ft=null}}else ft=pt?Us(e.stateNode.nextSibling):null;return!0}function ry(){for(var e=ft;e;)e=Us(e.nextSibling)}function Er(){ft=pt=null,pe=!1}function Cf(e){Dt===null?Dt=[e]:Dt.push(e)}var lk=js.ReactCurrentBatchConfig;function oa(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(U(309));var n=s.stateNode}if(!n)throw Error(U(147,e));var a=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=a.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(U(284));if(!s._owner)throw Error(U(290,e))}return e}function qo(e,t){throw e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Jh(e){var t=e._init;return t(e._payload)}function ay(e){function t(h,p){if(e){var w=h.deletions;w===null?(h.deletions=[p],h.flags|=16):w.push(p)}}function s(h,p){if(!e)return null;for(;p!==null;)t(h,p),p=p.sibling;return null}function n(h,p){for(h=new Map;p!==null;)p.key!==null?h.set(p.key,p):h.set(p.index,p),p=p.sibling;return h}function a(h,p){return h=Hs(h,p),h.index=0,h.sibling=null,h}function o(h,p,w){return h.index=w,e?(w=h.alternate,w!==null?(w=w.index,w<p?(h.flags|=2,p):w):(h.flags|=2,p)):(h.flags|=1048576,p)}function i(h){return e&&h.alternate===null&&(h.flags|=2),h}function l(h,p,w,j){return p===null||p.tag!==6?(p=Vc(w,h.mode,j),p.return=h,p):(p=a(p,w),p.return=h,p)}function u(h,p,w,j){var S=w.type;return S===er?d(h,p,w.props.children,j,w.key):p!==null&&(p.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===As&&Jh(S)===p.type)?(j=a(p,w.props),j.ref=oa(h,p,w),j.return=h,j):(j=wi(w.type,w.key,w.props,null,h.mode,j),j.ref=oa(h,p,w),j.return=h,j)}function c(h,p,w,j){return p===null||p.tag!==4||p.stateNode.containerInfo!==w.containerInfo||p.stateNode.implementation!==w.implementation?(p=Uc(w,h.mode,j),p.return=h,p):(p=a(p,w.children||[]),p.return=h,p)}function d(h,p,w,j,S){return p===null||p.tag!==7?(p=jn(w,h.mode,j,S),p.return=h,p):(p=a(p,w),p.return=h,p)}function f(h,p,w){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Vc(""+p,h.mode,w),p.return=h,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Lo:return w=wi(p.type,p.key,p.props,null,h.mode,w),w.ref=oa(h,null,p),w.return=h,w;case Jn:return p=Uc(p,h.mode,w),p.return=h,p;case As:var j=p._init;return f(h,j(p._payload),w)}if(xa(p)||ta(p))return p=jn(p,h.mode,w,null),p.return=h,p;qo(h,p)}return null}function m(h,p,w,j){var S=p!==null?p.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:l(h,p,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Lo:return w.key===S?u(h,p,w,j):null;case Jn:return w.key===S?c(h,p,w,j):null;case As:return S=w._init,m(h,p,S(w._payload),j)}if(xa(w)||ta(w))return S!==null?null:d(h,p,w,j,null);qo(h,w)}return null}function g(h,p,w,j,S){if(typeof j=="string"&&j!==""||typeof j=="number")return h=h.get(w)||null,l(p,h,""+j,S);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Lo:return h=h.get(j.key===null?w:j.key)||null,u(p,h,j,S);case Jn:return h=h.get(j.key===null?w:j.key)||null,c(p,h,j,S);case As:var E=j._init;return g(h,p,w,E(j._payload),S)}if(xa(j)||ta(j))return h=h.get(w)||null,d(p,h,j,S,null);qo(p,j)}return null}function b(h,p,w,j){for(var S=null,E=null,C=p,N=p=0,k=null;C!==null&&N<w.length;N++){C.index>N?(k=C,C=null):k=C.sibling;var A=m(h,C,w[N],j);if(A===null){C===null&&(C=k);break}e&&C&&A.alternate===null&&t(h,C),p=o(A,p,N),E===null?S=A:E.sibling=A,E=A,C=k}if(N===w.length)return s(h,C),pe&&dn(h,N),S;if(C===null){for(;N<w.length;N++)C=f(h,w[N],j),C!==null&&(p=o(C,p,N),E===null?S=C:E.sibling=C,E=C);return pe&&dn(h,N),S}for(C=n(h,C);N<w.length;N++)k=g(C,h,N,w[N],j),k!==null&&(e&&k.alternate!==null&&C.delete(k.key===null?N:k.key),p=o(k,p,N),E===null?S=k:E.sibling=k,E=k);return e&&C.forEach(function(I){return t(h,I)}),pe&&dn(h,N),S}function v(h,p,w,j){var S=ta(w);if(typeof S!="function")throw Error(U(150));if(w=S.call(w),w==null)throw Error(U(151));for(var E=S=null,C=p,N=p=0,k=null,A=w.next();C!==null&&!A.done;N++,A=w.next()){C.index>N?(k=C,C=null):k=C.sibling;var I=m(h,C,A.value,j);if(I===null){C===null&&(C=k);break}e&&C&&I.alternate===null&&t(h,C),p=o(I,p,N),E===null?S=I:E.sibling=I,E=I,C=k}if(A.done)return s(h,C),pe&&dn(h,N),S;if(C===null){for(;!A.done;N++,A=w.next())A=f(h,A.value,j),A!==null&&(p=o(A,p,N),E===null?S=A:E.sibling=A,E=A);return pe&&dn(h,N),S}for(C=n(h,C);!A.done;N++,A=w.next())A=g(C,h,N,A.value,j),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?N:A.key),p=o(A,p,N),E===null?S=A:E.sibling=A,E=A);return e&&C.forEach(function(D){return t(h,D)}),pe&&dn(h,N),S}function x(h,p,w,j){if(typeof w=="object"&&w!==null&&w.type===er&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Lo:e:{for(var S=w.key,E=p;E!==null;){if(E.key===S){if(S=w.type,S===er){if(E.tag===7){s(h,E.sibling),p=a(E,w.props.children),p.return=h,h=p;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===As&&Jh(S)===E.type){s(h,E.sibling),p=a(E,w.props),p.ref=oa(h,E,w),p.return=h,h=p;break e}s(h,E);break}else t(h,E);E=E.sibling}w.type===er?(p=jn(w.props.children,h.mode,j,w.key),p.return=h,h=p):(j=wi(w.type,w.key,w.props,null,h.mode,j),j.ref=oa(h,p,w),j.return=h,h=j)}return i(h);case Jn:e:{for(E=w.key;p!==null;){if(p.key===E)if(p.tag===4&&p.stateNode.containerInfo===w.containerInfo&&p.stateNode.implementation===w.implementation){s(h,p.sibling),p=a(p,w.children||[]),p.return=h,h=p;break e}else{s(h,p);break}else t(h,p);p=p.sibling}p=Uc(w,h.mode,j),p.return=h,h=p}return i(h);case As:return E=w._init,x(h,p,E(w._payload),j)}if(xa(w))return b(h,p,w,j);if(ta(w))return v(h,p,w,j);qo(h,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,p!==null&&p.tag===6?(s(h,p.sibling),p=a(p,w),p.return=h,h=p):(s(h,p),p=Vc(w,h.mode,j),p.return=h,h=p),i(h)):s(h,p)}return x}var Pr=ay(!0),oy=ay(!1),Hi=tn(null),qi=null,lr=null,Ef=null;function Pf(){Ef=lr=qi=null}function Af(e){var t=Hi.current;de(Hi),e._currentValue=t}function Zu(e,t,s){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===s)break;e=e.return}}function vr(e,t){qi=e,Ef=lr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(tt=!0),e.firstContext=null)}function Ct(e){var t=e._currentValue;if(Ef!==e)if(e={context:e,memoizedValue:t,next:null},lr===null){if(qi===null)throw Error(U(308));lr=e,qi.dependencies={lanes:0,firstContext:e}}else lr=lr.next=e;return t}var gn=null;function Tf(e){gn===null?gn=[e]:gn.push(e)}function iy(e,t,s,n){var a=t.interleaved;return a===null?(s.next=s,Tf(t)):(s.next=a.next,a.next=s),t.interleaved=s,gs(e,n)}function gs(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Ts=!1;function Rf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ly(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ds(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bs(e,t,s){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ee&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,gs(e,s)}return a=n.interleaved,a===null?(t.next=t,Tf(n)):(t.next=a.next,a.next=t),n.interleaved=t,gs(e,s)}function mi(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,xf(e,s)}}function em(e,t){var s=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var a=null,o=null;if(s=s.firstBaseUpdate,s!==null){do{var i={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};o===null?a=o=i:o=o.next=i,s=s.next}while(s!==null);o===null?a=o=t:o=o.next=t}else a=o=t;s={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Ki(e,t,s,n){var a=e.updateQueue;Ts=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var u=l,c=u.next;u.next=null,i===null?o=c:i.next=c,i=u;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(o!==null){var f=a.baseState;i=0,d=c=u=null,l=o;do{var m=l.lane,g=l.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,v=l;switch(m=t,g=s,v.tag){case 1:if(b=v.payload,typeof b=="function"){f=b.call(g,f,m);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=v.payload,m=typeof b=="function"?b.call(g,f,m):b,m==null)break e;f=ye({},f,m);break e;case 2:Ts=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=a.effects,m===null?a.effects=[l]:m.push(l))}else g={eventTime:g,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=g,u=f):d=d.next=g,i|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(d===null&&(u=f),a.baseState=u,a.firstBaseUpdate=c,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);In|=i,e.lanes=i,e.memoizedState=f}}function tm(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=s,typeof a!="function")throw Error(U(191,a));a.call(n)}}}var go={},Xt=tn(go),Ka=tn(go),Ga=tn(go);function yn(e){if(e===go)throw Error(U(174));return e}function Df(e,t){switch(ie(Ga,t),ie(Ka,e),ie(Xt,go),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Du(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Du(t,e)}de(Xt),ie(Xt,t)}function Ar(){de(Xt),de(Ka),de(Ga)}function cy(e){yn(Ga.current);var t=yn(Xt.current),s=Du(t,e.type);t!==s&&(ie(Ka,e),ie(Xt,s))}function _f(e){Ka.current===e&&(de(Xt),de(Ka))}var he=tn(0);function Gi(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Mc=[];function Mf(){for(var e=0;e<Mc.length;e++)Mc[e]._workInProgressVersionPrimary=null;Mc.length=0}var xi=js.ReactCurrentDispatcher,Lc=js.ReactCurrentBatchConfig,Ln=0,xe=null,Pe=null,Re=null,Yi=!1,Ea=!1,Ya=0,ck=0;function Ve(){throw Error(U(321))}function Lf(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Ot(e[s],t[s]))return!1;return!0}function If(e,t,s,n,a,o){if(Ln=o,xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,xi.current=e===null||e.memoizedState===null?pk:hk,e=s(n,a),Ea){o=0;do{if(Ea=!1,Ya=0,25<=o)throw Error(U(301));o+=1,Re=Pe=null,t.updateQueue=null,xi.current=mk,e=s(n,a)}while(Ea)}if(xi.current=Xi,t=Pe!==null&&Pe.next!==null,Ln=0,Re=Pe=xe=null,Yi=!1,t)throw Error(U(300));return e}function Of(){var e=Ya!==0;return Ya=0,e}function qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?xe.memoizedState=Re=e:Re=Re.next=e,Re}function Et(){if(Pe===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=Pe.next;var t=Re===null?xe.memoizedState:Re.next;if(t!==null)Re=t,Pe=e;else{if(e===null)throw Error(U(310));Pe=e,e={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},Re===null?xe.memoizedState=Re=e:Re=Re.next=e}return Re}function Xa(e,t){return typeof t=="function"?t(e):t}function Ic(e){var t=Et(),s=t.queue;if(s===null)throw Error(U(311));s.lastRenderedReducer=e;var n=Pe,a=n.baseQueue,o=s.pending;if(o!==null){if(a!==null){var i=a.next;a.next=o.next,o.next=i}n.baseQueue=a=o,s.pending=null}if(a!==null){o=a.next,n=n.baseState;var l=i=null,u=null,c=o;do{var d=c.lane;if((Ln&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=f,i=n):u=u.next=f,xe.lanes|=d,In|=d}c=c.next}while(c!==null&&c!==o);u===null?i=n:u.next=l,Ot(n,t.memoizedState)||(tt=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=u,s.lastRenderedState=n}if(e=s.interleaved,e!==null){a=e;do o=a.lane,xe.lanes|=o,In|=o,a=a.next;while(a!==e)}else a===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function Oc(e){var t=Et(),s=t.queue;if(s===null)throw Error(U(311));s.lastRenderedReducer=e;var n=s.dispatch,a=s.pending,o=t.memoizedState;if(a!==null){s.pending=null;var i=a=a.next;do o=e(o,i.action),i=i.next;while(i!==a);Ot(o,t.memoizedState)||(tt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),s.lastRenderedState=o}return[o,n]}function uy(){}function dy(e,t){var s=xe,n=Et(),a=t(),o=!Ot(n.memoizedState,a);if(o&&(n.memoizedState=a,tt=!0),n=n.queue,Ff(hy.bind(null,s,n,e),[e]),n.getSnapshot!==t||o||Re!==null&&Re.memoizedState.tag&1){if(s.flags|=2048,Qa(9,py.bind(null,s,n,a,t),void 0,null),De===null)throw Error(U(349));Ln&30||fy(s,t,a)}return a}function fy(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function py(e,t,s,n){t.value=s,t.getSnapshot=n,my(t)&&xy(e)}function hy(e,t,s){return s(function(){my(t)&&xy(e)})}function my(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Ot(e,s)}catch{return!0}}function xy(e){var t=gs(e,1);t!==null&&Lt(t,e,1,-1)}function sm(e){var t=qt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xa,lastRenderedState:e},t.queue=e,e=e.dispatch=fk.bind(null,xe,e),[t.memoizedState,e]}function Qa(e,t,s,n){return e={tag:e,create:t,destroy:s,deps:n,next:null},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(n=s.next,s.next=e,e.next=n,t.lastEffect=e)),e}function gy(){return Et().memoizedState}function gi(e,t,s,n){var a=qt();xe.flags|=e,a.memoizedState=Qa(1|t,s,void 0,n===void 0?null:n)}function Al(e,t,s,n){var a=Et();n=n===void 0?null:n;var o=void 0;if(Pe!==null){var i=Pe.memoizedState;if(o=i.destroy,n!==null&&Lf(n,i.deps)){a.memoizedState=Qa(t,s,o,n);return}}xe.flags|=e,a.memoizedState=Qa(1|t,s,o,n)}function nm(e,t){return gi(8390656,8,e,t)}function Ff(e,t){return Al(2048,8,e,t)}function yy(e,t){return Al(4,2,e,t)}function vy(e,t){return Al(4,4,e,t)}function by(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wy(e,t,s){return s=s!=null?s.concat([e]):null,Al(4,4,by.bind(null,t,e),s)}function $f(){}function jy(e,t){var s=Et();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&Lf(t,n[1])?n[0]:(s.memoizedState=[e,t],e)}function Ny(e,t){var s=Et();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&Lf(t,n[1])?n[0]:(e=e(),s.memoizedState=[e,t],e)}function ky(e,t,s){return Ln&21?(Ot(s,t)||(s=Ag(),xe.lanes|=s,In|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,tt=!0),e.memoizedState=s)}function uk(e,t){var s=se;se=s!==0&&4>s?s:4,e(!0);var n=Lc.transition;Lc.transition={};try{e(!1),t()}finally{se=s,Lc.transition=n}}function Sy(){return Et().memoizedState}function dk(e,t,s){var n=Ws(e);if(s={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null},Cy(e))Ey(t,s);else if(s=iy(e,t,s,n),s!==null){var a=Ye();Lt(s,e,n,a),Py(s,t,n)}}function fk(e,t,s){var n=Ws(e),a={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null};if(Cy(e))Ey(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,s);if(a.hasEagerState=!0,a.eagerState=l,Ot(l,i)){var u=t.interleaved;u===null?(a.next=a,Tf(t)):(a.next=u.next,u.next=a),t.interleaved=a;return}}catch{}finally{}s=iy(e,t,a,n),s!==null&&(a=Ye(),Lt(s,e,n,a),Py(s,t,n))}}function Cy(e){var t=e.alternate;return e===xe||t!==null&&t===xe}function Ey(e,t){Ea=Yi=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function Py(e,t,s){if(s&4194240){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,xf(e,s)}}var Xi={readContext:Ct,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useInsertionEffect:Ve,useLayoutEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useMutableSource:Ve,useSyncExternalStore:Ve,useId:Ve,unstable_isNewReconciler:!1},pk={readContext:Ct,useCallback:function(e,t){return qt().memoizedState=[e,t===void 0?null:t],e},useContext:Ct,useEffect:nm,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,gi(4194308,4,by.bind(null,t,e),s)},useLayoutEffect:function(e,t){return gi(4194308,4,e,t)},useInsertionEffect:function(e,t){return gi(4,2,e,t)},useMemo:function(e,t){var s=qt();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var n=qt();return t=s!==void 0?s(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=dk.bind(null,xe,e),[n.memoizedState,e]},useRef:function(e){var t=qt();return e={current:e},t.memoizedState=e},useState:sm,useDebugValue:$f,useDeferredValue:function(e){return qt().memoizedState=e},useTransition:function(){var e=sm(!1),t=e[0];return e=uk.bind(null,e[1]),qt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var n=xe,a=qt();if(pe){if(s===void 0)throw Error(U(407));s=s()}else{if(s=t(),De===null)throw Error(U(349));Ln&30||fy(n,t,s)}a.memoizedState=s;var o={value:s,getSnapshot:t};return a.queue=o,nm(hy.bind(null,n,o,e),[e]),n.flags|=2048,Qa(9,py.bind(null,n,o,s,t),void 0,null),s},useId:function(){var e=qt(),t=De.identifierPrefix;if(pe){var s=cs,n=ls;s=(n&~(1<<32-Mt(n)-1)).toString(32)+s,t=":"+t+"R"+s,s=Ya++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=ck++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},hk={readContext:Ct,useCallback:jy,useContext:Ct,useEffect:Ff,useImperativeHandle:wy,useInsertionEffect:yy,useLayoutEffect:vy,useMemo:Ny,useReducer:Ic,useRef:gy,useState:function(){return Ic(Xa)},useDebugValue:$f,useDeferredValue:function(e){var t=Et();return ky(t,Pe.memoizedState,e)},useTransition:function(){var e=Ic(Xa)[0],t=Et().memoizedState;return[e,t]},useMutableSource:uy,useSyncExternalStore:dy,useId:Sy,unstable_isNewReconciler:!1},mk={readContext:Ct,useCallback:jy,useContext:Ct,useEffect:Ff,useImperativeHandle:wy,useInsertionEffect:yy,useLayoutEffect:vy,useMemo:Ny,useReducer:Oc,useRef:gy,useState:function(){return Oc(Xa)},useDebugValue:$f,useDeferredValue:function(e){var t=Et();return Pe===null?t.memoizedState=e:ky(t,Pe.memoizedState,e)},useTransition:function(){var e=Oc(Xa)[0],t=Et().memoizedState;return[e,t]},useMutableSource:uy,useSyncExternalStore:dy,useId:Sy,unstable_isNewReconciler:!1};function Tt(e,t){if(e&&e.defaultProps){t=ye({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function Ju(e,t,s,n){t=e.memoizedState,s=s(n,t),s=s==null?t:ye({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Tl={isMounted:function(e){return(e=e._reactInternals)?Un(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var n=Ye(),a=Ws(e),o=ds(n,a);o.payload=t,s!=null&&(o.callback=s),t=Bs(e,o,a),t!==null&&(Lt(t,e,a,n),mi(t,e,a))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var n=Ye(),a=Ws(e),o=ds(n,a);o.tag=1,o.payload=t,s!=null&&(o.callback=s),t=Bs(e,o,a),t!==null&&(Lt(t,e,a,n),mi(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=Ye(),n=Ws(e),a=ds(s,n);a.tag=2,t!=null&&(a.callback=t),t=Bs(e,a,n),t!==null&&(Lt(t,e,n,s),mi(t,e,n))}};function rm(e,t,s,n,a,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!za(s,n)||!za(a,o):!0}function Ay(e,t,s){var n=!1,a=Ys,o=t.contextType;return typeof o=="object"&&o!==null?o=Ct(o):(a=nt(t)?_n:He.current,n=t.contextTypes,o=(n=n!=null)?Cr(e,a):Ys),t=new t(s,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Tl,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function am(e,t,s,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,n),t.state!==e&&Tl.enqueueReplaceState(t,t.state,null)}function ed(e,t,s,n){var a=e.stateNode;a.props=s,a.state=e.memoizedState,a.refs={},Rf(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=Ct(o):(o=nt(t)?_n:He.current,a.context=Cr(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Ju(e,t,o,s),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Tl.enqueueReplaceState(a,a.state,null),Ki(e,s,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Tr(e,t){try{var s="",n=t;do s+=z1(n),n=n.return;while(n);var a=s}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function Fc(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function td(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var xk=typeof WeakMap=="function"?WeakMap:Map;function Ty(e,t,s){s=ds(-1,s),s.tag=3,s.payload={element:null};var n=t.value;return s.callback=function(){Zi||(Zi=!0,dd=n),td(e,t)},s}function Ry(e,t,s){s=ds(-1,s),s.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;s.payload=function(){return n(a)},s.callback=function(){td(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(s.callback=function(){td(e,t),typeof n!="function"&&(zs===null?zs=new Set([this]):zs.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),s}function om(e,t,s){var n=e.pingCache;if(n===null){n=e.pingCache=new xk;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(s)||(a.add(s),e=Tk.bind(null,e,t,s),t.then(e,e))}function im(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function lm(e,t,s,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=ds(-1,1),t.tag=2,Bs(s,t,1))),s.lanes|=1),e)}var gk=js.ReactCurrentOwner,tt=!1;function Ge(e,t,s,n){t.child=e===null?oy(t,null,s,n):Pr(t,e.child,s,n)}function cm(e,t,s,n,a){s=s.render;var o=t.ref;return vr(t,a),n=If(e,t,s,n,o,a),s=Of(),e!==null&&!tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ys(e,t,a)):(pe&&s&&kf(t),t.flags|=1,Ge(e,t,n,a),t.child)}function um(e,t,s,n,a){if(e===null){var o=s.type;return typeof o=="function"&&!Kf(o)&&o.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=o,Dy(e,t,o,n,a)):(e=wi(s.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var i=o.memoizedProps;if(s=s.compare,s=s!==null?s:za,s(i,n)&&e.ref===t.ref)return ys(e,t,a)}return t.flags|=1,e=Hs(o,n),e.ref=t.ref,e.return=t,t.child=e}function Dy(e,t,s,n,a){if(e!==null){var o=e.memoizedProps;if(za(o,n)&&e.ref===t.ref)if(tt=!1,t.pendingProps=n=o,(e.lanes&a)!==0)e.flags&131072&&(tt=!0);else return t.lanes=e.lanes,ys(e,t,a)}return sd(e,t,s,n,a)}function _y(e,t,s){var n=t.pendingProps,a=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ie(ur,ct),ct|=s;else{if(!(s&1073741824))return e=o!==null?o.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ie(ur,ct),ct|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:s,ie(ur,ct),ct|=n}else o!==null?(n=o.baseLanes|s,t.memoizedState=null):n=s,ie(ur,ct),ct|=n;return Ge(e,t,a,s),t.child}function My(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function sd(e,t,s,n,a){var o=nt(s)?_n:He.current;return o=Cr(t,o),vr(t,a),s=If(e,t,s,n,o,a),n=Of(),e!==null&&!tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ys(e,t,a)):(pe&&n&&kf(t),t.flags|=1,Ge(e,t,s,a),t.child)}function dm(e,t,s,n,a){if(nt(s)){var o=!0;Bi(t)}else o=!1;if(vr(t,a),t.stateNode===null)yi(e,t),Ay(t,s,n),ed(t,s,n,a),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var u=i.context,c=s.contextType;typeof c=="object"&&c!==null?c=Ct(c):(c=nt(s)?_n:He.current,c=Cr(t,c));var d=s.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||u!==c)&&am(t,i,n,c),Ts=!1;var m=t.memoizedState;i.state=m,Ki(t,n,i,a),u=t.memoizedState,l!==n||m!==u||st.current||Ts?(typeof d=="function"&&(Ju(t,s,d,n),u=t.memoizedState),(l=Ts||rm(t,s,l,n,m,u,c))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),i.props=n,i.state=u,i.context=c,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,ly(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:Tt(t.type,l),i.props=c,f=t.pendingProps,m=i.context,u=s.contextType,typeof u=="object"&&u!==null?u=Ct(u):(u=nt(s)?_n:He.current,u=Cr(t,u));var g=s.getDerivedStateFromProps;(d=typeof g=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||m!==u)&&am(t,i,n,u),Ts=!1,m=t.memoizedState,i.state=m,Ki(t,n,i,a);var b=t.memoizedState;l!==f||m!==b||st.current||Ts?(typeof g=="function"&&(Ju(t,s,g,n),b=t.memoizedState),(c=Ts||rm(t,s,c,n,m,b,u)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,b,u),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,b,u)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),i.props=n,i.state=b,i.context=u,n=c):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return nd(e,t,s,n,o,a)}function nd(e,t,s,n,a,o){My(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&Xh(t,s,!1),ys(e,t,o);n=t.stateNode,gk.current=t;var l=i&&typeof s.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Pr(t,e.child,null,o),t.child=Pr(t,null,l,o)):Ge(e,t,l,o),t.memoizedState=n.state,a&&Xh(t,s,!0),t.child}function Ly(e){var t=e.stateNode;t.pendingContext?Yh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Yh(e,t.context,!1),Df(e,t.containerInfo)}function fm(e,t,s,n,a){return Er(),Cf(a),t.flags|=256,Ge(e,t,s,n),t.child}var rd={dehydrated:null,treeContext:null,retryLane:0};function ad(e){return{baseLanes:e,cachePool:null,transitions:null}}function Iy(e,t,s){var n=t.pendingProps,a=he.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ie(he,a&1),e===null)return Qu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=_l(i,n,0,null),e=jn(e,n,s,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=ad(s),t.memoizedState=rd,e):Vf(t,i));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return yk(e,t,i,n,l,a,s);if(o){o=n.fallback,i=t.mode,a=e.child,l=a.sibling;var u={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=Hs(a,u),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?o=Hs(l,o):(o=jn(o,i,s,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?ad(s):{baseLanes:i.baseLanes|s,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~s,t.memoizedState=rd,n}return o=e.child,e=o.sibling,n=Hs(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=s),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n}function Vf(e,t){return t=_l({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ko(e,t,s,n){return n!==null&&Cf(n),Pr(t,e.child,null,s),e=Vf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function yk(e,t,s,n,a,o,i){if(s)return t.flags&256?(t.flags&=-257,n=Fc(Error(U(422))),Ko(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,a=t.mode,n=_l({mode:"visible",children:n.children},a,0,null),o=jn(o,a,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&Pr(t,e.child,null,i),t.child.memoizedState=ad(i),t.memoizedState=rd,o);if(!(t.mode&1))return Ko(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error(U(419)),n=Fc(o,n,void 0),Ko(e,t,i,n)}if(l=(i&e.childLanes)!==0,tt||l){if(n=De,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,gs(e,a),Lt(n,e,a,-1))}return qf(),n=Fc(Error(U(421))),Ko(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Rk.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,ft=Us(a.nextSibling),pt=t,pe=!0,Dt=null,e!==null&&(wt[jt++]=ls,wt[jt++]=cs,wt[jt++]=Mn,ls=e.id,cs=e.overflow,Mn=t),t=Vf(t,n.children),t.flags|=4096,t)}function pm(e,t,s){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Zu(e.return,t,s)}function $c(e,t,s,n,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=s,o.tailMode=a)}function Oy(e,t,s){var n=t.pendingProps,a=n.revealOrder,o=n.tail;if(Ge(e,t,n.children,s),n=he.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&pm(e,s,t);else if(e.tag===19)pm(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ie(he,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(s=t.child,a=null;s!==null;)e=s.alternate,e!==null&&Gi(e)===null&&(a=s),s=s.sibling;s=a,s===null?(a=t.child,t.child=null):(a=s.sibling,s.sibling=null),$c(t,!1,a,s,o);break;case"backwards":for(s=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Gi(e)===null){t.child=a;break}e=a.sibling,a.sibling=s,s=a,a=e}$c(t,!0,s,null,o);break;case"together":$c(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function yi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ys(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),In|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,s=Hs(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=Hs(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function vk(e,t,s){switch(t.tag){case 3:Ly(t),Er();break;case 5:cy(t);break;case 1:nt(t.type)&&Bi(t);break;case 4:Df(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;ie(Hi,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ie(he,he.current&1),t.flags|=128,null):s&t.child.childLanes?Iy(e,t,s):(ie(he,he.current&1),e=ys(e,t,s),e!==null?e.sibling:null);ie(he,he.current&1);break;case 19:if(n=(s&t.childLanes)!==0,e.flags&128){if(n)return Oy(e,t,s);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ie(he,he.current),n)break;return null;case 22:case 23:return t.lanes=0,_y(e,t,s)}return ys(e,t,s)}var Fy,od,$y,Vy;Fy=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};od=function(){};$y=function(e,t,s,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,yn(Xt.current);var o=null;switch(s){case"input":a=Pu(e,a),n=Pu(e,n),o=[];break;case"select":a=ye({},a,{value:void 0}),n=ye({},n,{value:void 0}),o=[];break;case"textarea":a=Ru(e,a),n=Ru(e,n),o=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Vi)}_u(s,n);var i;s=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var l=a[c];for(i in l)l.hasOwnProperty(i)&&(s||(s={}),s[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ia.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in n){var u=n[c];if(l=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(i in l)!l.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(s||(s={}),s[i]="");for(i in u)u.hasOwnProperty(i)&&l[i]!==u[i]&&(s||(s={}),s[i]=u[i])}else s||(o||(o=[]),o.push(c,s)),s=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(o=o||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ia.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&ue("scroll",e),o||l===u||(o=[])):(o=o||[]).push(c,u))}s&&(o=o||[]).push("style",s);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};Vy=function(e,t,s,n){s!==n&&(t.flags|=4)};function ia(e,t){if(!pe)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ue(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,n=0;if(t)for(var a=e.child;a!==null;)s|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)s|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=s,t}function bk(e,t,s){var n=t.pendingProps;switch(Sf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ue(t),null;case 1:return nt(t.type)&&Ui(),Ue(t),null;case 3:return n=t.stateNode,Ar(),de(st),de(He),Mf(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ho(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Dt!==null&&(hd(Dt),Dt=null))),od(e,t),Ue(t),null;case 5:_f(t);var a=yn(Ga.current);if(s=t.type,e!==null&&t.stateNode!=null)$y(e,t,s,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(U(166));return Ue(t),null}if(e=yn(Xt.current),Ho(t)){n=t.stateNode,s=t.type;var o=t.memoizedProps;switch(n[Kt]=t,n[qa]=o,e=(t.mode&1)!==0,s){case"dialog":ue("cancel",n),ue("close",n);break;case"iframe":case"object":case"embed":ue("load",n);break;case"video":case"audio":for(a=0;a<ya.length;a++)ue(ya[a],n);break;case"source":ue("error",n);break;case"img":case"image":case"link":ue("error",n),ue("load",n);break;case"details":ue("toggle",n);break;case"input":jh(n,o),ue("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},ue("invalid",n);break;case"textarea":kh(n,o),ue("invalid",n)}_u(s,o),a=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&Wo(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Wo(n.textContent,l,e),a=["children",""+l]):Ia.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&ue("scroll",n)}switch(s){case"input":Io(n),Nh(n,o,!0);break;case"textarea":Io(n),Sh(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Vi)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=hg(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(s,{is:n.is}):(e=i.createElement(s),s==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,s),e[Kt]=t,e[qa]=n,Fy(e,t,!1,!1),t.stateNode=e;e:{switch(i=Mu(s,n),s){case"dialog":ue("cancel",e),ue("close",e),a=n;break;case"iframe":case"object":case"embed":ue("load",e),a=n;break;case"video":case"audio":for(a=0;a<ya.length;a++)ue(ya[a],e);a=n;break;case"source":ue("error",e),a=n;break;case"img":case"image":case"link":ue("error",e),ue("load",e),a=n;break;case"details":ue("toggle",e),a=n;break;case"input":jh(e,n),a=Pu(e,n),ue("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=ye({},n,{value:void 0}),ue("invalid",e);break;case"textarea":kh(e,n),a=Ru(e,n),ue("invalid",e);break;default:a=n}_u(s,a),l=a;for(o in l)if(l.hasOwnProperty(o)){var u=l[o];o==="style"?gg(e,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&mg(e,u)):o==="children"?typeof u=="string"?(s!=="textarea"||u!=="")&&Oa(e,u):typeof u=="number"&&Oa(e,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ia.hasOwnProperty(o)?u!=null&&o==="onScroll"&&ue("scroll",e):u!=null&&uf(e,o,u,i))}switch(s){case"input":Io(e),Nh(e,n,!1);break;case"textarea":Io(e),Sh(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Gs(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?mr(e,!!n.multiple,o,!1):n.defaultValue!=null&&mr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Vi)}switch(s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ue(t),null;case 6:if(e&&t.stateNode!=null)Vy(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(U(166));if(s=yn(Ga.current),yn(Xt.current),Ho(t)){if(n=t.stateNode,s=t.memoizedProps,n[Kt]=t,(o=n.nodeValue!==s)&&(e=pt,e!==null))switch(e.tag){case 3:Wo(n.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Wo(n.nodeValue,s,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(s.nodeType===9?s:s.ownerDocument).createTextNode(n),n[Kt]=t,t.stateNode=n}return Ue(t),null;case 13:if(de(he),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(pe&&ft!==null&&t.mode&1&&!(t.flags&128))ry(),Er(),t.flags|=98560,o=!1;else if(o=Ho(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(U(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(U(317));o[Kt]=t}else Er(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ue(t),o=!1}else Dt!==null&&(hd(Dt),Dt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||he.current&1?Ae===0&&(Ae=3):qf())),t.updateQueue!==null&&(t.flags|=4),Ue(t),null);case 4:return Ar(),od(e,t),e===null&&Wa(t.stateNode.containerInfo),Ue(t),null;case 10:return Af(t.type._context),Ue(t),null;case 17:return nt(t.type)&&Ui(),Ue(t),null;case 19:if(de(he),o=t.memoizedState,o===null)return Ue(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)ia(o,!1);else{if(Ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Gi(e),i!==null){for(t.flags|=128,ia(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=s,s=t.child;s!==null;)o=s,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return ie(he,he.current&1|2),t.child}e=e.sibling}o.tail!==null&&je()>Rr&&(t.flags|=128,n=!0,ia(o,!1),t.lanes=4194304)}else{if(!n)if(e=Gi(i),e!==null){if(t.flags|=128,n=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),ia(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!pe)return Ue(t),null}else 2*je()-o.renderingStartTime>Rr&&s!==1073741824&&(t.flags|=128,n=!0,ia(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(s=o.last,s!==null?s.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=je(),t.sibling=null,s=he.current,ie(he,n?s&1|2:s&1),t):(Ue(t),null);case 22:case 23:return Hf(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ct&1073741824&&(Ue(t),t.subtreeFlags&6&&(t.flags|=8192)):Ue(t),null;case 24:return null;case 25:return null}throw Error(U(156,t.tag))}function wk(e,t){switch(Sf(t),t.tag){case 1:return nt(t.type)&&Ui(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ar(),de(st),de(He),Mf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return _f(t),null;case 13:if(de(he),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));Er()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return de(he),null;case 4:return Ar(),null;case 10:return Af(t.type._context),null;case 22:case 23:return Hf(),null;case 24:return null;default:return null}}var Go=!1,ze=!1,jk=typeof WeakSet=="function"?WeakSet:Set,W=null;function cr(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(n){ve(e,t,n)}else s.current=null}function id(e,t,s){try{s()}catch(n){ve(e,t,n)}}var hm=!1;function Nk(e,t){if(Wu=Oi,e=Hg(),Nf(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var a=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{s.nodeType,o.nodeType}catch{s=null;break e}var i=0,l=-1,u=-1,c=0,d=0,f=e,m=null;t:for(;;){for(var g;f!==s||a!==0&&f.nodeType!==3||(l=i+a),f!==o||n!==0&&f.nodeType!==3||(u=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(g=f.firstChild)!==null;)m=f,f=g;for(;;){if(f===e)break t;if(m===s&&++c===a&&(l=i),m===o&&++d===n&&(u=i),(g=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=g}s=l===-1||u===-1?null:{start:l,end:u}}else s=null}s=s||{start:0,end:0}}else s=null;for(Hu={focusedElem:e,selectionRange:s},Oi=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var v=b.memoizedProps,x=b.memoizedState,h=t.stateNode,p=h.getSnapshotBeforeUpdate(t.elementType===t.type?v:Tt(t.type,v),x);h.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(j){ve(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return b=hm,hm=!1,b}function Pa(e,t,s){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&id(t,s,o)}a=a.next}while(a!==n)}}function Rl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var n=s.create;s.destroy=n()}s=s.next}while(s!==t)}}function ld(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function Uy(e){var t=e.alternate;t!==null&&(e.alternate=null,Uy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Kt],delete t[qa],delete t[Gu],delete t[ak],delete t[ok])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function By(e){return e.tag===5||e.tag===3||e.tag===4}function mm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||By(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cd(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=Vi));else if(n!==4&&(e=e.child,e!==null))for(cd(e,t,s),e=e.sibling;e!==null;)cd(e,t,s),e=e.sibling}function ud(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(ud(e,t,s),e=e.sibling;e!==null;)ud(e,t,s),e=e.sibling}var Me=null,Rt=!1;function ks(e,t,s){for(s=s.child;s!==null;)zy(e,t,s),s=s.sibling}function zy(e,t,s){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(Nl,s)}catch{}switch(s.tag){case 5:ze||cr(s,t);case 6:var n=Me,a=Rt;Me=null,ks(e,t,s),Me=n,Rt=a,Me!==null&&(Rt?(e=Me,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Me.removeChild(s.stateNode));break;case 18:Me!==null&&(Rt?(e=Me,s=s.stateNode,e.nodeType===8?Dc(e.parentNode,s):e.nodeType===1&&Dc(e,s),Ua(e)):Dc(Me,s.stateNode));break;case 4:n=Me,a=Rt,Me=s.stateNode.containerInfo,Rt=!0,ks(e,t,s),Me=n,Rt=a;break;case 0:case 11:case 14:case 15:if(!ze&&(n=s.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var o=a,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&id(s,t,i),a=a.next}while(a!==n)}ks(e,t,s);break;case 1:if(!ze&&(cr(s,t),n=s.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=s.memoizedProps,n.state=s.memoizedState,n.componentWillUnmount()}catch(l){ve(s,t,l)}ks(e,t,s);break;case 21:ks(e,t,s);break;case 22:s.mode&1?(ze=(n=ze)||s.memoizedState!==null,ks(e,t,s),ze=n):ks(e,t,s);break;default:ks(e,t,s)}}function xm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new jk),t.forEach(function(n){var a=Dk.bind(null,e,n);s.has(n)||(s.add(n),n.then(a,a))})}}function At(e,t){var s=t.deletions;if(s!==null)for(var n=0;n<s.length;n++){var a=s[n];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:Me=l.stateNode,Rt=!1;break e;case 3:Me=l.stateNode.containerInfo,Rt=!0;break e;case 4:Me=l.stateNode.containerInfo,Rt=!0;break e}l=l.return}if(Me===null)throw Error(U(160));zy(o,i,a),Me=null,Rt=!1;var u=a.alternate;u!==null&&(u.return=null),a.return=null}catch(c){ve(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Wy(t,e),t=t.sibling}function Wy(e,t){var s=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(At(t,e),zt(e),n&4){try{Pa(3,e,e.return),Rl(3,e)}catch(v){ve(e,e.return,v)}try{Pa(5,e,e.return)}catch(v){ve(e,e.return,v)}}break;case 1:At(t,e),zt(e),n&512&&s!==null&&cr(s,s.return);break;case 5:if(At(t,e),zt(e),n&512&&s!==null&&cr(s,s.return),e.flags&32){var a=e.stateNode;try{Oa(a,"")}catch(v){ve(e,e.return,v)}}if(n&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,i=s!==null?s.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&fg(a,o),Mu(l,i);var c=Mu(l,o);for(i=0;i<u.length;i+=2){var d=u[i],f=u[i+1];d==="style"?gg(a,f):d==="dangerouslySetInnerHTML"?mg(a,f):d==="children"?Oa(a,f):uf(a,d,f,c)}switch(l){case"input":Au(a,o);break;case"textarea":pg(a,o);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?mr(a,!!o.multiple,g,!1):m!==!!o.multiple&&(o.defaultValue!=null?mr(a,!!o.multiple,o.defaultValue,!0):mr(a,!!o.multiple,o.multiple?[]:"",!1))}a[qa]=o}catch(v){ve(e,e.return,v)}}break;case 6:if(At(t,e),zt(e),n&4){if(e.stateNode===null)throw Error(U(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(v){ve(e,e.return,v)}}break;case 3:if(At(t,e),zt(e),n&4&&s!==null&&s.memoizedState.isDehydrated)try{Ua(t.containerInfo)}catch(v){ve(e,e.return,v)}break;case 4:At(t,e),zt(e);break;case 13:At(t,e),zt(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(zf=je())),n&4&&xm(e);break;case 22:if(d=s!==null&&s.memoizedState!==null,e.mode&1?(ze=(c=ze)||d,At(t,e),ze=c):At(t,e),zt(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(W=e,d=e.child;d!==null;){for(f=W=d;W!==null;){switch(m=W,g=m.child,m.tag){case 0:case 11:case 14:case 15:Pa(4,m,m.return);break;case 1:cr(m,m.return);var b=m.stateNode;if(typeof b.componentWillUnmount=="function"){n=m,s=m.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(v){ve(n,s,v)}}break;case 5:cr(m,m.return);break;case 22:if(m.memoizedState!==null){ym(f);continue}}g!==null?(g.return=m,W=g):ym(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,c?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,u=f.memoizedProps.style,i=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=xg("display",i))}catch(v){ve(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){ve(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:At(t,e),zt(e),n&4&&xm(e);break;case 21:break;default:At(t,e),zt(e)}}function zt(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(By(s)){var n=s;break e}s=s.return}throw Error(U(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Oa(a,""),n.flags&=-33);var o=mm(e);ud(e,o,a);break;case 3:case 4:var i=n.stateNode.containerInfo,l=mm(e);cd(e,l,i);break;default:throw Error(U(161))}}catch(u){ve(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function kk(e,t,s){W=e,Hy(e)}function Hy(e,t,s){for(var n=(e.mode&1)!==0;W!==null;){var a=W,o=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||Go;if(!i){var l=a.alternate,u=l!==null&&l.memoizedState!==null||ze;l=Go;var c=ze;if(Go=i,(ze=u)&&!c)for(W=a;W!==null;)i=W,u=i.child,i.tag===22&&i.memoizedState!==null?vm(a):u!==null?(u.return=i,W=u):vm(a);for(;o!==null;)W=o,Hy(o),o=o.sibling;W=a,Go=l,ze=c}gm(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,W=o):gm(e)}}function gm(e){for(;W!==null;){var t=W;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ze||Rl(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ze)if(s===null)n.componentDidMount();else{var a=t.elementType===t.type?s.memoizedProps:Tt(t.type,s.memoizedProps);n.componentDidUpdate(a,s.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&tm(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}tm(t,i,s)}break;case 5:var l=t.stateNode;if(s===null&&t.flags&4){s=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&s.focus();break;case"img":u.src&&(s.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ua(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}ze||t.flags&512&&ld(t)}catch(m){ve(t,t.return,m)}}if(t===e){W=null;break}if(s=t.sibling,s!==null){s.return=t.return,W=s;break}W=t.return}}function ym(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var s=t.sibling;if(s!==null){s.return=t.return,W=s;break}W=t.return}}function vm(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{Rl(4,t)}catch(u){ve(t,s,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(u){ve(t,a,u)}}var o=t.return;try{ld(t)}catch(u){ve(t,o,u)}break;case 5:var i=t.return;try{ld(t)}catch(u){ve(t,i,u)}}}catch(u){ve(t,t.return,u)}if(t===e){W=null;break}var l=t.sibling;if(l!==null){l.return=t.return,W=l;break}W=t.return}}var Sk=Math.ceil,Qi=js.ReactCurrentDispatcher,Uf=js.ReactCurrentOwner,kt=js.ReactCurrentBatchConfig,ee=0,De=null,Se=null,Oe=0,ct=0,ur=tn(0),Ae=0,Za=null,In=0,Dl=0,Bf=0,Aa=null,et=null,zf=0,Rr=1/0,os=null,Zi=!1,dd=null,zs=null,Yo=!1,Ls=null,Ji=0,Ta=0,fd=null,vi=-1,bi=0;function Ye(){return ee&6?je():vi!==-1?vi:vi=je()}function Ws(e){return e.mode&1?ee&2&&Oe!==0?Oe&-Oe:lk.transition!==null?(bi===0&&(bi=Ag()),bi):(e=se,e!==0||(e=window.event,e=e===void 0?16:Ig(e.type)),e):1}function Lt(e,t,s,n){if(50<Ta)throw Ta=0,fd=null,Error(U(185));ho(e,s,n),(!(ee&2)||e!==De)&&(e===De&&(!(ee&2)&&(Dl|=s),Ae===4&&_s(e,Oe)),rt(e,n),s===1&&ee===0&&!(t.mode&1)&&(Rr=je()+500,Pl&&sn()))}function rt(e,t){var s=e.callbackNode;l2(e,t);var n=Ii(e,e===De?Oe:0);if(n===0)s!==null&&Ph(s),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(s!=null&&Ph(s),t===1)e.tag===0?ik(bm.bind(null,e)):ty(bm.bind(null,e)),nk(function(){!(ee&6)&&sn()}),s=null;else{switch(Tg(n)){case 1:s=mf;break;case 4:s=Eg;break;case 16:s=Li;break;case 536870912:s=Pg;break;default:s=Li}s=Jy(s,qy.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function qy(e,t){if(vi=-1,bi=0,ee&6)throw Error(U(327));var s=e.callbackNode;if(br()&&e.callbackNode!==s)return null;var n=Ii(e,e===De?Oe:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=el(e,n);else{t=n;var a=ee;ee|=2;var o=Gy();(De!==e||Oe!==t)&&(os=null,Rr=je()+500,wn(e,t));do try{Pk();break}catch(l){Ky(e,l)}while(!0);Pf(),Qi.current=o,ee=a,Se!==null?t=0:(De=null,Oe=0,t=Ae)}if(t!==0){if(t===2&&(a=$u(e),a!==0&&(n=a,t=pd(e,a))),t===1)throw s=Za,wn(e,0),_s(e,n),rt(e,je()),s;if(t===6)_s(e,n);else{if(a=e.current.alternate,!(n&30)&&!Ck(a)&&(t=el(e,n),t===2&&(o=$u(e),o!==0&&(n=o,t=pd(e,o))),t===1))throw s=Za,wn(e,0),_s(e,n),rt(e,je()),s;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(U(345));case 2:fn(e,et,os);break;case 3:if(_s(e,n),(n&130023424)===n&&(t=zf+500-je(),10<t)){if(Ii(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Ye(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Ku(fn.bind(null,e,et,os),t);break}fn(e,et,os);break;case 4:if(_s(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-Mt(n);o=1<<i,i=t[i],i>a&&(a=i),n&=~o}if(n=a,n=je()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Sk(n/1960))-n,10<n){e.timeoutHandle=Ku(fn.bind(null,e,et,os),n);break}fn(e,et,os);break;case 5:fn(e,et,os);break;default:throw Error(U(329))}}}return rt(e,je()),e.callbackNode===s?qy.bind(null,e):null}function pd(e,t){var s=Aa;return e.current.memoizedState.isDehydrated&&(wn(e,t).flags|=256),e=el(e,t),e!==2&&(t=et,et=s,t!==null&&hd(t)),e}function hd(e){et===null?et=e:et.push.apply(et,e)}function Ck(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var n=0;n<s.length;n++){var a=s[n],o=a.getSnapshot;a=a.value;try{if(!Ot(o(),a))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _s(e,t){for(t&=~Bf,t&=~Dl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-Mt(t),n=1<<s;e[s]=-1,t&=~n}}function bm(e){if(ee&6)throw Error(U(327));br();var t=Ii(e,0);if(!(t&1))return rt(e,je()),null;var s=el(e,t);if(e.tag!==0&&s===2){var n=$u(e);n!==0&&(t=n,s=pd(e,n))}if(s===1)throw s=Za,wn(e,0),_s(e,t),rt(e,je()),s;if(s===6)throw Error(U(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,fn(e,et,os),rt(e,je()),null}function Wf(e,t){var s=ee;ee|=1;try{return e(t)}finally{ee=s,ee===0&&(Rr=je()+500,Pl&&sn())}}function On(e){Ls!==null&&Ls.tag===0&&!(ee&6)&&br();var t=ee;ee|=1;var s=kt.transition,n=se;try{if(kt.transition=null,se=1,e)return e()}finally{se=n,kt.transition=s,ee=t,!(ee&6)&&sn()}}function Hf(){ct=ur.current,de(ur)}function wn(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,sk(s)),Se!==null)for(s=Se.return;s!==null;){var n=s;switch(Sf(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ui();break;case 3:Ar(),de(st),de(He),Mf();break;case 5:_f(n);break;case 4:Ar();break;case 13:de(he);break;case 19:de(he);break;case 10:Af(n.type._context);break;case 22:case 23:Hf()}s=s.return}if(De=e,Se=e=Hs(e.current,null),Oe=ct=t,Ae=0,Za=null,Bf=Dl=In=0,et=Aa=null,gn!==null){for(t=0;t<gn.length;t++)if(s=gn[t],n=s.interleaved,n!==null){s.interleaved=null;var a=n.next,o=s.pending;if(o!==null){var i=o.next;o.next=a,n.next=i}s.pending=n}gn=null}return e}function Ky(e,t){do{var s=Se;try{if(Pf(),xi.current=Xi,Yi){for(var n=xe.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Yi=!1}if(Ln=0,Re=Pe=xe=null,Ea=!1,Ya=0,Uf.current=null,s===null||s.return===null){Ae=1,Za=t,Se=null;break}e:{var o=e,i=s.return,l=s,u=t;if(t=Oe,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=im(i);if(g!==null){g.flags&=-257,lm(g,i,l,o,t),g.mode&1&&om(o,c,t),t=g,u=c;var b=t.updateQueue;if(b===null){var v=new Set;v.add(u),t.updateQueue=v}else b.add(u);break e}else{if(!(t&1)){om(o,c,t),qf();break e}u=Error(U(426))}}else if(pe&&l.mode&1){var x=im(i);if(x!==null){!(x.flags&65536)&&(x.flags|=256),lm(x,i,l,o,t),Cf(Tr(u,l));break e}}o=u=Tr(u,l),Ae!==4&&(Ae=2),Aa===null?Aa=[o]:Aa.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var h=Ty(o,u,t);em(o,h);break e;case 1:l=u;var p=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(zs===null||!zs.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t;var j=Ry(o,l,t);em(o,j);break e}}o=o.return}while(o!==null)}Xy(s)}catch(S){t=S,Se===s&&s!==null&&(Se=s=s.return);continue}break}while(!0)}function Gy(){var e=Qi.current;return Qi.current=Xi,e===null?Xi:e}function qf(){(Ae===0||Ae===3||Ae===2)&&(Ae=4),De===null||!(In&268435455)&&!(Dl&268435455)||_s(De,Oe)}function el(e,t){var s=ee;ee|=2;var n=Gy();(De!==e||Oe!==t)&&(os=null,wn(e,t));do try{Ek();break}catch(a){Ky(e,a)}while(!0);if(Pf(),ee=s,Qi.current=n,Se!==null)throw Error(U(261));return De=null,Oe=0,Ae}function Ek(){for(;Se!==null;)Yy(Se)}function Pk(){for(;Se!==null&&!J1();)Yy(Se)}function Yy(e){var t=Zy(e.alternate,e,ct);e.memoizedProps=e.pendingProps,t===null?Xy(e):Se=t,Uf.current=null}function Xy(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=wk(s,t),s!==null){s.flags&=32767,Se=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ae=6,Se=null;return}}else if(s=bk(s,t,ct),s!==null){Se=s;return}if(t=t.sibling,t!==null){Se=t;return}Se=t=e}while(t!==null);Ae===0&&(Ae=5)}function fn(e,t,s){var n=se,a=kt.transition;try{kt.transition=null,se=1,Ak(e,t,s,n)}finally{kt.transition=a,se=n}return null}function Ak(e,t,s,n){do br();while(Ls!==null);if(ee&6)throw Error(U(327));s=e.finishedWork;var a=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(U(177));e.callbackNode=null,e.callbackPriority=0;var o=s.lanes|s.childLanes;if(c2(e,o),e===De&&(Se=De=null,Oe=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Yo||(Yo=!0,Jy(Li,function(){return br(),null})),o=(s.flags&15990)!==0,s.subtreeFlags&15990||o){o=kt.transition,kt.transition=null;var i=se;se=1;var l=ee;ee|=4,Uf.current=null,Nk(e,s),Wy(s,e),Y2(Hu),Oi=!!Wu,Hu=Wu=null,e.current=s,kk(s),e2(),ee=l,se=i,kt.transition=o}else e.current=s;if(Yo&&(Yo=!1,Ls=e,Ji=a),o=e.pendingLanes,o===0&&(zs=null),n2(s.stateNode),rt(e,je()),t!==null)for(n=e.onRecoverableError,s=0;s<t.length;s++)a=t[s],n(a.value,{componentStack:a.stack,digest:a.digest});if(Zi)throw Zi=!1,e=dd,dd=null,e;return Ji&1&&e.tag!==0&&br(),o=e.pendingLanes,o&1?e===fd?Ta++:(Ta=0,fd=e):Ta=0,sn(),null}function br(){if(Ls!==null){var e=Tg(Ji),t=kt.transition,s=se;try{if(kt.transition=null,se=16>e?16:e,Ls===null)var n=!1;else{if(e=Ls,Ls=null,Ji=0,ee&6)throw Error(U(331));var a=ee;for(ee|=4,W=e.current;W!==null;){var o=W,i=o.child;if(W.flags&16){var l=o.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(W=c;W!==null;){var d=W;switch(d.tag){case 0:case 11:case 15:Pa(8,d,o)}var f=d.child;if(f!==null)f.return=d,W=f;else for(;W!==null;){d=W;var m=d.sibling,g=d.return;if(Uy(d),d===c){W=null;break}if(m!==null){m.return=g,W=m;break}W=g}}}var b=o.alternate;if(b!==null){var v=b.child;if(v!==null){b.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}W=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,W=i;else e:for(;W!==null;){if(o=W,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Pa(9,o,o.return)}var h=o.sibling;if(h!==null){h.return=o.return,W=h;break e}W=o.return}}var p=e.current;for(W=p;W!==null;){i=W;var w=i.child;if(i.subtreeFlags&2064&&w!==null)w.return=i,W=w;else e:for(i=p;W!==null;){if(l=W,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Rl(9,l)}}catch(S){ve(l,l.return,S)}if(l===i){W=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,W=j;break e}W=l.return}}if(ee=a,sn(),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(Nl,e)}catch{}n=!0}return n}finally{se=s,kt.transition=t}}return!1}function wm(e,t,s){t=Tr(s,t),t=Ty(e,t,1),e=Bs(e,t,1),t=Ye(),e!==null&&(ho(e,1,t),rt(e,t))}function ve(e,t,s){if(e.tag===3)wm(e,e,s);else for(;t!==null;){if(t.tag===3){wm(t,e,s);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(zs===null||!zs.has(n))){e=Tr(s,e),e=Ry(t,e,1),t=Bs(t,e,1),e=Ye(),t!==null&&(ho(t,1,e),rt(t,e));break}}t=t.return}}function Tk(e,t,s){var n=e.pingCache;n!==null&&n.delete(t),t=Ye(),e.pingedLanes|=e.suspendedLanes&s,De===e&&(Oe&s)===s&&(Ae===4||Ae===3&&(Oe&130023424)===Oe&&500>je()-zf?wn(e,0):Bf|=s),rt(e,t)}function Qy(e,t){t===0&&(e.mode&1?(t=$o,$o<<=1,!($o&130023424)&&($o=4194304)):t=1);var s=Ye();e=gs(e,t),e!==null&&(ho(e,t,s),rt(e,s))}function Rk(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),Qy(e,s)}function Dk(e,t){var s=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(s=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(U(314))}n!==null&&n.delete(t),Qy(e,s)}var Zy;Zy=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||st.current)tt=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return tt=!1,vk(e,t,s);tt=!!(e.flags&131072)}else tt=!1,pe&&t.flags&1048576&&sy(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;yi(e,t),e=t.pendingProps;var a=Cr(t,He.current);vr(t,s),a=If(null,t,n,e,a,s);var o=Of();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,nt(n)?(o=!0,Bi(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Rf(t),a.updater=Tl,t.stateNode=a,a._reactInternals=t,ed(t,n,e,s),t=nd(null,t,n,!0,o,s)):(t.tag=0,pe&&o&&kf(t),Ge(null,t,a,s),t=t.child),t;case 16:n=t.elementType;e:{switch(yi(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=Mk(n),e=Tt(n,e),a){case 0:t=sd(null,t,n,e,s);break e;case 1:t=dm(null,t,n,e,s);break e;case 11:t=cm(null,t,n,e,s);break e;case 14:t=um(null,t,n,Tt(n.type,e),s);break e}throw Error(U(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Tt(n,a),sd(e,t,n,a,s);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Tt(n,a),dm(e,t,n,a,s);case 3:e:{if(Ly(t),e===null)throw Error(U(387));n=t.pendingProps,o=t.memoizedState,a=o.element,ly(e,t),Ki(t,n,null,s);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=Tr(Error(U(423)),t),t=fm(e,t,n,s,a);break e}else if(n!==a){a=Tr(Error(U(424)),t),t=fm(e,t,n,s,a);break e}else for(ft=Us(t.stateNode.containerInfo.firstChild),pt=t,pe=!0,Dt=null,s=oy(t,null,n,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Er(),n===a){t=ys(e,t,s);break e}Ge(e,t,n,s)}t=t.child}return t;case 5:return cy(t),e===null&&Qu(t),n=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,i=a.children,qu(n,a)?i=null:o!==null&&qu(n,o)&&(t.flags|=32),My(e,t),Ge(e,t,i,s),t.child;case 6:return e===null&&Qu(t),null;case 13:return Iy(e,t,s);case 4:return Df(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Pr(t,null,n,s):Ge(e,t,n,s),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Tt(n,a),cm(e,t,n,a,s);case 7:return Ge(e,t,t.pendingProps,s),t.child;case 8:return Ge(e,t,t.pendingProps.children,s),t.child;case 12:return Ge(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,ie(Hi,n._currentValue),n._currentValue=i,o!==null)if(Ot(o.value,i)){if(o.children===a.children&&!st.current){t=ys(e,t,s);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var u=l.firstContext;u!==null;){if(u.context===n){if(o.tag===1){u=ds(-1,s&-s),u.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}o.lanes|=s,u=o.alternate,u!==null&&(u.lanes|=s),Zu(o.return,s,t),l.lanes|=s;break}u=u.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(U(341));i.lanes|=s,l=i.alternate,l!==null&&(l.lanes|=s),Zu(i,s,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Ge(e,t,a.children,s),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,vr(t,s),a=Ct(a),n=n(a),t.flags|=1,Ge(e,t,n,s),t.child;case 14:return n=t.type,a=Tt(n,t.pendingProps),a=Tt(n.type,a),um(e,t,n,a,s);case 15:return Dy(e,t,t.type,t.pendingProps,s);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Tt(n,a),yi(e,t),t.tag=1,nt(n)?(e=!0,Bi(t)):e=!1,vr(t,s),Ay(t,n,a),ed(t,n,a,s),nd(null,t,n,!0,e,s);case 19:return Oy(e,t,s);case 22:return _y(e,t,s)}throw Error(U(156,t.tag))};function Jy(e,t){return Cg(e,t)}function _k(e,t,s,n){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(e,t,s,n){return new _k(e,t,s,n)}function Kf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mk(e){if(typeof e=="function")return Kf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ff)return 11;if(e===pf)return 14}return 2}function Hs(e,t){var s=e.alternate;return s===null?(s=Nt(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function wi(e,t,s,n,a,o){var i=2;if(n=e,typeof e=="function")Kf(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case er:return jn(s.children,a,o,t);case df:i=8,a|=8;break;case ku:return e=Nt(12,s,t,a|2),e.elementType=ku,e.lanes=o,e;case Su:return e=Nt(13,s,t,a),e.elementType=Su,e.lanes=o,e;case Cu:return e=Nt(19,s,t,a),e.elementType=Cu,e.lanes=o,e;case cg:return _l(s,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ig:i=10;break e;case lg:i=9;break e;case ff:i=11;break e;case pf:i=14;break e;case As:i=16,n=null;break e}throw Error(U(130,e==null?e:typeof e,""))}return t=Nt(i,s,t,a),t.elementType=e,t.type=n,t.lanes=o,t}function jn(e,t,s,n){return e=Nt(7,e,n,t),e.lanes=s,e}function _l(e,t,s,n){return e=Nt(22,e,n,t),e.elementType=cg,e.lanes=s,e.stateNode={isHidden:!1},e}function Vc(e,t,s){return e=Nt(6,e,null,t),e.lanes=s,e}function Uc(e,t,s){return t=Nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Lk(e,t,s,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wc(0),this.expirationTimes=wc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wc(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Gf(e,t,s,n,a,o,i,l,u){return e=new Lk(e,t,s,l,u),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Nt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rf(o),e}function Ik(e,t,s){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:s}}function ev(e){if(!e)return Ys;e=e._reactInternals;e:{if(Un(e)!==e||e.tag!==1)throw Error(U(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(nt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(U(171))}if(e.tag===1){var s=e.type;if(nt(s))return ey(e,s,t)}return t}function tv(e,t,s,n,a,o,i,l,u){return e=Gf(s,n,!0,e,a,o,i,l,u),e.context=ev(null),s=e.current,n=Ye(),a=Ws(s),o=ds(n,a),o.callback=t??null,Bs(s,o,a),e.current.lanes=a,ho(e,a,n),rt(e,n),e}function Ml(e,t,s,n){var a=t.current,o=Ye(),i=Ws(a);return s=ev(s),t.context===null?t.context=s:t.pendingContext=s,t=ds(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Bs(a,t,i),e!==null&&(Lt(e,a,i,o),mi(e,a,i)),i}function tl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function jm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function Yf(e,t){jm(e,t),(e=e.alternate)&&jm(e,t)}function Ok(){return null}var sv=typeof reportError=="function"?reportError:function(e){console.error(e)};function Xf(e){this._internalRoot=e}Ll.prototype.render=Xf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));Ml(e,t,null,null)};Ll.prototype.unmount=Xf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;On(function(){Ml(null,e,null,null)}),t[xs]=null}};function Ll(e){this._internalRoot=e}Ll.prototype.unstable_scheduleHydration=function(e){if(e){var t=_g();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Ds.length&&t!==0&&t<Ds[s].priority;s++);Ds.splice(s,0,e),s===0&&Lg(e)}};function Qf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Il(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Nm(){}function Fk(e,t,s,n,a){if(a){if(typeof n=="function"){var o=n;n=function(){var c=tl(i);o.call(c)}}var i=tv(t,n,e,0,null,!1,!1,"",Nm);return e._reactRootContainer=i,e[xs]=i.current,Wa(e.nodeType===8?e.parentNode:e),On(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var c=tl(u);l.call(c)}}var u=Gf(e,0,!1,null,null,!1,!1,"",Nm);return e._reactRootContainer=u,e[xs]=u.current,Wa(e.nodeType===8?e.parentNode:e),On(function(){Ml(t,u,s,n)}),u}function Ol(e,t,s,n,a){var o=s._reactRootContainer;if(o){var i=o;if(typeof a=="function"){var l=a;a=function(){var u=tl(i);l.call(u)}}Ml(t,i,e,a)}else i=Fk(s,t,e,a,n);return tl(i)}Rg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=ga(t.pendingLanes);s!==0&&(xf(t,s|1),rt(t,je()),!(ee&6)&&(Rr=je()+500,sn()))}break;case 13:On(function(){var n=gs(e,1);if(n!==null){var a=Ye();Lt(n,e,1,a)}}),Yf(e,1)}};gf=function(e){if(e.tag===13){var t=gs(e,134217728);if(t!==null){var s=Ye();Lt(t,e,134217728,s)}Yf(e,134217728)}};Dg=function(e){if(e.tag===13){var t=Ws(e),s=gs(e,t);if(s!==null){var n=Ye();Lt(s,e,t,n)}Yf(e,t)}};_g=function(){return se};Mg=function(e,t){var s=se;try{return se=e,t()}finally{se=s}};Iu=function(e,t,s){switch(t){case"input":if(Au(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var n=s[t];if(n!==e&&n.form===e.form){var a=El(n);if(!a)throw Error(U(90));dg(n),Au(n,a)}}}break;case"textarea":pg(e,s);break;case"select":t=s.value,t!=null&&mr(e,!!s.multiple,t,!1)}};bg=Wf;wg=On;var $k={usingClientEntryPoint:!1,Events:[xo,rr,El,yg,vg,Wf]},la={findFiberByHostInstance:xn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Vk={bundleType:la.bundleType,version:la.version,rendererPackageName:la.rendererPackageName,rendererConfig:la.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:js.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=kg(e),e===null?null:e.stateNode},findFiberByHostInstance:la.findFiberByHostInstance||Ok,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xo.isDisabled&&Xo.supportsFiber)try{Nl=Xo.inject(Vk),Yt=Xo}catch{}}gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$k;gt.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qf(t))throw Error(U(200));return Ik(e,t,null,s)};gt.createRoot=function(e,t){if(!Qf(e))throw Error(U(299));var s=!1,n="",a=sv;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Gf(e,1,!1,null,null,s,!1,n,a),e[xs]=t.current,Wa(e.nodeType===8?e.parentNode:e),new Xf(t)};gt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=kg(t),e=e===null?null:e.stateNode,e};gt.flushSync=function(e){return On(e)};gt.hydrate=function(e,t,s){if(!Il(t))throw Error(U(200));return Ol(null,e,t,!0,s)};gt.hydrateRoot=function(e,t,s){if(!Qf(e))throw Error(U(405));var n=s!=null&&s.hydratedSources||null,a=!1,o="",i=sv;if(s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onRecoverableError!==void 0&&(i=s.onRecoverableError)),t=tv(t,null,e,1,s??null,a,!1,o,i),e[xs]=t.current,Wa(e),n)for(e=0;e<n.length;e++)s=n[e],a=s._getVersion,a=a(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,a]:t.mutableSourceEagerHydrationData.push(s,a);return new Ll(t)};gt.render=function(e,t,s){if(!Il(t))throw Error(U(200));return Ol(null,e,t,!1,s)};gt.unmountComponentAtNode=function(e){if(!Il(e))throw Error(U(40));return e._reactRootContainer?(On(function(){Ol(null,null,e,!1,function(){e._reactRootContainer=null,e[xs]=null})}),!0):!1};gt.unstable_batchedUpdates=Wf;gt.unstable_renderSubtreeIntoContainer=function(e,t,s,n){if(!Il(s))throw Error(U(200));if(e==null||e._reactInternals===void 0)throw Error(U(38));return Ol(e,t,s,!1,n)};gt.version="18.3.1-next-f1338f8080-20240426";function nv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nv)}catch(e){console.error(e)}}nv(),ng.exports=gt;var yo=ng.exports;const Uk=H0(yo);var rv,km=yo;rv=km.createRoot,km.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ja(){return Ja=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Ja.apply(this,arguments)}var Is;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Is||(Is={}));const Sm="popstate";function Bk(e){e===void 0&&(e={});function t(n,a){let{pathname:o,search:i,hash:l}=n.location;return md("",{pathname:o,search:i,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function s(n,a){return typeof a=="string"?a:sl(a)}return Wk(t,s,null,e)}function ge(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function av(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function zk(){return Math.random().toString(36).substr(2,8)}function Cm(e,t){return{usr:e.state,key:e.key,idx:t}}function md(e,t,s,n){return s===void 0&&(s=null),Ja({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Wr(t):t,{state:s,key:t&&t.key||n||zk()})}function sl(e){let{pathname:t="/",search:s="",hash:n=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Wr(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Wk(e,t,s,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:o=!1}=n,i=a.history,l=Is.Pop,u=null,c=d();c==null&&(c=0,i.replaceState(Ja({},i.state,{idx:c}),""));function d(){return(i.state||{idx:null}).idx}function f(){l=Is.Pop;let x=d(),h=x==null?null:x-c;c=x,u&&u({action:l,location:v.location,delta:h})}function m(x,h){l=Is.Push;let p=md(v.location,x,h);c=d()+1;let w=Cm(p,c),j=v.createHref(p);try{i.pushState(w,"",j)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(j)}o&&u&&u({action:l,location:v.location,delta:1})}function g(x,h){l=Is.Replace;let p=md(v.location,x,h);c=d();let w=Cm(p,c),j=v.createHref(p);i.replaceState(w,"",j),o&&u&&u({action:l,location:v.location,delta:0})}function b(x){let h=a.location.origin!=="null"?a.location.origin:a.location.href,p=typeof x=="string"?x:sl(x);return p=p.replace(/ $/,"%20"),ge(h,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,h)}let v={get action(){return l},get location(){return e(a,i)},listen(x){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(Sm,f),u=x,()=>{a.removeEventListener(Sm,f),u=null}},createHref(x){return t(a,x)},createURL:b,encodeLocation(x){let h=b(x);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:m,replace:g,go(x){return i.go(x)}};return v}var Em;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Em||(Em={}));function Hk(e,t,s){return s===void 0&&(s="/"),qk(e,t,s)}function qk(e,t,s,n){let a=typeof t=="string"?Wr(t):t,o=Dr(a.pathname||"/",s);if(o==null)return null;let i=ov(e);Kk(i);let l=null;for(let u=0;l==null&&u<i.length;++u){let c=rS(o);l=sS(i[u],c)}return l}function ov(e,t,s,n){t===void 0&&(t=[]),s===void 0&&(s=[]),n===void 0&&(n="");let a=(o,i,l)=>{let u={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};u.relativePath.startsWith("/")&&(ge(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let c=qs([n,u.relativePath]),d=s.concat(u);o.children&&o.children.length>0&&(ge(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),ov(o.children,t,d,c)),!(o.path==null&&!o.index)&&t.push({path:c,score:eS(c,o.index),routesMeta:d})};return e.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))a(o,i);else for(let u of iv(o.path))a(o,i,u)}),t}function iv(e){let t=e.split("/");if(t.length===0)return[];let[s,...n]=t,a=s.endsWith("?"),o=s.replace(/\?$/,"");if(n.length===0)return a?[o,""]:[o];let i=iv(n.join("/")),l=[];return l.push(...i.map(u=>u===""?o:[o,u].join("/"))),a&&l.push(...i),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function Kk(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:tS(t.routesMeta.map(n=>n.childrenIndex),s.routesMeta.map(n=>n.childrenIndex)))}const Gk=/^:[\w-]+$/,Yk=3,Xk=2,Qk=1,Zk=10,Jk=-2,Pm=e=>e==="*";function eS(e,t){let s=e.split("/"),n=s.length;return s.some(Pm)&&(n+=Jk),t&&(n+=Xk),s.filter(a=>!Pm(a)).reduce((a,o)=>a+(Gk.test(o)?Yk:o===""?Qk:Zk),n)}function tS(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function sS(e,t,s){let{routesMeta:n}=e,a={},o="/",i=[];for(let l=0;l<n.length;++l){let u=n[l],c=l===n.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=xd({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),m=u.route;if(!f)return null;Object.assign(a,f.params),i.push({params:a,pathname:qs([o,f.pathname]),pathnameBase:lS(qs([o,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(o=qs([o,f.pathnameBase]))}return i}function xd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,n]=nS(e.path,e.caseSensitive,e.end),a=t.match(s);if(!a)return null;let o=a[0],i=o.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((c,d,f)=>{let{paramName:m,isOptional:g}=d;if(m==="*"){let v=l[f]||"";i=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const b=l[f];return g&&!b?c[m]=void 0:c[m]=(b||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:i,pattern:e}}function nS(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),av(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,u)=>(n.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function rS(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return av(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Dr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,n=e.charAt(s);return n&&n!=="/"?null:e.slice(s)||"/"}function aS(e,t){t===void 0&&(t="/");let{pathname:s,search:n="",hash:a=""}=typeof e=="string"?Wr(e):e;return{pathname:s?s.startsWith("/")?s:oS(s,t):t,search:cS(n),hash:uS(a)}}function oS(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?s.length>1&&s.pop():a!=="."&&s.push(a)}),s.length>1?s.join("/"):"/"}function Bc(e,t,s,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function iS(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function Zf(e,t){let s=iS(e);return t?s.map((n,a)=>a===s.length-1?n.pathname:n.pathnameBase):s.map(n=>n.pathnameBase)}function Jf(e,t,s,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Wr(e):(a=Ja({},e),ge(!a.pathname||!a.pathname.includes("?"),Bc("?","pathname","search",a)),ge(!a.pathname||!a.pathname.includes("#"),Bc("#","pathname","hash",a)),ge(!a.search||!a.search.includes("#"),Bc("#","search","hash",a)));let o=e===""||a.pathname==="",i=o?"/":a.pathname,l;if(i==null)l=s;else{let f=t.length-1;if(!n&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),f-=1;a.pathname=m.join("/")}l=f>=0?t[f]:"/"}let u=aS(a,l),c=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&s.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const qs=e=>e.join("/").replace(/\/\/+/g,"/"),lS=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),cS=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,uS=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function dS(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const lv=["post","put","patch","delete"];new Set(lv);const fS=["get",...lv];new Set(fS);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eo(){return eo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},eo.apply(this,arguments)}const Fl=y.createContext(null),cv=y.createContext(null),Ns=y.createContext(null),$l=y.createContext(null),ns=y.createContext({outlet:null,matches:[],isDataRoute:!1}),uv=y.createContext(null);function pS(e,t){let{relative:s}=t===void 0?{}:t;Hr()||ge(!1);let{basename:n,navigator:a}=y.useContext(Ns),{hash:o,pathname:i,search:l}=Vl(e,{relative:s}),u=i;return n!=="/"&&(u=i==="/"?n:qs([n,i])),a.createHref({pathname:u,search:l,hash:o})}function Hr(){return y.useContext($l)!=null}function Bn(){return Hr()||ge(!1),y.useContext($l).location}function dv(e){y.useContext(Ns).static||y.useLayoutEffect(e)}function zn(){let{isDataRoute:e}=y.useContext(ns);return e?AS():hS()}function hS(){Hr()||ge(!1);let e=y.useContext(Fl),{basename:t,future:s,navigator:n}=y.useContext(Ns),{matches:a}=y.useContext(ns),{pathname:o}=Bn(),i=JSON.stringify(Zf(a,s.v7_relativeSplatPath)),l=y.useRef(!1);return dv(()=>{l.current=!0}),y.useCallback(function(c,d){if(d===void 0&&(d={}),!l.current)return;if(typeof c=="number"){n.go(c);return}let f=Jf(c,JSON.parse(i),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:qs([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,i,o,e])}const mS=y.createContext(null);function xS(e){let t=y.useContext(ns).outlet;return t&&y.createElement(mS.Provider,{value:e},t)}function gS(){let{matches:e}=y.useContext(ns),t=e[e.length-1];return t?t.params:{}}function Vl(e,t){let{relative:s}=t===void 0?{}:t,{future:n}=y.useContext(Ns),{matches:a}=y.useContext(ns),{pathname:o}=Bn(),i=JSON.stringify(Zf(a,n.v7_relativeSplatPath));return y.useMemo(()=>Jf(e,JSON.parse(i),o,s==="path"),[e,i,o,s])}function yS(e,t){return vS(e,t)}function vS(e,t,s,n){Hr()||ge(!1);let{navigator:a}=y.useContext(Ns),{matches:o}=y.useContext(ns),i=o[o.length-1],l=i?i.params:{};i&&i.pathname;let u=i?i.pathnameBase:"/";i&&i.route;let c=Bn(),d;if(t){var f;let x=typeof t=="string"?Wr(t):t;u==="/"||(f=x.pathname)!=null&&f.startsWith(u)||ge(!1),d=x}else d=c;let m=d.pathname||"/",g=m;if(u!=="/"){let x=u.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let b=Hk(e,{pathname:g}),v=kS(b&&b.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:qs([u,a.encodeLocation?a.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:qs([u,a.encodeLocation?a.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,s,n);return t&&v?y.createElement($l.Provider,{value:{location:eo({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Is.Pop}},v):v}function bS(){let e=PS(),t=dS(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),s?y.createElement("pre",{style:a},s):null,null)}const wS=y.createElement(bS,null);class jS extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?y.createElement(ns.Provider,{value:this.props.routeContext},y.createElement(uv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function NS(e){let{routeContext:t,match:s,children:n}=e,a=y.useContext(Fl);return a&&a.static&&a.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=s.route.id),y.createElement(ns.Provider,{value:t},n)}function kS(e,t,s,n){var a;if(t===void 0&&(t=[]),s===void 0&&(s=null),n===void 0&&(n=null),e==null){var o;if(!s)return null;if(s.errors)e=s.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let i=e,l=(a=s)==null?void 0:a.errors;if(l!=null){let d=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||ge(!1),i=i.slice(0,Math.min(i.length,d+1))}let u=!1,c=-1;if(s&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:m,errors:g}=s,b=f.route.loader&&m[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||b){u=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,f,m)=>{let g,b=!1,v=null,x=null;s&&(g=l&&f.route.id?l[f.route.id]:void 0,v=f.route.errorElement||wS,u&&(c<0&&m===0?(TS("route-fallback"),b=!0,x=null):c===m&&(b=!0,x=f.route.hydrateFallbackElement||null)));let h=t.concat(i.slice(0,m+1)),p=()=>{let w;return g?w=v:b?w=x:f.route.Component?w=y.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,y.createElement(NS,{match:f,routeContext:{outlet:d,matches:h,isDataRoute:s!=null},children:w})};return s&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?y.createElement(jS,{location:s.location,revalidation:s.revalidation,component:v,error:g,children:p(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):p()},null)}var fv=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(fv||{}),pv=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(pv||{});function SS(e){let t=y.useContext(Fl);return t||ge(!1),t}function CS(e){let t=y.useContext(cv);return t||ge(!1),t}function ES(e){let t=y.useContext(ns);return t||ge(!1),t}function hv(e){let t=ES(),s=t.matches[t.matches.length-1];return s.route.id||ge(!1),s.route.id}function PS(){var e;let t=y.useContext(uv),s=CS(),n=hv();return t!==void 0?t:(e=s.errors)==null?void 0:e[n]}function AS(){let{router:e}=SS(fv.UseNavigateStable),t=hv(pv.UseNavigateStable),s=y.useRef(!1);return dv(()=>{s.current=!0}),y.useCallback(function(a,o){o===void 0&&(o={}),s.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,eo({fromRouteId:t},o)))},[e,t])}const Am={};function TS(e,t,s){Am[e]||(Am[e]=!0)}function RS(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ep(e){let{to:t,replace:s,state:n,relative:a}=e;Hr()||ge(!1);let{future:o,static:i}=y.useContext(Ns),{matches:l}=y.useContext(ns),{pathname:u}=Bn(),c=zn(),d=Jf(t,Zf(l,o.v7_relativeSplatPath),u,a==="path"),f=JSON.stringify(d);return y.useEffect(()=>c(JSON.parse(f),{replace:s,state:n,relative:a}),[c,f,a,s,n]),null}function DS(e){return xS(e.context)}function te(e){ge(!1)}function _S(e){let{basename:t="/",children:s=null,location:n,navigationType:a=Is.Pop,navigator:o,static:i=!1,future:l}=e;Hr()&&ge(!1);let u=t.replace(/^\/*/,"/"),c=y.useMemo(()=>({basename:u,navigator:o,static:i,future:eo({v7_relativeSplatPath:!1},l)}),[u,l,o,i]);typeof n=="string"&&(n=Wr(n));let{pathname:d="/",search:f="",hash:m="",state:g=null,key:b="default"}=n,v=y.useMemo(()=>{let x=Dr(d,u);return x==null?null:{location:{pathname:x,search:f,hash:m,state:g,key:b},navigationType:a}},[u,d,f,m,g,b,a]);return v==null?null:y.createElement(Ns.Provider,{value:c},y.createElement($l.Provider,{children:s,value:v}))}function MS(e){let{children:t,location:s}=e;return yS(gd(t),s)}new Promise(()=>{});function gd(e,t){t===void 0&&(t=[]);let s=[];return y.Children.forEach(e,(n,a)=>{if(!y.isValidElement(n))return;let o=[...t,a];if(n.type===y.Fragment){s.push.apply(s,gd(n.props.children,o));return}n.type!==te&&ge(!1),!n.props.index||!n.props.children||ge(!1);let i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=gd(n.props.children,o)),s.push(i)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nl(){return nl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},nl.apply(this,arguments)}function mv(e,t){if(e==null)return{};var s={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(s[a]=e[a]);return s}function LS(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function IS(e,t){return e.button===0&&(!t||t==="_self")&&!LS(e)}const OS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],FS=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],$S="6";try{window.__reactRouterVersion=$S}catch{}const VS=y.createContext({isTransitioning:!1}),US="startTransition",Tm=of[US];function BS(e){let{basename:t,children:s,future:n,window:a}=e,o=y.useRef();o.current==null&&(o.current=Bk({window:a,v5Compat:!0}));let i=o.current,[l,u]=y.useState({action:i.action,location:i.location}),{v7_startTransition:c}=n||{},d=y.useCallback(f=>{c&&Tm?Tm(()=>u(f)):u(f)},[u,c]);return y.useLayoutEffect(()=>i.listen(d),[i,d]),y.useEffect(()=>RS(n),[n]),y.createElement(_S,{basename:t,children:s,location:l.location,navigationType:l.action,navigator:i,future:n})}const zS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",WS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_r=y.forwardRef(function(t,s){let{onClick:n,relative:a,reloadDocument:o,replace:i,state:l,target:u,to:c,preventScrollReset:d,viewTransition:f}=t,m=mv(t,OS),{basename:g}=y.useContext(Ns),b,v=!1;if(typeof c=="string"&&WS.test(c)&&(b=c,zS))try{let w=new URL(window.location.href),j=c.startsWith("//")?new URL(w.protocol+c):new URL(c),S=Dr(j.pathname,g);j.origin===w.origin&&S!=null?c=S+j.search+j.hash:v=!0}catch{}let x=pS(c,{relative:a}),h=qS(c,{replace:i,state:l,target:u,preventScrollReset:d,relative:a,viewTransition:f});function p(w){n&&n(w),w.defaultPrevented||h(w)}return y.createElement("a",nl({},m,{href:b||x,onClick:v||o?n:p,ref:s,target:u}))}),Mr=y.forwardRef(function(t,s){let{"aria-current":n="page",caseSensitive:a=!1,className:o="",end:i=!1,style:l,to:u,viewTransition:c,children:d}=t,f=mv(t,FS),m=Vl(u,{relative:f.relative}),g=Bn(),b=y.useContext(cv),{navigator:v,basename:x}=y.useContext(Ns),h=b!=null&&KS(m)&&c===!0,p=v.encodeLocation?v.encodeLocation(m).pathname:m.pathname,w=g.pathname,j=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;a||(w=w.toLowerCase(),j=j?j.toLowerCase():null,p=p.toLowerCase()),j&&x&&(j=Dr(j,x)||j);const S=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let E=w===p||!i&&w.startsWith(p)&&w.charAt(S)==="/",C=j!=null&&(j===p||!i&&j.startsWith(p)&&j.charAt(p.length)==="/"),N={isActive:E,isPending:C,isTransitioning:h},k=E?n:void 0,A;typeof o=="function"?A=o(N):A=[o,E?"active":null,C?"pending":null,h?"transitioning":null].filter(Boolean).join(" ");let I=typeof l=="function"?l(N):l;return y.createElement(_r,nl({},f,{"aria-current":k,className:A,ref:s,style:I,to:u,viewTransition:c}),typeof d=="function"?d(N):d)});var yd;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(yd||(yd={}));var Rm;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Rm||(Rm={}));function HS(e){let t=y.useContext(Fl);return t||ge(!1),t}function qS(e,t){let{target:s,replace:n,state:a,preventScrollReset:o,relative:i,viewTransition:l}=t===void 0?{}:t,u=zn(),c=Bn(),d=Vl(e,{relative:i});return y.useCallback(f=>{if(IS(f,s)){f.preventDefault();let m=n!==void 0?n:sl(c)===sl(d);u(e,{replace:m,state:a,preventScrollReset:o,relative:i,viewTransition:l})}},[c,u,d,n,a,s,e,o,i,l])}function KS(e,t){t===void 0&&(t={});let s=y.useContext(VS);s==null&&ge(!1);let{basename:n}=HS(yd.useViewTransitionState),a=Vl(e,{relative:t.relative});if(!s.isTransitioning)return!1;let o=Dr(s.currentLocation.pathname,n)||s.currentLocation.pathname,i=Dr(s.nextLocation.pathname,n)||s.nextLocation.pathname;return xd(a.pathname,i)!=null||xd(a.pathname,o)!=null}function xv(e){var t,s,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(s=xv(e[t]))&&(n&&(n+=" "),n+=s)}else for(s in e)e[s]&&(n&&(n+=" "),n+=s);return n}function gv(){for(var e,t,s=0,n="",a=arguments.length;s<a;s++)(e=arguments[s])&&(t=xv(e))&&(n&&(n+=" "),n+=t);return n}const tp="-",GS=e=>{const t=XS(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const l=i.split(tp);return l[0]===""&&l.length!==1&&l.shift(),yv(l,t)||YS(i)},getConflictingClassGroupIds:(i,l)=>{const u=s[i]||[];return l&&n[i]?[...u,...n[i]]:u}}},yv=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const s=e[0],n=t.nextPart.get(s),a=n?yv(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const o=e.join(tp);return(i=t.validators.find(({validator:l})=>l(o)))==null?void 0:i.classGroupId},Dm=/^\[(.+)\]$/,YS=e=>{if(Dm.test(e)){const t=Dm.exec(e)[1],s=t==null?void 0:t.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},XS=e=>{const{theme:t,prefix:s}=e,n={nextPart:new Map,validators:[]};return ZS(Object.entries(e.classGroups),s).forEach(([o,i])=>{vd(i,n,o,t)}),n},vd=(e,t,s,n)=>{e.forEach(a=>{if(typeof a=="string"){const o=a===""?t:_m(t,a);o.classGroupId=s;return}if(typeof a=="function"){if(QS(a)){vd(a(n),t,s,n);return}t.validators.push({validator:a,classGroupId:s});return}Object.entries(a).forEach(([o,i])=>{vd(i,_m(t,o),s,n)})})},_m=(e,t)=>{let s=e;return t.split(tp).forEach(n=>{s.nextPart.has(n)||s.nextPart.set(n,{nextPart:new Map,validators:[]}),s=s.nextPart.get(n)}),s},QS=e=>e.isThemeGetter,ZS=(e,t)=>t?e.map(([s,n])=>{const a=n.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,l])=>[t+i,l])):o);return[s,a]}):e,JS=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,n=new Map;const a=(o,i)=>{s.set(o,i),t++,t>e&&(t=0,n=s,s=new Map)};return{get(o){let i=s.get(o);if(i!==void 0)return i;if((i=n.get(o))!==void 0)return a(o,i),i},set(o,i){s.has(o)?s.set(o,i):a(o,i)}}},vv="!",eC=e=>{const{separator:t,experimentalParseClassName:s}=e,n=t.length===1,a=t[0],o=t.length,i=l=>{const u=[];let c=0,d=0,f;for(let x=0;x<l.length;x++){let h=l[x];if(c===0){if(h===a&&(n||l.slice(x,x+o)===t)){u.push(l.slice(d,x)),d=x+o;continue}if(h==="/"){f=x;continue}}h==="["?c++:h==="]"&&c--}const m=u.length===0?l:l.substring(d),g=m.startsWith(vv),b=g?m.substring(1):m,v=f&&f>d?f-d:void 0;return{modifiers:u,hasImportantModifier:g,baseClassName:b,maybePostfixModifierPosition:v}};return s?l=>s({className:l,parseClassName:i}):i},tC=e=>{if(e.length<=1)return e;const t=[];let s=[];return e.forEach(n=>{n[0]==="["?(t.push(...s.sort(),n),s=[]):s.push(n)}),t.push(...s.sort()),t},sC=e=>({cache:JS(e.cacheSize),parseClassName:eC(e),...GS(e)}),nC=/\s+/,rC=(e,t)=>{const{parseClassName:s,getClassGroupId:n,getConflictingClassGroupIds:a}=t,o=[],i=e.trim().split(nC);let l="";for(let u=i.length-1;u>=0;u-=1){const c=i[u],{modifiers:d,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:g}=s(c);let b=!!g,v=n(b?m.substring(0,g):m);if(!v){if(!b){l=c+(l.length>0?" "+l:l);continue}if(v=n(m),!v){l=c+(l.length>0?" "+l:l);continue}b=!1}const x=tC(d).join(":"),h=f?x+vv:x,p=h+v;if(o.includes(p))continue;o.push(p);const w=a(v,b);for(let j=0;j<w.length;++j){const S=w[j];o.push(h+S)}l=c+(l.length>0?" "+l:l)}return l};function aC(){let e=0,t,s,n="";for(;e<arguments.length;)(t=arguments[e++])&&(s=bv(t))&&(n&&(n+=" "),n+=s);return n}const bv=e=>{if(typeof e=="string")return e;let t,s="";for(let n=0;n<e.length;n++)e[n]&&(t=bv(e[n]))&&(s&&(s+=" "),s+=t);return s};function oC(e,...t){let s,n,a,o=i;function i(u){const c=t.reduce((d,f)=>f(d),e());return s=sC(c),n=s.cache.get,a=s.cache.set,o=l,l(u)}function l(u){const c=n(u);if(c)return c;const d=rC(u,s);return a(u,d),d}return function(){return o(aC.apply(null,arguments))}}const ce=e=>{const t=s=>s[e]||[];return t.isThemeGetter=!0,t},wv=/^\[(?:([a-z-]+):)?(.+)\]$/i,iC=/^\d+\/\d+$/,lC=new Set(["px","full","screen"]),cC=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,uC=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,dC=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,fC=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,pC=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,as=e=>wr(e)||lC.has(e)||iC.test(e),Ss=e=>qr(e,"length",wC),wr=e=>!!e&&!Number.isNaN(Number(e)),zc=e=>qr(e,"number",wr),ca=e=>!!e&&Number.isInteger(Number(e)),hC=e=>e.endsWith("%")&&wr(e.slice(0,-1)),Q=e=>wv.test(e),Cs=e=>cC.test(e),mC=new Set(["length","size","percentage"]),xC=e=>qr(e,mC,jv),gC=e=>qr(e,"position",jv),yC=new Set(["image","url"]),vC=e=>qr(e,yC,NC),bC=e=>qr(e,"",jC),ua=()=>!0,qr=(e,t,s)=>{const n=wv.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):s(n[2]):!1},wC=e=>uC.test(e)&&!dC.test(e),jv=()=>!1,jC=e=>fC.test(e),NC=e=>pC.test(e),kC=()=>{const e=ce("colors"),t=ce("spacing"),s=ce("blur"),n=ce("brightness"),a=ce("borderColor"),o=ce("borderRadius"),i=ce("borderSpacing"),l=ce("borderWidth"),u=ce("contrast"),c=ce("grayscale"),d=ce("hueRotate"),f=ce("invert"),m=ce("gap"),g=ce("gradientColorStops"),b=ce("gradientColorStopPositions"),v=ce("inset"),x=ce("margin"),h=ce("opacity"),p=ce("padding"),w=ce("saturate"),j=ce("scale"),S=ce("sepia"),E=ce("skew"),C=ce("space"),N=ce("translate"),k=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",Q,t],D=()=>[Q,t],O=()=>["",as,Ss],M=()=>["auto",wr,Q],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],_=()=>["","0",Q],L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[wr,Q];return{cacheSize:500,separator:":",theme:{colors:[ua],spacing:[as,Ss],blur:["none","",Cs,Q],brightness:$(),borderColor:[e],borderRadius:["none","","full",Cs,Q],borderSpacing:D(),borderWidth:O(),contrast:$(),grayscale:_(),hueRotate:$(),invert:_(),gap:D(),gradientColorStops:[e],gradientColorStopPositions:[hC,Ss],inset:I(),margin:I(),opacity:$(),padding:D(),saturate:$(),scale:$(),sepia:_(),skew:$(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",Q]}],container:["container"],columns:[{columns:[Cs]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),Q]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ca,Q]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Q]}],grow:[{grow:_()}],shrink:[{shrink:_()}],order:[{order:["first","last","none",ca,Q]}],"grid-cols":[{"grid-cols":[ua]}],"col-start-end":[{col:["auto",{span:["full",ca,Q]},Q]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[ua]}],"row-start-end":[{row:["auto",{span:[ca,Q]},Q]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Q]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Q]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Q,t]}],"min-w":[{"min-w":[Q,t,"min","max","fit"]}],"max-w":[{"max-w":[Q,t,"none","full","min","max","fit","prose",{screen:[Cs]},Cs]}],h:[{h:[Q,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Q,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Q,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Q,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Cs,Ss]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",zc]}],"font-family":[{font:[ua]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Q]}],"line-clamp":[{"line-clamp":["none",wr,zc]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",as,Q]}],"list-image":[{"list-image":["none",Q]}],"list-style-type":[{list:["none","disc","decimal",Q]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[h]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[h]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",as,Ss]}],"underline-offset":[{"underline-offset":["auto",as,Q]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Q]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Q]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[h]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),gC]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",xC]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},vC]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[h]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[h]}],"divide-style":[{divide:V()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[as,Q]}],"outline-w":[{outline:[as,Ss]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[h]}],"ring-offset-w":[{"ring-offset":[as,Ss]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Cs,bC]}],"shadow-color":[{shadow:[ua]}],opacity:[{opacity:[h]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[n]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Cs,Q]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[h]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Q]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",Q]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",Q]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[ca,Q]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Q]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Q]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Q]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[as,Ss,zc]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},SC=oC(kC);function Z(...e){return SC(gv(e))}function Y(e,t,{checkForDefaultPrevented:s=!0}={}){return function(a){if(e==null||e(a),s===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function Mm(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ul(...e){return t=>{let s=!1;const n=e.map(a=>{const o=Mm(a,t);return!s&&typeof o=="function"&&(s=!0),o});if(s)return()=>{for(let a=0;a<n.length;a++){const o=n[a];typeof o=="function"?o():Mm(e[a],null)}}}}function Te(...e){return y.useCallback(Ul(...e),e)}function nn(e,t=[]){let s=[];function n(o,i){const l=y.createContext(i),u=s.length;s=[...s,i];const c=f=>{var h;const{scope:m,children:g,...b}=f,v=((h=m==null?void 0:m[e])==null?void 0:h[u])||l,x=y.useMemo(()=>b,Object.values(b));return r.jsx(v.Provider,{value:x,children:g})};c.displayName=o+"Provider";function d(f,m){var v;const g=((v=m==null?void 0:m[e])==null?void 0:v[u])||l,b=y.useContext(g);if(b)return b;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[c,d]}const a=()=>{const o=s.map(i=>y.createContext(i));return function(l){const u=(l==null?void 0:l[e])||o;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:u}}),[l,u])}};return a.scopeName=e,[n,CC(a,...t)]}function CC(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=n.reduce((l,{useScope:u,scopeName:c})=>{const f=u(o)[`__scope${c}`];return{...l,...f}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return s.scopeName=t.scopeName,s}function to(e){const t=PC(e),s=y.forwardRef((n,a)=>{const{children:o,...i}=n,l=y.Children.toArray(o),u=l.find(TC);if(u){const c=u.props.children,d=l.map(f=>f===u?y.Children.count(c)>1?y.Children.only(null):y.isValidElement(c)?c.props.children:null:f);return r.jsx(t,{...i,ref:a,children:y.isValidElement(c)?y.cloneElement(c,void 0,d):null})}return r.jsx(t,{...i,ref:a,children:o})});return s.displayName=`${e}.Slot`,s}var EC=to("Slot");function PC(e){const t=y.forwardRef((s,n)=>{const{children:a,...o}=s,i=y.isValidElement(a)?DC(a):void 0,l=Te(i,n);if(y.isValidElement(a)){const u=RC(o,a.props);return a.type!==y.Fragment&&(u.ref=l),y.cloneElement(a,u)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var AC=Symbol("radix.slottable");function TC(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===AC}function RC(e,t){const s={...t};for(const n in t){const a=e[n],o=t[n];/^on[A-Z]/.test(n)?a&&o?s[n]=(...l)=>{const u=o(...l);return a(...l),u}:a&&(s[n]=a):n==="style"?s[n]={...a,...o}:n==="className"&&(s[n]=[a,o].filter(Boolean).join(" "))}return{...e,...s}}function DC(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function sp(e){const t=e+"CollectionProvider",[s,n]=nn(t),[a,o]=s(t,{collectionRef:{current:null},itemMap:new Map}),i=v=>{const{scope:x,children:h}=v,p=P.useRef(null),w=P.useRef(new Map).current;return r.jsx(a,{scope:x,itemMap:w,collectionRef:p,children:h})};i.displayName=t;const l=e+"CollectionSlot",u=to(l),c=P.forwardRef((v,x)=>{const{scope:h,children:p}=v,w=o(l,h),j=Te(x,w.collectionRef);return r.jsx(u,{ref:j,children:p})});c.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",m=to(d),g=P.forwardRef((v,x)=>{const{scope:h,children:p,...w}=v,j=P.useRef(null),S=Te(x,j),E=o(d,h);return P.useEffect(()=>(E.itemMap.set(j,{ref:j,...w}),()=>void E.itemMap.delete(j))),r.jsx(m,{[f]:"",ref:S,children:p})});g.displayName=d;function b(v){const x=o(e+"CollectionConsumer",v);return P.useCallback(()=>{const p=x.collectionRef.current;if(!p)return[];const w=Array.from(p.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((E,C)=>w.indexOf(E.ref.current)-w.indexOf(C.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:i,Slot:c,ItemSlot:g},b,n]}var _C=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],le=_C.reduce((e,t)=>{const s=to(`Primitive.${t}`),n=y.forwardRef((a,o)=>{const{asChild:i,...l}=a,u=i?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(u,{...l,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function np(e,t){e&&yo.flushSync(()=>e.dispatchEvent(t))}function it(e){const t=y.useRef(e);return y.useEffect(()=>{t.current=e}),y.useMemo(()=>(...s)=>{var n;return(n=t.current)==null?void 0:n.call(t,...s)},[])}function MC(e,t=globalThis==null?void 0:globalThis.document){const s=it(e);y.useEffect(()=>{const n=a=>{a.key==="Escape"&&s(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[s,t])}var LC="DismissableLayer",bd="dismissableLayer.update",IC="dismissableLayer.pointerDownOutside",OC="dismissableLayer.focusOutside",Lm,Nv=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),rp=y.forwardRef((e,t)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...u}=e,c=y.useContext(Nv),[d,f]=y.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=y.useState({}),b=Te(t,C=>f(C)),v=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),h=v.indexOf(x),p=d?v.indexOf(d):-1,w=c.layersWithOutsidePointerEventsDisabled.size>0,j=p>=h,S=$C(C=>{const N=C.target,k=[...c.branches].some(A=>A.contains(N));!j||k||(a==null||a(C),i==null||i(C),C.defaultPrevented||l==null||l())},m),E=VC(C=>{const N=C.target;[...c.branches].some(A=>A.contains(N))||(o==null||o(C),i==null||i(C),C.defaultPrevented||l==null||l())},m);return MC(C=>{p===c.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},m),y.useEffect(()=>{if(d)return s&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Lm=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),Im(),()=>{s&&c.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Lm)}},[d,m,s,c]),y.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),Im())},[d,c]),y.useEffect(()=>{const C=()=>g({});return document.addEventListener(bd,C),()=>document.removeEventListener(bd,C)},[]),r.jsx(le.div,{...u,ref:b,style:{pointerEvents:w?j?"auto":"none":void 0,...e.style},onFocusCapture:Y(e.onFocusCapture,E.onFocusCapture),onBlurCapture:Y(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Y(e.onPointerDownCapture,S.onPointerDownCapture)})});rp.displayName=LC;var FC="DismissableLayerBranch",kv=y.forwardRef((e,t)=>{const s=y.useContext(Nv),n=y.useRef(null),a=Te(t,n);return y.useEffect(()=>{const o=n.current;if(o)return s.branches.add(o),()=>{s.branches.delete(o)}},[s.branches]),r.jsx(le.div,{...e,ref:a})});kv.displayName=FC;function $C(e,t=globalThis==null?void 0:globalThis.document){const s=it(e),n=y.useRef(!1),a=y.useRef(()=>{});return y.useEffect(()=>{const o=l=>{if(l.target&&!n.current){let u=function(){Sv(IC,s,c,{discrete:!0})};const c={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=u,t.addEventListener("click",a.current,{once:!0})):u()}else t.removeEventListener("click",a.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,s]),{onPointerDownCapture:()=>n.current=!0}}function VC(e,t=globalThis==null?void 0:globalThis.document){const s=it(e),n=y.useRef(!1);return y.useEffect(()=>{const a=o=>{o.target&&!n.current&&Sv(OC,s,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,s]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Im(){const e=new CustomEvent(bd);document.dispatchEvent(e)}function Sv(e,t,s,{discrete:n}){const a=s.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&a.addEventListener(e,t,{once:!0}),n?np(a,o):a.dispatchEvent(o)}var UC=rp,BC=kv,Pt=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},zC="Portal",ap=y.forwardRef((e,t)=>{var l;const{container:s,...n}=e,[a,o]=y.useState(!1);Pt(()=>o(!0),[]);const i=s||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?Uk.createPortal(r.jsx(le.div,{...n,ref:t}),i):null});ap.displayName=zC;function WC(e,t){return y.useReducer((s,n)=>t[s][n]??s,e)}var Kr=e=>{const{present:t,children:s}=e,n=HC(t),a=typeof s=="function"?s({present:n.isPresent}):y.Children.only(s),o=Te(n.ref,qC(a));return typeof s=="function"||n.isPresent?y.cloneElement(a,{ref:o}):null};Kr.displayName="Presence";function HC(e){const[t,s]=y.useState(),n=y.useRef(null),a=y.useRef(e),o=y.useRef("none"),i=e?"mounted":"unmounted",[l,u]=WC(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const c=Qo(n.current);o.current=l==="mounted"?c:"none"},[l]),Pt(()=>{const c=n.current,d=a.current;if(d!==e){const m=o.current,g=Qo(c);e?u("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?u("UNMOUNT"):u(d&&m!==g?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,u]),Pt(()=>{if(t){let c;const d=t.ownerDocument.defaultView??window,f=g=>{const v=Qo(n.current).includes(g.animationName);if(g.target===t&&v&&(u("ANIMATION_END"),!a.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",c=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},m=g=>{g.target===t&&(o.current=Qo(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(c),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:y.useCallback(c=>{n.current=c?getComputedStyle(c):null,s(c)},[])}}function Qo(e){return(e==null?void 0:e.animationName)||"none"}function qC(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var KC=of[" useInsertionEffect ".trim().toString()]||Pt;function Bl({prop:e,defaultProp:t,onChange:s=()=>{},caller:n}){const[a,o,i]=GC({defaultProp:t,onChange:s}),l=e!==void 0,u=l?e:a;{const d=y.useRef(e!==void 0);y.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const c=y.useCallback(d=>{var f;if(l){const m=YC(d)?d(e):d;m!==e&&((f=i.current)==null||f.call(i,m))}else o(d)},[l,e,o,i]);return[u,c]}function GC({defaultProp:e,onChange:t}){const[s,n]=y.useState(e),a=y.useRef(s),o=y.useRef(t);return KC(()=>{o.current=t},[t]),y.useEffect(()=>{var i;a.current!==s&&((i=o.current)==null||i.call(o,s),a.current=s)},[s,a]),[s,n,o]}function YC(e){return typeof e=="function"}var XC=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),QC="VisuallyHidden",op=y.forwardRef((e,t)=>r.jsx(le.span,{...e,ref:t,style:{...XC,...e.style}}));op.displayName=QC;var ip="ToastProvider",[lp,ZC,JC]=sp("Toast"),[Cv,_$]=nn("Toast",[JC]),[eE,zl]=Cv(ip),Ev=e=>{const{__scopeToast:t,label:s="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:o=50,children:i}=e,[l,u]=y.useState(null),[c,d]=y.useState(0),f=y.useRef(!1),m=y.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${ip}\`. Expected non-empty \`string\`.`),r.jsx(lp.Provider,{scope:t,children:r.jsx(eE,{scope:t,label:s,duration:n,swipeDirection:a,swipeThreshold:o,toastCount:c,viewport:l,onViewportChange:u,onToastAdd:y.useCallback(()=>d(g=>g+1),[]),onToastRemove:y.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:i})})};Ev.displayName=ip;var Pv="ToastViewport",tE=["F8"],wd="toast.viewportPause",jd="toast.viewportResume",Av=y.forwardRef((e,t)=>{const{__scopeToast:s,hotkey:n=tE,label:a="Notifications ({hotkey})",...o}=e,i=zl(Pv,s),l=ZC(s),u=y.useRef(null),c=y.useRef(null),d=y.useRef(null),f=y.useRef(null),m=Te(t,f,i.onViewportChange),g=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=i.toastCount>0;y.useEffect(()=>{const x=h=>{var w;n.length!==0&&n.every(j=>h[j]||h.code===j)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[n]),y.useEffect(()=>{const x=u.current,h=f.current;if(b&&x&&h){const p=()=>{if(!i.isClosePausedRef.current){const E=new CustomEvent(wd);h.dispatchEvent(E),i.isClosePausedRef.current=!0}},w=()=>{if(i.isClosePausedRef.current){const E=new CustomEvent(jd);h.dispatchEvent(E),i.isClosePausedRef.current=!1}},j=E=>{!x.contains(E.relatedTarget)&&w()},S=()=>{x.contains(document.activeElement)||w()};return x.addEventListener("focusin",p),x.addEventListener("focusout",j),x.addEventListener("pointermove",p),x.addEventListener("pointerleave",S),window.addEventListener("blur",p),window.addEventListener("focus",w),()=>{x.removeEventListener("focusin",p),x.removeEventListener("focusout",j),x.removeEventListener("pointermove",p),x.removeEventListener("pointerleave",S),window.removeEventListener("blur",p),window.removeEventListener("focus",w)}}},[b,i.isClosePausedRef]);const v=y.useCallback(({tabbingDirection:x})=>{const p=l().map(w=>{const j=w.ref.current,S=[j,...hE(j)];return x==="forwards"?S:S.reverse()});return(x==="forwards"?p.reverse():p).flat()},[l]);return y.useEffect(()=>{const x=f.current;if(x){const h=p=>{var S,E,C;const w=p.altKey||p.ctrlKey||p.metaKey;if(p.key==="Tab"&&!w){const N=document.activeElement,k=p.shiftKey;if(p.target===x&&k){(S=c.current)==null||S.focus();return}const D=v({tabbingDirection:k?"backwards":"forwards"}),O=D.findIndex(M=>M===N);Wc(D.slice(O+1))?p.preventDefault():k?(E=c.current)==null||E.focus():(C=d.current)==null||C.focus()}};return x.addEventListener("keydown",h),()=>x.removeEventListener("keydown",h)}},[l,v]),r.jsxs(BC,{ref:u,role:"region","aria-label":a.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&r.jsx(Nd,{ref:c,onFocusFromOutsideViewport:()=>{const x=v({tabbingDirection:"forwards"});Wc(x)}}),r.jsx(lp.Slot,{scope:s,children:r.jsx(le.ol,{tabIndex:-1,...o,ref:m})}),b&&r.jsx(Nd,{ref:d,onFocusFromOutsideViewport:()=>{const x=v({tabbingDirection:"backwards"});Wc(x)}})]})});Av.displayName=Pv;var Tv="ToastFocusProxy",Nd=y.forwardRef((e,t)=>{const{__scopeToast:s,onFocusFromOutsideViewport:n,...a}=e,o=zl(Tv,s);return r.jsx(op,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:i=>{var c;const l=i.relatedTarget;!((c=o.viewport)!=null&&c.contains(l))&&n()}})});Nd.displayName=Tv;var vo="Toast",sE="toast.swipeStart",nE="toast.swipeMove",rE="toast.swipeCancel",aE="toast.swipeEnd",Rv=y.forwardRef((e,t)=>{const{forceMount:s,open:n,defaultOpen:a,onOpenChange:o,...i}=e,[l,u]=Bl({prop:n,defaultProp:a??!0,onChange:o,caller:vo});return r.jsx(Kr,{present:s||l,children:r.jsx(lE,{open:l,...i,ref:t,onClose:()=>u(!1),onPause:it(e.onPause),onResume:it(e.onResume),onSwipeStart:Y(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Y(e.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Y(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Y(e.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),u(!1)})})})});Rv.displayName=vo;var[oE,iE]=Cv(vo,{onClose(){}}),lE=y.forwardRef((e,t)=>{const{__scopeToast:s,type:n="foreground",duration:a,open:o,onClose:i,onEscapeKeyDown:l,onPause:u,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:g,...b}=e,v=zl(vo,s),[x,h]=y.useState(null),p=Te(t,M=>h(M)),w=y.useRef(null),j=y.useRef(null),S=a||v.duration,E=y.useRef(0),C=y.useRef(S),N=y.useRef(0),{onToastAdd:k,onToastRemove:A}=v,I=it(()=>{var F;(x==null?void 0:x.contains(document.activeElement))&&((F=v.viewport)==null||F.focus()),i()}),D=y.useCallback(M=>{!M||M===1/0||(window.clearTimeout(N.current),E.current=new Date().getTime(),N.current=window.setTimeout(I,M))},[I]);y.useEffect(()=>{const M=v.viewport;if(M){const F=()=>{D(C.current),c==null||c()},V=()=>{const q=new Date().getTime()-E.current;C.current=C.current-q,window.clearTimeout(N.current),u==null||u()};return M.addEventListener(wd,V),M.addEventListener(jd,F),()=>{M.removeEventListener(wd,V),M.removeEventListener(jd,F)}}},[v.viewport,S,u,c,D]),y.useEffect(()=>{o&&!v.isClosePausedRef.current&&D(S)},[o,S,v.isClosePausedRef,D]),y.useEffect(()=>(k(),()=>A()),[k,A]);const O=y.useMemo(()=>x?Fv(x):null,[x]);return v.viewport?r.jsxs(r.Fragment,{children:[O&&r.jsx(cE,{__scopeToast:s,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:O}),r.jsx(oE,{scope:s,onClose:I,children:yo.createPortal(r.jsx(lp.ItemSlot,{scope:s,children:r.jsx(UC,{asChild:!0,onEscapeKeyDown:Y(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||I(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(le.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":v.swipeDirection,...b,ref:p,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Y(e.onKeyDown,M=>{M.key==="Escape"&&(l==null||l(M.nativeEvent),M.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:Y(e.onPointerDown,M=>{M.button===0&&(w.current={x:M.clientX,y:M.clientY})}),onPointerMove:Y(e.onPointerMove,M=>{if(!w.current)return;const F=M.clientX-w.current.x,V=M.clientY-w.current.y,q=!!j.current,R=["left","right"].includes(v.swipeDirection),_=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,L=R?_(0,F):0,$=R?0:_(0,V),K=M.pointerType==="touch"?10:2,ae={x:L,y:$},oe={originalEvent:M,delta:ae};q?(j.current=ae,Zo(nE,f,oe,{discrete:!1})):Om(ae,v.swipeDirection,K)?(j.current=ae,Zo(sE,d,oe,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(F)>K||Math.abs(V)>K)&&(w.current=null)}),onPointerUp:Y(e.onPointerUp,M=>{const F=j.current,V=M.target;if(V.hasPointerCapture(M.pointerId)&&V.releasePointerCapture(M.pointerId),j.current=null,w.current=null,F){const q=M.currentTarget,R={originalEvent:M,delta:F};Om(F,v.swipeDirection,v.swipeThreshold)?Zo(aE,g,R,{discrete:!0}):Zo(rE,m,R,{discrete:!0}),q.addEventListener("click",_=>_.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),cE=e=>{const{__scopeToast:t,children:s,...n}=e,a=zl(vo,t),[o,i]=y.useState(!1),[l,u]=y.useState(!1);return fE(()=>i(!0)),y.useEffect(()=>{const c=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(c)},[]),l?null:r.jsx(ap,{asChild:!0,children:r.jsx(op,{...n,children:o&&r.jsxs(r.Fragment,{children:[a.label," ",s]})})})},uE="ToastTitle",Dv=y.forwardRef((e,t)=>{const{__scopeToast:s,...n}=e;return r.jsx(le.div,{...n,ref:t})});Dv.displayName=uE;var dE="ToastDescription",_v=y.forwardRef((e,t)=>{const{__scopeToast:s,...n}=e;return r.jsx(le.div,{...n,ref:t})});_v.displayName=dE;var Mv="ToastAction",Lv=y.forwardRef((e,t)=>{const{altText:s,...n}=e;return s.trim()?r.jsx(Ov,{altText:s,asChild:!0,children:r.jsx(cp,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Mv}\`. Expected non-empty \`string\`.`),null)});Lv.displayName=Mv;var Iv="ToastClose",cp=y.forwardRef((e,t)=>{const{__scopeToast:s,...n}=e,a=iE(Iv,s);return r.jsx(Ov,{asChild:!0,children:r.jsx(le.button,{type:"button",...n,ref:t,onClick:Y(e.onClick,a.onClose)})})});cp.displayName=Iv;var Ov=y.forwardRef((e,t)=>{const{__scopeToast:s,altText:n,...a}=e;return r.jsx(le.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function Fv(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),pE(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!a)if(o){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...Fv(n))}}),t}function Zo(e,t,s,{discrete:n}){const a=s.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s});t&&a.addEventListener(e,t,{once:!0}),n?np(a,o):a.dispatchEvent(o)}var Om=(e,t,s=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),o=n>a;return t==="left"||t==="right"?o&&n>s:!o&&a>s};function fE(e=()=>{}){const t=it(e);Pt(()=>{let s=0,n=0;return s=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(n)}},[t])}function pE(e){return e.nodeType===e.ELEMENT_NODE}function hE(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function Wc(e){const t=document.activeElement;return e.some(s=>s===t?!0:(s.focus(),document.activeElement!==t))}var mE=Ev,$v=Av,Vv=Rv,Uv=Dv,Bv=_v,zv=Lv,Wv=cp;const Fm=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,$m=gv,up=(e,t)=>s=>{var n;if((t==null?void 0:t.variants)==null)return $m(e,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:a,defaultVariants:o}=t,i=Object.keys(a).map(c=>{const d=s==null?void 0:s[c],f=o==null?void 0:o[c];if(d===null)return null;const m=Fm(d)||Fm(f);return a[c][m]}),l=s&&Object.entries(s).reduce((c,d)=>{let[f,m]=d;return m===void 0||(c[f]=m),c},{}),u=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((c,d)=>{let{class:f,className:m,...g}=d;return Object.entries(g).every(b=>{let[v,x]=b;return Array.isArray(x)?x.includes({...o,...l}[v]):{...o,...l}[v]===x})?[...c,f,m]:c},[]);return $m(e,i,u,s==null?void 0:s.class,s==null?void 0:s.className)};var xE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const gE=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),H=(e,t)=>{const s=y.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:i,children:l,...u},c)=>y.createElement("svg",{ref:c,...xE,width:a,height:a,stroke:n,strokeWidth:i?Number(o)*24/Number(a):o,className:`lucide lucide-${gE(e)}`,...u},[...t.map(([d,f])=>y.createElement(d,f)),...(Array.isArray(l)?l:[l])||[]]));return s.displayName=`${e}`,s},dp=H("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),yE=H("AlertOctagon",[["polygon",{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2",key:"h1p8hx"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Gr=H("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),vE=H("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),fp=H("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),bE=H("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),wE=H("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.25V14",key:"re2vv1"}],["path",{d:"M22 16a6 6 0 1 1-12 0 6 6 0 0 1 12 0Z",key:"ame013"}]]),jE=H("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),NE=H("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),kE=H("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),Hv=H("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),pp=H("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),SE=H("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),CE=H("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),qv=H("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),Kv=H("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),EE=H("CloudCog",[["circle",{cx:"12",cy:"17",r:"3",key:"1spfwm"}],["path",{d:"M4.2 15.1A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.2",key:"zaobp"}],["path",{d:"m15.7 18.4-.9-.3",key:"4qxpbn"}],["path",{d:"m9.2 15.9-.9-.3",key:"17q7o2"}],["path",{d:"m10.6 20.7.3-.9",key:"1pf4s2"}],["path",{d:"m13.1 14.2.3-.9",key:"1mnuqm"}],["path",{d:"m13.6 20.7-.4-1",key:"1jpd1m"}],["path",{d:"m10.8 14.3-.4-1",key:"17ugyy"}],["path",{d:"m8.3 18.6 1-.4",key:"s42vdx"}],["path",{d:"m14.7 15.8 1-.4",key:"2wizun"}]]),PE=H("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]),Gv=H("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),AE=H("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Vm=H("DownloadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m8 17 4 4 4-4",key:"1ul180"}]]),TE=H("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),kd=H("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Sd=H("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Wl=H("FilePlus2",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7.5L14.5 2H6a2 2 0 0 0-2 2v4",key:"702lig"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M3 15h6",key:"4e2qda"}],["path",{d:"M6 12v6",key:"1u72j0"}]]),RE=H("FileSearch",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7.5L14.5 2H6a2 2 0 0 0-2 2v3",key:"am10z3"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M5 17a3 3 0 1 0 0-6 3 3 0 0 0 0 6z",key:"ychnub"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}]]),DE=H("FileSignature",[["path",{d:"M20 19.5v.5a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8.5L18 5.5",key:"kd5d3"}],["path",{d:"M8 18h1",key:"13wk12"}],["path",{d:"M18.42 9.61a2.1 2.1 0 1 1 2.97 2.97L16.95 17 13 18l.99-3.95 4.43-4.44Z",key:"johvi5"}]]),Lr=H("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Yv=H("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Xv=H("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),_E=H("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]),ME=H("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),hp=H("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]),LE=H("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),IE=H("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),OE=H("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),mp=H("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Qv=H("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),FE=H("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),$E=H("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),VE=H("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),UE=H("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),Hl=H("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),xp=H("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),BE=H("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]),zE=H("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Zv=H("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ql=H("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),Qt=H("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),WE=H("ShieldHalf",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 22V2",key:"zs6s6o"}]]),HE=H("ShieldPlus",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M8 11h8",key:"vwpz6n"}],["path",{d:"M12 15V7",key:"1ycneb"}]]),so=H("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),ts=H("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),qE=H("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),KE=H("UserCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),GE=H("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Jv=H("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Um=H("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Ee=H("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Bm=H("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),YE=mE,eb=P.forwardRef(({className:e,...t},s)=>r.jsx($v,{ref:s,className:Z("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));eb.displayName=$v.displayName;const XE=up("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),tb=P.forwardRef(({className:e,variant:t,...s},n)=>r.jsx(Vv,{ref:n,className:Z(XE({variant:t}),e),...s}));tb.displayName=Vv.displayName;const QE=P.forwardRef(({className:e,...t},s)=>r.jsx(zv,{ref:s,className:Z("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));QE.displayName=zv.displayName;const sb=P.forwardRef(({className:e,...t},s)=>r.jsx(Wv,{ref:s,className:Z("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx(Ee,{className:"h-4 w-4"})}));sb.displayName=Wv.displayName;const nb=P.forwardRef(({className:e,...t},s)=>r.jsx(Uv,{ref:s,className:Z("text-sm font-semibold",e),...t}));nb.displayName=Uv.displayName;const rb=P.forwardRef(({className:e,...t},s)=>r.jsx(Bv,{ref:s,className:Z("text-sm opacity-90",e),...t}));rb.displayName=Bv.displayName;const ZE=1;let Hc=0;function JE(){return Hc=(Hc+1)%Number.MAX_VALUE,Hc.toString()}const qe={state:{toasts:[]},listeners:[],getState:()=>qe.state,setState:e=>{typeof e=="function"?qe.state=e(qe.state):qe.state={...qe.state,...e},qe.listeners.forEach(t=>t(qe.state))},subscribe:e=>(qe.listeners.push(e),()=>{qe.listeners=qe.listeners.filter(t=>t!==e)})},eP=({...e})=>{const t=JE(),s=a=>qe.setState(o=>({...o,toasts:o.toasts.map(i=>i.id===t?{...i,...a}:i)})),n=()=>qe.setState(a=>({...a,toasts:a.toasts.filter(o=>o.id!==t)}));return qe.setState(a=>({...a,toasts:[{...e,id:t,dismiss:n},...a.toasts].slice(0,ZE)})),{id:t,dismiss:n,update:s}};function rn(){const[e,t]=y.useState(qe.getState());return y.useEffect(()=>qe.subscribe(n=>{t(n)}),[]),y.useEffect(()=>{const s=[];return e.toasts.forEach(n=>{if(n.duration===1/0)return;const a=setTimeout(()=>{n.dismiss()},n.duration||5e3);s.push(a)}),()=>{s.forEach(n=>clearTimeout(n))}},[e.toasts]),{toast:eP,toasts:e.toasts}}function tP(){const{toasts:e}=rn();return r.jsxs(YE,{children:[e.map(({id:t,title:s,description:n,action:a,...o})=>r.jsxs(tb,{...o,children:[r.jsxs("div",{className:"grid gap-1",children:[s&&r.jsx(nb,{children:s}),n&&r.jsx(rb,{children:n})]}),a,r.jsx(sb,{})]},t)),r.jsx(eb,{})]})}const sP=y.createContext(),nP=({children:e})=>{const[t,s]=y.useState(()=>{const a=localStorage.getItem("aura-theme");return a||"light"});y.useEffect(()=>{localStorage.setItem("aura-theme",t),document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(t)},[t]);const n=()=>{s(a=>a==="light"?"dark":"light")};return r.jsx(sP.Provider,{value:{theme:t,toggleTheme:n},children:e})};function ab(e,t){return function(){return e.apply(t,arguments)}}const{toString:rP}=Object.prototype,{getPrototypeOf:gp}=Object,{iterator:Kl,toStringTag:ob}=Symbol,Gl=(e=>t=>{const s=rP.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Vt=e=>(e=e.toLowerCase(),t=>Gl(t)===e),Yl=e=>t=>typeof t===e,{isArray:Yr}=Array,Ir=Yl("undefined");function bo(e){return e!==null&&!Ir(e)&&e.constructor!==null&&!Ir(e.constructor)&&at(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const ib=Vt("ArrayBuffer");function aP(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&ib(e.buffer),t}const oP=Yl("string"),at=Yl("function"),lb=Yl("number"),wo=e=>e!==null&&typeof e=="object",iP=e=>e===!0||e===!1,ji=e=>{if(Gl(e)!=="object")return!1;const t=gp(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(ob in e)&&!(Kl in e)},lP=e=>{if(!wo(e)||bo(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},cP=Vt("Date"),uP=Vt("File"),dP=Vt("Blob"),fP=Vt("FileList"),pP=e=>wo(e)&&at(e.pipe),hP=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||at(e.append)&&((t=Gl(e))==="formdata"||t==="object"&&at(e.toString)&&e.toString()==="[object FormData]"))},mP=Vt("URLSearchParams"),[xP,gP,yP,vP]=["ReadableStream","Request","Response","Headers"].map(Vt),bP=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function jo(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),Yr(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(bo(e))return;const o=s?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let l;for(n=0;n<i;n++)l=o[n],t.call(null,e[l],l,e)}}function cb(e,t){if(bo(e))return null;t=t.toLowerCase();const s=Object.keys(e);let n=s.length,a;for(;n-- >0;)if(a=s[n],t===a.toLowerCase())return a;return null}const vn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ub=e=>!Ir(e)&&e!==vn;function Cd(){const{caseless:e,skipUndefined:t}=ub(this)&&this||{},s={},n=(a,o)=>{const i=e&&cb(s,o)||o;ji(s[i])&&ji(a)?s[i]=Cd(s[i],a):ji(a)?s[i]=Cd({},a):Yr(a)?s[i]=a.slice():(!t||!Ir(a))&&(s[i]=a)};for(let a=0,o=arguments.length;a<o;a++)arguments[a]&&jo(arguments[a],n);return s}const wP=(e,t,s,{allOwnKeys:n}={})=>(jo(t,(a,o)=>{s&&at(a)?e[o]=ab(a,s):e[o]=a},{allOwnKeys:n}),e),jP=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),NP=(e,t,s,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},kP=(e,t,s,n)=>{let a,o,i;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),o=a.length;o-- >0;)i=a[o],(!n||n(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=s!==!1&&gp(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},SP=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const n=e.indexOf(t,s);return n!==-1&&n===s},CP=e=>{if(!e)return null;if(Yr(e))return e;let t=e.length;if(!lb(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},EP=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&gp(Uint8Array)),PP=(e,t)=>{const n=(e&&e[Kl]).call(e);let a;for(;(a=n.next())&&!a.done;){const o=a.value;t.call(e,o[0],o[1])}},AP=(e,t)=>{let s;const n=[];for(;(s=e.exec(t))!==null;)n.push(s);return n},TP=Vt("HTMLFormElement"),RP=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,n,a){return n.toUpperCase()+a}),zm=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),DP=Vt("RegExp"),db=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),n={};jo(s,(a,o)=>{let i;(i=t(a,o,e))!==!1&&(n[o]=i||a)}),Object.defineProperties(e,n)},_P=e=>{db(e,(t,s)=>{if(at(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const n=e[s];if(at(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},MP=(e,t)=>{const s={},n=a=>{a.forEach(o=>{s[o]=!0})};return Yr(e)?n(e):n(String(e).split(t)),s},LP=()=>{},IP=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function OP(e){return!!(e&&at(e.append)&&e[ob]==="FormData"&&e[Kl])}const FP=e=>{const t=new Array(10),s=(n,a)=>{if(wo(n)){if(t.indexOf(n)>=0)return;if(bo(n))return n;if(!("toJSON"in n)){t[a]=n;const o=Yr(n)?[]:{};return jo(n,(i,l)=>{const u=s(i,a+1);!Ir(u)&&(o[l]=u)}),t[a]=void 0,o}}return n};return s(e,0)},$P=Vt("AsyncFunction"),VP=e=>e&&(wo(e)||at(e))&&at(e.then)&&at(e.catch),fb=((e,t)=>e?setImmediate:t?((s,n)=>(vn.addEventListener("message",({source:a,data:o})=>{a===vn&&o===s&&n.length&&n.shift()()},!1),a=>{n.push(a),vn.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",at(vn.postMessage)),UP=typeof queueMicrotask<"u"?queueMicrotask.bind(vn):typeof process<"u"&&process.nextTick||fb,BP=e=>e!=null&&at(e[Kl]),T={isArray:Yr,isArrayBuffer:ib,isBuffer:bo,isFormData:hP,isArrayBufferView:aP,isString:oP,isNumber:lb,isBoolean:iP,isObject:wo,isPlainObject:ji,isEmptyObject:lP,isReadableStream:xP,isRequest:gP,isResponse:yP,isHeaders:vP,isUndefined:Ir,isDate:cP,isFile:uP,isBlob:dP,isRegExp:DP,isFunction:at,isStream:pP,isURLSearchParams:mP,isTypedArray:EP,isFileList:fP,forEach:jo,merge:Cd,extend:wP,trim:bP,stripBOM:jP,inherits:NP,toFlatObject:kP,kindOf:Gl,kindOfTest:Vt,endsWith:SP,toArray:CP,forEachEntry:PP,matchAll:AP,isHTMLForm:TP,hasOwnProperty:zm,hasOwnProp:zm,reduceDescriptors:db,freezeMethods:_P,toObjectSet:MP,toCamelCase:RP,noop:LP,toFiniteNumber:IP,findKey:cb,global:vn,isContextDefined:ub,isSpecCompliantForm:OP,toJSONObject:FP,isAsyncFn:$P,isThenable:VP,setImmediate:fb,asap:UP,isIterable:BP};function X(e,t,s,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}T.inherits(X,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:T.toJSONObject(this.config),code:this.code,status:this.status}}});const pb=X.prototype,hb={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{hb[e]={value:e}});Object.defineProperties(X,hb);Object.defineProperty(pb,"isAxiosError",{value:!0});X.from=(e,t,s,n,a,o)=>{const i=Object.create(pb);T.toFlatObject(e,i,function(d){return d!==Error.prototype},c=>c!=="isAxiosError");const l=e&&e.message?e.message:"Error",u=t==null&&e?e.code:t;return X.call(i,l,u,s,n,a),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",o&&Object.assign(i,o),i};const zP=null;function Ed(e){return T.isPlainObject(e)||T.isArray(e)}function mb(e){return T.endsWith(e,"[]")?e.slice(0,-2):e}function Wm(e,t,s){return e?e.concat(t).map(function(a,o){return a=mb(a),!s&&o?"["+a+"]":a}).join(s?".":""):t}function WP(e){return T.isArray(e)&&!e.some(Ed)}const HP=T.toFlatObject(T,{},null,function(t){return/^is[A-Z]/.test(t)});function Xl(e,t,s){if(!T.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=T.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,x){return!T.isUndefined(x[v])});const n=s.metaTokens,a=s.visitor||d,o=s.dots,i=s.indexes,u=(s.Blob||typeof Blob<"u"&&Blob)&&T.isSpecCompliantForm(t);if(!T.isFunction(a))throw new TypeError("visitor must be a function");function c(b){if(b===null)return"";if(T.isDate(b))return b.toISOString();if(T.isBoolean(b))return b.toString();if(!u&&T.isBlob(b))throw new X("Blob is not supported. Use a Buffer instead.");return T.isArrayBuffer(b)||T.isTypedArray(b)?u&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function d(b,v,x){let h=b;if(b&&!x&&typeof b=="object"){if(T.endsWith(v,"{}"))v=n?v:v.slice(0,-2),b=JSON.stringify(b);else if(T.isArray(b)&&WP(b)||(T.isFileList(b)||T.endsWith(v,"[]"))&&(h=T.toArray(b)))return v=mb(v),h.forEach(function(w,j){!(T.isUndefined(w)||w===null)&&t.append(i===!0?Wm([v],j,o):i===null?v:v+"[]",c(w))}),!1}return Ed(b)?!0:(t.append(Wm(x,v,o),c(b)),!1)}const f=[],m=Object.assign(HP,{defaultVisitor:d,convertValue:c,isVisitable:Ed});function g(b,v){if(!T.isUndefined(b)){if(f.indexOf(b)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(b),T.forEach(b,function(h,p){(!(T.isUndefined(h)||h===null)&&a.call(t,h,T.isString(p)?p.trim():p,v,m))===!0&&g(h,v?v.concat(p):[p])}),f.pop()}}if(!T.isObject(e))throw new TypeError("data must be an object");return g(e),t}function Hm(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function yp(e,t){this._pairs=[],e&&Xl(e,this,t)}const xb=yp.prototype;xb.append=function(t,s){this._pairs.push([t,s])};xb.toString=function(t){const s=t?function(n){return t.call(this,n,Hm)}:Hm;return this._pairs.map(function(a){return s(a[0])+"="+s(a[1])},"").join("&")};function qP(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function gb(e,t,s){if(!t)return e;const n=s&&s.encode||qP;T.isFunction(s)&&(s={serialize:s});const a=s&&s.serialize;let o;if(a?o=a(t,s):o=T.isURLSearchParams(t)?t.toString():new yp(t,s).toString(n),o){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class qm{constructor(){this.handlers=[]}use(t,s,n){return this.handlers.push({fulfilled:t,rejected:s,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){T.forEach(this.handlers,function(n){n!==null&&t(n)})}}const yb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},KP=typeof URLSearchParams<"u"?URLSearchParams:yp,GP=typeof FormData<"u"?FormData:null,YP=typeof Blob<"u"?Blob:null,XP={isBrowser:!0,classes:{URLSearchParams:KP,FormData:GP,Blob:YP},protocols:["http","https","file","blob","url","data"]},vp=typeof window<"u"&&typeof document<"u",Pd=typeof navigator=="object"&&navigator||void 0,QP=vp&&(!Pd||["ReactNative","NativeScript","NS"].indexOf(Pd.product)<0),ZP=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",JP=vp&&window.location.href||"http://localhost",eA=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:vp,hasStandardBrowserEnv:QP,hasStandardBrowserWebWorkerEnv:ZP,navigator:Pd,origin:JP},Symbol.toStringTag,{value:"Module"})),We={...eA,...XP};function tA(e,t){return Xl(e,new We.classes.URLSearchParams,{visitor:function(s,n,a,o){return We.isNode&&T.isBuffer(s)?(this.append(n,s.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function sA(e){return T.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function nA(e){const t={},s=Object.keys(e);let n;const a=s.length;let o;for(n=0;n<a;n++)o=s[n],t[o]=e[o];return t}function vb(e){function t(s,n,a,o){let i=s[o++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),u=o>=s.length;return i=!i&&T.isArray(a)?a.length:i,u?(T.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!l):((!a[i]||!T.isObject(a[i]))&&(a[i]=[]),t(s,n,a[i],o)&&T.isArray(a[i])&&(a[i]=nA(a[i])),!l)}if(T.isFormData(e)&&T.isFunction(e.entries)){const s={};return T.forEachEntry(e,(n,a)=>{t(sA(n),a,s,0)}),s}return null}function rA(e,t,s){if(T.isString(e))try{return(t||JSON.parse)(e),T.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(s||JSON.stringify)(e)}const No={transitional:yb,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const n=s.getContentType()||"",a=n.indexOf("application/json")>-1,o=T.isObject(t);if(o&&T.isHTMLForm(t)&&(t=new FormData(t)),T.isFormData(t))return a?JSON.stringify(vb(t)):t;if(T.isArrayBuffer(t)||T.isBuffer(t)||T.isStream(t)||T.isFile(t)||T.isBlob(t)||T.isReadableStream(t))return t;if(T.isArrayBufferView(t))return t.buffer;if(T.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return tA(t,this.formSerializer).toString();if((l=T.isFileList(t))||n.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Xl(l?{"files[]":t}:t,u&&new u,this.formSerializer)}}return o||a?(s.setContentType("application/json",!1),rA(t)):t}],transformResponse:[function(t){const s=this.transitional||No.transitional,n=s&&s.forcedJSONParsing,a=this.responseType==="json";if(T.isResponse(t)||T.isReadableStream(t))return t;if(t&&T.isString(t)&&(n&&!this.responseType||a)){const i=!(s&&s.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(i)throw l.name==="SyntaxError"?X.from(l,X.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:We.classes.FormData,Blob:We.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};T.forEach(["delete","get","head","post","put","patch"],e=>{No.headers[e]={}});const aA=T.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),oA=e=>{const t={};let s,n,a;return e&&e.split(`
`).forEach(function(i){a=i.indexOf(":"),s=i.substring(0,a).trim().toLowerCase(),n=i.substring(a+1).trim(),!(!s||t[s]&&aA[s])&&(s==="set-cookie"?t[s]?t[s].push(n):t[s]=[n]:t[s]=t[s]?t[s]+", "+n:n)}),t},Km=Symbol("internals");function da(e){return e&&String(e).trim().toLowerCase()}function Ni(e){return e===!1||e==null?e:T.isArray(e)?e.map(Ni):String(e)}function iA(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=s.exec(e);)t[n[1]]=n[2];return t}const lA=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function qc(e,t,s,n,a){if(T.isFunction(n))return n.call(this,t,s);if(a&&(t=s),!!T.isString(t)){if(T.isString(n))return t.indexOf(n)!==-1;if(T.isRegExp(n))return n.test(t)}}function cA(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,n)=>s.toUpperCase()+n)}function uA(e,t){const s=T.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+s,{value:function(a,o,i){return this[n].call(this,t,a,o,i)},configurable:!0})})}let ot=class{constructor(t){t&&this.set(t)}set(t,s,n){const a=this;function o(l,u,c){const d=da(u);if(!d)throw new Error("header name must be a non-empty string");const f=T.findKey(a,d);(!f||a[f]===void 0||c===!0||c===void 0&&a[f]!==!1)&&(a[f||u]=Ni(l))}const i=(l,u)=>T.forEach(l,(c,d)=>o(c,d,u));if(T.isPlainObject(t)||t instanceof this.constructor)i(t,s);else if(T.isString(t)&&(t=t.trim())&&!lA(t))i(oA(t),s);else if(T.isObject(t)&&T.isIterable(t)){let l={},u,c;for(const d of t){if(!T.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[c=d[0]]=(u=l[c])?T.isArray(u)?[...u,d[1]]:[u,d[1]]:d[1]}i(l,s)}else t!=null&&o(s,t,n);return this}get(t,s){if(t=da(t),t){const n=T.findKey(this,t);if(n){const a=this[n];if(!s)return a;if(s===!0)return iA(a);if(T.isFunction(s))return s.call(this,a,n);if(T.isRegExp(s))return s.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=da(t),t){const n=T.findKey(this,t);return!!(n&&this[n]!==void 0&&(!s||qc(this,this[n],n,s)))}return!1}delete(t,s){const n=this;let a=!1;function o(i){if(i=da(i),i){const l=T.findKey(n,i);l&&(!s||qc(n,n[l],l,s))&&(delete n[l],a=!0)}}return T.isArray(t)?t.forEach(o):o(t),a}clear(t){const s=Object.keys(this);let n=s.length,a=!1;for(;n--;){const o=s[n];(!t||qc(this,this[o],o,t,!0))&&(delete this[o],a=!0)}return a}normalize(t){const s=this,n={};return T.forEach(this,(a,o)=>{const i=T.findKey(n,o);if(i){s[i]=Ni(a),delete s[o];return}const l=t?cA(o):String(o).trim();l!==o&&delete s[o],s[l]=Ni(a),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return T.forEach(this,(n,a)=>{n!=null&&n!==!1&&(s[a]=t&&T.isArray(n)?n.join(", "):n)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const n=new this(t);return s.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[Km]=this[Km]={accessors:{}}).accessors,a=this.prototype;function o(i){const l=da(i);n[l]||(uA(a,i),n[l]=!0)}return T.isArray(t)?t.forEach(o):o(t),this}};ot.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);T.reduceDescriptors(ot.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[s]=n}}});T.freezeMethods(ot);function Kc(e,t){const s=this||No,n=t||s,a=ot.from(n.headers);let o=n.data;return T.forEach(e,function(l){o=l.call(s,o,a.normalize(),t?t.status:void 0)}),a.normalize(),o}function bb(e){return!!(e&&e.__CANCEL__)}function Xr(e,t,s){X.call(this,e??"canceled",X.ERR_CANCELED,t,s),this.name="CanceledError"}T.inherits(Xr,X,{__CANCEL__:!0});function wb(e,t,s){const n=s.config.validateStatus;!s.status||!n||n(s.status)?e(s):t(new X("Request failed with status code "+s.status,[X.ERR_BAD_REQUEST,X.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function dA(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function fA(e,t){e=e||10;const s=new Array(e),n=new Array(e);let a=0,o=0,i;return t=t!==void 0?t:1e3,function(u){const c=Date.now(),d=n[o];i||(i=c),s[a]=u,n[a]=c;let f=o,m=0;for(;f!==a;)m+=s[f++],f=f%e;if(a=(a+1)%e,a===o&&(o=(o+1)%e),c-i<t)return;const g=d&&c-d;return g?Math.round(m*1e3/g):void 0}}function pA(e,t){let s=0,n=1e3/t,a,o;const i=(c,d=Date.now())=>{s=d,a=null,o&&(clearTimeout(o),o=null),e(...c)};return[(...c)=>{const d=Date.now(),f=d-s;f>=n?i(c,d):(a=c,o||(o=setTimeout(()=>{o=null,i(a)},n-f)))},()=>a&&i(a)]}const rl=(e,t,s=3)=>{let n=0;const a=fA(50,250);return pA(o=>{const i=o.loaded,l=o.lengthComputable?o.total:void 0,u=i-n,c=a(u),d=i<=l;n=i;const f={loaded:i,total:l,progress:l?i/l:void 0,bytes:u,rate:c||void 0,estimated:c&&l&&d?(l-i)/c:void 0,event:o,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},s)},Gm=(e,t)=>{const s=e!=null;return[n=>t[0]({lengthComputable:s,total:e,loaded:n}),t[1]]},Ym=e=>(...t)=>T.asap(()=>e(...t)),hA=We.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,We.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(We.origin),We.navigator&&/(msie|trident)/i.test(We.navigator.userAgent)):()=>!0,mA=We.hasStandardBrowserEnv?{write(e,t,s,n,a,o,i){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];T.isNumber(s)&&l.push(`expires=${new Date(s).toUTCString()}`),T.isString(n)&&l.push(`path=${n}`),T.isString(a)&&l.push(`domain=${a}`),o===!0&&l.push("secure"),T.isString(i)&&l.push(`SameSite=${i}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function xA(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function gA(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function jb(e,t,s){let n=!xA(t);return e&&(n||s==!1)?gA(e,t):t}const Xm=e=>e instanceof ot?{...e}:e;function Fn(e,t){t=t||{};const s={};function n(c,d,f,m){return T.isPlainObject(c)&&T.isPlainObject(d)?T.merge.call({caseless:m},c,d):T.isPlainObject(d)?T.merge({},d):T.isArray(d)?d.slice():d}function a(c,d,f,m){if(T.isUndefined(d)){if(!T.isUndefined(c))return n(void 0,c,f,m)}else return n(c,d,f,m)}function o(c,d){if(!T.isUndefined(d))return n(void 0,d)}function i(c,d){if(T.isUndefined(d)){if(!T.isUndefined(c))return n(void 0,c)}else return n(void 0,d)}function l(c,d,f){if(f in t)return n(c,d);if(f in e)return n(void 0,c)}const u={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(c,d,f)=>a(Xm(c),Xm(d),f,!0)};return T.forEach(Object.keys({...e,...t}),function(d){const f=u[d]||a,m=f(e[d],t[d],d);T.isUndefined(m)&&f!==l||(s[d]=m)}),s}const Nb=e=>{const t=Fn({},e);let{data:s,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:o,headers:i,auth:l}=t;if(t.headers=i=ot.from(i),t.url=gb(jb(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),T.isFormData(s)){if(We.hasStandardBrowserEnv||We.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(T.isFunction(s.getHeaders)){const u=s.getHeaders(),c=["content-type","content-length"];Object.entries(u).forEach(([d,f])=>{c.includes(d.toLowerCase())&&i.set(d,f)})}}if(We.hasStandardBrowserEnv&&(n&&T.isFunction(n)&&(n=n(t)),n||n!==!1&&hA(t.url))){const u=a&&o&&mA.read(o);u&&i.set(a,u)}return t},yA=typeof XMLHttpRequest<"u",vA=yA&&function(e){return new Promise(function(s,n){const a=Nb(e);let o=a.data;const i=ot.from(a.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:c}=a,d,f,m,g,b;function v(){g&&g(),b&&b(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let x=new XMLHttpRequest;x.open(a.method.toUpperCase(),a.url,!0),x.timeout=a.timeout;function h(){if(!x)return;const w=ot.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),S={data:!l||l==="text"||l==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:w,config:e,request:x};wb(function(C){s(C),v()},function(C){n(C),v()},S),x=null}"onloadend"in x?x.onloadend=h:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(h)},x.onabort=function(){x&&(n(new X("Request aborted",X.ECONNABORTED,e,x)),x=null)},x.onerror=function(j){const S=j&&j.message?j.message:"Network Error",E=new X(S,X.ERR_NETWORK,e,x);E.event=j||null,n(E),x=null},x.ontimeout=function(){let j=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const S=a.transitional||yb;a.timeoutErrorMessage&&(j=a.timeoutErrorMessage),n(new X(j,S.clarifyTimeoutError?X.ETIMEDOUT:X.ECONNABORTED,e,x)),x=null},o===void 0&&i.setContentType(null),"setRequestHeader"in x&&T.forEach(i.toJSON(),function(j,S){x.setRequestHeader(S,j)}),T.isUndefined(a.withCredentials)||(x.withCredentials=!!a.withCredentials),l&&l!=="json"&&(x.responseType=a.responseType),c&&([m,b]=rl(c,!0),x.addEventListener("progress",m)),u&&x.upload&&([f,g]=rl(u),x.upload.addEventListener("progress",f),x.upload.addEventListener("loadend",g)),(a.cancelToken||a.signal)&&(d=w=>{x&&(n(!w||w.type?new Xr(null,e,x):w),x.abort(),x=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const p=dA(a.url);if(p&&We.protocols.indexOf(p)===-1){n(new X("Unsupported protocol "+p+":",X.ERR_BAD_REQUEST,e));return}x.send(o||null)})},bA=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let n=new AbortController,a;const o=function(c){if(!a){a=!0,l();const d=c instanceof Error?c:this.reason;n.abort(d instanceof X?d:new Xr(d instanceof Error?d.message:d))}};let i=t&&setTimeout(()=>{i=null,o(new X(`timeout ${t} of ms exceeded`,X.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener("abort",o)}),e=null)};e.forEach(c=>c.addEventListener("abort",o));const{signal:u}=n;return u.unsubscribe=()=>T.asap(l),u}},wA=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let n=0,a;for(;n<s;)a=n+t,yield e.slice(n,a),n=a},jA=async function*(e,t){for await(const s of NA(e))yield*wA(s,t)},NA=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:n}=await t.read();if(s)break;yield n}}finally{await t.cancel()}},Qm=(e,t,s,n)=>{const a=jA(e,t);let o=0,i,l=u=>{i||(i=!0,n&&n(u))};return new ReadableStream({async pull(u){try{const{done:c,value:d}=await a.next();if(c){l(),u.close();return}let f=d.byteLength;if(s){let m=o+=f;s(m)}u.enqueue(new Uint8Array(d))}catch(c){throw l(c),c}},cancel(u){return l(u),a.return()}},{highWaterMark:2})},Zm=64*1024,{isFunction:Jo}=T,kA=(({Request:e,Response:t})=>({Request:e,Response:t}))(T.global),{ReadableStream:Jm,TextEncoder:ex}=T.global,tx=(e,...t)=>{try{return!!e(...t)}catch{return!1}},SA=e=>{e=T.merge.call({skipUndefined:!0},kA,e);const{fetch:t,Request:s,Response:n}=e,a=t?Jo(t):typeof fetch=="function",o=Jo(s),i=Jo(n);if(!a)return!1;const l=a&&Jo(Jm),u=a&&(typeof ex=="function"?(b=>v=>b.encode(v))(new ex):async b=>new Uint8Array(await new s(b).arrayBuffer())),c=o&&l&&tx(()=>{let b=!1;const v=new s(We.origin,{body:new Jm,method:"POST",get duplex(){return b=!0,"half"}}).headers.has("Content-Type");return b&&!v}),d=i&&l&&tx(()=>T.isReadableStream(new n("").body)),f={stream:d&&(b=>b.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(b=>{!f[b]&&(f[b]=(v,x)=>{let h=v&&v[b];if(h)return h.call(v);throw new X(`Response type '${b}' is not supported`,X.ERR_NOT_SUPPORT,x)})});const m=async b=>{if(b==null)return 0;if(T.isBlob(b))return b.size;if(T.isSpecCompliantForm(b))return(await new s(We.origin,{method:"POST",body:b}).arrayBuffer()).byteLength;if(T.isArrayBufferView(b)||T.isArrayBuffer(b))return b.byteLength;if(T.isURLSearchParams(b)&&(b=b+""),T.isString(b))return(await u(b)).byteLength},g=async(b,v)=>{const x=T.toFiniteNumber(b.getContentLength());return x??m(v)};return async b=>{let{url:v,method:x,data:h,signal:p,cancelToken:w,timeout:j,onDownloadProgress:S,onUploadProgress:E,responseType:C,headers:N,withCredentials:k="same-origin",fetchOptions:A}=Nb(b),I=t||fetch;C=C?(C+"").toLowerCase():"text";let D=bA([p,w&&w.toAbortSignal()],j),O=null;const M=D&&D.unsubscribe&&(()=>{D.unsubscribe()});let F;try{if(E&&c&&x!=="get"&&x!=="head"&&(F=await g(N,h))!==0){let $=new s(v,{method:"POST",body:h,duplex:"half"}),K;if(T.isFormData(h)&&(K=$.headers.get("content-type"))&&N.setContentType(K),$.body){const[ae,oe]=Gm(F,rl(Ym(E)));h=Qm($.body,Zm,ae,oe)}}T.isString(k)||(k=k?"include":"omit");const V=o&&"credentials"in s.prototype,q={...A,signal:D,method:x.toUpperCase(),headers:N.normalize().toJSON(),body:h,duplex:"half",credentials:V?k:void 0};O=o&&new s(v,q);let R=await(o?I(O,A):I(v,q));const _=d&&(C==="stream"||C==="response");if(d&&(S||_&&M)){const $={};["status","statusText","headers"].forEach(Je=>{$[Je]=R[Je]});const K=T.toFiniteNumber(R.headers.get("content-length")),[ae,oe]=S&&Gm(K,rl(Ym(S),!0))||[];R=new n(Qm(R.body,Zm,ae,()=>{oe&&oe(),M&&M()}),$)}C=C||"text";let L=await f[T.findKey(f,C)||"text"](R,b);return!_&&M&&M(),await new Promise(($,K)=>{wb($,K,{data:L,headers:ot.from(R.headers),status:R.status,statusText:R.statusText,config:b,request:O})})}catch(V){throw M&&M(),V&&V.name==="TypeError"&&/Load failed|fetch/i.test(V.message)?Object.assign(new X("Network Error",X.ERR_NETWORK,b,O),{cause:V.cause||V}):X.from(V,V&&V.code,b,O)}}},CA=new Map,kb=e=>{let t=e&&e.env||{};const{fetch:s,Request:n,Response:a}=t,o=[n,a,s];let i=o.length,l=i,u,c,d=CA;for(;l--;)u=o[l],c=d.get(u),c===void 0&&d.set(u,c=l?new Map:SA(t)),d=c;return c};kb();const bp={http:zP,xhr:vA,fetch:{get:kb}};T.forEach(bp,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const sx=e=>`- ${e}`,EA=e=>T.isFunction(e)||e===null||e===!1;function PA(e,t){e=T.isArray(e)?e:[e];const{length:s}=e;let n,a;const o={};for(let i=0;i<s;i++){n=e[i];let l;if(a=n,!EA(n)&&(a=bp[(l=String(n)).toLowerCase()],a===void 0))throw new X(`Unknown adapter '${l}'`);if(a&&(T.isFunction(a)||(a=a.get(t))))break;o[l||"#"+i]=a}if(!a){const i=Object.entries(o).map(([u,c])=>`adapter ${u} `+(c===!1?"is not supported by the environment":"is not available in the build"));let l=s?i.length>1?`since :
`+i.map(sx).join(`
`):" "+sx(i[0]):"as no adapter specified";throw new X("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const Sb={getAdapter:PA,adapters:bp};function Gc(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Xr(null,e)}function nx(e){return Gc(e),e.headers=ot.from(e.headers),e.data=Kc.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Sb.getAdapter(e.adapter||No.adapter,e)(e).then(function(n){return Gc(e),n.data=Kc.call(e,e.transformResponse,n),n.headers=ot.from(n.headers),n},function(n){return bb(n)||(Gc(e),n&&n.response&&(n.response.data=Kc.call(e,e.transformResponse,n.response),n.response.headers=ot.from(n.response.headers))),Promise.reject(n)})}const Cb="1.13.2",Ql={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ql[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const rx={};Ql.transitional=function(t,s,n){function a(o,i){return"[Axios v"+Cb+"] Transitional option '"+o+"'"+i+(n?". "+n:"")}return(o,i,l)=>{if(t===!1)throw new X(a(i," has been removed"+(s?" in "+s:"")),X.ERR_DEPRECATED);return s&&!rx[i]&&(rx[i]=!0,console.warn(a(i," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(o,i,l):!0}};Ql.spelling=function(t){return(s,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function AA(e,t,s){if(typeof e!="object")throw new X("options must be an object",X.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const o=n[a],i=t[o];if(i){const l=e[o],u=l===void 0||i(l,o,e);if(u!==!0)throw new X("option "+o+" must be "+u,X.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new X("Unknown option "+o,X.ERR_BAD_OPTION)}}const ki={assertOptions:AA,validators:Ql},Wt=ki.validators;let Nn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new qm,response:new qm}}async request(t,s){try{return await this._request(t,s)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const o=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=Fn(this.defaults,s);const{transitional:n,paramsSerializer:a,headers:o}=s;n!==void 0&&ki.assertOptions(n,{silentJSONParsing:Wt.transitional(Wt.boolean),forcedJSONParsing:Wt.transitional(Wt.boolean),clarifyTimeoutError:Wt.transitional(Wt.boolean)},!1),a!=null&&(T.isFunction(a)?s.paramsSerializer={serialize:a}:ki.assertOptions(a,{encode:Wt.function,serialize:Wt.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),ki.assertOptions(s,{baseUrl:Wt.spelling("baseURL"),withXsrfToken:Wt.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let i=o&&T.merge(o.common,o[s.method]);o&&T.forEach(["delete","get","head","post","put","patch","common"],b=>{delete o[b]}),s.headers=ot.concat(i,o);const l=[];let u=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(s)===!1||(u=u&&v.synchronous,l.unshift(v.fulfilled,v.rejected))});const c=[];this.interceptors.response.forEach(function(v){c.push(v.fulfilled,v.rejected)});let d,f=0,m;if(!u){const b=[nx.bind(this),void 0];for(b.unshift(...l),b.push(...c),m=b.length,d=Promise.resolve(s);f<m;)d=d.then(b[f++],b[f++]);return d}m=l.length;let g=s;for(;f<m;){const b=l[f++],v=l[f++];try{g=b(g)}catch(x){v.call(this,x);break}}try{d=nx.call(this,g)}catch(b){return Promise.reject(b)}for(f=0,m=c.length;f<m;)d=d.then(c[f++],c[f++]);return d}getUri(t){t=Fn(this.defaults,t);const s=jb(t.baseURL,t.url,t.allowAbsoluteUrls);return gb(s,t.params,t.paramsSerializer)}};T.forEach(["delete","get","head","options"],function(t){Nn.prototype[t]=function(s,n){return this.request(Fn(n||{},{method:t,url:s,data:(n||{}).data}))}});T.forEach(["post","put","patch"],function(t){function s(n){return function(o,i,l){return this.request(Fn(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}Nn.prototype[t]=s(),Nn.prototype[t+"Form"]=s(!0)});let TA=class Eb{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(o){s=o});const n=this;this.promise.then(a=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](a);n._listeners=null}),this.promise.then=a=>{let o;const i=new Promise(l=>{n.subscribe(l),o=l}).then(a);return i.cancel=function(){n.unsubscribe(o)},i},t(function(o,i,l){n.reason||(n.reason=new Xr(o,i,l),s(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=n=>{t.abort(n)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new Eb(function(a){t=a}),cancel:t}}};function RA(e){return function(s){return e.apply(null,s)}}function DA(e){return T.isObject(e)&&e.isAxiosError===!0}const Ad={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Ad).forEach(([e,t])=>{Ad[t]=e});function Pb(e){const t=new Nn(e),s=ab(Nn.prototype.request,t);return T.extend(s,Nn.prototype,t,{allOwnKeys:!0}),T.extend(s,t,null,{allOwnKeys:!0}),s.create=function(a){return Pb(Fn(e,a))},s}const be=Pb(No);be.Axios=Nn;be.CanceledError=Xr;be.CancelToken=TA;be.isCancel=bb;be.VERSION=Cb;be.toFormData=Xl;be.AxiosError=X;be.Cancel=be.CanceledError;be.all=function(t){return Promise.all(t)};be.spread=RA;be.isAxiosError=DA;be.mergeConfig=Fn;be.AxiosHeaders=ot;be.formToJSON=e=>vb(T.isHTMLForm(e)?new FormData(e):e);be.getAdapter=Sb.getAdapter;be.HttpStatusCode=Ad;be.default=be;const{Axios:I$,AxiosError:O$,CanceledError:F$,isCancel:$$,CancelToken:V$,VERSION:U$,all:B$,Cancel:z$,isAxiosError:W$,spread:H$,toFormData:q$,AxiosHeaders:K$,HttpStatusCode:G$,formToJSON:Y$,getAdapter:X$,mergeConfig:Q$}=be,wp="aura-access-token",jp="aura-refresh-token",Np="aura-user",Ab=()=>localStorage.getItem(wp),Tb=()=>localStorage.getItem(jp),kp=(e,t)=>{localStorage.setItem(wp,e),localStorage.setItem(jp,t)},Sp=()=>{localStorage.removeItem(wp),localStorage.removeItem(jp)},Td=e=>{localStorage.setItem(Np,JSON.stringify(e))},Rd=()=>{const e=localStorage.getItem(Np);if(!e)return null;try{return JSON.parse(e)}catch{return null}},Cp=()=>{localStorage.removeItem(Np)},_A="/api".trim(),Rb=_A;let Dd=null;const MA=e=>{Dd=e},_d=()=>{Sp(),Cp(),Dd?Dd():window.location.replace("/login")},Si=e=>({tokens:{accessToken:e.access_token,refreshToken:e.refresh_token},user:e.user}),Db=async e=>(await be.post(`${Rb}/auth/refresh`,{refresh_token:e},{headers:{"Content-Type":"application/json"},timeout:1e4})).data,LA=(e,t)=>{if(kp(e.accessToken,e.refreshToken),t)Td(t);else{const s=Rd();s&&Td(s)}},z=be.create({baseURL:Rb,headers:{"Content-Type":"application/json"},timeout:1e4});z.interceptors.request.use(e=>{const t=Ab();return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e});let ei=!1,Md=[];const ax=e=>{Md.forEach(t=>t(e)),Md=[]};z.interceptors.response.use(e=>e,async e=>{var a,o,i;const t=e.config??{};if(((a=e==null?void 0:e.response)==null?void 0:a.status)===401&&!t._retry){if(t._retry=!0,ei)return new Promise(u=>{Md.push(c=>{c&&t.headers&&(t.headers.Authorization=`Bearer ${c}`),u(z(t))})});ei=!0;const l=Tb();if(!l)return _d(),Promise.reject(e);try{const u=await Db(l),{tokens:c}=Si(u);return kp(c.accessToken,c.refreshToken),ei=!1,ax(c.accessToken),t.headers&&(t.headers.Authorization=`Bearer ${c.accessToken}`),z(t)}catch(u){return ei=!1,ax(null),Sp(),Cp(),_d(),Promise.reject(u)}}const n=((i=(o=e==null?void 0:e.response)==null?void 0:o.data)==null?void 0:i.message)??(e==null?void 0:e.message)??"Unknown error";return Promise.reject(new Error(n))});const _b=y.createContext(void 0),IA=({children:e})=>{const t=zn(),{toast:s}=rn(),[n,a]=y.useState(null),[o,i]=y.useState(null),[l,u]=y.useState(!1),c=y.useCallback((v,x)=>{kp(v.accessToken,v.refreshToken),x&&(Td(x),a(x)),i(v.accessToken),u(!0)},[]),d=y.useCallback(()=>{Sp(),Cp(),a(null),i(null),u(!1),t("/login",{replace:!0})},[t]);y.useEffect(()=>{MA(d)},[d]);const f=y.useCallback(async()=>{const v=Tb();if(!v)return;const x=Rd();try{const h=await Db(v),{tokens:p,user:w}=Si(h);LA(p,w??x??void 0),c(p,w??x??void 0)}catch{d(),s({variant:"destructive",title:"Session expired",description:"Please sign in again."})}},[d,c,s]);y.useEffect(()=>{(async()=>{const x=Ab(),h=Rd();x&&h&&(i(x),a(h),u(!0)),await f()})()},[f]);const m=y.useCallback(async(v,x)=>{const h=await z.post("/auth/login",{email:v,password:x}),{tokens:p,user:w}=Si(h.data);return c(p,w),s({title:"Login Successful",description:"Welcome back!"}),t("/app/dashboard",{replace:!0}),w},[t,c,s]),g=y.useCallback(async(v,x)=>{const h=await z.post("/auth/register",{email:v,password:x}),{tokens:p,user:w}=Si(h.data);return c(p,w),s({title:"Registration Successful",description:"Your account has been created."}),t("/app/dashboard",{replace:!0}),w},[t,c,s]),b=y.useCallback(()=>{_d()},[]);return r.jsx(_b.Provider,{value:{user:n,accessToken:o,isAuthenticated:l,login:m,register:g,logout:b},children:e})},an=()=>{const e=y.useContext(_b);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},OA=e=>["dsr_deadline","policy_expiring","dpia_required","incident_alert","ai_recommendation","system_health"].includes(e)?e:"system_health",FA=e=>["info","warning","critical"].includes(e)?e:"info",Yc=e=>({id:(e==null?void 0:e.id)??(e==null?void 0:e._id)??"",type:OA(e==null?void 0:e.type),title:(e==null?void 0:e.title)??"",description:(e==null?void 0:e.description)??"",createdAt:(e==null?void 0:e.createdAt)??(e==null?void 0:e.created_at)??"",read:!!(e!=null&&e.read),severity:FA(e==null?void 0:e.severity),link:(e==null?void 0:e.link)??(e==null?void 0:e.url)??void 0}),$A=e=>{if(Array.isArray(e))return e.map(Yc);const t=e;return Array.isArray(t==null?void 0:t.items)?t.items.map(Yc):Array.isArray(t==null?void 0:t.notifications)?t.notifications.map(Yc):[]};async function VA(){const e=await z.get("/api/notifications");return $A(e.data)}async function UA(e){await z.patch(`/api/notifications/${e}/read`)}async function BA(){await z.post("/api/notifications/mark-all-read")}const Mb=P.createContext(void 0),zA=({children:e})=>{const[t,s]=P.useState([]),[n,a]=P.useState(!1),[o,i]=P.useState(!1),l=P.useCallback(async()=>{a(!0),i(!1);try{const f=await VA();s(f)}catch{i(!0)}finally{a(!1)}},[]);P.useEffect(()=>{l()},[l]);const u=P.useCallback(async f=>{s(m=>m.map(g=>g.id===f?{...g,read:!0}:g));try{await UA(f)}catch{i(!0)}},[]),c=P.useCallback(async()=>{s(f=>f.map(m=>({...m,read:!0})));try{await BA()}catch{i(!0)}},[]),d=P.useMemo(()=>({notifications:t,unreadCount:t.filter(f=>!f.read).length,markAsRead:u,markAllAsRead:c,isLoading:n,isError:o}),[t,c,u,o,n]);return r.jsx(Mb.Provider,{value:d,children:e})},WA=up("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),B=P.forwardRef(({className:e,variant:t,size:s,asChild:n=!1,...a},o)=>{const i=n?EC:"button";return r.jsx(i,{className:Z(WA({variant:t,size:s,className:e})),ref:o,...a})});B.displayName="Button";const dt=P.forwardRef(({className:e,type:t,...s},n)=>r.jsx("input",{type:t,className:Z("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...s}));dt.displayName="Input";var HA="Label",Lb=y.forwardRef((e,t)=>r.jsx(le.label,{...e,ref:t,onMouseDown:s=>{var a;s.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));Lb.displayName=HA;var Ib=Lb;const qA=up("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),_t=P.forwardRef(({className:e,...t},s)=>r.jsx(Ib,{ref:s,className:Z(qA(),e),...t}));_t.displayName=Ib.displayName;const ne=P.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:Z("rounded-xl border bg-card text-card-foreground shadow-sm",e),...t}));ne.displayName="Card";const Le=P.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:Z("flex flex-col space-y-1.5 p-6",e),...t}));Le.displayName="CardHeader";const Ie=P.forwardRef(({className:e,...t},s)=>r.jsx("h3",{ref:s,className:Z("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ie.displayName="CardTitle";const Zt=P.forwardRef(({className:e,...t},s)=>r.jsx("p",{ref:s,className:Z("text-sm text-muted-foreground",e),...t}));Zt.displayName="CardDescription";const re=P.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:Z("p-6 pt-0",e),...t}));re.displayName="CardContent";const Ep=P.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:Z("flex items-center p-6 pt-0",e),...t}));Ep.displayName="CardFooter";const Ob=y.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Zl=y.createContext({}),Pp=y.createContext(null),Jl=typeof document<"u",KA=Jl?y.useLayoutEffect:y.useEffect,Fb=y.createContext({strict:!1}),Ap=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),GA="framerAppearId",$b="data-"+Ap(GA);function YA(e,t,s,n){const{visualElement:a}=y.useContext(Zl),o=y.useContext(Fb),i=y.useContext(Pp),l=y.useContext(Ob).reducedMotion,u=y.useRef();n=n||o.renderer,!u.current&&n&&(u.current=n(e,{visualState:t,parent:a,props:s,presenceContext:i,blockInitialAnimation:i?i.initial===!1:!1,reducedMotionConfig:l}));const c=u.current;y.useInsertionEffect(()=>{c&&c.update(s,i)});const d=y.useRef(!!(s[$b]&&!window.HandoffComplete));return KA(()=>{c&&(c.render(),d.current&&c.animationState&&c.animationState.animateChanges())}),y.useEffect(()=>{c&&(c.updateFeatures(),!d.current&&c.animationState&&c.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),c}function dr(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function XA(e,t,s){return y.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),s&&(typeof s=="function"?s(n):dr(s)&&(s.current=n))},[t])}function no(e){return typeof e=="string"||Array.isArray(e)}function ec(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Tp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Rp=["initial",...Tp];function tc(e){return ec(e.animate)||Rp.some(t=>no(e[t]))}function Vb(e){return!!(tc(e)||e.variants)}function QA(e,t){if(tc(e)){const{initial:s,animate:n}=e;return{initial:s===!1||no(s)?s:void 0,animate:no(n)?n:void 0}}return e.inherit!==!1?t:{}}function ZA(e){const{initial:t,animate:s}=QA(e,y.useContext(Zl));return y.useMemo(()=>({initial:t,animate:s}),[ox(t),ox(s)])}function ox(e){return Array.isArray(e)?e.join(" "):e}const ix={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ro={};for(const e in ix)ro[e]={isEnabled:t=>ix[e].some(s=>!!t[s])};function JA(e){for(const t in e)ro[t]={...ro[t],...e[t]}}const Ub=y.createContext({}),Bb=y.createContext({}),eT=Symbol.for("motionComponentSymbol");function tT({preloadedFeatures:e,createVisualElement:t,useRender:s,useVisualState:n,Component:a}){e&&JA(e);function o(l,u){let c;const d={...y.useContext(Ob),...l,layoutId:sT(l)},{isStatic:f}=d,m=ZA(l),g=n(l,f);if(!f&&Jl){m.visualElement=YA(a,g,d,t);const b=y.useContext(Bb),v=y.useContext(Fb).strict;m.visualElement&&(c=m.visualElement.loadFeatures(d,v,e,b))}return y.createElement(Zl.Provider,{value:m},c&&m.visualElement?y.createElement(c,{visualElement:m.visualElement,...d}):null,s(a,l,XA(g,m.visualElement,u),g,f,m.visualElement))}const i=y.forwardRef(o);return i[eT]=a,i}function sT({layoutId:e}){const t=y.useContext(Ub).id;return t&&e!==void 0?t+"-"+e:e}function nT(e){function t(n,a={}){return tT(e(n,a))}if(typeof Proxy>"u")return t;const s=new Map;return new Proxy(t,{get:(n,a)=>(s.has(a)||s.set(a,t(a)),s.get(a))})}const rT=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Dp(e){return typeof e!="string"||e.includes("-")?!1:!!(rT.indexOf(e)>-1||/[A-Z]/.test(e))}const al={};function aT(e){Object.assign(al,e)}const ko=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Wn=new Set(ko);function zb(e,{layout:t,layoutId:s}){return Wn.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!al[e]||e==="opacity")}const lt=e=>!!(e&&e.getVelocity),oT={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},iT=ko.length;function lT(e,{enableHardwareAcceleration:t=!0,allowTransformNone:s=!0},n,a){let o="";for(let i=0;i<iT;i++){const l=ko[i];if(e[l]!==void 0){const u=oT[l]||l;o+=`${u}(${e[l]}) `}}return t&&!e.z&&(o+="translateZ(0)"),o=o.trim(),a?o=a(e,n?"":o):s&&n&&(o="none"),o}const Wb=e=>t=>typeof t=="string"&&t.startsWith(e),Hb=Wb("--"),Ld=Wb("var(--"),cT=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,uT=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Xs=(e,t,s)=>Math.min(Math.max(s,e),t),Hn={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ra={...Hn,transform:e=>Xs(0,1,e)},ti={...Hn,default:1},Da=e=>Math.round(e*1e5)/1e5,sc=/(-)?([\d]*\.?[\d])+/g,qb=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,dT=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function So(e){return typeof e=="string"}const Co=e=>({test:t=>So(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Es=Co("deg"),Jt=Co("%"),G=Co("px"),fT=Co("vh"),pT=Co("vw"),lx={...Jt,parse:e=>Jt.parse(e)/100,transform:e=>Jt.transform(e*100)},cx={...Hn,transform:Math.round},Kb={borderWidth:G,borderTopWidth:G,borderRightWidth:G,borderBottomWidth:G,borderLeftWidth:G,borderRadius:G,radius:G,borderTopLeftRadius:G,borderTopRightRadius:G,borderBottomRightRadius:G,borderBottomLeftRadius:G,width:G,maxWidth:G,height:G,maxHeight:G,size:G,top:G,right:G,bottom:G,left:G,padding:G,paddingTop:G,paddingRight:G,paddingBottom:G,paddingLeft:G,margin:G,marginTop:G,marginRight:G,marginBottom:G,marginLeft:G,rotate:Es,rotateX:Es,rotateY:Es,rotateZ:Es,scale:ti,scaleX:ti,scaleY:ti,scaleZ:ti,skew:Es,skewX:Es,skewY:Es,distance:G,translateX:G,translateY:G,translateZ:G,x:G,y:G,z:G,perspective:G,transformPerspective:G,opacity:Ra,originX:lx,originY:lx,originZ:G,zIndex:cx,fillOpacity:Ra,strokeOpacity:Ra,numOctaves:cx};function _p(e,t,s,n){const{style:a,vars:o,transform:i,transformOrigin:l}=e;let u=!1,c=!1,d=!0;for(const f in t){const m=t[f];if(Hb(f)){o[f]=m;continue}const g=Kb[f],b=uT(m,g);if(Wn.has(f)){if(u=!0,i[f]=b,!d)continue;m!==(g.default||0)&&(d=!1)}else f.startsWith("origin")?(c=!0,l[f]=b):a[f]=b}if(t.transform||(u||n?a.transform=lT(e.transform,s,d,n):a.transform&&(a.transform="none")),c){const{originX:f="50%",originY:m="50%",originZ:g=0}=l;a.transformOrigin=`${f} ${m} ${g}`}}const Mp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Gb(e,t,s){for(const n in t)!lt(t[n])&&!zb(n,s)&&(e[n]=t[n])}function hT({transformTemplate:e},t,s){return y.useMemo(()=>{const n=Mp();return _p(n,t,{enableHardwareAcceleration:!s},e),Object.assign({},n.vars,n.style)},[t])}function mT(e,t,s){const n=e.style||{},a={};return Gb(a,n,e),Object.assign(a,hT(e,t,s)),e.transformValues?e.transformValues(a):a}function xT(e,t,s){const n={},a=mT(e,t,s);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=a,n}const gT=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ol(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||gT.has(e)}let Yb=e=>!ol(e);function yT(e){e&&(Yb=t=>t.startsWith("on")?!ol(t):e(t))}try{yT(require("@emotion/is-prop-valid").default)}catch{}function vT(e,t,s){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(Yb(a)||s===!0&&ol(a)||!t&&!ol(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}function ux(e,t,s){return typeof e=="string"?e:G.transform(t+s*e)}function bT(e,t,s){const n=ux(t,e.x,e.width),a=ux(s,e.y,e.height);return`${n} ${a}`}const wT={offset:"stroke-dashoffset",array:"stroke-dasharray"},jT={offset:"strokeDashoffset",array:"strokeDasharray"};function NT(e,t,s=1,n=0,a=!0){e.pathLength=1;const o=a?wT:jT;e[o.offset]=G.transform(-n);const i=G.transform(t),l=G.transform(s);e[o.array]=`${i} ${l}`}function Lp(e,{attrX:t,attrY:s,attrScale:n,originX:a,originY:o,pathLength:i,pathSpacing:l=1,pathOffset:u=0,...c},d,f,m){if(_p(e,c,d,m),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:b,dimensions:v}=e;g.transform&&(v&&(b.transform=g.transform),delete g.transform),v&&(a!==void 0||o!==void 0||b.transform)&&(b.transformOrigin=bT(v,a!==void 0?a:.5,o!==void 0?o:.5)),t!==void 0&&(g.x=t),s!==void 0&&(g.y=s),n!==void 0&&(g.scale=n),i!==void 0&&NT(g,i,l,u,!1)}const Xb=()=>({...Mp(),attrs:{}}),Ip=e=>typeof e=="string"&&e.toLowerCase()==="svg";function kT(e,t,s,n){const a=y.useMemo(()=>{const o=Xb();return Lp(o,t,{enableHardwareAcceleration:!1},Ip(n),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};Gb(o,e.style,e),a.style={...o,...a.style}}return a}function ST(e=!1){return(s,n,a,{latestValues:o},i)=>{const u=(Dp(s)?kT:xT)(n,o,i,s),d={...vT(n,typeof s=="string",e),...u,ref:a},{children:f}=n,m=y.useMemo(()=>lt(f)?f.get():f,[f]);return y.createElement(s,{...d,children:m})}}function Qb(e,{style:t,vars:s},n,a){Object.assign(e.style,t,a&&a.getProjectionStyles(n));for(const o in s)e.style.setProperty(o,s[o])}const Zb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Jb(e,t,s,n){Qb(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(Zb.has(a)?a:Ap(a),t.attrs[a])}function Op(e,t){const{style:s}=e,n={};for(const a in s)(lt(s[a])||t.style&&lt(t.style[a])||zb(a,e))&&(n[a]=s[a]);return n}function ew(e,t){const s=Op(e,t);for(const n in e)if(lt(e[n])||lt(t[n])){const a=ko.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;s[a]=e[n]}return s}function Fp(e,t,s,n={},a={}){return typeof t=="function"&&(t=t(s!==void 0?s:e.custom,n,a)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(s!==void 0?s:e.custom,n,a)),t}function CT(e){const t=y.useRef(null);return t.current===null&&(t.current=e()),t.current}const il=e=>Array.isArray(e),ET=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),PT=e=>il(e)?e[e.length-1]||0:e;function Ci(e){const t=lt(e)?e.get():e;return ET(t)?t.toValue():t}function AT({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:s},n,a,o){const i={latestValues:TT(n,a,o,e),renderState:t()};return s&&(i.mount=l=>s(n,l,i)),i}const tw=e=>(t,s)=>{const n=y.useContext(Zl),a=y.useContext(Pp),o=()=>AT(e,t,n,a);return s?o():CT(o)};function TT(e,t,s,n){const a={},o=n(e,{});for(const m in o)a[m]=Ci(o[m]);let{initial:i,animate:l}=e;const u=tc(e),c=Vb(e);t&&c&&!u&&e.inherit!==!1&&(i===void 0&&(i=t.initial),l===void 0&&(l=t.animate));let d=s?s.initial===!1:!1;d=d||i===!1;const f=d?l:i;return f&&typeof f!="boolean"&&!ec(f)&&(Array.isArray(f)?f:[f]).forEach(g=>{const b=Fp(e,g);if(!b)return;const{transitionEnd:v,transition:x,...h}=b;for(const p in h){let w=h[p];if(Array.isArray(w)){const j=d?w.length-1:0;w=w[j]}w!==null&&(a[p]=w)}for(const p in v)a[p]=v[p]}),a}const Ne=e=>e;class dx{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const s=this.order.indexOf(t);s!==-1&&(this.order.splice(s,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function RT(e){let t=new dx,s=new dx,n=0,a=!1,o=!1;const i=new WeakSet,l={schedule:(u,c=!1,d=!1)=>{const f=d&&a,m=f?t:s;return c&&i.add(u),m.add(u)&&f&&a&&(n=t.order.length),u},cancel:u=>{s.remove(u),i.delete(u)},process:u=>{if(a){o=!0;return}if(a=!0,[t,s]=[s,t],s.clear(),n=t.order.length,n)for(let c=0;c<n;c++){const d=t.order[c];d(u),i.has(d)&&(l.schedule(d),e())}a=!1,o&&(o=!1,l.process(u))}};return l}const si=["prepare","read","update","preRender","render","postRender"],DT=40;function _T(e,t){let s=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=si.reduce((f,m)=>(f[m]=RT(()=>s=!0),f),{}),i=f=>o[f].process(a),l=()=>{const f=performance.now();s=!1,a.delta=n?1e3/60:Math.max(Math.min(f-a.timestamp,DT),1),a.timestamp=f,a.isProcessing=!0,si.forEach(i),a.isProcessing=!1,s&&t&&(n=!1,e(l))},u=()=>{s=!0,n=!0,a.isProcessing||e(l)};return{schedule:si.reduce((f,m)=>{const g=o[m];return f[m]=(b,v=!1,x=!1)=>(s||u(),g.schedule(b,v,x)),f},{}),cancel:f=>si.forEach(m=>o[m].cancel(f)),state:a,steps:o}}const{schedule:fe,cancel:vs,state:Be,steps:Xc}=_T(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ne,!0),MT={useVisualState:tw({scrapeMotionValuesFromProps:ew,createRenderState:Xb,onMount:(e,t,{renderState:s,latestValues:n})=>{fe.read(()=>{try{s.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{s.dimensions={x:0,y:0,width:0,height:0}}}),fe.render(()=>{Lp(s,n,{enableHardwareAcceleration:!1},Ip(t.tagName),e.transformTemplate),Jb(t,s)})}})},LT={useVisualState:tw({scrapeMotionValuesFromProps:Op,createRenderState:Mp})};function IT(e,{forwardMotionProps:t=!1},s,n){return{...Dp(e)?MT:LT,preloadedFeatures:s,useRender:ST(t),createVisualElement:n,Component:e}}function us(e,t,s,n={passive:!0}){return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s)}const sw=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function nc(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const OT=e=>t=>sw(t)&&e(t,nc(t));function fs(e,t,s,n){return us(e,t,OT(s),n)}const FT=(e,t)=>s=>t(e(s)),Ks=(...e)=>e.reduce(FT);function nw(e){let t=null;return()=>{const s=()=>{t=null};return t===null?(t=e,s):!1}}const fx=nw("dragHorizontal"),px=nw("dragVertical");function rw(e){let t=!1;if(e==="y")t=px();else if(e==="x")t=fx();else{const s=fx(),n=px();s&&n?t=()=>{s(),n()}:(s&&s(),n&&n())}return t}function aw(){const e=rw(!0);return e?(e(),!1):!0}class on{constructor(t){this.isMounted=!1,this.node=t}update(){}}function hx(e,t){const s="pointer"+(t?"enter":"leave"),n="onHover"+(t?"Start":"End"),a=(o,i)=>{if(o.pointerType==="touch"||aw())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[n]&&fe.update(()=>l[n](o,i))};return fs(e.current,s,a,{passive:!e.getProps()[n]})}class $T extends on{mount(){this.unmount=Ks(hx(this.node,!0),hx(this.node,!1))}unmount(){}}class VT extends on{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ks(us(this.node.current,"focus",()=>this.onFocus()),us(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const ow=(e,t)=>t?e===t?!0:ow(e,t.parentElement):!1;function Qc(e,t){if(!t)return;const s=new PointerEvent("pointer"+e);t(s,nc(s))}class UT extends on{constructor(){super(...arguments),this.removeStartListeners=Ne,this.removeEndListeners=Ne,this.removeAccessibleListeners=Ne,this.startPointerPress=(t,s)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),o=fs(window,"pointerup",(l,u)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:f}=this.node.getProps();fe.update(()=>{!f&&!ow(this.node.current,l.target)?d&&d(l,u):c&&c(l,u)})},{passive:!(n.onTap||n.onPointerUp)}),i=fs(window,"pointercancel",(l,u)=>this.cancelPress(l,u),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Ks(o,i),this.startPress(t,s)},this.startAccessiblePress=()=>{const t=o=>{if(o.key!=="Enter"||this.isPressing)return;const i=l=>{l.key!=="Enter"||!this.checkPressEnd()||Qc("up",(u,c)=>{const{onTap:d}=this.node.getProps();d&&fe.update(()=>d(u,c))})};this.removeEndListeners(),this.removeEndListeners=us(this.node.current,"keyup",i),Qc("down",(l,u)=>{this.startPress(l,u)})},s=us(this.node.current,"keydown",t),n=()=>{this.isPressing&&Qc("cancel",(o,i)=>this.cancelPress(o,i))},a=us(this.node.current,"blur",n);this.removeAccessibleListeners=Ks(s,a)}}startPress(t,s){this.isPressing=!0;const{onTapStart:n,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&fe.update(()=>n(t,s))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!aw()}cancelPress(t,s){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&fe.update(()=>n(t,s))}mount(){const t=this.node.getProps(),s=fs(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=us(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ks(s,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Id=new WeakMap,Zc=new WeakMap,BT=e=>{const t=Id.get(e.target);t&&t(e)},zT=e=>{e.forEach(BT)};function WT({root:e,...t}){const s=e||document;Zc.has(s)||Zc.set(s,{});const n=Zc.get(s),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(zT,{root:e,...t})),n[a]}function HT(e,t,s){const n=WT(t);return Id.set(e,s),n.observe(e),()=>{Id.delete(e),n.unobserve(e)}}const qT={some:0,all:1};class KT extends on{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:n,amount:a="some",once:o}=t,i={root:s?s.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:qT[a]},l=u=>{const{isIntersecting:c}=u;if(this.isInView===c||(this.isInView=c,o&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),m=c?d:f;m&&m(u)};return HT(this.node.current,i,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(GT(t,s))&&this.startObserver()}unmount(){}}function GT({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const YT={inView:{Feature:KT},tap:{Feature:UT},focus:{Feature:VT},hover:{Feature:$T}};function iw(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let n=0;n<s;n++)if(t[n]!==e[n])return!1;return!0}function XT(e){const t={};return e.values.forEach((s,n)=>t[n]=s.get()),t}function QT(e){const t={};return e.values.forEach((s,n)=>t[n]=s.getVelocity()),t}function rc(e,t,s){const n=e.getProps();return Fp(n,t,s!==void 0?s:n.custom,XT(e),QT(e))}let $p=Ne;const kn=e=>e*1e3,ps=e=>e/1e3,ZT={current:!1},lw=e=>Array.isArray(e)&&typeof e[0]=="number";function cw(e){return!!(!e||typeof e=="string"&&uw[e]||lw(e)||Array.isArray(e)&&e.every(cw))}const va=([e,t,s,n])=>`cubic-bezier(${e}, ${t}, ${s}, ${n})`,uw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:va([0,.65,.55,1]),circOut:va([.55,0,1,.45]),backIn:va([.31,.01,.66,-.59]),backOut:va([.33,1.53,.69,.99])};function dw(e){if(e)return lw(e)?va(e):Array.isArray(e)?e.map(dw):uw[e]}function JT(e,t,s,{delay:n=0,duration:a,repeat:o=0,repeatType:i="loop",ease:l,times:u}={}){const c={[t]:s};u&&(c.offset=u);const d=dw(l);return Array.isArray(d)&&(c.easing=d),e.animate(c,{delay:n,duration:a,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:o+1,direction:i==="reverse"?"alternate":"normal"})}function eR(e,{repeat:t,repeatType:s="loop"}){const n=t&&s!=="loop"&&t%2===1?0:e.length-1;return e[n]}const fw=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,tR=1e-7,sR=12;function nR(e,t,s,n,a){let o,i,l=0;do i=t+(s-t)/2,o=fw(i,n,a)-e,o>0?s=i:t=i;while(Math.abs(o)>tR&&++l<sR);return i}function Eo(e,t,s,n){if(e===t&&s===n)return Ne;const a=o=>nR(o,0,1,e,s);return o=>o===0||o===1?o:fw(a(o),t,n)}const rR=Eo(.42,0,1,1),aR=Eo(0,0,.58,1),pw=Eo(.42,0,.58,1),oR=e=>Array.isArray(e)&&typeof e[0]!="number",hw=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,mw=e=>t=>1-e(1-t),Vp=e=>1-Math.sin(Math.acos(e)),xw=mw(Vp),iR=hw(Vp),gw=Eo(.33,1.53,.69,.99),Up=mw(gw),lR=hw(Up),cR=e=>(e*=2)<1?.5*Up(e):.5*(2-Math.pow(2,-10*(e-1))),uR={linear:Ne,easeIn:rR,easeInOut:pw,easeOut:aR,circIn:Vp,circInOut:iR,circOut:xw,backIn:Up,backInOut:lR,backOut:gw,anticipate:cR},mx=e=>{if(Array.isArray(e)){$p(e.length===4);const[t,s,n,a]=e;return Eo(t,s,n,a)}else if(typeof e=="string")return uR[e];return e},Bp=(e,t)=>s=>!!(So(s)&&dT.test(s)&&s.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(s,t)),yw=(e,t,s)=>n=>{if(!So(n))return n;const[a,o,i,l]=n.match(sc);return{[e]:parseFloat(a),[t]:parseFloat(o),[s]:parseFloat(i),alpha:l!==void 0?parseFloat(l):1}},dR=e=>Xs(0,255,e),Jc={...Hn,transform:e=>Math.round(dR(e))},bn={test:Bp("rgb","red"),parse:yw("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:n=1})=>"rgba("+Jc.transform(e)+", "+Jc.transform(t)+", "+Jc.transform(s)+", "+Da(Ra.transform(n))+")"};function fR(e){let t="",s="",n="",a="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,s+=s,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const Od={test:Bp("#"),parse:fR,transform:bn.transform},fr={test:Bp("hsl","hue"),parse:yw("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:n=1})=>"hsla("+Math.round(e)+", "+Jt.transform(Da(t))+", "+Jt.transform(Da(s))+", "+Da(Ra.transform(n))+")"},Ke={test:e=>bn.test(e)||Od.test(e)||fr.test(e),parse:e=>bn.test(e)?bn.parse(e):fr.test(e)?fr.parse(e):Od.parse(e),transform:e=>So(e)?e:e.hasOwnProperty("red")?bn.transform(e):fr.transform(e)},me=(e,t,s)=>-s*e+s*t+e;function eu(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function pR({hue:e,saturation:t,lightness:s,alpha:n}){e/=360,t/=100,s/=100;let a=0,o=0,i=0;if(!t)a=o=i=s;else{const l=s<.5?s*(1+t):s+t-s*t,u=2*s-l;a=eu(u,l,e+1/3),o=eu(u,l,e),i=eu(u,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(i*255),alpha:n}}const tu=(e,t,s)=>{const n=e*e;return Math.sqrt(Math.max(0,s*(t*t-n)+n))},hR=[Od,bn,fr],mR=e=>hR.find(t=>t.test(e));function xx(e){const t=mR(e);let s=t.parse(e);return t===fr&&(s=pR(s)),s}const vw=(e,t)=>{const s=xx(e),n=xx(t),a={...s};return o=>(a.red=tu(s.red,n.red,o),a.green=tu(s.green,n.green,o),a.blue=tu(s.blue,n.blue,o),a.alpha=me(s.alpha,n.alpha,o),bn.transform(a))};function xR(e){var t,s;return isNaN(e)&&So(e)&&(((t=e.match(sc))===null||t===void 0?void 0:t.length)||0)+(((s=e.match(qb))===null||s===void 0?void 0:s.length)||0)>0}const bw={regex:cT,countKey:"Vars",token:"${v}",parse:Ne},ww={regex:qb,countKey:"Colors",token:"${c}",parse:Ke.parse},jw={regex:sc,countKey:"Numbers",token:"${n}",parse:Hn.parse};function su(e,{regex:t,countKey:s,token:n,parse:a}){const o=e.tokenised.match(t);o&&(e["num"+s]=o.length,e.tokenised=e.tokenised.replace(t,n),e.values.push(...o.map(a)))}function ll(e){const t=e.toString(),s={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return s.value.includes("var(--")&&su(s,bw),su(s,ww),su(s,jw),s}function Nw(e){return ll(e).values}function kw(e){const{values:t,numColors:s,numVars:n,tokenised:a}=ll(e),o=t.length;return i=>{let l=a;for(let u=0;u<o;u++)u<n?l=l.replace(bw.token,i[u]):u<n+s?l=l.replace(ww.token,Ke.transform(i[u])):l=l.replace(jw.token,Da(i[u]));return l}}const gR=e=>typeof e=="number"?0:e;function yR(e){const t=Nw(e);return kw(e)(t.map(gR))}const Qs={test:xR,parse:Nw,createTransformer:kw,getAnimatableNone:yR},Sw=(e,t)=>s=>`${s>0?t:e}`;function Cw(e,t){return typeof e=="number"?s=>me(e,t,s):Ke.test(e)?vw(e,t):e.startsWith("var(")?Sw(e,t):Pw(e,t)}const Ew=(e,t)=>{const s=[...e],n=s.length,a=e.map((o,i)=>Cw(o,t[i]));return o=>{for(let i=0;i<n;i++)s[i]=a[i](o);return s}},vR=(e,t)=>{const s={...e,...t},n={};for(const a in s)e[a]!==void 0&&t[a]!==void 0&&(n[a]=Cw(e[a],t[a]));return a=>{for(const o in n)s[o]=n[o](a);return s}},Pw=(e,t)=>{const s=Qs.createTransformer(t),n=ll(e),a=ll(t);return n.numVars===a.numVars&&n.numColors===a.numColors&&n.numNumbers>=a.numNumbers?Ks(Ew(n.values,a.values),s):Sw(e,t)},ao=(e,t,s)=>{const n=t-e;return n===0?1:(s-e)/n},gx=(e,t)=>s=>me(e,t,s);function bR(e){return typeof e=="number"?gx:typeof e=="string"?Ke.test(e)?vw:Pw:Array.isArray(e)?Ew:typeof e=="object"?vR:gx}function wR(e,t,s){const n=[],a=s||bR(e[0]),o=e.length-1;for(let i=0;i<o;i++){let l=a(e[i],e[i+1]);if(t){const u=Array.isArray(t)?t[i]||Ne:t;l=Ks(u,l)}n.push(l)}return n}function Aw(e,t,{clamp:s=!0,ease:n,mixer:a}={}){const o=e.length;if($p(o===t.length),o===1)return()=>t[0];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const i=wR(t,n,a),l=i.length,u=c=>{let d=0;if(l>1)for(;d<e.length-2&&!(c<e[d+1]);d++);const f=ao(e[d],e[d+1],c);return i[d](f)};return s?c=>u(Xs(e[0],e[o-1],c)):u}function jR(e,t){const s=e[e.length-1];for(let n=1;n<=t;n++){const a=ao(0,t,n);e.push(me(s,1,a))}}function NR(e){const t=[0];return jR(t,e.length-1),t}function kR(e,t){return e.map(s=>s*t)}function SR(e,t){return e.map(()=>t||pw).splice(0,e.length-1)}function cl({duration:e=300,keyframes:t,times:s,ease:n="easeInOut"}){const a=oR(n)?n.map(mx):mx(n),o={done:!1,value:t[0]},i=kR(s&&s.length===t.length?s:NR(t),e),l=Aw(i,t,{ease:Array.isArray(a)?a:SR(t,a)});return{calculatedDuration:e,next:u=>(o.value=l(u),o.done=u>=e,o)}}function Tw(e,t){return t?e*(1e3/t):0}const CR=5;function Rw(e,t,s){const n=Math.max(t-CR,0);return Tw(s-e(n),t-n)}const yx=.001,ER=.01,PR=10,AR=.05,TR=1;function RR({duration:e=800,bounce:t=.25,velocity:s=0,mass:n=1}){let a,o,i=1-t;i=Xs(AR,TR,i),e=Xs(ER,PR,ps(e)),i<1?(a=c=>{const d=c*i,f=d*e,m=d-s,g=Fd(c,i),b=Math.exp(-f);return yx-m/g*b},o=c=>{const f=c*i*e,m=f*s+s,g=Math.pow(i,2)*Math.pow(c,2)*e,b=Math.exp(-f),v=Fd(Math.pow(c,2),i);return(-a(c)+yx>0?-1:1)*((m-g)*b)/v}):(a=c=>{const d=Math.exp(-c*e),f=(c-s)*e+1;return-.001+d*f},o=c=>{const d=Math.exp(-c*e),f=(s-c)*(e*e);return d*f});const l=5/e,u=_R(a,o,l);if(e=kn(e),isNaN(u))return{stiffness:100,damping:10,duration:e};{const c=Math.pow(u,2)*n;return{stiffness:c,damping:i*2*Math.sqrt(n*c),duration:e}}}const DR=12;function _R(e,t,s){let n=s;for(let a=1;a<DR;a++)n=n-e(n)/t(n);return n}function Fd(e,t){return e*Math.sqrt(1-t*t)}const MR=["duration","bounce"],LR=["stiffness","damping","mass"];function vx(e,t){return t.some(s=>e[s]!==void 0)}function IR(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!vx(e,LR)&&vx(e,MR)){const s=RR(e);t={...t,...s,mass:1},t.isResolvedFromDuration=!0}return t}function Dw({keyframes:e,restDelta:t,restSpeed:s,...n}){const a=e[0],o=e[e.length-1],i={done:!1,value:a},{stiffness:l,damping:u,mass:c,duration:d,velocity:f,isResolvedFromDuration:m}=IR({...n,velocity:-ps(n.velocity||0)}),g=f||0,b=u/(2*Math.sqrt(l*c)),v=o-a,x=ps(Math.sqrt(l/c)),h=Math.abs(v)<5;s||(s=h?.01:2),t||(t=h?.005:.5);let p;if(b<1){const w=Fd(x,b);p=j=>{const S=Math.exp(-b*x*j);return o-S*((g+b*x*v)/w*Math.sin(w*j)+v*Math.cos(w*j))}}else if(b===1)p=w=>o-Math.exp(-x*w)*(v+(g+x*v)*w);else{const w=x*Math.sqrt(b*b-1);p=j=>{const S=Math.exp(-b*x*j),E=Math.min(w*j,300);return o-S*((g+b*x*v)*Math.sinh(E)+w*v*Math.cosh(E))/w}}return{calculatedDuration:m&&d||null,next:w=>{const j=p(w);if(m)i.done=w>=d;else{let S=g;w!==0&&(b<1?S=Rw(p,w,j):S=0);const E=Math.abs(S)<=s,C=Math.abs(o-j)<=t;i.done=E&&C}return i.value=i.done?o:j,i}}}function bx({keyframes:e,velocity:t=0,power:s=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:i,min:l,max:u,restDelta:c=.5,restSpeed:d}){const f=e[0],m={done:!1,value:f},g=N=>l!==void 0&&N<l||u!==void 0&&N>u,b=N=>l===void 0?u:u===void 0||Math.abs(l-N)<Math.abs(u-N)?l:u;let v=s*t;const x=f+v,h=i===void 0?x:i(x);h!==x&&(v=h-f);const p=N=>-v*Math.exp(-N/n),w=N=>h+p(N),j=N=>{const k=p(N),A=w(N);m.done=Math.abs(k)<=c,m.value=m.done?h:A};let S,E;const C=N=>{g(m.value)&&(S=N,E=Dw({keyframes:[m.value,b(m.value)],velocity:Rw(w,N,m.value),damping:a,stiffness:o,restDelta:c,restSpeed:d}))};return C(0),{calculatedDuration:null,next:N=>{let k=!1;return!E&&S===void 0&&(k=!0,j(N),C(N)),S!==void 0&&N>S?E.next(N-S):(!k&&j(N),m)}}}const OR=e=>{const t=({timestamp:s})=>e(s);return{start:()=>fe.update(t,!0),stop:()=>vs(t),now:()=>Be.isProcessing?Be.timestamp:performance.now()}},wx=2e4;function jx(e){let t=0;const s=50;let n=e.next(t);for(;!n.done&&t<wx;)t+=s,n=e.next(t);return t>=wx?1/0:t}const FR={decay:bx,inertia:bx,tween:cl,keyframes:cl,spring:Dw};function ul({autoplay:e=!0,delay:t=0,driver:s=OR,keyframes:n,type:a="keyframes",repeat:o=0,repeatDelay:i=0,repeatType:l="loop",onPlay:u,onStop:c,onComplete:d,onUpdate:f,...m}){let g=1,b=!1,v,x;const h=()=>{x=new Promise($=>{v=$})};h();let p;const w=FR[a]||cl;let j;w!==cl&&typeof n[0]!="number"&&(j=Aw([0,100],n,{clamp:!1}),n=[0,100]);const S=w({...m,keyframes:n});let E;l==="mirror"&&(E=w({...m,keyframes:[...n].reverse(),velocity:-(m.velocity||0)}));let C="idle",N=null,k=null,A=null;S.calculatedDuration===null&&o&&(S.calculatedDuration=jx(S));const{calculatedDuration:I}=S;let D=1/0,O=1/0;I!==null&&(D=I+i,O=D*(o+1)-i);let M=0;const F=$=>{if(k===null)return;g>0&&(k=Math.min(k,$)),g<0&&(k=Math.min($-O/g,k)),N!==null?M=N:M=Math.round($-k)*g;const K=M-t*(g>=0?1:-1),ae=g>=0?K<0:K>O;M=Math.max(K,0),C==="finished"&&N===null&&(M=O);let oe=M,Je=S;if(o){const $e=Math.min(M,O)/D;let Ut=Math.floor($e),Bt=$e%1;!Bt&&$e>=1&&(Bt=1),Bt===1&&Ut--,Ut=Math.min(Ut,o+1),!!(Ut%2)&&(l==="reverse"?(Bt=1-Bt,i&&(Bt-=i/D)):l==="mirror"&&(Je=E)),oe=Xs(0,1,Bt)*D}const we=ae?{done:!1,value:n[0]}:Je.next(oe);j&&(we.value=j(we.value));let{done:_e}=we;!ae&&I!==null&&(_e=g>=0?M>=O:M<=0);const cn=N===null&&(C==="finished"||C==="running"&&_e);return f&&f(we.value),cn&&R(),we},V=()=>{p&&p.stop(),p=void 0},q=()=>{C="idle",V(),v(),h(),k=A=null},R=()=>{C="finished",d&&d(),V(),v()},_=()=>{if(b)return;p||(p=s(F));const $=p.now();u&&u(),N!==null?k=$-N:(!k||C==="finished")&&(k=$),C==="finished"&&h(),A=k,N=null,C="running",p.start()};e&&_();const L={then($,K){return x.then($,K)},get time(){return ps(M)},set time($){$=kn($),M=$,N!==null||!p||g===0?N=$:k=p.now()-$/g},get duration(){const $=S.calculatedDuration===null?jx(S):S.calculatedDuration;return ps($)},get speed(){return g},set speed($){$===g||!p||(g=$,L.time=ps(M))},get state(){return C},play:_,pause:()=>{C="paused",N=M},stop:()=>{b=!0,C!=="idle"&&(C="idle",c&&c(),q())},cancel:()=>{A!==null&&F(A),q()},complete:()=>{C="finished"},sample:$=>(k=0,F($))};return L}function $R(e){let t;return()=>(t===void 0&&(t=e()),t)}const VR=$R(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),UR=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),ni=10,BR=2e4,zR=(e,t)=>t.type==="spring"||e==="backgroundColor"||!cw(t.ease);function WR(e,t,{onUpdate:s,onComplete:n,...a}){if(!(VR()&&UR.has(t)&&!a.repeatDelay&&a.repeatType!=="mirror"&&a.damping!==0&&a.type!=="inertia"))return!1;let i=!1,l,u,c=!1;const d=()=>{u=new Promise(w=>{l=w})};d();let{keyframes:f,duration:m=300,ease:g,times:b}=a;if(zR(t,a)){const w=ul({...a,repeat:0,delay:0});let j={done:!1,value:f[0]};const S=[];let E=0;for(;!j.done&&E<BR;)j=w.sample(E),S.push(j.value),E+=ni;b=void 0,f=S,m=E-ni,g="linear"}const v=JT(e.owner.current,t,f,{...a,duration:m,ease:g,times:b}),x=()=>{c=!1,v.cancel()},h=()=>{c=!0,fe.update(x),l(),d()};return v.onfinish=()=>{c||(e.set(eR(f,a)),n&&n(),h())},{then(w,j){return u.then(w,j)},attachTimeline(w){return v.timeline=w,v.onfinish=null,Ne},get time(){return ps(v.currentTime||0)},set time(w){v.currentTime=kn(w)},get speed(){return v.playbackRate},set speed(w){v.playbackRate=w},get duration(){return ps(m)},play:()=>{i||(v.play(),vs(x))},pause:()=>v.pause(),stop:()=>{if(i=!0,v.playState==="idle")return;const{currentTime:w}=v;if(w){const j=ul({...a,autoplay:!1});e.setWithVelocity(j.sample(w-ni).value,j.sample(w).value,ni)}h()},complete:()=>{c||v.finish()},cancel:h}}function HR({keyframes:e,delay:t,onUpdate:s,onComplete:n}){const a=()=>(s&&s(e[e.length-1]),n&&n(),{time:0,speed:1,duration:0,play:Ne,pause:Ne,stop:Ne,then:o=>(o(),Promise.resolve()),cancel:Ne,complete:Ne});return t?ul({keyframes:[0,1],duration:0,delay:t,onComplete:a}):a()}const qR={type:"spring",stiffness:500,damping:25,restSpeed:10},KR=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),GR={type:"keyframes",duration:.8},YR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},XR=(e,{keyframes:t})=>t.length>2?GR:Wn.has(e)?e.startsWith("scale")?KR(t[1]):qR:YR,$d=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Qs.test(t)||t==="0")&&!t.startsWith("url(")),QR=new Set(["brightness","contrast","saturate","opacity"]);function ZR(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=s.match(sc)||[];if(!n)return e;const a=s.replace(n,"");let o=QR.has(t)?1:0;return n!==s&&(o*=100),t+"("+o+a+")"}const JR=/([a-z-]*)\(.*?\)/g,Vd={...Qs,getAnimatableNone:e=>{const t=e.match(JR);return t?t.map(ZR).join(" "):e}},eD={...Kb,color:Ke,backgroundColor:Ke,outlineColor:Ke,fill:Ke,stroke:Ke,borderColor:Ke,borderTopColor:Ke,borderRightColor:Ke,borderBottomColor:Ke,borderLeftColor:Ke,filter:Vd,WebkitFilter:Vd},zp=e=>eD[e];function _w(e,t){let s=zp(e);return s!==Vd&&(s=Qs),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const Mw=e=>/^0[^.\s]+$/.test(e);function tD(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||Mw(e)}function sD(e,t,s,n){const a=$d(t,s);let o;Array.isArray(s)?o=[...s]:o=[null,s];const i=n.from!==void 0?n.from:e.get();let l;const u=[];for(let c=0;c<o.length;c++)o[c]===null&&(o[c]=c===0?i:o[c-1]),tD(o[c])&&u.push(c),typeof o[c]=="string"&&o[c]!=="none"&&o[c]!=="0"&&(l=o[c]);if(a&&u.length&&l)for(let c=0;c<u.length;c++){const d=u[c];o[d]=_w(t,l)}return o}function nD({when:e,delay:t,delayChildren:s,staggerChildren:n,staggerDirection:a,repeat:o,repeatType:i,repeatDelay:l,from:u,elapsed:c,...d}){return!!Object.keys(d).length}function Wp(e,t){return e[t]||e.default||e}const rD={skipAnimations:!1},Hp=(e,t,s,n={})=>a=>{const o=Wp(n,e)||{},i=o.delay||n.delay||0;let{elapsed:l=0}=n;l=l-kn(i);const u=sD(t,e,s,o),c=u[0],d=u[u.length-1],f=$d(e,c),m=$d(e,d);let g={keyframes:u,velocity:t.getVelocity(),ease:"easeOut",...o,delay:-l,onUpdate:b=>{t.set(b),o.onUpdate&&o.onUpdate(b)},onComplete:()=>{a(),o.onComplete&&o.onComplete()}};if(nD(o)||(g={...g,...XR(e,g)}),g.duration&&(g.duration=kn(g.duration)),g.repeatDelay&&(g.repeatDelay=kn(g.repeatDelay)),!f||!m||ZT.current||o.type===!1||rD.skipAnimations)return HR(g);if(!n.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const b=WR(t,e,g);if(b)return b}return ul(g)};function dl(e){return!!(lt(e)&&e.add)}const Lw=e=>/^\-?\d*\.?\d+$/.test(e);function qp(e,t){e.indexOf(t)===-1&&e.push(t)}function Kp(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}class Gp{constructor(){this.subscriptions=[]}add(t){return qp(this.subscriptions,t),()=>Kp(this.subscriptions,t)}notify(t,s,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,s,n);else for(let o=0;o<a;o++){const i=this.subscriptions[o];i&&i(t,s,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const aD=e=>!isNaN(parseFloat(e));class oD{constructor(t,s={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,a=!0)=>{this.prev=this.current,this.current=n;const{delta:o,timestamp:i}=Be;this.lastUpdated!==i&&(this.timeDelta=o,this.lastUpdated=i,fe.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>fe.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=aD(this.current),this.owner=s.owner}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new Gp);const n=this.events[t].add(s);return t==="change"?()=>{n(),fe.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t,s=!0){!s||!this.passiveEffect?this.updateAndNotify(t,s):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,s,n){this.set(s),this.prev=t,this.timeDelta=n}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Tw(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Or(e,t){return new oD(e,t)}const Iw=e=>t=>t.test(e),iD={test:e=>e==="auto",parse:e=>e},Ow=[Hn,G,Jt,Es,pT,fT,iD],fa=e=>Ow.find(Iw(e)),lD=[...Ow,Ke,Qs],cD=e=>lD.find(Iw(e));function uD(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,Or(s))}function dD(e,t){const s=rc(e,t);let{transitionEnd:n={},transition:a={},...o}=s?e.makeTargetAnimatable(s,!1):{};o={...o,...n};for(const i in o){const l=PT(o[i]);uD(e,i,l)}}function fD(e,t,s){var n,a;const o=Object.keys(t).filter(l=>!e.hasValue(l)),i=o.length;if(i)for(let l=0;l<i;l++){const u=o[l],c=t[u];let d=null;Array.isArray(c)&&(d=c[0]),d===null&&(d=(a=(n=s[u])!==null&&n!==void 0?n:e.readValue(u))!==null&&a!==void 0?a:t[u]),d!=null&&(typeof d=="string"&&(Lw(d)||Mw(d))?d=parseFloat(d):!cD(d)&&Qs.test(c)&&(d=_w(u,c)),e.addValue(u,Or(d,{owner:e})),s[u]===void 0&&(s[u]=d),d!==null&&e.setBaseTarget(u,d))}}function pD(e,t){return t?(t[e]||t.default||t).from:void 0}function hD(e,t,s){const n={};for(const a in e){const o=pD(a,t);if(o!==void 0)n[a]=o;else{const i=s.getValue(a);i&&(n[a]=i.get())}}return n}function mD({protectedKeys:e,needsAnimating:t},s){const n=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,n}function xD(e,t){const s=e.get();if(Array.isArray(t)){for(let n=0;n<t.length;n++)if(t[n]!==s)return!0}else return s!==t}function Fw(e,t,{delay:s=0,transitionOverride:n,type:a}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:i,...l}=e.makeTargetAnimatable(t);const u=e.getValue("willChange");n&&(o=n);const c=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const f in l){const m=e.getValue(f),g=l[f];if(!m||g===void 0||d&&mD(d,f))continue;const b={delay:s,elapsed:0,...Wp(o||{},f)};if(window.HandoffAppearAnimations){const h=e.getProps()[$b];if(h){const p=window.HandoffAppearAnimations(h,f,m,fe);p!==null&&(b.elapsed=p,b.isHandoff=!0)}}let v=!b.isHandoff&&!xD(m,g);if(b.type==="spring"&&(m.getVelocity()||b.velocity)&&(v=!1),m.animation&&(v=!1),v)continue;m.start(Hp(f,m,g,e.shouldReduceMotion&&Wn.has(f)?{type:!1}:b));const x=m.animation;dl(u)&&(u.add(f),x.then(()=>u.remove(f))),c.push(x)}return i&&Promise.all(c).then(()=>{i&&dD(e,i)}),c}function Ud(e,t,s={}){const n=rc(e,t,s.custom);let{transition:a=e.getDefaultTransition()||{}}=n||{};s.transitionOverride&&(a=s.transitionOverride);const o=n?()=>Promise.all(Fw(e,n,s)):()=>Promise.resolve(),i=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=a;return gD(e,t,c+u,d,f,s)}:()=>Promise.resolve(),{when:l}=a;if(l){const[u,c]=l==="beforeChildren"?[o,i]:[i,o];return u().then(()=>c())}else return Promise.all([o(),i(s.delay)])}function gD(e,t,s=0,n=0,a=1,o){const i=[],l=(e.variantChildren.size-1)*n,u=a===1?(c=0)=>c*n:(c=0)=>l-c*n;return Array.from(e.variantChildren).sort(yD).forEach((c,d)=>{c.notify("AnimationStart",t),i.push(Ud(c,t,{...o,delay:s+u(d)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(i)}function yD(e,t){return e.sortNodePosition(t)}function vD(e,t,s={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(o=>Ud(e,o,s));n=Promise.all(a)}else if(typeof t=="string")n=Ud(e,t,s);else{const a=typeof t=="function"?rc(e,t,s.custom):t;n=Promise.all(Fw(e,a,s))}return n.then(()=>e.notify("AnimationComplete",t))}const bD=[...Tp].reverse(),wD=Tp.length;function jD(e){return t=>Promise.all(t.map(({animation:s,options:n})=>vD(e,s,n)))}function ND(e){let t=jD(e);const s=SD();let n=!0;const a=(u,c)=>{const d=rc(e,c);if(d){const{transition:f,transitionEnd:m,...g}=d;u={...u,...g,...m}}return u};function o(u){t=u(e)}function i(u,c){const d=e.getProps(),f=e.getVariantContext(!0)||{},m=[],g=new Set;let b={},v=1/0;for(let h=0;h<wD;h++){const p=bD[h],w=s[p],j=d[p]!==void 0?d[p]:f[p],S=no(j),E=p===c?w.isActive:null;E===!1&&(v=h);let C=j===f[p]&&j!==d[p]&&S;if(C&&n&&e.manuallyAnimateOnMount&&(C=!1),w.protectedKeys={...b},!w.isActive&&E===null||!j&&!w.prevProp||ec(j)||typeof j=="boolean")continue;let k=kD(w.prevProp,j)||p===c&&w.isActive&&!C&&S||h>v&&S,A=!1;const I=Array.isArray(j)?j:[j];let D=I.reduce(a,{});E===!1&&(D={});const{prevResolvedValues:O={}}=w,M={...O,...D},F=V=>{k=!0,g.has(V)&&(A=!0,g.delete(V)),w.needsAnimating[V]=!0};for(const V in M){const q=D[V],R=O[V];if(b.hasOwnProperty(V))continue;let _=!1;il(q)&&il(R)?_=!iw(q,R):_=q!==R,_?q!==void 0?F(V):g.add(V):q!==void 0&&g.has(V)?F(V):w.protectedKeys[V]=!0}w.prevProp=j,w.prevResolvedValues=D,w.isActive&&(b={...b,...D}),n&&e.blockInitialAnimation&&(k=!1),k&&(!C||A)&&m.push(...I.map(V=>({animation:V,options:{type:p,...u}})))}if(g.size){const h={};g.forEach(p=>{const w=e.getBaseTarget(p);w!==void 0&&(h[p]=w)}),m.push({animation:h})}let x=!!m.length;return n&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(x=!1),n=!1,x?t(m):Promise.resolve()}function l(u,c,d){var f;if(s[u].isActive===c)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(g=>{var b;return(b=g.animationState)===null||b===void 0?void 0:b.setActive(u,c)}),s[u].isActive=c;const m=i(d,u);for(const g in s)s[g].protectedKeys={};return m}return{animateChanges:i,setActive:l,setAnimateFunction:o,getState:()=>s}}function kD(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!iw(t,e):!1}function un(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function SD(){return{animate:un(!0),whileInView:un(),whileHover:un(),whileTap:un(),whileDrag:un(),whileFocus:un(),exit:un()}}class CD extends on{constructor(t){super(t),t.animationState||(t.animationState=ND(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),ec(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){}}let ED=0;class PD extends on{constructor(){super(...arguments),this.id=ED++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s,custom:n}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const o=this.node.animationState.setActive("exit",!t,{custom:n??this.node.getProps().custom});s&&!t&&o.then(()=>s(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const AD={animation:{Feature:CD},exit:{Feature:PD}},Nx=(e,t)=>Math.abs(e-t);function TD(e,t){const s=Nx(e.x,t.x),n=Nx(e.y,t.y);return Math.sqrt(s**2+n**2)}class $w{constructor(t,s,{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=ru(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,g=TD(f.offset,{x:0,y:0})>=3;if(!m&&!g)return;const{point:b}=f,{timestamp:v}=Be;this.history.push({...b,timestamp:v});const{onStart:x,onMove:h}=this.handlers;m||(x&&x(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),h&&h(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=nu(m,this.transformPagePoint),fe.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:g,onSessionEnd:b,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=ru(f.type==="pointercancel"?this.lastMoveEventInfo:nu(m,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,x),b&&b(f,x)},!sw(t))return;this.dragSnapToOrigin=o,this.handlers=s,this.transformPagePoint=n,this.contextWindow=a||window;const i=nc(t),l=nu(i,this.transformPagePoint),{point:u}=l,{timestamp:c}=Be;this.history=[{...u,timestamp:c}];const{onSessionStart:d}=s;d&&d(t,ru(l,this.history)),this.removeListeners=Ks(fs(this.contextWindow,"pointermove",this.handlePointerMove),fs(this.contextWindow,"pointerup",this.handlePointerUp),fs(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),vs(this.updatePoint)}}function nu(e,t){return t?{point:t(e.point)}:e}function kx(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ru({point:e},t){return{point:e,delta:kx(e,Vw(t)),offset:kx(e,RD(t)),velocity:DD(t,.1)}}function RD(e){return e[0]}function Vw(e){return e[e.length-1]}function DD(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,n=null;const a=Vw(e);for(;s>=0&&(n=e[s],!(a.timestamp-n.timestamp>kn(t)));)s--;if(!n)return{x:0,y:0};const o=ps(a.timestamp-n.timestamp);if(o===0)return{x:0,y:0};const i={x:(a.x-n.x)/o,y:(a.y-n.y)/o};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function xt(e){return e.max-e.min}function Bd(e,t=0,s=.01){return Math.abs(e-t)<=s}function Sx(e,t,s,n=.5){e.origin=n,e.originPoint=me(t.min,t.max,e.origin),e.scale=xt(s)/xt(t),(Bd(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=me(s.min,s.max,e.origin)-e.originPoint,(Bd(e.translate)||isNaN(e.translate))&&(e.translate=0)}function _a(e,t,s,n){Sx(e.x,t.x,s.x,n?n.originX:void 0),Sx(e.y,t.y,s.y,n?n.originY:void 0)}function Cx(e,t,s){e.min=s.min+t.min,e.max=e.min+xt(t)}function _D(e,t,s){Cx(e.x,t.x,s.x),Cx(e.y,t.y,s.y)}function Ex(e,t,s){e.min=t.min-s.min,e.max=e.min+xt(t)}function Ma(e,t,s){Ex(e.x,t.x,s.x),Ex(e.y,t.y,s.y)}function MD(e,{min:t,max:s},n){return t!==void 0&&e<t?e=n?me(t,e,n.min):Math.max(e,t):s!==void 0&&e>s&&(e=n?me(s,e,n.max):Math.min(e,s)),e}function Px(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function LD(e,{top:t,left:s,bottom:n,right:a}){return{x:Px(e.x,s,a),y:Px(e.y,t,n)}}function Ax(e,t){let s=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,n]=[n,s]),{min:s,max:n}}function ID(e,t){return{x:Ax(e.x,t.x),y:Ax(e.y,t.y)}}function OD(e,t){let s=.5;const n=xt(e),a=xt(t);return a>n?s=ao(t.min,t.max-n,e.min):n>a&&(s=ao(e.min,e.max-a,t.min)),Xs(0,1,s)}function FD(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const zd=.35;function $D(e=zd){return e===!1?e=0:e===!0&&(e=zd),{x:Tx(e,"left","right"),y:Tx(e,"top","bottom")}}function Tx(e,t,s){return{min:Rx(e,t),max:Rx(e,s)}}function Rx(e,t){return typeof e=="number"?e:e[t]||0}const Dx=()=>({translate:0,scale:1,origin:0,originPoint:0}),pr=()=>({x:Dx(),y:Dx()}),_x=()=>({min:0,max:0}),ke=()=>({x:_x(),y:_x()});function bt(e){return[e("x"),e("y")]}function Uw({top:e,left:t,right:s,bottom:n}){return{x:{min:t,max:s},y:{min:e,max:n}}}function VD({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function UD(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:n.y,right:n.x}}function au(e){return e===void 0||e===1}function Wd({scale:e,scaleX:t,scaleY:s}){return!au(e)||!au(t)||!au(s)}function pn(e){return Wd(e)||Bw(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Bw(e){return Mx(e.x)||Mx(e.y)}function Mx(e){return e&&e!=="0%"}function fl(e,t,s){const n=e-s,a=t*n;return s+a}function Lx(e,t,s,n,a){return a!==void 0&&(e=fl(e,a,n)),fl(e,s,n)+t}function Hd(e,t=0,s=1,n,a){e.min=Lx(e.min,t,s,n,a),e.max=Lx(e.max,t,s,n,a)}function zw(e,{x:t,y:s}){Hd(e.x,t.translate,t.scale,t.originPoint),Hd(e.y,s.translate,s.scale,s.originPoint)}function BD(e,t,s,n=!1){const a=s.length;if(!a)return;t.x=t.y=1;let o,i;for(let l=0;l<a;l++){o=s[l],i=o.projectionDelta;const u=o.instance;u&&u.style&&u.style.display==="contents"||(n&&o.options.layoutScroll&&o.scroll&&o!==o.root&&hr(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,zw(e,i)),n&&pn(o.latestValues)&&hr(e,o.latestValues))}t.x=Ix(t.x),t.y=Ix(t.y)}function Ix(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Rs(e,t){e.min=e.min+t,e.max=e.max+t}function Ox(e,t,[s,n,a]){const o=t[a]!==void 0?t[a]:.5,i=me(e.min,e.max,o);Hd(e,t[s],t[n],i,t.scale)}const zD=["x","scaleX","originX"],WD=["y","scaleY","originY"];function hr(e,t){Ox(e.x,t,zD),Ox(e.y,t,WD)}function Ww(e,t){return Uw(UD(e.getBoundingClientRect(),t))}function HD(e,t,s){const n=Ww(e,s),{scroll:a}=t;return a&&(Rs(n.x,a.offset.x),Rs(n.y,a.offset.y)),n}const Hw=({current:e})=>e?e.ownerDocument.defaultView:null,qD=new WeakMap;class KD{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ke(),this.visualElement=t}start(t,{snapToCursor:s=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(nc(d,"page").point)},o=(d,f)=>{const{drag:m,dragPropagation:g,onDragStart:b}=this.getProps();if(m&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=rw(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),bt(x=>{let h=this.getAxisMotionValue(x).get()||0;if(Jt.test(h)){const{projection:p}=this.visualElement;if(p&&p.layout){const w=p.layout.layoutBox[x];w&&(h=xt(w)*(parseFloat(h)/100))}}this.originPoint[x]=h}),b&&fe.update(()=>b(d,f),!1,!0);const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},i=(d,f)=>{const{dragPropagation:m,dragDirectionLock:g,onDirectionLock:b,onDrag:v}=this.getProps();if(!m&&!this.openGlobalLock)return;const{offset:x}=f;if(g&&this.currentDirection===null){this.currentDirection=GD(x),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",f.point,x),this.updateAxis("y",f.point,x),this.visualElement.render(),v&&v(d,f)},l=(d,f)=>this.stop(d,f),u=()=>bt(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new $w(t,{onSessionStart:a,onStart:o,onMove:i,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:Hw(this.visualElement)})}stop(t,s){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&fe.update(()=>o(t,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,n){const{drag:a}=this.getProps();if(!n||!ri(t,a,this.currentDirection))return;const o=this.getAxisMotionValue(t);let i=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(i=MD(i,this.constraints[t],this.elastic[t])),o.set(i)}resolveConstraints(){var t;const{dragConstraints:s,dragElastic:n}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;s&&dr(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&a?this.constraints=LD(a.layoutBox,s):this.constraints=!1,this.elastic=$D(n),o!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&bt(i=>{this.getAxisMotionValue(i)&&(this.constraints[i]=FD(a.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!dr(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=HD(n,a.root,this.visualElement.getTransformPagePoint());let i=ID(a.layout.layoutBox,o);if(s){const l=s(VD(i));this.hasMutatedConstraints=!!l,l&&(i=Uw(l))}return i}startAnimation(t){const{drag:s,dragMomentum:n,dragElastic:a,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},c=bt(d=>{if(!ri(d,s,this.currentDirection))return;let f=u&&u[d]||{};i&&(f={min:0,max:0});const m=a?200:1e6,g=a?40:1e7,b={type:"inertia",velocity:n?t[d]:0,bounceStiffness:m,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(d,b)});return Promise.all(c).then(l)}startAxisValueAnimation(t,s){const n=this.getAxisMotionValue(t);return n.start(Hp(t,n,0,s))}stopAnimation(){bt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){bt(t=>{var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(t){const s="_drag"+t.toUpperCase(),n=this.visualElement.getProps(),a=n[s];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){bt(s=>{const{drag:n}=this.getProps();if(!ri(s,n,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(s);if(a&&a.layout){const{min:i,max:l}=a.layout.layoutBox[s];o.set(t[s]-me(i,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:n}=this.visualElement;if(!dr(s)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};bt(i=>{const l=this.getAxisMotionValue(i);if(l){const u=l.get();a[i]=OD({min:u,max:u},this.constraints[i])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),bt(i=>{if(!ri(i,t,null))return;const l=this.getAxisMotionValue(i),{min:u,max:c}=this.constraints[i];l.set(me(u,c,a[i]))})}addListeners(){if(!this.visualElement.current)return;qD.set(this.visualElement,this);const t=this.visualElement.current,s=fs(t,"pointerdown",u=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(u)}),n=()=>{const{dragConstraints:u}=this.getProps();dr(u)&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),n();const i=us(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:u,hasLayoutChanged:c})=>{this.isDragging&&c&&(bt(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=u[d].translate,f.set(f.get()+u[d].translate))}),this.visualElement.render())});return()=>{i(),s(),o(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:i=zd,dragMomentum:l=!0}=t;return{...t,drag:s,dragDirectionLock:n,dragPropagation:a,dragConstraints:o,dragElastic:i,dragMomentum:l}}}function ri(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function GD(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class YD extends on{constructor(t){super(t),this.removeGroupControls=Ne,this.removeListeners=Ne,this.controls=new KD(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ne}unmount(){this.removeGroupControls(),this.removeListeners()}}const Fx=e=>(t,s)=>{e&&fe.update(()=>e(t,s))};class XD extends on{constructor(){super(...arguments),this.removePointerDownListener=Ne}onPointerDown(t){this.session=new $w(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Hw(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:Fx(t),onStart:Fx(s),onMove:n,onEnd:(o,i)=>{delete this.session,a&&fe.update(()=>a(o,i))}}}mount(){this.removePointerDownListener=fs(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function QD(){const e=y.useContext(Pp);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:s,register:n}=e,a=y.useId();return y.useEffect(()=>n(a),[]),!t&&s?[!1,()=>s&&s(a)]:[!0]}const Ei={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function $x(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const pa={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(G.test(e))e=parseFloat(e);else return e;const s=$x(e,t.target.x),n=$x(e,t.target.y);return`${s}% ${n}%`}},ZD={correct:(e,{treeScale:t,projectionDelta:s})=>{const n=e,a=Qs.parse(e);if(a.length>5)return n;const o=Qs.createTransformer(e),i=typeof a[0]!="number"?1:0,l=s.x.scale*t.x,u=s.y.scale*t.y;a[0+i]/=l,a[1+i]/=u;const c=me(l,u,.5);return typeof a[2+i]=="number"&&(a[2+i]/=c),typeof a[3+i]=="number"&&(a[3+i]/=c),o(a)}};class JD extends P.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n,layoutId:a}=this.props,{projection:o}=t;aT(e4),o&&(s.group&&s.group.add(o),n&&n.register&&a&&n.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Ei.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:n,drag:a,isPresent:o}=this.props,i=n.projection;return i&&(i.isPresent=o,a||t.layoutDependency!==s||s===void 0?i.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?i.promote():i.relegate()||fe.postRender(()=>{const l=i.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function qw(e){const[t,s]=QD(),n=y.useContext(Ub);return P.createElement(JD,{...e,layoutGroup:n,switchLayoutGroup:y.useContext(Bb),isPresent:t,safeToRemove:s})}const e4={borderRadius:{...pa,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:pa,borderTopRightRadius:pa,borderBottomLeftRadius:pa,borderBottomRightRadius:pa,boxShadow:ZD},Kw=["TopLeft","TopRight","BottomLeft","BottomRight"],t4=Kw.length,Vx=e=>typeof e=="string"?parseFloat(e):e,Ux=e=>typeof e=="number"||G.test(e);function s4(e,t,s,n,a,o){a?(e.opacity=me(0,s.opacity!==void 0?s.opacity:1,n4(n)),e.opacityExit=me(t.opacity!==void 0?t.opacity:1,0,r4(n))):o&&(e.opacity=me(t.opacity!==void 0?t.opacity:1,s.opacity!==void 0?s.opacity:1,n));for(let i=0;i<t4;i++){const l=`border${Kw[i]}Radius`;let u=Bx(t,l),c=Bx(s,l);if(u===void 0&&c===void 0)continue;u||(u=0),c||(c=0),u===0||c===0||Ux(u)===Ux(c)?(e[l]=Math.max(me(Vx(u),Vx(c),n),0),(Jt.test(c)||Jt.test(u))&&(e[l]+="%")):e[l]=c}(t.rotate||s.rotate)&&(e.rotate=me(t.rotate||0,s.rotate||0,n))}function Bx(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const n4=Gw(0,.5,xw),r4=Gw(.5,.95,Ne);function Gw(e,t,s){return n=>n<e?0:n>t?1:s(ao(e,t,n))}function zx(e,t){e.min=t.min,e.max=t.max}function vt(e,t){zx(e.x,t.x),zx(e.y,t.y)}function Wx(e,t,s,n,a){return e-=t,e=fl(e,1/s,n),a!==void 0&&(e=fl(e,1/a,n)),e}function a4(e,t=0,s=1,n=.5,a,o=e,i=e){if(Jt.test(t)&&(t=parseFloat(t),t=me(i.min,i.max,t/100)-i.min),typeof t!="number")return;let l=me(o.min,o.max,n);e===o&&(l-=t),e.min=Wx(e.min,t,s,l,a),e.max=Wx(e.max,t,s,l,a)}function Hx(e,t,[s,n,a],o,i){a4(e,t[s],t[n],t[a],t.scale,o,i)}const o4=["x","scaleX","originX"],i4=["y","scaleY","originY"];function qx(e,t,s,n){Hx(e.x,t,o4,s?s.x:void 0,n?n.x:void 0),Hx(e.y,t,i4,s?s.y:void 0,n?n.y:void 0)}function Kx(e){return e.translate===0&&e.scale===1}function Yw(e){return Kx(e.x)&&Kx(e.y)}function l4(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Xw(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Gx(e){return xt(e.x)/xt(e.y)}class c4{constructor(){this.members=[]}add(t){qp(this.members,t),t.scheduleRender()}remove(t){if(Kp(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(a=>t===a);if(s===0)return!1;let n;for(let a=s;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){n=o;break}}return n?(this.promote(n),!0):!1}promote(t,s){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,s&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:n}=t;s.onExitComplete&&s.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Yx(e,t,s){let n="";const a=e.x.translate/t.x,o=e.y.translate/t.y;if((a||o)&&(n=`translate3d(${a}px, ${o}px, 0) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),s){const{rotate:u,rotateX:c,rotateY:d}=s;u&&(n+=`rotate(${u}deg) `),c&&(n+=`rotateX(${c}deg) `),d&&(n+=`rotateY(${d}deg) `)}const i=e.x.scale*t.x,l=e.y.scale*t.y;return(i!==1||l!==1)&&(n+=`scale(${i}, ${l})`),n||"none"}const u4=(e,t)=>e.depth-t.depth;class d4{constructor(){this.children=[],this.isDirty=!1}add(t){qp(this.children,t),this.isDirty=!0}remove(t){Kp(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(u4),this.isDirty=!1,this.children.forEach(t)}}function f4(e,t){const s=performance.now(),n=({timestamp:a})=>{const o=a-s;o>=t&&(vs(n),e(o-t))};return fe.read(n,!0),()=>vs(n)}function p4(e){window.MotionDebug&&window.MotionDebug.record(e)}function h4(e){return e instanceof SVGElement&&e.tagName!=="svg"}function m4(e,t,s){const n=lt(e)?e:Or(e);return n.start(Hp("",n,t,s)),n.animation}const Xx=["","X","Y","Z"],x4={visibility:"hidden"},Qx=1e3;let g4=0;const hn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Qw({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(i={},l=t==null?void 0:t()){this.id=g4++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,hn.totalNodes=hn.resolvedTargetDeltas=hn.recalculatedProjection=0,this.nodes.forEach(b4),this.nodes.forEach(S4),this.nodes.forEach(C4),this.nodes.forEach(w4),p4(hn)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new d4)}addEventListener(i,l){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new Gp),this.eventHandlers.get(i).add(l)}notifyListeners(i,...l){const u=this.eventHandlers.get(i);u&&u.notify(...l)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=h4(i),this.instance=i;const{layoutId:u,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(c||u)&&(this.isLayoutDirty=!0),e){let f;const m=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=f4(m,250),Ei.hasAnimatedSinceResize&&(Ei.hasAnimatedSinceResize=!1,this.nodes.forEach(Jx))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&d&&(u||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeTargetChanged:g,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||R4,{onLayoutAnimationStart:x,onLayoutAnimationComplete:h}=d.getProps(),p=!this.targetLayout||!Xw(this.targetLayout,b)||g,w=!m&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||m&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const j={...Wp(v,"layout"),onPlay:x,onComplete:h};(d.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else m||Jx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,vs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(E4),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Zx);return}this.isUpdating||this.nodes.forEach(N4),this.isUpdating=!1,this.nodes.forEach(k4),this.nodes.forEach(y4),this.nodes.forEach(v4),this.clearAllSnapshots();const l=performance.now();Be.delta=Xs(0,1e3/60,l-Be.timestamp),Be.timestamp=l,Be.isProcessing=!0,Xc.update.process(Be),Xc.preRender.process(Be),Xc.render.process(Be),Be.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(j4),this.sharedNodes.forEach(P4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,fe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){fe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ke(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:i,isRoot:n(this.instance),offset:s(this.instance)})}resetTransform(){if(!a)return;const i=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!Yw(this.projectionDelta),u=this.getTransformTemplate(),c=u?u(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;i&&(l||pn(this.latestValues)||d)&&(a(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return i&&(u=this.removeTransform(u)),D4(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:i}=this.options;if(!i)return ke();const l=i.measureViewportBox(),{scroll:u}=this.root;return u&&(Rs(l.x,u.offset.x),Rs(l.y,u.offset.y)),l}removeElementScroll(i){const l=ke();vt(l,i);for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:d,options:f}=c;if(c!==this.root&&d&&f.layoutScroll){if(d.isRoot){vt(l,i);const{scroll:m}=this.root;m&&(Rs(l.x,-m.offset.x),Rs(l.y,-m.offset.y))}Rs(l.x,d.offset.x),Rs(l.y,d.offset.y)}}return l}applyTransform(i,l=!1){const u=ke();vt(u,i);for(let c=0;c<this.path.length;c++){const d=this.path[c];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&hr(u,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),pn(d.latestValues)&&hr(u,d.latestValues)}return pn(this.latestValues)&&hr(u,this.latestValues),u}removeTransform(i){const l=ke();vt(l,i);for(let u=0;u<this.path.length;u++){const c=this.path[u];if(!c.instance||!pn(c.latestValues))continue;Wd(c.latestValues)&&c.updateSnapshot();const d=ke(),f=c.measurePageBox();vt(d,f),qx(l,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return pn(this.latestValues)&&qx(l,this.latestValues),l}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Be.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var l;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==u;if(!(i||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:m}=this.options;if(!(!this.layout||!(f||m))){if(this.resolvedRelativeTargetAt=Be.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ke(),this.relativeTargetOrigin=ke(),Ma(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),vt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ke(),this.targetWithTransforms=ke()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_D(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):vt(this.target,this.layout.layoutBox),zw(this.target,this.targetDelta)):vt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ke(),this.relativeTargetOrigin=ke(),Ma(this.relativeTargetOrigin,this.target,g.target),vt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}hn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Wd(this.parent.latestValues)||Bw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let c=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(c=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Be.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;vt(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,g=this.treeScale.y;BD(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:b}=l;if(!b){this.projectionTransform&&(this.projectionDelta=pr(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=pr(),this.projectionDeltaWithTransform=pr());const v=this.projectionTransform;_a(this.projectionDelta,this.layoutCorrected,b,this.latestValues),this.projectionTransform=Yx(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==m||this.treeScale.y!==g)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b)),hn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),i){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(i,l=!1){const u=this.snapshot,c=u?u.latestValues:{},d={...this.latestValues},f=pr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=ke(),g=u?u.source:void 0,b=this.layout?this.layout.source:void 0,v=g!==b,x=this.getStack(),h=!x||x.members.length<=1,p=!!(v&&!h&&this.options.crossfade===!0&&!this.path.some(T4));this.animationProgress=0;let w;this.mixTargetDelta=j=>{const S=j/1e3;e0(f.x,i.x,S),e0(f.y,i.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ma(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),A4(this.relativeTarget,this.relativeTargetOrigin,m,S),w&&l4(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=ke()),vt(w,this.relativeTarget)),v&&(this.animationValues=d,s4(d,c,this.latestValues,S,p,h)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(vs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=fe.update(()=>{Ei.hasAnimatedSinceResize=!0,this.currentAnimation=m4(0,Qx,{...i,onUpdate:l=>{this.mixTargetDelta(l),i.onUpdate&&i.onUpdate(l)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Qx),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:l,target:u,layout:c,latestValues:d}=i;if(!(!l||!u||!c)){if(this!==i&&this.layout&&c&&Zw(this.options.animationType,this.layout.layoutBox,c.layoutBox)){u=this.target||ke();const f=xt(this.layout.layoutBox.x);u.x.min=i.target.x.min,u.x.max=u.x.min+f;const m=xt(this.layout.layoutBox.y);u.y.min=i.target.y.min,u.y.max=u.y.min+m}vt(l,u),hr(l,d),_a(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(i,l){this.sharedNodes.has(i)||this.sharedNodes.set(i,new c4),this.sharedNodes.get(i).add(l);const c=l.options.initialPromotionConfig;l.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(l):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:l}=this.options;return l?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:l}=this.options;return l?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:l,preserveFollowOpacity:u}={}){const c=this.getStack();c&&c.promote(this,u),i&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetRotation(){const{visualElement:i}=this.options;if(!i)return;let l=!1;const{latestValues:u}=i;if((u.rotate||u.rotateX||u.rotateY||u.rotateZ)&&(l=!0),!l)return;const c={};for(let d=0;d<Xx.length;d++){const f="rotate"+Xx[d];u[f]&&(c[f]=u[f],i.setStaticValue(f,0))}i.render();for(const d in c)i.setStaticValue(d,c[d]);i.scheduleRender()}getProjectionStyles(i){var l,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return x4;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Ci(i==null?void 0:i.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Ci(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!pn(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const m=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=Yx(this.projectionDeltaWithTransform,this.treeScale,m),d&&(c.transform=d(m,c.transform));const{x:g,y:b}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${b.origin*100}% 0`,f.animationValues?c.opacity=f===this?(u=(l=m.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:c.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const v in al){if(m[v]===void 0)continue;const{correct:x,applyTo:h}=al[v],p=c.transform==="none"?m[v]:x(m[v],f);if(h){const w=h.length;for(let j=0;j<w;j++)c[h[j]]=p}else c[v]=p}return this.options.layoutId&&(c.pointerEvents=f===this?Ci(i==null?void 0:i.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var l;return(l=i.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Zx),this.root.sharedNodes.clear()}}}function y4(e){e.updateLayout()}function v4(e){var t;const s=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&s&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:o}=e.options,i=s.source!==e.layout.source;o==="size"?bt(f=>{const m=i?s.measuredBox[f]:s.layoutBox[f],g=xt(m);m.min=n[f].min,m.max=m.min+g}):Zw(o,s.layoutBox,n)&&bt(f=>{const m=i?s.measuredBox[f]:s.layoutBox[f],g=xt(n[f]);m.max=m.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+g)});const l=pr();_a(l,n,s.layoutBox);const u=pr();i?_a(u,e.applyTransform(a,!0),s.measuredBox):_a(u,n,s.layoutBox);const c=!Yw(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:g}=f;if(m&&g){const b=ke();Ma(b,s.layoutBox,m.layoutBox);const v=ke();Ma(v,n,g.layoutBox),Xw(b,v)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=b,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:s,delta:u,layoutDelta:l,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function b4(e){hn.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function w4(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function j4(e){e.clearSnapshot()}function Zx(e){e.clearMeasurements()}function N4(e){e.isLayoutDirty=!1}function k4(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Jx(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function S4(e){e.resolveTargetDelta()}function C4(e){e.calcProjection()}function E4(e){e.resetRotation()}function P4(e){e.removeLeadSnapshot()}function e0(e,t,s){e.translate=me(t.translate,0,s),e.scale=me(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function t0(e,t,s,n){e.min=me(t.min,s.min,n),e.max=me(t.max,s.max,n)}function A4(e,t,s,n){t0(e.x,t.x,s.x,n),t0(e.y,t.y,s.y,n)}function T4(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const R4={duration:.45,ease:[.4,0,.1,1]},s0=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),n0=s0("applewebkit/")&&!s0("chrome/")?Math.round:Ne;function r0(e){e.min=n0(e.min),e.max=n0(e.max)}function D4(e){r0(e.x),r0(e.y)}function Zw(e,t,s){return e==="position"||e==="preserve-aspect"&&!Bd(Gx(t),Gx(s),.2)}const _4=Qw({attachResizeListener:(e,t)=>us(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ou={current:void 0},Jw=Qw({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ou.current){const e=new _4({});e.mount(window),e.setOptions({layoutScroll:!0}),ou.current=e}return ou.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),M4={pan:{Feature:XD},drag:{Feature:YD,ProjectionNode:Jw,MeasureLayout:qw}},L4=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function I4(e){const t=L4.exec(e);if(!t)return[,];const[,s,n]=t;return[s,n]}function qd(e,t,s=1){const[n,a]=I4(e);if(!n)return;const o=window.getComputedStyle(t).getPropertyValue(n);if(o){const i=o.trim();return Lw(i)?parseFloat(i):i}else return Ld(a)?qd(a,t,s+1):a}function O4(e,{...t},s){const n=e.current;if(!(n instanceof Element))return{target:t,transitionEnd:s};s&&(s={...s}),e.values.forEach(a=>{const o=a.get();if(!Ld(o))return;const i=qd(o,n);i&&a.set(i)});for(const a in t){const o=t[a];if(!Ld(o))continue;const i=qd(o,n);i&&(t[a]=i,s||(s={}),s[a]===void 0&&(s[a]=o))}return{target:t,transitionEnd:s}}const F4=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),ej=e=>F4.has(e),$4=e=>Object.keys(e).some(ej),a0=e=>e===Hn||e===G,o0=(e,t)=>parseFloat(e.split(", ")[t]),i0=(e,t)=>(s,{transform:n})=>{if(n==="none"||!n)return 0;const a=n.match(/^matrix3d\((.+)\)$/);if(a)return o0(a[1],t);{const o=n.match(/^matrix\((.+)\)$/);return o?o0(o[1],e):0}},V4=new Set(["x","y","z"]),U4=ko.filter(e=>!V4.has(e));function B4(e){const t=[];return U4.forEach(s=>{const n=e.getValue(s);n!==void 0&&(t.push([s,n.get()]),n.set(s.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Fr={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:i0(4,13),y:i0(5,14)};Fr.translateX=Fr.x;Fr.translateY=Fr.y;const z4=(e,t,s)=>{const n=t.measureViewportBox(),a=t.current,o=getComputedStyle(a),{display:i}=o,l={};i==="none"&&t.setStaticValue("display",e.display||"block"),s.forEach(c=>{l[c]=Fr[c](n,o)}),t.render();const u=t.measureViewportBox();return s.forEach(c=>{const d=t.getValue(c);d&&d.jump(l[c]),e[c]=Fr[c](u,o)}),e},W4=(e,t,s={},n={})=>{t={...t},n={...n};const a=Object.keys(t).filter(ej);let o=[],i=!1;const l=[];if(a.forEach(u=>{const c=e.getValue(u);if(!e.hasValue(u))return;let d=s[u],f=fa(d);const m=t[u];let g;if(il(m)){const b=m.length,v=m[0]===null?1:0;d=m[v],f=fa(d);for(let x=v;x<b&&m[x]!==null;x++)g?$p(fa(m[x])===g):g=fa(m[x])}else g=fa(m);if(f!==g)if(a0(f)&&a0(g)){const b=c.get();typeof b=="string"&&c.set(parseFloat(b)),typeof m=="string"?t[u]=parseFloat(m):Array.isArray(m)&&g===G&&(t[u]=m.map(parseFloat))}else f!=null&&f.transform&&(g!=null&&g.transform)&&(d===0||m===0)?d===0?c.set(g.transform(d)):t[u]=f.transform(m):(i||(o=B4(e),i=!0),l.push(u),n[u]=n[u]!==void 0?n[u]:t[u],c.jump(m))}),l.length){const u=l.indexOf("height")>=0?window.pageYOffset:null,c=z4(t,e,l);return o.length&&o.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),Jl&&u!==null&&window.scrollTo({top:u}),{target:c,transitionEnd:n}}else return{target:t,transitionEnd:n}};function H4(e,t,s,n){return $4(t)?W4(e,t,s,n):{target:t,transitionEnd:n}}const q4=(e,t,s,n)=>{const a=O4(e,t,n);return t=a.target,n=a.transitionEnd,H4(e,t,s,n)},Kd={current:null},tj={current:!1};function K4(){if(tj.current=!0,!!Jl)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Kd.current=e.matches;e.addListener(t),t()}else Kd.current=!1}function G4(e,t,s){const{willChange:n}=t;for(const a in t){const o=t[a],i=s[a];if(lt(o))e.addValue(a,o),dl(n)&&n.add(a);else if(lt(i))e.addValue(a,Or(o,{owner:e})),dl(n)&&n.remove(a);else if(i!==o)if(e.hasValue(a)){const l=e.getValue(a);!l.hasAnimated&&l.set(o)}else{const l=e.getStaticValue(a);e.addValue(a,Or(l!==void 0?l:o,{owner:e}))}}for(const a in s)t[a]===void 0&&e.removeValue(a);return t}const l0=new WeakMap,sj=Object.keys(ro),Y4=sj.length,c0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],X4=Rp.length;class Q4{constructor({parent:t,props:s,presenceContext:n,reducedMotionConfig:a,visualState:o},i={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>fe.render(this.render,!1,!0);const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=s.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=s,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=i,this.isControllingVariants=tc(s),this.isVariantNode=Vb(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(s,{});for(const f in d){const m=d[f];l[f]!==void 0&&lt(m)&&(m.set(l[f],!1),dl(c)&&c.add(f))}}scrapeMotionValuesFromProps(t,s){return{}}mount(t){this.current=t,l0.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,n)=>this.bindToMotionValue(n,s)),tj.current||K4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Kd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){l0.delete(this.current),this.projection&&this.projection.unmount(),vs(this.notifyUpdate),vs(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,s){const n=Wn.has(t),a=s.on("change",i=>{this.latestValues[t]=i,this.props.onUpdate&&fe.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),o=s.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{a(),o()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...s},n,a,o){let i,l;for(let u=0;u<Y4;u++){const c=sj[u],{isEnabled:d,Feature:f,ProjectionNode:m,MeasureLayout:g}=ro[c];m&&(i=m),d(s)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),g&&(l=g))}if((this.type==="html"||this.type==="svg")&&!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);const{layoutId:u,layout:c,drag:d,dragConstraints:f,layoutScroll:m,layoutRoot:g}=s;this.projection.setOptions({layoutId:u,layout:c,alwaysMeasureLayout:!!d||f&&dr(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:o,layoutScroll:m,layoutRoot:g})}return l}updateFeatures(){for(const t in this.features){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ke()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}makeTargetAnimatable(t,s=!0){return this.makeTargetAnimatableFromInstance(t,this.props,s)}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let n=0;n<c0.length;n++){const a=c0[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o=t["on"+a];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=G4(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const s={};for(let n=0;n<X4;n++){const a=Rp[n],o=this.props[a];(no(o)||o===!1)&&(s[a]=o)}return s}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){s!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,s)),this.values.set(t,s),this.latestValues[t]=s.get()}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&s!==void 0&&(n=Or(s,{owner:this}),this.addValue(t,n)),n}readValue(t){var s;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(s=this.getBaseTargetFromProps(this.props,t))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var s;const{initial:n}=this.props,a=typeof n=="string"||typeof n=="object"?(s=Fp(this.props,n))===null||s===void 0?void 0:s[t]:void 0;if(n&&a!==void 0)return a;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!lt(o)?o:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new Gp),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}}class nj extends Q4{sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:n}){delete s[t],delete n[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:s,...n},{transformValues:a},o){let i=hD(n,t||{},this);if(a&&(s&&(s=a(s)),n&&(n=a(n)),i&&(i=a(i))),o){fD(this,n,i);const l=q4(this,n,i,s);s=l.transitionEnd,n=l.target}return{transition:t,transitionEnd:s,...n}}}function Z4(e){return window.getComputedStyle(e)}class J4 extends nj{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,s){if(Wn.has(s)){const n=zp(s);return n&&n.default||0}else{const n=Z4(t),a=(Hb(s)?n.getPropertyValue(s):n[s])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:s}){return Ww(t,s)}build(t,s,n,a){_p(t,s,n,a.transformTemplate)}scrapeMotionValuesFromProps(t,s){return Op(t,s)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;lt(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}renderInstance(t,s,n,a){Qb(t,s,n,a)}}class e3 extends nj{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(Wn.has(s)){const n=zp(s);return n&&n.default||0}return s=Zb.has(s)?s:Ap(s),t.getAttribute(s)}measureInstanceViewportBox(){return ke()}scrapeMotionValuesFromProps(t,s){return ew(t,s)}build(t,s,n,a){Lp(t,s,n,this.isSVGTag,a.transformTemplate)}renderInstance(t,s,n,a){Jb(t,s,n,a)}mount(t){this.isSVGTag=Ip(t.tagName),super.mount(t)}}const t3=(e,t)=>Dp(e)?new e3(t,{enableHardwareAcceleration:!1}):new J4(t,{enableHardwareAcceleration:!0}),s3={layout:{ProjectionNode:Jw,MeasureLayout:qw}},n3={...AD,...YT,...M4,...s3},Ce=nT((e,t)=>IT(e,t,n3,t3)),r3=()=>{const[e,t]=y.useState(""),[s,n]=y.useState(""),[a,o]=y.useState(!1),[i,l]=y.useState(!1),{login:u}=an(),{toast:c}=rn(),d=async f=>{f.preventDefault(),l(!0);try{await u(e,s)}catch(m){c({variant:"destructive",title:"Login Failed",description:(m==null?void 0:m.message)??"Unable to sign in. Please try again."})}finally{l(!1)}};return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-sky-900 to-purple-900 p-4",children:r.jsx(Ce.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},children:r.jsxs(ne,{className:"w-full max-w-md shadow-2xl bg-slate-800/70 backdrop-blur-lg border-slate-700",children:[r.jsxs(Le,{className:"text-center",children:[r.jsx(Qt,{className:"mx-auto h-16 w-16 text-sky-400 mb-4"}),r.jsx(Ie,{className:"text-3xl font-bold text-slate-100",children:"Welcome to AURA GDPR"}),r.jsx(Zt,{className:"text-slate-400",children:"Sign in to access your compliance dashboard."})]}),r.jsx(re,{children:r.jsxs("form",{onSubmit:d,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(_t,{htmlFor:"email",className:"text-slate-300",children:"Email"}),r.jsx(dt,{id:"email",type:"email",placeholder:"you@example.com",value:e,onChange:f=>t(f.target.value),required:!0,className:"bg-slate-700 border-slate-600 text-slate-100 placeholder-slate-400 focus:ring-sky-500 focus:border-sky-500"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(_t,{htmlFor:"password",className:"text-slate-300",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(dt,{id:"password",type:a?"text":"password",placeholder:"********",value:s,onChange:f=>n(f.target.value),required:!0,className:"bg-slate-700 border-slate-600 text-slate-100 placeholder-slate-400 focus:ring-sky-500 focus:border-sky-500 pr-10"}),r.jsx(B,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 text-slate-400 hover:text-sky-400",onClick:()=>o(!a),children:a?r.jsx(kd,{className:"h-4 w-4"}):r.jsx(Sd,{className:"h-4 w-4"})})]})]}),r.jsx(B,{type:"submit",className:"w-full bg-gradient-to-r from-sky-500 to-purple-600 hover:from-sky-600 hover:to-purple-700 text-white font-semibold py-3 text-base",disabled:i,children:i?"Signing In...":"Sign In"})]})}),r.jsxs(Ep,{className:"flex flex-col items-center space-y-2",children:[r.jsx(_r,{to:"/forgot-password",className:"text-sm text-sky-400 hover:underline",children:"Forgot password?"}),r.jsxs("p",{className:"text-sm text-slate-400",children:["Don't have an account?"," ",r.jsx(_r,{to:"/register",className:"font-medium text-sky-400 hover:underline",children:"Sign up"})]})]})]})})})},a3=()=>{const[e,t]=y.useState(""),[s,n]=y.useState(""),[a,o]=y.useState(""),[i,l]=y.useState(!1),[u,c]=y.useState(!1),[d,f]=y.useState(!1),m=zn(),{register:g}=an(),{toast:b}=rn(),v=async x=>{if(x.preventDefault(),s!==a){b({variant:"destructive",title:"Registration Error",description:"Passwords do not match."});return}f(!0);try{await g(e,s),m("/app/dashboard")}catch(h){b({variant:"destructive",title:"Registration Failed",description:(h==null?void 0:h.message)??"Could not create your account. Please try again."})}finally{f(!1)}};return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-sky-900 to-purple-900 p-4",children:r.jsx(Ce.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},children:r.jsxs(ne,{className:"w-full max-w-md shadow-2xl bg-slate-800/70 backdrop-blur-lg border-slate-700",children:[r.jsxs(Le,{className:"text-center",children:[r.jsx(GE,{className:"mx-auto h-16 w-16 text-sky-400 mb-4"}),r.jsx(Ie,{className:"text-3xl font-bold text-slate-100",children:"Create your AURA Account"}),r.jsx(Zt,{className:"text-slate-400",children:"Join us to simplify your GDPR compliance."})]}),r.jsx(re,{children:r.jsxs("form",{onSubmit:v,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(_t,{htmlFor:"email-register",className:"text-slate-300",children:"Email"}),r.jsx(dt,{id:"email-register",type:"email",placeholder:"you@example.com",value:e,onChange:x=>t(x.target.value),required:!0,className:"bg-slate-700 border-slate-600 text-slate-100 placeholder-slate-400 focus:ring-sky-500 focus:border-sky-500"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(_t,{htmlFor:"password-register",className:"text-slate-300",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(dt,{id:"password-register",type:i?"text":"password",placeholder:"********",value:s,onChange:x=>n(x.target.value),required:!0,className:"bg-slate-700 border-slate-600 text-slate-100 placeholder-slate-400 focus:ring-sky-500 focus:border-sky-500 pr-10"}),r.jsx(B,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 text-slate-400 hover:text-sky-400",onClick:()=>l(!i),children:i?r.jsx(kd,{className:"h-4 w-4"}):r.jsx(Sd,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(_t,{htmlFor:"confirm-password",className:"text-slate-300",children:"Confirm Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(dt,{id:"confirm-password",type:u?"text":"password",placeholder:"********",value:a,onChange:x=>o(x.target.value),required:!0,className:"bg-slate-700 border-slate-600 text-slate-100 placeholder-slate-400 focus:ring-sky-500 focus:border-sky-500 pr-10"}),r.jsx(B,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 text-slate-400 hover:text-sky-400",onClick:()=>c(!u),children:u?r.jsx(kd,{className:"h-4 w-4"}):r.jsx(Sd,{className:"h-4 w-4"})})]})]}),r.jsx(B,{type:"submit",className:"w-full bg-gradient-to-r from-sky-500 to-purple-600 hover:from-sky-600 hover:to-purple-700 text-white font-semibold py-3 text-base",disabled:d,children:d?"Creating Account...":"Sign Up"})]})}),r.jsx(Ep,{className:"flex justify-center",children:r.jsxs("p",{className:"text-sm text-slate-400",children:["Already have an account?"," ",r.jsx(_r,{to:"/login",className:"font-medium text-sky-400 hover:underline",children:"Sign in"})]})})]})})})},o3=[{title:"Overview",items:[{label:"Dashboard",path:"/app/dashboard",icon:IE}]},{title:"Compliance",items:[{label:"Documents",path:"/app/documents",icon:Lr},{label:"Policies",path:"/app/policies",icon:Qt},{label:"Data Subject Requests",path:"/app/dsr",icon:hp},{label:"DPIA",path:"/app/dpia",icon:DE},{label:"ROPA",path:"/app/ropa",icon:AE},{label:"Cookies",path:"/app/cookies",icon:PE},{label:"TOMs",path:"/app/toms",icon:so},{label:"Incidents",path:"/app/incidents",icon:Gr}]},{title:"Governance",items:[{label:"Tasks",path:"/app/tasks",icon:kE},{label:"Projects",path:"/app/projects",icon:bE},{label:"Risk Matrix",path:"/app/risk-matrix",icon:dp},{label:"Audit Log",path:"/app/audit",icon:qv},{label:"Notifications",path:"/app/notifications",icon:fp},{label:"Admin",path:"/app/admin",icon:Qt,adminOnly:!0}]},{title:"AI Tools",items:[{label:"AI Assistant",path:"/app/ai-assistant",icon:ts},{label:"AI Policy Generator",icon:Lr,disabled:!0},{label:"AI Audit Engine",path:"/app/ai-audit",icon:_E}]},{title:"Account",items:[{label:"Billing",path:"/app/billing",icon:Gv},{label:"Settings",path:"/app/settings",icon:Zv},{label:"IAM",path:"/app/iam",icon:Qt},{label:"Security health",path:"/app/security-health",icon:ql}]}],i3=({isOpen:e,onClose:t})=>{const{user:s}=an(),n=(s==null?void 0:s.role)==="Admin",a=P.useMemo(()=>o3.map(i=>({...i,items:i.items.filter(l=>l.adminOnly?n:!0)})).filter(i=>i.items.length>0),[n]),o=i=>!i.path||i.disabled?r.jsxs("div",{className:"flex items-center gap-3 rounded-md border-l-2 border-transparent bg-white/50 px-3 py-2 text-sm font-medium text-slate-400",children:[r.jsx(i.icon,{className:"h-5 w-5"}),r.jsx("span",{children:i.label})]},i.label):r.jsxs(Mr,{to:i.path,onClick:t,className:({isActive:l})=>Z("group flex items-center gap-3 rounded-md border-l-2 px-3 py-2 text-sm font-medium transition-all",l?"border-sky-500 bg-white shadow-sm text-slate-900":"border-transparent text-slate-600 hover:border-slate-200 hover:bg-white/80"),children:[r.jsx(i.icon,{className:"h-5 w-5 text-slate-500 group-hover:text-slate-800"}),r.jsx("span",{children:i.label})]},i.label);return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:Z("fixed inset-0 z-30 bg-slate-900/40 backdrop-blur-sm transition-opacity lg:hidden",e?"opacity-100":"pointer-events-none opacity-0"),onClick:t}),r.jsxs("aside",{className:Z("fixed inset-y-0 left-0 z-40 w-72 transform border-r border-slate-200 bg-white/90 backdrop-blur shadow-xl transition-transform duration-200 lg:static lg:z-auto lg:flex lg:w-72 lg:translate-x-0 lg:flex-col lg:shadow-none",e?"translate-x-0":"-translate-x-full"),children:[r.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-slate-200 bg-white/70 backdrop-blur",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Workspace"}),r.jsx("p",{className:"text-lg font-semibold text-slate-900",children:"AURA-GDPR"})]}),r.jsx(B,{variant:"ghost",size:"icon",className:"lg:hidden text-slate-500 hover:text-slate-900",onClick:t,"aria-label":"Close navigation",children:r.jsx(Ee,{className:"h-5 w-5"})})]}),r.jsx("nav",{className:"flex-1 space-y-6 overflow-y-auto px-4 py-4",children:a.map(i=>r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"px-3 text-xs font-semibold uppercase tracking-wide text-slate-500",children:i.title}),r.jsx("div",{className:"space-y-1",children:i.items.map(l=>o(l))})]},i.title))})]})]})};var rj={exports:{}},aj={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $r=y;function l3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var c3=typeof Object.is=="function"?Object.is:l3,u3=$r.useState,d3=$r.useEffect,f3=$r.useLayoutEffect,p3=$r.useDebugValue;function h3(e,t){var s=t(),n=u3({inst:{value:s,getSnapshot:t}}),a=n[0].inst,o=n[1];return f3(function(){a.value=s,a.getSnapshot=t,iu(a)&&o({inst:a})},[e,s,t]),d3(function(){return iu(a)&&o({inst:a}),e(function(){iu(a)&&o({inst:a})})},[e]),p3(s),s}function iu(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!c3(e,s)}catch{return!0}}function m3(e,t){return t()}var x3=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m3:h3;aj.useSyncExternalStore=$r.useSyncExternalStore!==void 0?$r.useSyncExternalStore:x3;rj.exports=aj;var g3=rj.exports;function y3(){return g3.useSyncExternalStore(v3,()=>!0,()=>!1)}function v3(){return()=>{}}var Yp="Avatar",[b3,J$]=nn(Yp),[w3,oj]=b3(Yp),ij=y.forwardRef((e,t)=>{const{__scopeAvatar:s,...n}=e,[a,o]=y.useState("idle");return r.jsx(w3,{scope:s,imageLoadingStatus:a,onImageLoadingStatusChange:o,children:r.jsx(le.span,{...n,ref:t})})});ij.displayName=Yp;var lj="AvatarImage",cj=y.forwardRef((e,t)=>{const{__scopeAvatar:s,src:n,onLoadingStatusChange:a=()=>{},...o}=e,i=oj(lj,s),l=j3(n,o),u=it(c=>{a(c),i.onImageLoadingStatusChange(c)});return Pt(()=>{l!=="idle"&&u(l)},[l,u]),l==="loaded"?r.jsx(le.img,{...o,ref:t,src:n}):null});cj.displayName=lj;var uj="AvatarFallback",dj=y.forwardRef((e,t)=>{const{__scopeAvatar:s,delayMs:n,...a}=e,o=oj(uj,s),[i,l]=y.useState(n===void 0);return y.useEffect(()=>{if(n!==void 0){const u=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(u)}},[n]),i&&o.imageLoadingStatus!=="loaded"?r.jsx(le.span,{...a,ref:t}):null});dj.displayName=uj;function u0(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function j3(e,{referrerPolicy:t,crossOrigin:s}){const n=y3(),a=y.useRef(null),o=n?(a.current||(a.current=new window.Image),a.current):null,[i,l]=y.useState(()=>u0(o,e));return Pt(()=>{l(u0(o,e))},[o,e]),Pt(()=>{const u=f=>()=>{l(f)};if(!o)return;const c=u("loaded"),d=u("error");return o.addEventListener("load",c),o.addEventListener("error",d),t&&(o.referrerPolicy=t),typeof s=="string"&&(o.crossOrigin=s),()=>{o.removeEventListener("load",c),o.removeEventListener("error",d)}},[o,s,t]),i}var fj=ij,pj=cj,hj=dj;const Xp=P.forwardRef(({className:e,...t},s)=>r.jsx(fj,{ref:s,className:Z("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Xp.displayName=fj.displayName;const Qp=P.forwardRef(({className:e,...t},s)=>r.jsx(pj,{ref:s,className:Z("aspect-square h-full w-full",e),...t}));Qp.displayName=pj.displayName;const Zp=P.forwardRef(({className:e,...t},s)=>r.jsx(hj,{ref:s,className:Z("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Zp.displayName=hj.displayName;const N3={default:"bg-primary text-primary-foreground",secondary:"bg-secondary text-secondary-foreground",outline:"border border-border text-foreground"},oo=y.forwardRef(({className:e,variant:t="default",...s},n)=>r.jsx("div",{ref:n,className:Z("inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold",N3[t],e),...s}));oo.displayName="Badge";var k3=y.createContext(void 0);function mj(e){const t=y.useContext(k3);return e||t||"ltr"}var lu=0;function S3(){y.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??d0()),document.body.insertAdjacentElement("beforeend",e[1]??d0()),lu++,()=>{lu===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),lu--}},[])}function d0(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var cu="focusScope.autoFocusOnMount",uu="focusScope.autoFocusOnUnmount",f0={bubbles:!1,cancelable:!0},C3="FocusScope",xj=y.forwardRef((e,t)=>{const{loop:s=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...i}=e,[l,u]=y.useState(null),c=it(a),d=it(o),f=y.useRef(null),m=Te(t,v=>u(v)),g=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(n){let v=function(w){if(g.paused||!l)return;const j=w.target;l.contains(j)?f.current=j:Ps(f.current,{select:!0})},x=function(w){if(g.paused||!l)return;const j=w.relatedTarget;j!==null&&(l.contains(j)||Ps(f.current,{select:!0}))},h=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&Ps(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",x);const p=new MutationObserver(h);return l&&p.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",x),p.disconnect()}}},[n,l,g.paused]),y.useEffect(()=>{if(l){h0.add(g);const v=document.activeElement;if(!l.contains(v)){const h=new CustomEvent(cu,f0);l.addEventListener(cu,c),l.dispatchEvent(h),h.defaultPrevented||(E3(D3(gj(l)),{select:!0}),document.activeElement===v&&Ps(l))}return()=>{l.removeEventListener(cu,c),setTimeout(()=>{const h=new CustomEvent(uu,f0);l.addEventListener(uu,d),l.dispatchEvent(h),h.defaultPrevented||Ps(v??document.body,{select:!0}),l.removeEventListener(uu,d),h0.remove(g)},0)}}},[l,c,d,g]);const b=y.useCallback(v=>{if(!s&&!n||g.paused)return;const x=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,h=document.activeElement;if(x&&h){const p=v.currentTarget,[w,j]=P3(p);w&&j?!v.shiftKey&&h===j?(v.preventDefault(),s&&Ps(w,{select:!0})):v.shiftKey&&h===w&&(v.preventDefault(),s&&Ps(j,{select:!0})):h===p&&v.preventDefault()}},[s,n,g.paused]);return r.jsx(le.div,{tabIndex:-1,...i,ref:m,onKeyDown:b})});xj.displayName=C3;function E3(e,{select:t=!1}={}){const s=document.activeElement;for(const n of e)if(Ps(n,{select:t}),document.activeElement!==s)return}function P3(e){const t=gj(e),s=p0(t,e),n=p0(t.reverse(),e);return[s,n]}function gj(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function p0(e,t){for(const s of e)if(!A3(s,{upTo:t}))return s}function A3(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function T3(e){return e instanceof HTMLInputElement&&"select"in e}function Ps(e,{select:t=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&T3(e)&&t&&e.select()}}var h0=R3();function R3(){let e=[];return{add(t){const s=e[0];t!==s&&(s==null||s.pause()),e=m0(e,t),e.unshift(t)},remove(t){var s;e=m0(e,t),(s=e[0])==null||s.resume()}}}function m0(e,t){const s=[...e],n=s.indexOf(t);return n!==-1&&s.splice(n,1),s}function D3(e){return e.filter(t=>t.tagName!=="A")}var _3=of[" useId ".trim().toString()]||(()=>{}),M3=0;function Gd(e){const[t,s]=y.useState(_3());return Pt(()=>{s(n=>n??String(M3++))},[e]),t?`radix-${t}`:""}const L3=["top","right","bottom","left"],Zs=Math.min,ut=Math.max,pl=Math.round,ai=Math.floor,es=e=>({x:e,y:e}),I3={left:"right",right:"left",bottom:"top",top:"bottom"},O3={start:"end",end:"start"};function Yd(e,t,s){return ut(e,Zs(t,s))}function bs(e,t){return typeof e=="function"?e(t):e}function ws(e){return e.split("-")[0]}function Qr(e){return e.split("-")[1]}function Jp(e){return e==="x"?"y":"x"}function eh(e){return e==="y"?"height":"width"}function hs(e){return["top","bottom"].includes(ws(e))?"y":"x"}function th(e){return Jp(hs(e))}function F3(e,t,s){s===void 0&&(s=!1);const n=Qr(e),a=th(e),o=eh(a);let i=a==="x"?n===(s?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=hl(i)),[i,hl(i)]}function $3(e){const t=hl(e);return[Xd(e),t,Xd(t)]}function Xd(e){return e.replace(/start|end/g,t=>O3[t])}function V3(e,t,s){const n=["left","right"],a=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return s?t?a:n:t?n:a;case"left":case"right":return t?o:i;default:return[]}}function U3(e,t,s,n){const a=Qr(e);let o=V3(ws(e),s==="start",n);return a&&(o=o.map(i=>i+"-"+a),t&&(o=o.concat(o.map(Xd)))),o}function hl(e){return e.replace(/left|right|bottom|top/g,t=>I3[t])}function B3(e){return{top:0,right:0,bottom:0,left:0,...e}}function yj(e){return typeof e!="number"?B3(e):{top:e,right:e,bottom:e,left:e}}function ml(e){const{x:t,y:s,width:n,height:a}=e;return{width:n,height:a,top:s,left:t,right:t+n,bottom:s+a,x:t,y:s}}function x0(e,t,s){let{reference:n,floating:a}=e;const o=hs(t),i=th(t),l=eh(i),u=ws(t),c=o==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,m=n[l]/2-a[l]/2;let g;switch(u){case"top":g={x:d,y:n.y-a.height};break;case"bottom":g={x:d,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:f};break;case"left":g={x:n.x-a.width,y:f};break;default:g={x:n.x,y:n.y}}switch(Qr(t)){case"start":g[i]-=m*(s&&c?-1:1);break;case"end":g[i]+=m*(s&&c?-1:1);break}return g}const z3=async(e,t,s)=>{const{placement:n="bottom",strategy:a="absolute",middleware:o=[],platform:i}=s,l=o.filter(Boolean),u=await(i.isRTL==null?void 0:i.isRTL(t));let c=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=x0(c,n,u),m=n,g={},b=0;for(let v=0;v<l.length;v++){const{name:x,fn:h}=l[v],{x:p,y:w,data:j,reset:S}=await h({x:d,y:f,initialPlacement:n,placement:m,strategy:a,middlewareData:g,rects:c,platform:i,elements:{reference:e,floating:t}});d=p??d,f=w??f,g={...g,[x]:{...g[x],...j}},S&&b<=50&&(b++,typeof S=="object"&&(S.placement&&(m=S.placement),S.rects&&(c=S.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:a}):S.rects),{x:d,y:f}=x0(c,m,u)),v=-1)}return{x:d,y:f,placement:m,strategy:a,middlewareData:g}};async function io(e,t){var s;t===void 0&&(t={});const{x:n,y:a,platform:o,rects:i,elements:l,strategy:u}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:g=0}=bs(t,e),b=yj(g),x=l[m?f==="floating"?"reference":"floating":f],h=ml(await o.getClippingRect({element:(s=await(o.isElement==null?void 0:o.isElement(x)))==null||s?x:x.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:c,rootBoundary:d,strategy:u})),p=f==="floating"?{x:n,y:a,width:i.floating.width,height:i.floating.height}:i.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),j=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},S=ml(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:p,offsetParent:w,strategy:u}):p);return{top:(h.top-S.top+b.top)/j.y,bottom:(S.bottom-h.bottom+b.bottom)/j.y,left:(h.left-S.left+b.left)/j.x,right:(S.right-h.right+b.right)/j.x}}const W3=e=>({name:"arrow",options:e,async fn(t){const{x:s,y:n,placement:a,rects:o,platform:i,elements:l,middlewareData:u}=t,{element:c,padding:d=0}=bs(e,t)||{};if(c==null)return{};const f=yj(d),m={x:s,y:n},g=th(a),b=eh(g),v=await i.getDimensions(c),x=g==="y",h=x?"top":"left",p=x?"bottom":"right",w=x?"clientHeight":"clientWidth",j=o.reference[b]+o.reference[g]-m[g]-o.floating[b],S=m[g]-o.reference[g],E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let C=E?E[w]:0;(!C||!await(i.isElement==null?void 0:i.isElement(E)))&&(C=l.floating[w]||o.floating[b]);const N=j/2-S/2,k=C/2-v[b]/2-1,A=Zs(f[h],k),I=Zs(f[p],k),D=A,O=C-v[b]-I,M=C/2-v[b]/2+N,F=Yd(D,M,O),V=!u.arrow&&Qr(a)!=null&&M!==F&&o.reference[b]/2-(M<D?A:I)-v[b]/2<0,q=V?M<D?M-D:M-O:0;return{[g]:m[g]+q,data:{[g]:F,centerOffset:M-F-q,...V&&{alignmentOffset:q}},reset:V}}}),H3=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var s,n;const{placement:a,middlewareData:o,rects:i,initialPlacement:l,platform:u,elements:c}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:v=!0,...x}=bs(e,t);if((s=o.arrow)!=null&&s.alignmentOffset)return{};const h=ws(a),p=hs(l),w=ws(l)===l,j=await(u.isRTL==null?void 0:u.isRTL(c.floating)),S=m||(w||!v?[hl(l)]:$3(l)),E=b!=="none";!m&&E&&S.push(...U3(l,v,b,j));const C=[l,...S],N=await io(t,x),k=[];let A=((n=o.flip)==null?void 0:n.overflows)||[];if(d&&k.push(N[h]),f){const F=F3(a,i,j);k.push(N[F[0]],N[F[1]])}if(A=[...A,{placement:a,overflows:k}],!k.every(F=>F<=0)){var I,D;const F=(((I=o.flip)==null?void 0:I.index)||0)+1,V=C[F];if(V){var O;const R=f==="alignment"?p!==hs(V):!1,_=((O=A[0])==null?void 0:O.overflows[0])>0;if(!R||_)return{data:{index:F,overflows:A},reset:{placement:V}}}let q=(D=A.filter(R=>R.overflows[0]<=0).sort((R,_)=>R.overflows[1]-_.overflows[1])[0])==null?void 0:D.placement;if(!q)switch(g){case"bestFit":{var M;const R=(M=A.filter(_=>{if(E){const L=hs(_.placement);return L===p||L==="y"}return!0}).map(_=>[_.placement,_.overflows.filter(L=>L>0).reduce((L,$)=>L+$,0)]).sort((_,L)=>_[1]-L[1])[0])==null?void 0:M[0];R&&(q=R);break}case"initialPlacement":q=l;break}if(a!==q)return{reset:{placement:q}}}return{}}}};function g0(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function y0(e){return L3.some(t=>e[t]>=0)}const q3=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:s}=t,{strategy:n="referenceHidden",...a}=bs(e,t);switch(n){case"referenceHidden":{const o=await io(t,{...a,elementContext:"reference"}),i=g0(o,s.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:y0(i)}}}case"escaped":{const o=await io(t,{...a,altBoundary:!0}),i=g0(o,s.floating);return{data:{escapedOffsets:i,escaped:y0(i)}}}default:return{}}}}};async function K3(e,t){const{placement:s,platform:n,elements:a}=e,o=await(n.isRTL==null?void 0:n.isRTL(a.floating)),i=ws(s),l=Qr(s),u=hs(s)==="y",c=["left","top"].includes(i)?-1:1,d=o&&u?-1:1,f=bs(t,e);let{mainAxis:m,crossAxis:g,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof b=="number"&&(g=l==="end"?b*-1:b),u?{x:g*d,y:m*c}:{x:m*c,y:g*d}}const G3=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var s,n;const{x:a,y:o,placement:i,middlewareData:l}=t,u=await K3(t,e);return i===((s=l.offset)==null?void 0:s.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+u.x,y:o+u.y,data:{...u,placement:i}}}}},Y3=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:s,y:n,placement:a}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:x=>{let{x:h,y:p}=x;return{x:h,y:p}}},...u}=bs(e,t),c={x:s,y:n},d=await io(t,u),f=hs(ws(a)),m=Jp(f);let g=c[m],b=c[f];if(o){const x=m==="y"?"top":"left",h=m==="y"?"bottom":"right",p=g+d[x],w=g-d[h];g=Yd(p,g,w)}if(i){const x=f==="y"?"top":"left",h=f==="y"?"bottom":"right",p=b+d[x],w=b-d[h];b=Yd(p,b,w)}const v=l.fn({...t,[m]:g,[f]:b});return{...v,data:{x:v.x-s,y:v.y-n,enabled:{[m]:o,[f]:i}}}}}},X3=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:s,y:n,placement:a,rects:o,middlewareData:i}=t,{offset:l=0,mainAxis:u=!0,crossAxis:c=!0}=bs(e,t),d={x:s,y:n},f=hs(a),m=Jp(f);let g=d[m],b=d[f];const v=bs(l,t),x=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(u){const w=m==="y"?"height":"width",j=o.reference[m]-o.floating[w]+x.mainAxis,S=o.reference[m]+o.reference[w]-x.mainAxis;g<j?g=j:g>S&&(g=S)}if(c){var h,p;const w=m==="y"?"width":"height",j=["top","left"].includes(ws(a)),S=o.reference[f]-o.floating[w]+(j&&((h=i.offset)==null?void 0:h[f])||0)+(j?0:x.crossAxis),E=o.reference[f]+o.reference[w]+(j?0:((p=i.offset)==null?void 0:p[f])||0)-(j?x.crossAxis:0);b<S?b=S:b>E&&(b=E)}return{[m]:g,[f]:b}}}},Q3=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var s,n;const{placement:a,rects:o,platform:i,elements:l}=t,{apply:u=()=>{},...c}=bs(e,t),d=await io(t,c),f=ws(a),m=Qr(a),g=hs(a)==="y",{width:b,height:v}=o.floating;let x,h;f==="top"||f==="bottom"?(x=f,h=m===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(h=f,x=m==="end"?"top":"bottom");const p=v-d.top-d.bottom,w=b-d.left-d.right,j=Zs(v-d[x],p),S=Zs(b-d[h],w),E=!t.middlewareData.shift;let C=j,N=S;if((s=t.middlewareData.shift)!=null&&s.enabled.x&&(N=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(C=p),E&&!m){const A=ut(d.left,0),I=ut(d.right,0),D=ut(d.top,0),O=ut(d.bottom,0);g?N=b-2*(A!==0||I!==0?A+I:ut(d.left,d.right)):C=v-2*(D!==0||O!==0?D+O:ut(d.top,d.bottom))}await u({...t,availableWidth:N,availableHeight:C});const k=await i.getDimensions(l.floating);return b!==k.width||v!==k.height?{reset:{rects:!0}}:{}}}};function ac(){return typeof window<"u"}function Zr(e){return vj(e)?(e.nodeName||"").toLowerCase():"#document"}function ht(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function rs(e){var t;return(t=(vj(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function vj(e){return ac()?e instanceof Node||e instanceof ht(e).Node:!1}function Ft(e){return ac()?e instanceof Element||e instanceof ht(e).Element:!1}function ss(e){return ac()?e instanceof HTMLElement||e instanceof ht(e).HTMLElement:!1}function v0(e){return!ac()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ht(e).ShadowRoot}function Po(e){const{overflow:t,overflowX:s,overflowY:n,display:a}=$t(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+s)&&!["inline","contents"].includes(a)}function Z3(e){return["table","td","th"].includes(Zr(e))}function oc(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function sh(e){const t=nh(),s=Ft(e)?$t(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>s[n]?s[n]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!t&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!t&&(s.filter?s.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(s.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(s.contain||"").includes(n))}function J3(e){let t=Js(e);for(;ss(t)&&!Vr(t);){if(sh(t))return t;if(oc(t))return null;t=Js(t)}return null}function nh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Vr(e){return["html","body","#document"].includes(Zr(e))}function $t(e){return ht(e).getComputedStyle(e)}function ic(e){return Ft(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Js(e){if(Zr(e)==="html")return e;const t=e.assignedSlot||e.parentNode||v0(e)&&e.host||rs(e);return v0(t)?t.host:t}function bj(e){const t=Js(e);return Vr(t)?e.ownerDocument?e.ownerDocument.body:e.body:ss(t)&&Po(t)?t:bj(t)}function lo(e,t,s){var n;t===void 0&&(t=[]),s===void 0&&(s=!0);const a=bj(e),o=a===((n=e.ownerDocument)==null?void 0:n.body),i=ht(a);if(o){const l=Qd(i);return t.concat(i,i.visualViewport||[],Po(a)?a:[],l&&s?lo(l):[])}return t.concat(a,lo(a,[],s))}function Qd(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function wj(e){const t=$t(e);let s=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=ss(e),o=a?e.offsetWidth:s,i=a?e.offsetHeight:n,l=pl(s)!==o||pl(n)!==i;return l&&(s=o,n=i),{width:s,height:n,$:l}}function rh(e){return Ft(e)?e:e.contextElement}function jr(e){const t=rh(e);if(!ss(t))return es(1);const s=t.getBoundingClientRect(),{width:n,height:a,$:o}=wj(t);let i=(o?pl(s.width):s.width)/n,l=(o?pl(s.height):s.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const e_=es(0);function jj(e){const t=ht(e);return!nh()||!t.visualViewport?e_:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function t_(e,t,s){return t===void 0&&(t=!1),!s||t&&s!==ht(e)?!1:t}function $n(e,t,s,n){t===void 0&&(t=!1),s===void 0&&(s=!1);const a=e.getBoundingClientRect(),o=rh(e);let i=es(1);t&&(n?Ft(n)&&(i=jr(n)):i=jr(e));const l=t_(o,s,n)?jj(o):es(0);let u=(a.left+l.x)/i.x,c=(a.top+l.y)/i.y,d=a.width/i.x,f=a.height/i.y;if(o){const m=ht(o),g=n&&Ft(n)?ht(n):n;let b=m,v=Qd(b);for(;v&&n&&g!==b;){const x=jr(v),h=v.getBoundingClientRect(),p=$t(v),w=h.left+(v.clientLeft+parseFloat(p.paddingLeft))*x.x,j=h.top+(v.clientTop+parseFloat(p.paddingTop))*x.y;u*=x.x,c*=x.y,d*=x.x,f*=x.y,u+=w,c+=j,b=ht(v),v=Qd(b)}}return ml({width:d,height:f,x:u,y:c})}function ah(e,t){const s=ic(e).scrollLeft;return t?t.left+s:$n(rs(e)).left+s}function Nj(e,t,s){s===void 0&&(s=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(s?0:ah(e,n)),o=n.top+t.scrollTop;return{x:a,y:o}}function s_(e){let{elements:t,rect:s,offsetParent:n,strategy:a}=e;const o=a==="fixed",i=rs(n),l=t?oc(t.floating):!1;if(n===i||l&&o)return s;let u={scrollLeft:0,scrollTop:0},c=es(1);const d=es(0),f=ss(n);if((f||!f&&!o)&&((Zr(n)!=="body"||Po(i))&&(u=ic(n)),ss(n))){const g=$n(n);c=jr(n),d.x=g.x+n.clientLeft,d.y=g.y+n.clientTop}const m=i&&!f&&!o?Nj(i,u,!0):es(0);return{width:s.width*c.x,height:s.height*c.y,x:s.x*c.x-u.scrollLeft*c.x+d.x+m.x,y:s.y*c.y-u.scrollTop*c.y+d.y+m.y}}function n_(e){return Array.from(e.getClientRects())}function r_(e){const t=rs(e),s=ic(e),n=e.ownerDocument.body,a=ut(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=ut(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-s.scrollLeft+ah(e);const l=-s.scrollTop;return $t(n).direction==="rtl"&&(i+=ut(t.clientWidth,n.clientWidth)-a),{width:a,height:o,x:i,y:l}}function a_(e,t){const s=ht(e),n=rs(e),a=s.visualViewport;let o=n.clientWidth,i=n.clientHeight,l=0,u=0;if(a){o=a.width,i=a.height;const c=nh();(!c||c&&t==="fixed")&&(l=a.offsetLeft,u=a.offsetTop)}return{width:o,height:i,x:l,y:u}}function o_(e,t){const s=$n(e,!0,t==="fixed"),n=s.top+e.clientTop,a=s.left+e.clientLeft,o=ss(e)?jr(e):es(1),i=e.clientWidth*o.x,l=e.clientHeight*o.y,u=a*o.x,c=n*o.y;return{width:i,height:l,x:u,y:c}}function b0(e,t,s){let n;if(t==="viewport")n=a_(e,s);else if(t==="document")n=r_(rs(e));else if(Ft(t))n=o_(t,s);else{const a=jj(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return ml(n)}function kj(e,t){const s=Js(e);return s===t||!Ft(s)||Vr(s)?!1:$t(s).position==="fixed"||kj(s,t)}function i_(e,t){const s=t.get(e);if(s)return s;let n=lo(e,[],!1).filter(l=>Ft(l)&&Zr(l)!=="body"),a=null;const o=$t(e).position==="fixed";let i=o?Js(e):e;for(;Ft(i)&&!Vr(i);){const l=$t(i),u=sh(i);!u&&l.position==="fixed"&&(a=null),(o?!u&&!a:!u&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Po(i)&&!u&&kj(e,i))?n=n.filter(d=>d!==i):a=l,i=Js(i)}return t.set(e,n),n}function l_(e){let{element:t,boundary:s,rootBoundary:n,strategy:a}=e;const i=[...s==="clippingAncestors"?oc(t)?[]:i_(t,this._c):[].concat(s),n],l=i[0],u=i.reduce((c,d)=>{const f=b0(t,d,a);return c.top=ut(f.top,c.top),c.right=Zs(f.right,c.right),c.bottom=Zs(f.bottom,c.bottom),c.left=ut(f.left,c.left),c},b0(t,l,a));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function c_(e){const{width:t,height:s}=wj(e);return{width:t,height:s}}function u_(e,t,s){const n=ss(t),a=rs(t),o=s==="fixed",i=$n(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const u=es(0);function c(){u.x=ah(a)}if(n||!n&&!o)if((Zr(t)!=="body"||Po(a))&&(l=ic(t)),n){const g=$n(t,!0,o,t);u.x=g.x+t.clientLeft,u.y=g.y+t.clientTop}else a&&c();o&&!n&&a&&c();const d=a&&!n&&!o?Nj(a,l):es(0),f=i.left+l.scrollLeft-u.x-d.x,m=i.top+l.scrollTop-u.y-d.y;return{x:f,y:m,width:i.width,height:i.height}}function du(e){return $t(e).position==="static"}function w0(e,t){if(!ss(e)||$t(e).position==="fixed")return null;if(t)return t(e);let s=e.offsetParent;return rs(e)===s&&(s=s.ownerDocument.body),s}function Sj(e,t){const s=ht(e);if(oc(e))return s;if(!ss(e)){let a=Js(e);for(;a&&!Vr(a);){if(Ft(a)&&!du(a))return a;a=Js(a)}return s}let n=w0(e,t);for(;n&&Z3(n)&&du(n);)n=w0(n,t);return n&&Vr(n)&&du(n)&&!sh(n)?s:n||J3(e)||s}const d_=async function(e){const t=this.getOffsetParent||Sj,s=this.getDimensions,n=await s(e.floating);return{reference:u_(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function f_(e){return $t(e).direction==="rtl"}const p_={convertOffsetParentRelativeRectToViewportRelativeRect:s_,getDocumentElement:rs,getClippingRect:l_,getOffsetParent:Sj,getElementRects:d_,getClientRects:n_,getDimensions:c_,getScale:jr,isElement:Ft,isRTL:f_};function Cj(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function h_(e,t){let s=null,n;const a=rs(e);function o(){var l;clearTimeout(n),(l=s)==null||l.disconnect(),s=null}function i(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),o();const c=e.getBoundingClientRect(),{left:d,top:f,width:m,height:g}=c;if(l||t(),!m||!g)return;const b=ai(f),v=ai(a.clientWidth-(d+m)),x=ai(a.clientHeight-(f+g)),h=ai(d),w={rootMargin:-b+"px "+-v+"px "+-x+"px "+-h+"px",threshold:ut(0,Zs(1,u))||1};let j=!0;function S(E){const C=E[0].intersectionRatio;if(C!==u){if(!j)return i();C?i(!1,C):n=setTimeout(()=>{i(!1,1e-7)},1e3)}C===1&&!Cj(c,e.getBoundingClientRect())&&i(),j=!1}try{s=new IntersectionObserver(S,{...w,root:a.ownerDocument})}catch{s=new IntersectionObserver(S,w)}s.observe(e)}return i(!0),o}function m_(e,t,s,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,c=rh(e),d=a||o?[...c?lo(c):[],...lo(t)]:[];d.forEach(h=>{a&&h.addEventListener("scroll",s,{passive:!0}),o&&h.addEventListener("resize",s)});const f=c&&l?h_(c,s):null;let m=-1,g=null;i&&(g=new ResizeObserver(h=>{let[p]=h;p&&p.target===c&&g&&(g.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var w;(w=g)==null||w.observe(t)})),s()}),c&&!u&&g.observe(c),g.observe(t));let b,v=u?$n(e):null;u&&x();function x(){const h=$n(e);v&&!Cj(v,h)&&s(),v=h,b=requestAnimationFrame(x)}return s(),()=>{var h;d.forEach(p=>{a&&p.removeEventListener("scroll",s),o&&p.removeEventListener("resize",s)}),f==null||f(),(h=g)==null||h.disconnect(),g=null,u&&cancelAnimationFrame(b)}}const x_=G3,g_=Y3,y_=H3,v_=Q3,b_=q3,j0=W3,w_=X3,j_=(e,t,s)=>{const n=new Map,a={platform:p_,...s},o={...a.platform,_c:n};return z3(e,t,{...a,platform:o})};var Pi=typeof document<"u"?y.useLayoutEffect:y.useEffect;function xl(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let s,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(s=e.length,s!==t.length)return!1;for(n=s;n--!==0;)if(!xl(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),s=a.length,s!==Object.keys(t).length)return!1;for(n=s;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=s;n--!==0;){const o=a[n];if(!(o==="_owner"&&e.$$typeof)&&!xl(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Ej(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function N0(e,t){const s=Ej(e);return Math.round(t*s)/s}function fu(e){const t=y.useRef(e);return Pi(()=>{t.current=e}),t}function N_(e){e===void 0&&(e={});const{placement:t="bottom",strategy:s="absolute",middleware:n=[],platform:a,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:u,open:c}=e,[d,f]=y.useState({x:0,y:0,strategy:s,placement:t,middlewareData:{},isPositioned:!1}),[m,g]=y.useState(n);xl(m,n)||g(n);const[b,v]=y.useState(null),[x,h]=y.useState(null),p=y.useCallback(R=>{R!==E.current&&(E.current=R,v(R))},[]),w=y.useCallback(R=>{R!==C.current&&(C.current=R,h(R))},[]),j=o||b,S=i||x,E=y.useRef(null),C=y.useRef(null),N=y.useRef(d),k=u!=null,A=fu(u),I=fu(a),D=fu(c),O=y.useCallback(()=>{if(!E.current||!C.current)return;const R={placement:t,strategy:s,middleware:m};I.current&&(R.platform=I.current),j_(E.current,C.current,R).then(_=>{const L={..._,isPositioned:D.current!==!1};M.current&&!xl(N.current,L)&&(N.current=L,yo.flushSync(()=>{f(L)}))})},[m,t,s,I,D]);Pi(()=>{c===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,f(R=>({...R,isPositioned:!1})))},[c]);const M=y.useRef(!1);Pi(()=>(M.current=!0,()=>{M.current=!1}),[]),Pi(()=>{if(j&&(E.current=j),S&&(C.current=S),j&&S){if(A.current)return A.current(j,S,O);O()}},[j,S,O,A,k]);const F=y.useMemo(()=>({reference:E,floating:C,setReference:p,setFloating:w}),[p,w]),V=y.useMemo(()=>({reference:j,floating:S}),[j,S]),q=y.useMemo(()=>{const R={position:s,left:0,top:0};if(!V.floating)return R;const _=N0(V.floating,d.x),L=N0(V.floating,d.y);return l?{...R,transform:"translate("+_+"px, "+L+"px)",...Ej(V.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:_,top:L}},[s,l,V.floating,d.x,d.y]);return y.useMemo(()=>({...d,update:O,refs:F,elements:V,floatingStyles:q}),[d,O,F,V,q])}const k_=e=>{function t(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:e,fn(s){const{element:n,padding:a}=typeof e=="function"?e(s):e;return n&&t(n)?n.current!=null?j0({element:n.current,padding:a}).fn(s):{}:n?j0({element:n,padding:a}).fn(s):{}}}},S_=(e,t)=>({...x_(e),options:[e,t]}),C_=(e,t)=>({...g_(e),options:[e,t]}),E_=(e,t)=>({...w_(e),options:[e,t]}),P_=(e,t)=>({...y_(e),options:[e,t]}),A_=(e,t)=>({...v_(e),options:[e,t]}),T_=(e,t)=>({...b_(e),options:[e,t]}),R_=(e,t)=>({...k_(e),options:[e,t]});var D_="Arrow",Pj=y.forwardRef((e,t)=>{const{children:s,width:n=10,height:a=5,...o}=e;return r.jsx(le.svg,{...o,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?s:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});Pj.displayName=D_;var __=Pj;function Aj(e){const[t,s]=y.useState(void 0);return Pt(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let i,l;if("borderBoxSize"in o){const u=o.borderBoxSize,c=Array.isArray(u)?u[0]:u;i=c.inlineSize,l=c.blockSize}else i=e.offsetWidth,l=e.offsetHeight;s({width:i,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else s(void 0)},[e]),t}var oh="Popper",[Tj,Rj]=nn(oh),[M_,Dj]=Tj(oh),_j=e=>{const{__scopePopper:t,children:s}=e,[n,a]=y.useState(null);return r.jsx(M_,{scope:t,anchor:n,onAnchorChange:a,children:s})};_j.displayName=oh;var Mj="PopperAnchor",Lj=y.forwardRef((e,t)=>{const{__scopePopper:s,virtualRef:n,...a}=e,o=Dj(Mj,s),i=y.useRef(null),l=Te(t,i);return y.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:r.jsx(le.div,{...a,ref:l})});Lj.displayName=Mj;var ih="PopperContent",[L_,I_]=Tj(ih),Ij=y.forwardRef((e,t)=>{var _e,cn,$e,Ut,Bt,mc;const{__scopePopper:s,side:n="bottom",sideOffset:a=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:b,...v}=e,x=Dj(ih,s),[h,p]=y.useState(null),w=Te(t,ea=>p(ea)),[j,S]=y.useState(null),E=Aj(j),C=(E==null?void 0:E.width)??0,N=(E==null?void 0:E.height)??0,k=n+(o!=="center"?"-"+o:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},I=Array.isArray(c)?c:[c],D=I.length>0,O={padding:A,boundary:I.filter(F_),altBoundary:D},{refs:M,floatingStyles:F,placement:V,isPositioned:q,middlewareData:R}=N_({strategy:"fixed",placement:k,whileElementsMounted:(...ea)=>m_(...ea,{animationFrame:g==="always"}),elements:{reference:x.anchor},middleware:[S_({mainAxis:a+N,alignmentAxis:i}),u&&C_({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?E_():void 0,...O}),u&&P_({...O}),A_({...O,apply:({elements:ea,rects:mh,availableWidth:d1,availableHeight:f1})=>{const{width:p1,height:h1}=mh.reference,_o=ea.floating.style;_o.setProperty("--radix-popper-available-width",`${d1}px`),_o.setProperty("--radix-popper-available-height",`${f1}px`),_o.setProperty("--radix-popper-anchor-width",`${p1}px`),_o.setProperty("--radix-popper-anchor-height",`${h1}px`)}}),j&&R_({element:j,padding:l}),$_({arrowWidth:C,arrowHeight:N}),m&&T_({strategy:"referenceHidden",...O})]}),[_,L]=$j(V),$=it(b);Pt(()=>{q&&($==null||$())},[q,$]);const K=(_e=R.arrow)==null?void 0:_e.x,ae=(cn=R.arrow)==null?void 0:cn.y,oe=(($e=R.arrow)==null?void 0:$e.centerOffset)!==0,[Je,we]=y.useState();return Pt(()=>{h&&we(window.getComputedStyle(h).zIndex)},[h]),r.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:q?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Je,"--radix-popper-transform-origin":[(Ut=R.transformOrigin)==null?void 0:Ut.x,(Bt=R.transformOrigin)==null?void 0:Bt.y].join(" "),...((mc=R.hide)==null?void 0:mc.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(L_,{scope:s,placedSide:_,onArrowChange:S,arrowX:K,arrowY:ae,shouldHideArrow:oe,children:r.jsx(le.div,{"data-side":_,"data-align":L,...v,ref:w,style:{...v.style,animation:q?void 0:"none"}})})})});Ij.displayName=ih;var Oj="PopperArrow",O_={top:"bottom",right:"left",bottom:"top",left:"right"},Fj=y.forwardRef(function(t,s){const{__scopePopper:n,...a}=t,o=I_(Oj,n),i=O_[o.placedSide];return r.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:r.jsx(__,{...a,ref:s,style:{...a.style,display:"block"}})})});Fj.displayName=Oj;function F_(e){return e!==null}var $_=e=>({name:"transformOrigin",options:e,fn(t){var x,h,p;const{placement:s,rects:n,middlewareData:a}=t,i=((x=a.arrow)==null?void 0:x.centerOffset)!==0,l=i?0:e.arrowWidth,u=i?0:e.arrowHeight,[c,d]=$j(s),f={start:"0%",center:"50%",end:"100%"}[d],m=(((h=a.arrow)==null?void 0:h.x)??0)+l/2,g=(((p=a.arrow)==null?void 0:p.y)??0)+u/2;let b="",v="";return c==="bottom"?(b=i?f:`${m}px`,v=`${-u}px`):c==="top"?(b=i?f:`${m}px`,v=`${n.floating.height+u}px`):c==="right"?(b=`${-u}px`,v=i?f:`${g}px`):c==="left"&&(b=`${n.floating.width+u}px`,v=i?f:`${g}px`),{data:{x:b,y:v}}}});function $j(e){const[t,s="center"]=e.split("-");return[t,s]}var V_=_j,U_=Lj,B_=Ij,z_=Fj,pu="rovingFocusGroup.onEntryFocus",W_={bubbles:!1,cancelable:!0},Ao="RovingFocusGroup",[Zd,Vj,H_]=sp(Ao),[q_,Uj]=nn(Ao,[H_]),[K_,G_]=q_(Ao),Bj=y.forwardRef((e,t)=>r.jsx(Zd.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(Zd.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(Y_,{...e,ref:t})})}));Bj.displayName=Ao;var Y_=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,orientation:n,loop:a=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:u,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...f}=e,m=y.useRef(null),g=Te(t,m),b=mj(o),[v,x]=Bl({prop:i,defaultProp:l??null,onChange:u,caller:Ao}),[h,p]=y.useState(!1),w=it(c),j=Vj(s),S=y.useRef(!1),[E,C]=y.useState(0);return y.useEffect(()=>{const N=m.current;if(N)return N.addEventListener(pu,w),()=>N.removeEventListener(pu,w)},[w]),r.jsx(K_,{scope:s,orientation:n,dir:b,loop:a,currentTabStopId:v,onItemFocus:y.useCallback(N=>x(N),[x]),onItemShiftTab:y.useCallback(()=>p(!0),[]),onFocusableItemAdd:y.useCallback(()=>C(N=>N+1),[]),onFocusableItemRemove:y.useCallback(()=>C(N=>N-1),[]),children:r.jsx(le.div,{tabIndex:h||E===0?-1:0,"data-orientation":n,...f,ref:g,style:{outline:"none",...e.style},onMouseDown:Y(e.onMouseDown,()=>{S.current=!0}),onFocus:Y(e.onFocus,N=>{const k=!S.current;if(N.target===N.currentTarget&&k&&!h){const A=new CustomEvent(pu,W_);if(N.currentTarget.dispatchEvent(A),!A.defaultPrevented){const I=j().filter(V=>V.focusable),D=I.find(V=>V.active),O=I.find(V=>V.id===v),F=[D,O,...I].filter(Boolean).map(V=>V.ref.current);Hj(F,d)}}S.current=!1}),onBlur:Y(e.onBlur,()=>p(!1))})})}),zj="RovingFocusGroupItem",Wj=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,focusable:n=!0,active:a=!1,tabStopId:o,children:i,...l}=e,u=Gd(),c=o||u,d=G_(zj,s),f=d.currentTabStopId===c,m=Vj(s),{onFocusableItemAdd:g,onFocusableItemRemove:b,currentTabStopId:v}=d;return y.useEffect(()=>{if(n)return g(),()=>b()},[n,g,b]),r.jsx(Zd.ItemSlot,{scope:s,id:c,focusable:n,active:a,children:r.jsx(le.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:Y(e.onMouseDown,x=>{n?d.onItemFocus(c):x.preventDefault()}),onFocus:Y(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:Y(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const h=Z_(x,d.orientation,d.dir);if(h!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let w=m().filter(j=>j.focusable).map(j=>j.ref.current);if(h==="last")w.reverse();else if(h==="prev"||h==="next"){h==="prev"&&w.reverse();const j=w.indexOf(x.currentTarget);w=d.loop?J_(w,j+1):w.slice(j+1)}setTimeout(()=>Hj(w))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:v!=null}):i})})});Wj.displayName=zj;var X_={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Q_(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Z_(e,t,s){const n=Q_(e.key,s);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return X_[n]}function Hj(e,t=!1){const s=document.activeElement;for(const n of e)if(n===s||(n.focus({preventScroll:t}),document.activeElement!==s))return}function J_(e,t){return e.map((s,n)=>e[(t+n)%e.length])}var e5=Bj,t5=Wj,s5=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Yn=new WeakMap,oi=new WeakMap,ii={},hu=0,qj=function(e){return e&&(e.host||qj(e.parentNode))},n5=function(e,t){return t.map(function(s){if(e.contains(s))return s;var n=qj(s);return n&&e.contains(n)?n:(console.error("aria-hidden",s,"in not contained inside",e,". Doing nothing"),null)}).filter(function(s){return!!s})},r5=function(e,t,s,n){var a=n5(t,Array.isArray(e)?e:[e]);ii[s]||(ii[s]=new WeakMap);var o=ii[s],i=[],l=new Set,u=new Set(a),c=function(f){!f||l.has(f)||(l.add(f),c(f.parentNode))};a.forEach(c);var d=function(f){!f||u.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))d(m);else try{var g=m.getAttribute(n),b=g!==null&&g!=="false",v=(Yn.get(m)||0)+1,x=(o.get(m)||0)+1;Yn.set(m,v),o.set(m,x),i.push(m),v===1&&b&&oi.set(m,!0),x===1&&m.setAttribute(s,"true"),b||m.setAttribute(n,"true")}catch(h){console.error("aria-hidden: cannot operate on ",m,h)}})};return d(t),l.clear(),hu++,function(){i.forEach(function(f){var m=Yn.get(f)-1,g=o.get(f)-1;Yn.set(f,m),o.set(f,g),m||(oi.has(f)||f.removeAttribute(n),oi.delete(f)),g||f.removeAttribute(s)}),hu--,hu||(Yn=new WeakMap,Yn=new WeakMap,oi=new WeakMap,ii={})}},a5=function(e,t,s){s===void 0&&(s="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=s5(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),r5(n,a,s,"aria-hidden")):function(){return null}},Gt=function(){return Gt=Object.assign||function(t){for(var s,n=1,a=arguments.length;n<a;n++){s=arguments[n];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o])}return t},Gt.apply(this,arguments)};function Kj(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(s[n[a]]=e[n[a]]);return s}function o5(e,t,s){if(s||arguments.length===2)for(var n=0,a=t.length,o;n<a;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var Ai="right-scroll-bar-position",Ti="width-before-scroll-bar",i5="with-scroll-bars-hidden",l5="--removed-body-scroll-bar-size";function mu(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function c5(e,t){var s=y.useState(function(){return{value:e,callback:t,facade:{get current(){return s.value},set current(n){var a=s.value;a!==n&&(s.value=n,s.callback(n,a))}}}})[0];return s.callback=t,s.facade}var u5=typeof window<"u"?y.useLayoutEffect:y.useEffect,k0=new WeakMap;function d5(e,t){var s=c5(null,function(n){return e.forEach(function(a){return mu(a,n)})});return u5(function(){var n=k0.get(s);if(n){var a=new Set(n),o=new Set(e),i=s.current;a.forEach(function(l){o.has(l)||mu(l,null)}),o.forEach(function(l){a.has(l)||mu(l,i)})}k0.set(s,e)},[e]),s}function f5(e){return e}function p5(e,t){t===void 0&&(t=f5);var s=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:e},useMedium:function(o){var i=t(o,n);return s.push(i),function(){s=s.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(n=!0;s.length;){var i=s;s=[],i.forEach(o)}s={push:function(l){return o(l)},filter:function(){return s}}},assignMedium:function(o){n=!0;var i=[];if(s.length){var l=s;s=[],l.forEach(o),i=s}var u=function(){var d=i;i=[],d.forEach(o)},c=function(){return Promise.resolve().then(u)};c(),s={push:function(d){i.push(d),c()},filter:function(d){return i=i.filter(d),s}}}};return a}function h5(e){e===void 0&&(e={});var t=p5(null);return t.options=Gt({async:!0,ssr:!1},e),t}var Gj=function(e){var t=e.sideCar,s=Kj(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return y.createElement(n,Gt({},s))};Gj.isSideCarExport=!0;function m5(e,t){return e.useMedium(t),Gj}var Yj=h5(),xu=function(){},lc=y.forwardRef(function(e,t){var s=y.useRef(null),n=y.useState({onScrollCapture:xu,onWheelCapture:xu,onTouchMoveCapture:xu}),a=n[0],o=n[1],i=e.forwardProps,l=e.children,u=e.className,c=e.removeScrollBar,d=e.enabled,f=e.shards,m=e.sideCar,g=e.noIsolation,b=e.inert,v=e.allowPinchZoom,x=e.as,h=x===void 0?"div":x,p=e.gapMode,w=Kj(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=m,S=d5([s,t]),E=Gt(Gt({},w),a);return y.createElement(y.Fragment,null,d&&y.createElement(j,{sideCar:Yj,removeScrollBar:c,shards:f,noIsolation:g,inert:b,setCallbacks:o,allowPinchZoom:!!v,lockRef:s,gapMode:p}),i?y.cloneElement(y.Children.only(l),Gt(Gt({},E),{ref:S})):y.createElement(h,Gt({},E,{className:u,ref:S}),l))});lc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};lc.classNames={fullWidth:Ti,zeroRight:Ai};var x5=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function g5(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=x5();return t&&e.setAttribute("nonce",t),e}function y5(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function v5(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var b5=function(){var e=0,t=null;return{add:function(s){e==0&&(t=g5())&&(y5(t,s),v5(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},w5=function(){var e=b5();return function(t,s){y.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&s])}},Xj=function(){var e=w5(),t=function(s){var n=s.styles,a=s.dynamic;return e(n,a),null};return t},j5={left:0,top:0,right:0,gap:0},gu=function(e){return parseInt(e||"",10)||0},N5=function(e){var t=window.getComputedStyle(document.body),s=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[gu(s),gu(n),gu(a)]},k5=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return j5;var t=N5(e),s=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-s+t[2]-t[0])}},S5=Xj(),Nr="data-scroll-locked",C5=function(e,t,s,n){var a=e.left,o=e.top,i=e.right,l=e.gap;return s===void 0&&(s="margin"),`
  .`.concat(i5,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Nr,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),s==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),s==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ai,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Ti,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Ai," .").concat(Ai,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Ti," .").concat(Ti,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Nr,`] {
    `).concat(l5,": ").concat(l,`px;
  }
`)},S0=function(){var e=parseInt(document.body.getAttribute(Nr)||"0",10);return isFinite(e)?e:0},E5=function(){y.useEffect(function(){return document.body.setAttribute(Nr,(S0()+1).toString()),function(){var e=S0()-1;e<=0?document.body.removeAttribute(Nr):document.body.setAttribute(Nr,e.toString())}},[])},P5=function(e){var t=e.noRelative,s=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;E5();var o=y.useMemo(function(){return k5(a)},[a]);return y.createElement(S5,{styles:C5(o,!t,a,s?"":"!important")})},Jd=!1;if(typeof window<"u")try{var li=Object.defineProperty({},"passive",{get:function(){return Jd=!0,!0}});window.addEventListener("test",li,li),window.removeEventListener("test",li,li)}catch{Jd=!1}var Xn=Jd?{passive:!1}:!1,A5=function(e){return e.tagName==="TEXTAREA"},Qj=function(e,t){if(!(e instanceof Element))return!1;var s=window.getComputedStyle(e);return s[t]!=="hidden"&&!(s.overflowY===s.overflowX&&!A5(e)&&s[t]==="visible")},T5=function(e){return Qj(e,"overflowY")},R5=function(e){return Qj(e,"overflowX")},C0=function(e,t){var s=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=Zj(e,n);if(a){var o=Jj(e,n),i=o[1],l=o[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==s.body);return!1},D5=function(e){var t=e.scrollTop,s=e.scrollHeight,n=e.clientHeight;return[t,s,n]},_5=function(e){var t=e.scrollLeft,s=e.scrollWidth,n=e.clientWidth;return[t,s,n]},Zj=function(e,t){return e==="v"?T5(t):R5(t)},Jj=function(e,t){return e==="v"?D5(t):_5(t)},M5=function(e,t){return e==="h"&&t==="rtl"?-1:1},L5=function(e,t,s,n,a){var o=M5(e,window.getComputedStyle(t).direction),i=o*n,l=s.target,u=t.contains(l),c=!1,d=i>0,f=0,m=0;do{var g=Jj(e,l),b=g[0],v=g[1],x=g[2],h=v-x-o*b;(b||h)&&Zj(e,l)&&(f+=h,m+=b),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!u&&l!==document.body||u&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(m)<1)&&(c=!0),c},ci=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},E0=function(e){return[e.deltaX,e.deltaY]},P0=function(e){return e&&"current"in e?e.current:e},I5=function(e,t){return e[0]===t[0]&&e[1]===t[1]},O5=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},F5=0,Qn=[];function $5(e){var t=y.useRef([]),s=y.useRef([0,0]),n=y.useRef(),a=y.useState(F5++)[0],o=y.useState(Xj)[0],i=y.useRef(e);y.useEffect(function(){i.current=e},[e]),y.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var v=o5([e.lockRef.current],(e.shards||[]).map(P0),!0).filter(Boolean);return v.forEach(function(x){return x.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),v.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=y.useCallback(function(v,x){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!i.current.allowPinchZoom;var h=ci(v),p=s.current,w="deltaX"in v?v.deltaX:p[0]-h[0],j="deltaY"in v?v.deltaY:p[1]-h[1],S,E=v.target,C=Math.abs(w)>Math.abs(j)?"h":"v";if("touches"in v&&C==="h"&&E.type==="range")return!1;var N=C0(C,E);if(!N)return!0;if(N?S=C:(S=C==="v"?"h":"v",N=C0(C,E)),!N)return!1;if(!n.current&&"changedTouches"in v&&(w||j)&&(n.current=S),!S)return!0;var k=n.current||S;return L5(k,x,v,k==="h"?w:j)},[]),u=y.useCallback(function(v){var x=v;if(!(!Qn.length||Qn[Qn.length-1]!==o)){var h="deltaY"in x?E0(x):ci(x),p=t.current.filter(function(S){return S.name===x.type&&(S.target===x.target||x.target===S.shadowParent)&&I5(S.delta,h)})[0];if(p&&p.should){x.cancelable&&x.preventDefault();return}if(!p){var w=(i.current.shards||[]).map(P0).filter(Boolean).filter(function(S){return S.contains(x.target)}),j=w.length>0?l(x,w[0]):!i.current.noIsolation;j&&x.cancelable&&x.preventDefault()}}},[]),c=y.useCallback(function(v,x,h,p){var w={name:v,delta:x,target:h,should:p,shadowParent:V5(h)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(j){return j!==w})},1)},[]),d=y.useCallback(function(v){s.current=ci(v),n.current=void 0},[]),f=y.useCallback(function(v){c(v.type,E0(v),v.target,l(v,e.lockRef.current))},[]),m=y.useCallback(function(v){c(v.type,ci(v),v.target,l(v,e.lockRef.current))},[]);y.useEffect(function(){return Qn.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",u,Xn),document.addEventListener("touchmove",u,Xn),document.addEventListener("touchstart",d,Xn),function(){Qn=Qn.filter(function(v){return v!==o}),document.removeEventListener("wheel",u,Xn),document.removeEventListener("touchmove",u,Xn),document.removeEventListener("touchstart",d,Xn)}},[]);var g=e.removeScrollBar,b=e.inert;return y.createElement(y.Fragment,null,b?y.createElement(o,{styles:O5(a)}):null,g?y.createElement(P5,{gapMode:e.gapMode}):null)}function V5(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const U5=m5(Yj,$5);var eN=y.forwardRef(function(e,t){return y.createElement(lc,Gt({},e,{ref:t,sideCar:U5}))});eN.classNames=lc.classNames;var ef=["Enter"," "],B5=["ArrowDown","PageUp","Home"],tN=["ArrowUp","PageDown","End"],z5=[...B5,...tN],W5={ltr:[...ef,"ArrowRight"],rtl:[...ef,"ArrowLeft"]},H5={ltr:["ArrowLeft"],rtl:["ArrowRight"]},To="Menu",[co,q5,K5]=sp(To),[qn,sN]=nn(To,[K5,Rj,Uj]),cc=Rj(),nN=Uj(),[G5,Kn]=qn(To),[Y5,Ro]=qn(To),rN=e=>{const{__scopeMenu:t,open:s=!1,children:n,dir:a,onOpenChange:o,modal:i=!0}=e,l=cc(t),[u,c]=y.useState(null),d=y.useRef(!1),f=it(o),m=mj(a);return y.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),r.jsx(V_,{...l,children:r.jsx(G5,{scope:t,open:s,onOpenChange:f,content:u,onContentChange:c,children:r.jsx(Y5,{scope:t,onClose:y.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:m,modal:i,children:n})})})};rN.displayName=To;var X5="MenuAnchor",lh=y.forwardRef((e,t)=>{const{__scopeMenu:s,...n}=e,a=cc(s);return r.jsx(U_,{...a,...n,ref:t})});lh.displayName=X5;var ch="MenuPortal",[Q5,aN]=qn(ch,{forceMount:void 0}),oN=e=>{const{__scopeMenu:t,forceMount:s,children:n,container:a}=e,o=Kn(ch,t);return r.jsx(Q5,{scope:t,forceMount:s,children:r.jsx(Kr,{present:s||o.open,children:r.jsx(ap,{asChild:!0,container:a,children:n})})})};oN.displayName=ch;var St="MenuContent",[Z5,uh]=qn(St),iN=y.forwardRef((e,t)=>{const s=aN(St,e.__scopeMenu),{forceMount:n=s.forceMount,...a}=e,o=Kn(St,e.__scopeMenu),i=Ro(St,e.__scopeMenu);return r.jsx(co.Provider,{scope:e.__scopeMenu,children:r.jsx(Kr,{present:n||o.open,children:r.jsx(co.Slot,{scope:e.__scopeMenu,children:i.modal?r.jsx(J5,{...a,ref:t}):r.jsx(eM,{...a,ref:t})})})})}),J5=y.forwardRef((e,t)=>{const s=Kn(St,e.__scopeMenu),n=y.useRef(null),a=Te(t,n);return y.useEffect(()=>{const o=n.current;if(o)return a5(o)},[]),r.jsx(dh,{...e,ref:a,trapFocus:s.open,disableOutsidePointerEvents:s.open,disableOutsideScroll:!0,onFocusOutside:Y(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>s.onOpenChange(!1)})}),eM=y.forwardRef((e,t)=>{const s=Kn(St,e.__scopeMenu);return r.jsx(dh,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>s.onOpenChange(!1)})}),tM=to("MenuContent.ScrollLock"),dh=y.forwardRef((e,t)=>{const{__scopeMenu:s,loop:n=!1,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:u,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:g,disableOutsideScroll:b,...v}=e,x=Kn(St,s),h=Ro(St,s),p=cc(s),w=nN(s),j=q5(s),[S,E]=y.useState(null),C=y.useRef(null),N=Te(t,C,x.onContentChange),k=y.useRef(0),A=y.useRef(""),I=y.useRef(0),D=y.useRef(null),O=y.useRef("right"),M=y.useRef(0),F=b?eN:y.Fragment,V=b?{as:tM,allowPinchZoom:!0}:void 0,q=_=>{var _e,cn;const L=A.current+_,$=j().filter($e=>!$e.disabled),K=document.activeElement,ae=(_e=$.find($e=>$e.ref.current===K))==null?void 0:_e.textValue,oe=$.map($e=>$e.textValue),Je=pM(oe,L,ae),we=(cn=$.find($e=>$e.textValue===Je))==null?void 0:cn.ref.current;(function $e(Ut){A.current=Ut,window.clearTimeout(k.current),Ut!==""&&(k.current=window.setTimeout(()=>$e(""),1e3))})(L),we&&setTimeout(()=>we.focus())};y.useEffect(()=>()=>window.clearTimeout(k.current),[]),S3();const R=y.useCallback(_=>{var $,K;return O.current===(($=D.current)==null?void 0:$.side)&&mM(_,(K=D.current)==null?void 0:K.area)},[]);return r.jsx(Z5,{scope:s,searchRef:A,onItemEnter:y.useCallback(_=>{R(_)&&_.preventDefault()},[R]),onItemLeave:y.useCallback(_=>{var L;R(_)||((L=C.current)==null||L.focus(),E(null))},[R]),onTriggerLeave:y.useCallback(_=>{R(_)&&_.preventDefault()},[R]),pointerGraceTimerRef:I,onPointerGraceIntentChange:y.useCallback(_=>{D.current=_},[]),children:r.jsx(F,{...V,children:r.jsx(xj,{asChild:!0,trapped:a,onMountAutoFocus:Y(o,_=>{var L;_.preventDefault(),(L=C.current)==null||L.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:r.jsx(rp,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:g,children:r.jsx(e5,{asChild:!0,...w,dir:h.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:E,onEntryFocus:Y(u,_=>{h.isUsingKeyboardRef.current||_.preventDefault()}),preventScrollOnEntryFocus:!0,children:r.jsx(B_,{role:"menu","aria-orientation":"vertical","data-state":NN(x.open),"data-radix-menu-content":"",dir:h.dir,...p,...v,ref:N,style:{outline:"none",...v.style},onKeyDown:Y(v.onKeyDown,_=>{const $=_.target.closest("[data-radix-menu-content]")===_.currentTarget,K=_.ctrlKey||_.altKey||_.metaKey,ae=_.key.length===1;$&&(_.key==="Tab"&&_.preventDefault(),!K&&ae&&q(_.key));const oe=C.current;if(_.target!==oe||!z5.includes(_.key))return;_.preventDefault();const we=j().filter(_e=>!_e.disabled).map(_e=>_e.ref.current);tN.includes(_.key)&&we.reverse(),dM(we)}),onBlur:Y(e.onBlur,_=>{_.currentTarget.contains(_.target)||(window.clearTimeout(k.current),A.current="")}),onPointerMove:Y(e.onPointerMove,uo(_=>{const L=_.target,$=M.current!==_.clientX;if(_.currentTarget.contains(L)&&$){const K=_.clientX>M.current?"right":"left";O.current=K,M.current=_.clientX}}))})})})})})})});iN.displayName=St;var sM="MenuGroup",fh=y.forwardRef((e,t)=>{const{__scopeMenu:s,...n}=e;return r.jsx(le.div,{role:"group",...n,ref:t})});fh.displayName=sM;var nM="MenuLabel",lN=y.forwardRef((e,t)=>{const{__scopeMenu:s,...n}=e;return r.jsx(le.div,{...n,ref:t})});lN.displayName=nM;var gl="MenuItem",A0="menu.itemSelect",uc=y.forwardRef((e,t)=>{const{disabled:s=!1,onSelect:n,...a}=e,o=y.useRef(null),i=Ro(gl,e.__scopeMenu),l=uh(gl,e.__scopeMenu),u=Te(t,o),c=y.useRef(!1),d=()=>{const f=o.current;if(!s&&f){const m=new CustomEvent(A0,{bubbles:!0,cancelable:!0});f.addEventListener(A0,g=>n==null?void 0:n(g),{once:!0}),np(f,m),m.defaultPrevented?c.current=!1:i.onClose()}};return r.jsx(cN,{...a,ref:u,disabled:s,onClick:Y(e.onClick,d),onPointerDown:f=>{var m;(m=e.onPointerDown)==null||m.call(e,f),c.current=!0},onPointerUp:Y(e.onPointerUp,f=>{var m;c.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:Y(e.onKeyDown,f=>{const m=l.searchRef.current!=="";s||m&&f.key===" "||ef.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});uc.displayName=gl;var cN=y.forwardRef((e,t)=>{const{__scopeMenu:s,disabled:n=!1,textValue:a,...o}=e,i=uh(gl,s),l=nN(s),u=y.useRef(null),c=Te(t,u),[d,f]=y.useState(!1),[m,g]=y.useState("");return y.useEffect(()=>{const b=u.current;b&&g((b.textContent??"").trim())},[o.children]),r.jsx(co.ItemSlot,{scope:s,disabled:n,textValue:a??m,children:r.jsx(t5,{asChild:!0,...l,focusable:!n,children:r.jsx(le.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:c,onPointerMove:Y(e.onPointerMove,uo(b=>{n?i.onItemLeave(b):(i.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Y(e.onPointerLeave,uo(b=>i.onItemLeave(b))),onFocus:Y(e.onFocus,()=>f(!0)),onBlur:Y(e.onBlur,()=>f(!1))})})})}),rM="MenuCheckboxItem",uN=y.forwardRef((e,t)=>{const{checked:s=!1,onCheckedChange:n,...a}=e;return r.jsx(mN,{scope:e.__scopeMenu,checked:s,children:r.jsx(uc,{role:"menuitemcheckbox","aria-checked":yl(s)?"mixed":s,...a,ref:t,"data-state":hh(s),onSelect:Y(a.onSelect,()=>n==null?void 0:n(yl(s)?!0:!s),{checkForDefaultPrevented:!1})})})});uN.displayName=rM;var dN="MenuRadioGroup",[aM,oM]=qn(dN,{value:void 0,onValueChange:()=>{}}),fN=y.forwardRef((e,t)=>{const{value:s,onValueChange:n,...a}=e,o=it(n);return r.jsx(aM,{scope:e.__scopeMenu,value:s,onValueChange:o,children:r.jsx(fh,{...a,ref:t})})});fN.displayName=dN;var pN="MenuRadioItem",hN=y.forwardRef((e,t)=>{const{value:s,...n}=e,a=oM(pN,e.__scopeMenu),o=s===a.value;return r.jsx(mN,{scope:e.__scopeMenu,checked:o,children:r.jsx(uc,{role:"menuitemradio","aria-checked":o,...n,ref:t,"data-state":hh(o),onSelect:Y(n.onSelect,()=>{var i;return(i=a.onValueChange)==null?void 0:i.call(a,s)},{checkForDefaultPrevented:!1})})})});hN.displayName=pN;var ph="MenuItemIndicator",[mN,iM]=qn(ph,{checked:!1}),xN=y.forwardRef((e,t)=>{const{__scopeMenu:s,forceMount:n,...a}=e,o=iM(ph,s);return r.jsx(Kr,{present:n||yl(o.checked)||o.checked===!0,children:r.jsx(le.span,{...a,ref:t,"data-state":hh(o.checked)})})});xN.displayName=ph;var lM="MenuSeparator",gN=y.forwardRef((e,t)=>{const{__scopeMenu:s,...n}=e;return r.jsx(le.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});gN.displayName=lM;var cM="MenuArrow",yN=y.forwardRef((e,t)=>{const{__scopeMenu:s,...n}=e,a=cc(s);return r.jsx(z_,{...a,...n,ref:t})});yN.displayName=cM;var uM="MenuSub",[eV,vN]=qn(uM),ba="MenuSubTrigger",bN=y.forwardRef((e,t)=>{const s=Kn(ba,e.__scopeMenu),n=Ro(ba,e.__scopeMenu),a=vN(ba,e.__scopeMenu),o=uh(ba,e.__scopeMenu),i=y.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:u}=o,c={__scopeMenu:e.__scopeMenu},d=y.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return y.useEffect(()=>d,[d]),y.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),u(null)}},[l,u]),r.jsx(lh,{asChild:!0,...c,children:r.jsx(cN,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":a.contentId,"data-state":NN(s.open),...e,ref:Ul(t,a.onTriggerChange),onClick:f=>{var m;(m=e.onClick)==null||m.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),s.open||s.onOpenChange(!0))},onPointerMove:Y(e.onPointerMove,uo(f=>{o.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!s.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{s.onOpenChange(!0),d()},100))})),onPointerLeave:Y(e.onPointerLeave,uo(f=>{var g,b;d();const m=(g=s.content)==null?void 0:g.getBoundingClientRect();if(m){const v=(b=s.content)==null?void 0:b.dataset.side,x=v==="right",h=x?-5:5,p=m[x?"left":"right"],w=m[x?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+h,y:f.clientY},{x:p,y:m.top},{x:w,y:m.top},{x:w,y:m.bottom},{x:p,y:m.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:Y(e.onKeyDown,f=>{var g;const m=o.searchRef.current!=="";e.disabled||m&&f.key===" "||W5[n.dir].includes(f.key)&&(s.onOpenChange(!0),(g=s.content)==null||g.focus(),f.preventDefault())})})})});bN.displayName=ba;var wN="MenuSubContent",jN=y.forwardRef((e,t)=>{const s=aN(St,e.__scopeMenu),{forceMount:n=s.forceMount,...a}=e,o=Kn(St,e.__scopeMenu),i=Ro(St,e.__scopeMenu),l=vN(wN,e.__scopeMenu),u=y.useRef(null),c=Te(t,u);return r.jsx(co.Provider,{scope:e.__scopeMenu,children:r.jsx(Kr,{present:n||o.open,children:r.jsx(co.Slot,{scope:e.__scopeMenu,children:r.jsx(dh,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:c,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;i.isUsingKeyboardRef.current&&((f=u.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Y(e.onFocusOutside,d=>{d.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:Y(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:Y(e.onKeyDown,d=>{var g;const f=d.currentTarget.contains(d.target),m=H5[i.dir].includes(d.key);f&&m&&(o.onOpenChange(!1),(g=l.trigger)==null||g.focus(),d.preventDefault())})})})})})});jN.displayName=wN;function NN(e){return e?"open":"closed"}function yl(e){return e==="indeterminate"}function hh(e){return yl(e)?"indeterminate":e?"checked":"unchecked"}function dM(e){const t=document.activeElement;for(const s of e)if(s===t||(s.focus(),document.activeElement!==t))return}function fM(e,t){return e.map((s,n)=>e[(t+n)%e.length])}function pM(e,t,s){const a=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,o=s?e.indexOf(s):-1;let i=fM(e,Math.max(o,0));a.length===1&&(i=i.filter(c=>c!==s));const u=i.find(c=>c.toLowerCase().startsWith(a.toLowerCase()));return u!==s?u:void 0}function hM(e,t){const{x:s,y:n}=e;let a=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o],u=t[i],c=l.x,d=l.y,f=u.x,m=u.y;d>n!=m>n&&s<(f-c)*(n-d)/(m-d)+c&&(a=!a)}return a}function mM(e,t){if(!t)return!1;const s={x:e.clientX,y:e.clientY};return hM(s,t)}function uo(e){return t=>t.pointerType==="mouse"?e(t):void 0}var xM=rN,gM=lh,yM=oN,vM=iN,bM=fh,wM=lN,jM=uc,NM=uN,kM=fN,SM=hN,CM=xN,EM=gN,PM=yN,AM=bN,TM=jN,dc="DropdownMenu",[RM,tV]=nn(dc,[sN]),Ze=sN(),[DM,kN]=RM(dc),SN=e=>{const{__scopeDropdownMenu:t,children:s,dir:n,open:a,defaultOpen:o,onOpenChange:i,modal:l=!0}=e,u=Ze(t),c=y.useRef(null),[d,f]=Bl({prop:a,defaultProp:o??!1,onChange:i,caller:dc});return r.jsx(DM,{scope:t,triggerId:Gd(),triggerRef:c,contentId:Gd(),open:d,onOpenChange:f,onOpenToggle:y.useCallback(()=>f(m=>!m),[f]),modal:l,children:r.jsx(xM,{...u,open:d,onOpenChange:f,dir:n,modal:l,children:s})})};SN.displayName=dc;var CN="DropdownMenuTrigger",EN=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,disabled:n=!1,...a}=e,o=kN(CN,s),i=Ze(s);return r.jsx(gM,{asChild:!0,...i,children:r.jsx(le.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:Ul(t,o.triggerRef),onPointerDown:Y(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:Y(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});EN.displayName=CN;var _M="DropdownMenuPortal",PN=e=>{const{__scopeDropdownMenu:t,...s}=e,n=Ze(t);return r.jsx(yM,{...n,...s})};PN.displayName=_M;var AN="DropdownMenuContent",TN=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=kN(AN,s),o=Ze(s),i=y.useRef(!1);return r.jsx(vM,{id:a.contentId,"aria-labelledby":a.triggerId,...o,...n,ref:t,onCloseAutoFocus:Y(e.onCloseAutoFocus,l=>{var u;i.current||(u=a.triggerRef.current)==null||u.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:Y(e.onInteractOutside,l=>{const u=l.detail.originalEvent,c=u.button===0&&u.ctrlKey===!0,d=u.button===2||c;(!a.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});TN.displayName=AN;var MM="DropdownMenuGroup",LM=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=Ze(s);return r.jsx(bM,{...a,...n,ref:t})});LM.displayName=MM;var IM="DropdownMenuLabel",RN=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=Ze(s);return r.jsx(wM,{...a,...n,ref:t})});RN.displayName=IM;var OM="DropdownMenuItem",DN=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=Ze(s);return r.jsx(jM,{...a,...n,ref:t})});DN.displayName=OM;var FM="DropdownMenuCheckboxItem",_N=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=Ze(s);return r.jsx(NM,{...a,...n,ref:t})});_N.displayName=FM;var $M="DropdownMenuRadioGroup",VM=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=Ze(s);return r.jsx(kM,{...a,...n,ref:t})});VM.displayName=$M;var UM="DropdownMenuRadioItem",MN=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=Ze(s);return r.jsx(SM,{...a,...n,ref:t})});MN.displayName=UM;var BM="DropdownMenuItemIndicator",LN=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=Ze(s);return r.jsx(CM,{...a,...n,ref:t})});LN.displayName=BM;var zM="DropdownMenuSeparator",IN=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=Ze(s);return r.jsx(EM,{...a,...n,ref:t})});IN.displayName=zM;var WM="DropdownMenuArrow",HM=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=Ze(s);return r.jsx(PM,{...a,...n,ref:t})});HM.displayName=WM;var qM="DropdownMenuSubTrigger",ON=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=Ze(s);return r.jsx(AM,{...a,...n,ref:t})});ON.displayName=qM;var KM="DropdownMenuSubContent",FN=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=Ze(s);return r.jsx(TM,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});FN.displayName=KM;var GM=SN,YM=EN,XM=PN,$N=TN,VN=RN,UN=DN,BN=_N,zN=MN,WN=LN,HN=IN,qN=ON,KN=FN;const T0=GM,R0=YM,QM=P.forwardRef(({className:e,inset:t,children:s,...n},a)=>r.jsxs(qN,{ref:a,className:Z("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[s,r.jsx(SE,{className:"ml-auto h-4 w-4"})]}));QM.displayName=qN.displayName;const ZM=P.forwardRef(({className:e,...t},s)=>r.jsx(KN,{ref:s,className:Z("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));ZM.displayName=KN.displayName;const tf=P.forwardRef(({className:e,sideOffset:t=4,...s},n)=>r.jsx(XM,{children:r.jsx($N,{ref:n,sideOffset:t,className:Z("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));tf.displayName=$N.displayName;const mn=P.forwardRef(({className:e,inset:t,...s},n)=>r.jsx(UN,{ref:n,className:Z("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...s}));mn.displayName=UN.displayName;const JM=P.forwardRef(({className:e,children:t,checked:s,...n},a)=>r.jsxs(BN,{ref:a,className:Z("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:s,...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(WN,{children:r.jsx(Hv,{className:"h-4 w-4"})})}),t]}));JM.displayName=BN.displayName;const eL=P.forwardRef(({className:e,children:t,...s},n)=>r.jsxs(zN,{ref:n,className:Z("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(WN,{children:r.jsx(CE,{className:"h-2 w-2 fill-current"})})}),t]}));eL.displayName=zN.displayName;const Ri=P.forwardRef(({className:e,inset:t,...s},n)=>r.jsx(VN,{ref:n,className:Z("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...s}));Ri.displayName=VN.displayName;const wa=P.forwardRef(({className:e,...t},s)=>r.jsx(HN,{ref:s,className:Z("-mx-1 my-1 h-px bg-muted",e),...t}));wa.displayName=HN.displayName;const fc=()=>{const e=P.useContext(Mb);if(!e)throw new Error("useNotifications must be used within NotificationsProvider");return e},tL={"/app/dashboard":"Dashboard","/app/documents":"Documents","/app/ai-assistant":"AI Assistant","/app/tasks":"Tasks","/app/projects":"Projects","/app/audit":"Audit Log","/app/risk-matrix":"Risk Matrix","/app/dsr":"Data Subject Requests","/app/dpia":"DPIA","/app/policies":"Policies","/app/incidents":"Incidents","/app/billing":"Billing","/app/settings":"Settings","/app/settings/notifications":"Notification Settings","/app/admin":"Admin","/app/admin/dsr-portal":"DSR Portal Admin","/app/notifications":"Notifications"},sL=e=>{const t=e.trim().split(" ");return t.length===1?t[0].slice(0,2).toUpperCase():`${t[0][0].toUpperCase()}${t[t.length-1][0].toUpperCase()}`},nL=({onMenuClick:e})=>{const{user:t,logout:s}=an(),{notifications:n,unreadCount:a,markAsRead:o}=fc(),i=zn(),l=Bn(),u=(t==null?void 0:t.name)||(t==null?void 0:t.email)||"AURA User",c=(t==null?void 0:t.role)||"Member",d=(t==null?void 0:t.tenantName)||"Acme Privacy Ltd.",f="Pro plan",m=tL[l.pathname]??"Dashboard",g=()=>{s()};return r.jsx("header",{className:"sticky top-0 z-30 border-b border-slate-200 bg-white/80 backdrop-blur",children:r.jsxs("div",{className:"flex h-16 items-center gap-3 px-4 lg:px-8",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(B,{variant:"ghost",size:"icon",className:"lg:hidden text-slate-600 hover:text-slate-900",onClick:e,"aria-label":"Open navigation",children:r.jsx(VE,{className:"h-5 w-5"})}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-gradient-to-br from-sky-500 to-indigo-500 text-sm font-semibold text-white shadow-sm",children:"AG"}),r.jsxs("div",{className:"leading-tight",children:[r.jsx("p",{className:"text-xs text-slate-500",children:"AURA-GDPR"}),r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:d})]})]})]}),r.jsxs("div",{className:"hidden flex-1 items-center md:flex",children:[r.jsx("div",{className:"mx-6 h-10 w-px bg-slate-200"}),r.jsx("p",{className:"text-sm font-medium text-slate-700",children:m})]}),r.jsxs("div",{className:"flex flex-1 items-center justify-end gap-2 sm:gap-3 md:flex-none",children:[r.jsxs(oo,{className:"hidden sm:inline-flex items-center gap-2 border border-sky-100 bg-sky-50 text-sky-700 shadow-sm",children:[r.jsx(NE,{className:"h-4 w-4"}),f]}),r.jsxs(T0,{children:[r.jsx(R0,{asChild:!0,children:r.jsxs(B,{variant:"ghost",size:"icon",className:"relative text-slate-600 hover:text-slate-900","aria-label":"Notifications",children:[r.jsx(fp,{className:"h-5 w-5"}),a>0&&r.jsx("span",{className:"absolute -right-1 -top-1 flex h-5 w-5 items-center justify-center rounded-full bg-amber-500 text-[10px] font-semibold text-white",children:a})]})}),r.jsxs(tf,{align:"end",className:"w-80 p-2",children:[r.jsx(Ri,{className:"text-xs uppercase text-slate-500",children:"Notifications"}),r.jsx(wa,{}),r.jsxs("div",{className:"max-h-80 space-y-1 overflow-y-auto",children:[n.slice(0,5).map(b=>r.jsxs(mn,{className:"items-start gap-3 px-2 py-2",onSelect:async v=>{v.preventDefault(),await o(b.id),b.link&&i(b.link)},children:[r.jsx("span",{className:Z("mt-1 h-2.5 w-2.5 rounded-full",b.severity==="info"?"bg-sky-500":b.severity==="warning"?"bg-amber-500":"bg-rose-500"),"aria-hidden":!0}),r.jsxs("div",{className:"space-y-0.5",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:b.title}),r.jsx("p",{className:"text-xs text-slate-600 line-clamp-2",children:b.description})]})]},b.id)),n.length===0&&r.jsx("div",{className:"px-2 py-3 text-sm text-slate-500",children:"No notifications yet."})]}),r.jsx(wa,{}),r.jsx(mn,{className:"justify-center text-sm font-semibold text-sky-700",onSelect:b=>{b.preventDefault(),i("/app/notifications")},children:"View all notifications"})]})]}),r.jsxs(T0,{children:[r.jsx(R0,{asChild:!0,children:r.jsxs(B,{variant:"ghost",className:"flex items-center gap-3 px-2",children:[r.jsxs("div",{className:"hidden text-right sm:block",children:[r.jsx("div",{className:"text-sm font-semibold text-slate-900",children:u}),r.jsx("div",{className:"text-xs text-slate-500",children:c})]}),r.jsxs(Xp,{className:"h-10 w-10 border border-slate-200",children:[r.jsx(Qp,{src:t==null?void 0:t.avatarUrl,alt:u}),r.jsx(Zp,{className:"bg-slate-100 text-slate-600",children:sL(u)})]})]})}),r.jsxs(tf,{align:"end",className:"w-56",children:[r.jsx(Ri,{className:"text-sm font-semibold text-slate-900",children:u}),r.jsx(Ri,{className:"text-xs font-normal text-slate-500",children:d}),r.jsx(wa,{}),r.jsxs(mn,{onSelect:()=>i("/app/settings"),className:"gap-2",children:[r.jsx(Jv,{className:"h-4 w-4 text-slate-500"}),r.jsx("span",{children:"Profile"})]}),r.jsxs(mn,{onSelect:()=>i("/app/billing"),className:"gap-2",children:[r.jsx(Gv,{className:"h-4 w-4 text-slate-500"}),r.jsx("span",{children:"Billing"})]}),r.jsxs(mn,{onSelect:()=>i("/app/settings/notifications"),className:"gap-2",children:[r.jsx(Zv,{className:"h-4 w-4 text-slate-500"}),r.jsx("span",{children:"Settings"})]}),r.jsx(wa,{}),r.jsxs(mn,{onSelect:g,className:"gap-2 text-red-600 focus:text-red-600",children:[r.jsx(FE,{className:"h-4 w-4"}),r.jsx("span",{children:"Sign out"})]})]})]})]})]})})},rL=()=>{const[e,t]=P.useState(!1);return r.jsxs("div",{className:"flex min-h-screen bg-slate-50 text-slate-900",children:[r.jsx(i3,{isOpen:e,onClose:()=>t(!1)}),r.jsxs("div",{className:"relative flex min-h-screen flex-1 flex-col",children:[r.jsx(nL,{onMenuClick:()=>t(!0)}),r.jsx("main",{className:"flex-1 overflow-y-auto bg-slate-50 px-4 py-6 lg:px-8",children:r.jsx("div",{className:"mx-auto max-w-6xl",children:r.jsx(DS,{})})})]})]})},aL=()=>y.useMemo(()=>({summary:{complianceScore:78,openDsrs:3,policiesExpiringSoon:2,ongoingDpiaCount:4,activeIncidents:1,overallRiskLevel:"medium"},deadlines:[{id:"dl-1",type:"DSR",title:"Respond to DSR: Jane Doe",dueDate:"2025-12-08T10:00:00Z",status:"in_progress"},{id:"dl-2",type:"Policy",title:"Review Data Retention Policy",dueDate:"2025-12-18T09:00:00Z",status:"open"},{id:"dl-3",type:"DPIA",title:"DPIA for AI Chatbot",dueDate:"2026-01-05T12:00:00Z",status:"open"}],activities:[{id:"act-1",timestamp:"2025-12-01T09:14:00Z",actor:"System",action:"Closed DSR request for John Doe.",resourceType:"DSR",resourceName:"DSR-4412"},{id:"act-2",timestamp:"2025-11-30T15:22:00Z",actor:"Admin user",action:"Approved DPIA for Customer Analytics.",resourceType:"DPIA",resourceName:"DPIA-103"},{id:"act-3",timestamp:"2025-11-30T11:08:00Z",actor:"System",action:"Flagged Policy update overdue by 7 days.",resourceType:"Policy",resourceName:"Access Control Policy"},{id:"act-4",timestamp:"2025-11-29T18:45:00Z",actor:"Privacy Officer",action:"Opened new incident: Vendor outage.",resourceType:"Incident",resourceName:"INC-208"}],aiInsights:[{id:"ai-1",title:"High-risk processing without DPIA",description:"You have 3 high-risk processing activities without a completed DPIA.",severity:"critical"},{id:"ai-2",title:"Policies overdue for review",description:"Two policies have not been reviewed in over 18 months.",severity:"warning"},{id:"ai-3",title:"DSR response time healthy",description:"Average DSR response time is 4.2 days, within SLA.",severity:"info"}],riskOverview:{overallRiskLevel:"medium",highRiskSystems:["Marketing Automation","Data Lake"],openIncidents:1,dpiaRequiredCount:3}}),[]),oL={blue:"text-sky-600 bg-sky-50 border-sky-100",amber:"text-amber-600 bg-amber-50 border-amber-100",emerald:"text-emerald-600 bg-emerald-50 border-emerald-100",red:"text-rose-600 bg-rose-50 border-rose-100",slate:"text-slate-600 bg-slate-50 border-slate-100"},Zn=({label:e,value:t,icon:s,hint:n,accent:a="slate",progress:o})=>r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm transition hover:-translate-y-0.5 hover:shadow-md",children:[r.jsxs("div",{className:"flex items-start justify-between gap-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:e}),r.jsxs("div",{className:"mt-2 flex items-baseline gap-2",children:[r.jsx("span",{className:"text-2xl font-semibold text-slate-900",children:t}),n&&r.jsx("span",{className:"text-xs text-slate-500",children:n})]})]}),r.jsx("div",{className:Z("flex h-10 w-10 items-center justify-center rounded-lg border",oL[a]),children:s})]}),typeof o=="number"&&r.jsxs("div",{className:"mt-3",children:[r.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[r.jsx("span",{children:"Progress"}),r.jsxs("span",{children:[o,"%"]})]}),r.jsx("div",{className:"mt-1 h-2 w-full rounded-full bg-slate-100",children:r.jsx("div",{className:Z("h-2 rounded-full bg-sky-500 transition-all"),style:{width:`${Math.min(Math.max(o,0),100)}%`}})})]})]}),iL={low:"Low",medium:"Medium",high:"High"},lL=({summary:e})=>r.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-3",children:[r.jsx(Zn,{label:"Compliance Score",value:`${e.complianceScore}%`,icon:r.jsx(Qt,{className:"h-5 w-5"}),accent:"blue",progress:e.complianceScore}),r.jsx(Zn,{label:"Open Data Subject Requests",value:e.openDsrs,icon:r.jsx(hp,{className:"h-5 w-5"}),hint:"Within SLA",accent:"emerald"}),r.jsx(Zn,{label:"Policies Expiring Soon",value:e.policiesExpiringSoon,icon:r.jsx(Lr,{className:"h-5 w-5"}),hint:"Next 30 days",accent:"amber"}),r.jsx(Zn,{label:"Ongoing DPIAs",value:e.ongoingDpiaCount,icon:r.jsx(HE,{className:"h-5 w-5"}),hint:"Includes AI projects",accent:"slate"}),r.jsx(Zn,{label:"Active Incidents",value:e.activeIncidents,icon:r.jsx(Gr,{className:"h-5 w-5"}),hint:"Across all systems",accent:"red"}),r.jsx(Zn,{label:"Overall Risk Level",value:iL[e.overallRiskLevel],icon:r.jsx(WE,{className:"h-5 w-5"}),hint:"Last updated 24h",accent:"blue"})]}),cL={DSR:r.jsx(hp,{className:"h-4 w-4"}),Policy:r.jsx(Lr,{className:"h-4 w-4"}),DPIA:r.jsx(Qt,{className:"h-4 w-4"})},uL={open:"bg-amber-50 text-amber-700 border-amber-100",in_progress:"bg-sky-50 text-sky-700 border-sky-100",done:"bg-emerald-50 text-emerald-700 border-emerald-100"},dL=e=>new Date(e).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"}),fL=({deadlines:e})=>{const t=[...e].sort((s,n)=>new Date(s.dueDate).getTime()-new Date(n.dueDate).getTime());return r.jsxs(ne,{className:"h-full",children:[r.jsxs(Le,{className:"flex flex-row items-center justify-between space-y-0",children:[r.jsxs("div",{children:[r.jsx(Ie,{className:"text-lg",children:"Upcoming deadlines"}),r.jsx("p",{className:"text-sm text-slate-500",children:"Stay ahead of DSR, DPIA, and policy commitments."})]}),r.jsx(wE,{className:"h-5 w-5 text-slate-400"})]}),r.jsxs(re,{className:"space-y-3",children:[t.length===0&&r.jsx("div",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50 px-4 py-6 text-center text-sm text-slate-500",children:"No upcoming deadlines. You are all caught up."}),t.map(s=>r.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-200 bg-white px-3 py-3 shadow-sm",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-md bg-slate-100 text-slate-700",children:cL[s.type]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:s.title}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[r.jsx("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-100 px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide text-slate-700",children:s.type}),r.jsx("span",{children:dL(s.dueDate)})]})]})]}),r.jsx("span",{className:Z("rounded-full border px-3 py-1 text-xs font-semibold capitalize",uL[s.status]),children:s.status==="in_progress"?"In progress":s.status})]},s.id))]})]})},pL={info:"bg-sky-50 text-sky-700 border-sky-100",warning:"bg-amber-50 text-amber-700 border-amber-100",critical:"bg-rose-50 text-rose-700 border-rose-100"},hL=({insights:e})=>r.jsxs(ne,{className:"h-full",children:[r.jsxs(Le,{className:"flex flex-row items-center justify-between space-y-0",children:[r.jsxs("div",{children:[r.jsx(Ie,{className:"text-lg",children:"AI insights"}),r.jsx("p",{className:"text-sm text-slate-500",children:"Recommendations to improve your GDPR posture."})]}),r.jsx(ts,{className:"h-5 w-5 text-amber-500"})]}),r.jsx(re,{className:"space-y-3",children:e.map(t=>r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-3 shadow-sm hover:border-slate-300",children:[r.jsxs("div",{className:"flex items-center justify-between gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-md bg-slate-100 text-slate-700",children:r.jsx(OE,{className:"h-4 w-4"})}),r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:t.title})]}),r.jsx("span",{className:Z("rounded-full border px-2.5 py-1 text-xs font-semibold capitalize",pL[t.severity]),children:t.severity})]}),r.jsx("p",{className:"mt-2 text-sm text-slate-600",children:t.description})]},t.id))})]}),mL=e=>new Date(e).toLocaleString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),xL=({activities:e})=>r.jsxs(ne,{className:"h-full",children:[r.jsxs(Le,{className:"flex flex-row items-center justify-between space-y-0",children:[r.jsxs("div",{children:[r.jsx(Ie,{className:"text-lg",children:"Recent activity"}),r.jsx("p",{className:"text-sm text-slate-500",children:"Latest actions across your workspace."})]}),r.jsx(Kv,{className:"h-5 w-5 text-slate-400"})]}),r.jsx(re,{className:"space-y-4",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute left-4 top-0 h-full w-px bg-slate-200"}),r.jsx("div",{className:"space-y-4",children:e.map((t,s)=>r.jsxs("div",{className:"relative pl-10",children:[r.jsx("div",{className:Z("absolute left-2.5 top-1.5 flex h-4 w-4 items-center justify-center rounded-full border-2 border-white bg-sky-500 shadow-sm",s===0&&"ring-2 ring-sky-200")}),r.jsxs("div",{className:"flex items-center justify-between gap-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:t.action}),r.jsxs("div",{className:"mt-1 flex items-center gap-2 text-xs text-slate-500",children:[r.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-100 px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide text-slate-700",children:[r.jsx(dp,{className:"h-3 w-3"}),t.resourceType]}),r.jsx("span",{children:t.resourceName}),r.jsx("span",{children:""}),r.jsx("span",{children:t.actor})]})]}),r.jsx("span",{className:"text-xs text-slate-500",children:mL(t.timestamp)})]})]},t.id))})]})})]}),gL={low:{label:"Low",bg:"bg-emerald-50 text-emerald-700 border-emerald-100",icon:r.jsx(Qt,{className:"h-4 w-4"})},medium:{label:"Medium",bg:"bg-amber-50 text-amber-700 border-amber-100",icon:r.jsx(so,{className:"h-4 w-4"})},high:{label:"High",bg:"bg-rose-50 text-rose-700 border-rose-100",icon:r.jsx(Gr,{className:"h-4 w-4"})}},yL=({risk:e})=>{const t=gL[e.overallRiskLevel];return r.jsxs(ne,{className:"h-full",children:[r.jsxs(Le,{className:"flex flex-row items-center justify-between space-y-0",children:[r.jsxs("div",{children:[r.jsx(Ie,{className:"text-lg",children:"Risk & incidents"}),r.jsx("p",{className:"text-sm text-slate-500",children:"High-level posture across systems."})]}),r.jsx(ql,{className:"h-5 w-5 text-rose-500"})]}),r.jsxs(re,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3 rounded-lg border border-slate-200 bg-white px-3 py-3 shadow-sm",children:[r.jsxs("span",{className:Z("inline-flex items-center gap-2 rounded-full border px-3 py-1 text-xs font-semibold",t.bg),children:[t.icon,t.label," risk"]}),r.jsx("p",{className:"text-sm text-slate-600",children:"Overall assessment updated daily."})]}),r.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-3 shadow-sm",children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"High-risk systems"}),r.jsx("p",{className:"mt-2 text-2xl font-semibold text-slate-900",children:e.highRiskSystems.length}),r.jsxs("p",{className:"mt-1 text-sm text-slate-600",children:["Key systems: ",e.highRiskSystems.join(", ")]})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-3 shadow-sm",children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Open incidents"}),r.jsx("p",{className:"mt-2 text-2xl font-semibold text-slate-900",children:e.openIncidents}),r.jsx("p",{className:"mt-1 text-sm text-slate-600",children:"Tracked across vendors and assets."})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-3 shadow-sm sm:col-span-2",children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Processing activities needing DPIA"}),r.jsx("p",{className:"mt-2 text-2xl font-semibold text-slate-900",children:e.dpiaRequiredCount}),r.jsx("p",{className:"mt-1 text-sm text-slate-600",children:"Prioritize assessments for AI-related automations and marketing data flows."})]})]})]})]})},vL=()=>{const{summary:e,deadlines:t,activities:s,aiInsights:n,riskOverview:a}=aL();return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:"Dashboard"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Data-driven overview of your GDPR compliance posture."})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(B,{variant:"outline",size:"sm",children:[r.jsx(xp,{className:"mr-2 h-4 w-4"}),"Refresh"]}),r.jsxs(B,{size:"sm",children:[r.jsx(TE,{className:"mr-2 h-4 w-4"}),"Export"]})]})]}),r.jsx("section",{"aria-label":"Key metrics",children:r.jsx(lL,{summary:e})}),r.jsx("section",{"aria-label":"Deadlines and AI insights",children:r.jsxs("div",{className:"grid gap-4 lg:grid-cols-3",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsx(fL,{deadlines:t})}),r.jsx(hL,{insights:n})]})}),r.jsx("section",{"aria-label":"Activity and risk",children:r.jsxs("div",{className:"grid gap-4 lg:grid-cols-3",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsx(xL,{activities:s})}),r.jsx(yL,{risk:a})]})})]})},pc=({title:e,description:t})=>r.jsxs("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded",children:[r.jsx("h2",{className:"font-semibold text-blue-900",children:e}),r.jsx("p",{className:"text-sm text-blue-700 mt-1",children:t})]}),Sn=e=>({...e,id:(e==null?void 0:e.id)??(e==null?void 0:e._id)??(e==null?void 0:e.document_id)??"",lastUpdated:(e==null?void 0:e.lastUpdated)??(e==null?void 0:e.last_updated)??(e==null?void 0:e.updated_at)??(e==null?void 0:e.updatedAt)??"",createdAt:(e==null?void 0:e.createdAt)??(e==null?void 0:e.created_at)??"",tags:(e==null?void 0:e.tags)??[]}),bL=e=>{if(Array.isArray(e))return e.map(Sn);const t=e;return Array.isArray(t==null?void 0:t.items)?t.items.map(Sn):Array.isArray(t==null?void 0:t.documents)?t.documents.map(Sn):[]};async function wL(){const e=await z.get("/api/documents");return bL(e.data)}async function jL(e){const t=await z.get(`/api/documents/${e}`);return Sn(t.data)}async function NL(e){const t=await z.post("/api/documents",e);return Sn(t.data)}async function kL(e,t){const s=await z.put(`/api/documents/${e}`,t);return Sn(s.data)}async function SL(e,t){const s=await z.patch(`/api/documents/${e}`,t);return Sn(s.data)}function CL(){const[e,t]=y.useState([]),[s,n]=y.useState(!1),[a,o]=y.useState(!1),[i,l]=y.useState(!1),[u,c]=y.useState(null),d=y.useRef(!0);y.useEffect(()=>()=>{d.current=!1},[]);const f=y.useCallback(async()=>{n(!0),c(null);try{const x=await wL();d.current&&t(x)}catch(x){d.current&&c((x==null?void 0:x.message)??"Failed to load documents.")}finally{d.current&&n(!1)}},[]);y.useEffect(()=>{f()},[f]);const m=y.useCallback(async x=>{o(!0);try{const h=await jL(x);return d.current&&t(p=>p.map(w=>w.id===h.id?h:w)),h}finally{d.current&&o(!1)}},[]),g=y.useCallback(async x=>{l(!0);try{const h=await NL(x);return d.current&&t(p=>[h,...p]),h}finally{d.current&&l(!1)}},[]),b=y.useCallback(async(x,h)=>{l(!0);try{const p=await kL(x,h);return d.current&&t(w=>w.map(j=>j.id===p.id?p:j)),p}finally{d.current&&l(!1)}},[]),v=y.useCallback(async(x,h)=>{const p=await SL(x,h);return d.current&&t(w=>w.map(j=>j.id===p.id?p:j)),p},[]);return{documents:e,loading:s,detailLoading:a,saving:i,error:u,refresh:f,fetchOne:m,create:g,update:b,patch:v}}const vl={draft:"Draft",in_review:"In review",approved:"Approved",published:"Published",archived:"Archived"},bl={privacy_policy:"Privacy Policy",cookie_policy:"Cookie Policy",data_processing_agreement:"Data Processing Agreement",security_policy:"Information Security Policy",internal_guideline:"Internal Guideline",other:"Other"},EL=({search:e,status:t,type:s,onSearch:n,onStatusChange:a,onTypeChange:o})=>r.jsxs("div",{className:"flex flex-col gap-3 rounded-xl border border-slate-200 bg-white p-4 shadow-sm md:flex-row md:items-center md:justify-between",children:[r.jsx("div",{className:"flex flex-1 items-center gap-3",children:r.jsx("input",{type:"text",value:e,onChange:i=>n(i.target.value),placeholder:"Search documents...",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100"})}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:t,onChange:i=>a(i.target.value),children:[r.jsx("option",{value:"all",children:"All statuses"}),Object.keys(vl).map(i=>r.jsx("option",{value:i,children:vl[i]},i))]}),r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:s,onChange:i=>o(i.target.value),children:[r.jsx("option",{value:"all",children:"All types"}),Object.keys(bl).map(i=>r.jsx("option",{value:i,children:bl[i]},i))]})]})]}),PL={draft:"bg-slate-100 text-slate-700 border-slate-200",in_review:"bg-amber-50 text-amber-700 border-amber-200",approved:"bg-sky-50 text-sky-700 border-sky-200",published:"bg-emerald-50 text-emerald-700 border-emerald-200",archived:"bg-slate-50 text-slate-500 border-slate-200"},GN=({status:e})=>r.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-semibold ${PL[e]}`,children:vl[e]}),AL=e=>{const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},TL=({document:e,onClick:t})=>r.jsxs("tr",{className:"cursor-pointer border-b last:border-0 hover:bg-slate-50 focus-within:bg-slate-50",tabIndex:0,role:"button",onClick:t,onKeyDown:s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),t())},children:[r.jsx("td",{className:"py-3 pr-4 font-semibold text-foreground",children:e.name}),r.jsx("td",{className:"py-3 pr-4 text-foreground capitalize",children:e.type.replaceAll("_"," ")}),r.jsx("td",{className:"py-3 pr-4",children:r.jsx(GN,{status:e.status})}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:e.owner}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:AL(e.lastUpdated)})]}),RL=({documents:e,onSelect:t,isLoading:s,isError:n})=>s?r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading documents..."}):n?r.jsx("p",{className:"text-sm text-red-600",children:"Failed to load documents."}):e.length===0?r.jsx("p",{className:"text-sm text-muted-foreground",children:"No documents found for the selected filters."}):r.jsx("div",{className:"overflow-auto rounded-lg border border-slate-200 bg-white shadow-sm",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b bg-slate-50 text-left text-slate-500",children:[r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Name"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Type"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Status"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Owner"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Last updated"})]})}),r.jsx("tbody",{children:e.map(a=>r.jsx(TL,{document:a,onClick:()=>t(a)},a.id))})]})});async function DL(e){console.log("PDF export stub called with payload:",e),await new Promise(t=>setTimeout(t,1200))}function _L(e){const[t,s]=y.useState(!1);return{isExporting:t,exportPdf:async(a,o)=>{s(!0);try{await DL({resourceType:a,resourceId:o}),e!=null&&e.onSuccess||alert("PDF export completed. In a future update this will download the generated PDF.")}catch(i){console.error("Failed to export PDF",i),alert("Failed to export PDF. Please try again.")}finally{s(!1)}}}}const Jr=({resourceType:e,resourceId:t,className:s})=>{const{isExporting:n,exportPdf:a}=_L(),o=()=>{a(e,t)};return r.jsx("button",{type:"button",onClick:o,disabled:n,className:s??"inline-flex items-center rounded-md border border-slate-200 px-3 py-1.5 text-sm font-medium text-slate-700 shadow-sm hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-60",children:n?"Exporting":"Export to PDF"})},ML=["draft","in_review","approved","published","archived"],LL=["privacy_policy","cookie_policy","data_processing_agreement","security_policy","internal_guideline","other"],D0=e=>{if(!e)return"N/A";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},IL=({document:e,isOpen:t,onClose:s,onSave:n,mode:a,isLoading:o=!1,isSaving:i=!1})=>{var v;const[l,u]=P.useState(e),[c,d]=P.useState(null);if(P.useEffect(()=>{t&&(u(e),d(null))},[e,t]),P.useEffect(()=>{if(!t)return;const x=h=>{h.key==="Escape"&&s()};return e.addEventListener("keydown",x),()=>e.removeEventListener("keydown",x)},[t,s]),!t||!l)return null;const f=a==="create",m=(x,h)=>{u(p=>p&&{...p,[x]:h})},g=()=>{m("description","This document was generated as a placeholder. Replace with your organization-specific policy language."),d("AI generation preview placeholder. Replace with real content later.")},b=()=>{l.name.trim()&&n(l)};return r.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/30 backdrop-blur-sm",children:r.jsxs("div",{className:"flex h-full w-full max-w-xl flex-col overflow-y-auto bg-white shadow-2xl",children:[r.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-5 py-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:l.name||"Untitled document"}),r.jsx(GN,{status:l.status})]}),r.jsx("p",{className:"text-sm text-slate-600 capitalize",children:bl[l.type]})]}),r.jsx("button",{type:"button",onClick:s,className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:r.jsx(Ee,{className:"h-5 w-5"})})]}),r.jsxs("div",{className:"space-y-4 p-5",children:[o&&r.jsx("p",{className:"text-sm text-slate-500",children:"Loading document details..."}),r.jsxs("div",{className:"space-y-3 rounded-lg border border-slate-200 bg-white p-4",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Name"}),r.jsx("input",{type:"text",value:l.name,onChange:x=>m("name",x.target.value),disabled:!f||i,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Type"}),r.jsx("select",{value:l.type,onChange:x=>m("type",x.target.value),disabled:!f||i,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:LL.map(x=>r.jsx("option",{value:x,children:bl[x]},x))})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Status"}),r.jsx("select",{value:l.status,onChange:x=>m("status",x.target.value),disabled:!f||i,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:ML.map(x=>r.jsx("option",{value:x,children:vl[x]},x))})]})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Owner"}),r.jsx("input",{type:"text",value:l.owner,onChange:x=>m("owner",x.target.value),disabled:!f||i,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Tags (comma separated)"}),r.jsx("input",{type:"text",value:((v=l.tags)==null?void 0:v.join(", "))||"",onChange:x=>m("tags",x.target.value.split(",").map(h=>h.trim()).filter(Boolean)),disabled:!f||i,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Description"}),r.jsx("textarea",{value:l.description||"",onChange:x=>m("description",x.target.value),disabled:!f||i,className:"min-h-[120px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",placeholder:"Summary or key points for this document."})]}),r.jsxs("button",{type:"button",disabled:!0,onClick:g,className:"inline-flex items-center gap-2 text-sm text-sky-600 disabled:cursor-not-allowed",title:"AI generation will be available soon.",children:[r.jsx(ts,{className:"h-4 w-4"}),"Generate with AI (coming soon)"]}),c&&r.jsx("p",{className:"text-xs text-slate-500",children:c})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 rounded-lg border border-slate-200 bg-slate-50 p-4 text-sm text-slate-700 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-800",children:"Created"}),r.jsx("p",{children:D0(l.createdAt)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-800",children:"Last updated"}),r.jsx("p",{children:D0(l.lastUpdated)})]})]})]}),r.jsx("div",{className:"sticky bottom-0 border-t border-slate-200 bg-white p-4",children:r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[!f&&l.id&&r.jsx(Jr,{resourceType:"document",resourceId:l.id}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(B,{variant:"outline",onClick:s,children:"Cancel"}),f?r.jsx(B,{onClick:b,disabled:i,children:i?"Saving...":"Create document"}):r.jsx(B,{variant:"outline",onClick:s,children:"Close"})]})]})})]})})},OL=[{name:"Privacy Policy",type:"privacy_policy",description:"Standard privacy policy template."},{name:"Cookie Policy",type:"cookie_policy",description:"Covers cookie usage and consent."},{name:"Data Processing Agreement",type:"data_processing_agreement",description:"DPA for processors."},{name:"Information Security Policy",type:"security_policy",description:"Outlines security controls."}],FL=({onNewBlank:e,onTemplateSelect:t})=>{const[s,n]=P.useState(!1);return r.jsxs("div",{className:"relative",children:[r.jsxs(B,{className:"inline-flex items-center gap-2",onClick:()=>n(a=>!a),children:[r.jsx(Wl,{className:"h-4 w-4"}),"New document",r.jsx(pp,{className:"h-4 w-4"})]}),s&&r.jsxs("div",{className:"absolute right-0 z-20 mt-2 w-64 rounded-lg border border-slate-200 bg-white shadow-lg",children:[r.jsxs("button",{type:"button",className:"flex w-full items-start gap-2 px-4 py-3 text-left text-sm text-slate-800 hover:bg-slate-50",onClick:()=>{e(),n(!1)},children:[r.jsx("span",{className:"font-semibold",children:"Blank document"}),r.jsx("span",{className:"text-xs text-slate-500",children:"Start from scratch"})]}),r.jsxs("div",{className:"border-t border-slate-200",children:[r.jsx("p",{className:"px-4 py-2 text-xs font-semibold uppercase tracking-wide text-slate-500",children:"From template"}),OL.map(a=>r.jsxs("button",{type:"button",className:"flex w-full flex-col items-start px-4 py-3 text-left text-sm text-slate-800 hover:bg-slate-50",onClick:()=>{t(a),n(!1)},children:[r.jsx("span",{className:"font-semibold",children:a.name}),r.jsx("span",{className:"text-xs text-slate-500",children:a.description})]},a.name))]})]})]})},$L=()=>{const{documents:e,loading:t,detailLoading:s,saving:n,error:a,refresh:o,create:i,update:l,fetchOne:u}=CL(),[c,d]=P.useState(""),[f,m]=P.useState("all"),[g,b]=P.useState("all"),[v,x]=P.useState(null),[h,p]=P.useState("view"),w=P.useMemo(()=>e.filter(N=>{const k=N.name.toLowerCase().includes(c.toLowerCase())||(N.tags||[]).some(D=>D.toLowerCase().includes(c.toLowerCase())),A=f==="all"?!0:N.status===f,I=g==="all"?!0:N.type===g;return k&&A&&I}),[e,c,f,g]),j=N=>{x(N),p("view"),N.id&&u(N.id).then(k=>x(k)).catch(()=>{})},S=()=>{const N=new Date().toISOString();x({id:"",name:"New document",type:"other",status:"draft",owner:"",lastUpdated:N,createdAt:N,description:"",tags:[]}),p("create")},E=N=>{const k=new Date().toISOString();x({id:"",name:N.name,type:N.type,status:"draft",owner:"",lastUpdated:k,createdAt:k,description:N.description??"",tags:["template"]}),p("create")},C=async N=>{if(h==="create"){const{id:k,...A}=N;await i(A)}else N.id&&await l(N.id,N);await o(),x(null),p("view")};return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-slate-900",children:"Documents"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Manage all your GDPR-related documents, policies, and agreements in one place."})]}),r.jsx(FL,{onNewBlank:S,onTemplateSelect:E})]}),r.jsx(pc,{title:"Document center",description:"Centralize policies, agreements, and guidelines. Future AI assistance will help you draft, review, and publish faster."}),r.jsx(EL,{search:c,status:f,type:g,onSearch:d,onStatusChange:m,onTypeChange:b}),r.jsx(RL,{documents:w,onSelect:j,isLoading:t,isError:!!a}),a&&r.jsx("p",{className:"text-sm text-rose-600",children:a}),r.jsx("div",{className:"rounded-xl border border-dashed border-slate-300 bg-slate-50 p-4 text-sm text-slate-600",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(ts,{className:"mt-0.5 h-4 w-4 text-sky-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-800",children:"AI document workflows (coming soon)"}),r.jsx("p",{children:"Generate drafts, review for GDPR gaps, and keep your templates up to date with AI assistance. This UI is ready for future integration."})]})]})}),r.jsx(IL,{document:v,isOpen:!!v,onClose:()=>x(null),onSave:C,mode:h,isLoading:s,isSaving:n})]})},VL=()=>{const{user:e}=an();return(e==null?void 0:e.role)==="Pro"||(e==null?void 0:e.role)==="Admin"?r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Ce.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight text-foreground",children:"AI Compliance Assistant"}),r.jsx("p",{className:"text-md text-muted-foreground",children:"Leverage AI to analyze documents and identify GDPR compliance gaps."})]}),r.jsx(Ce.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.5},children:r.jsxs(ne,{className:"bg-card/70 dark:bg-slate-800/70 backdrop-blur-sm border-border/50 shadow-lg",children:[r.jsxs(Le,{children:[r.jsxs(Ie,{className:"flex items-center text-xl",children:[r.jsx(RE,{className:"mr-2 h-6 w-6 text-sky-500"}),"Analyze Document"]}),r.jsx(Zt,{children:"Select a document to begin AI analysis. Ensure it's a PDF."})]}),r.jsxs(re,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Select a document from your library:"}),r.jsxs("select",{className:"w-full p-2 border rounded-md bg-input text-foreground border-border focus:ring-primary focus:border-primary",children:[r.jsx("option",{children:"Privacy Policy v2.1.pdf"}),r.jsx("option",{children:"Data Processing Agreement - VendorX.pdf"})]})]}),r.jsxs(B,{className:"w-full bg-gradient-to-r from-sky-500 to-purple-600 hover:from-sky-600 hover:to-purple-700 text-white",children:[r.jsx(Bm,{className:"mr-2 h-4 w-4"})," Analyze with AI"]}),r.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:[r.jsx(Qt,{className:"inline h-3 w-3 mr-1 text-green-500"}),"AI analysis is performed in an isolated environment. Your data remains secure."]})]})]})}),r.jsxs(Ce.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4,duration:.5},className:"mt-8",children:[r.jsx("h2",{className:"text-2xl font-semibold text-foreground mb-4",children:"Analysis Results"}),r.jsx(ne,{className:"bg-card/70 dark:bg-slate-800/70 backdrop-blur-sm border-border/50 shadow-md",children:r.jsx(re,{className:"p-6",children:r.jsxs("div",{className:"flex flex-col items-center justify-center text-center text-muted-foreground h-40",children:[r.jsx(yE,{className:"h-12 w-12 mb-2"}),r.jsx("p",{children:'No analysis performed yet. Select a document and click "Analyze with AI".'})]})})})]})]}):r.jsxs(Ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col items-center justify-center h-full text-center p-8",children:[r.jsx(Bm,{className:"h-24 w-24 text-yellow-400 mb-6"}),r.jsx("h1",{className:"text-4xl font-bold text-foreground mb-3",children:"Unlock AI Compliance Assistant"}),r.jsx("p",{className:"text-lg text-muted-foreground mb-8 max-w-md",children:"Upgrade to Pro to access automated document analysis, risk flagging, and GDPR insights powered by our isolated AI."}),r.jsx(B,{size:"lg",className:"bg-gradient-to-r from-yellow-400 to-orange-500 hover:from-yellow-500 hover:to-orange-600 text-white text-lg px-8 py-3",asChild:!0,children:r.jsx(_r,{to:"/app/billing",children:"Upgrade to Pro"})}),r.jsx("p",{className:"text-sm text-muted-foreground mt-4",children:"Your privacy is paramount. Our AI operates in an isolated environment."})]})},UL=(e,t)=>new Intl.NumberFormat(void 0,{style:"currency",currency:t}).format(e),BL=({plan:e,isLoading:t,onManageBilling:s})=>{const n=()=>{alert("Plan changes will be managed in a future update.")},a=()=>{alert("Plan changes will be managed in a future update.")},o=()=>{s==null||s()};return t||!e?r.jsx("div",{className:"rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading current plan..."})}):r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:[r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Current plan"}),r.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:e.name}),r.jsx("p",{className:"text-sm text-slate-600",children:e.isTrial&&e.trialDaysLeft&&e.trialDaysLeft>0?`Free trial - ${e.trialDaysLeft} days left`:`${UL(e.pricePerMonth,e.currency)} / month`})]}),r.jsx("span",{className:"rounded-full bg-sky-50 px-3 py-1 text-xs font-semibold text-sky-700",children:e.type})]}),r.jsx("ul",{className:"mt-4 space-y-2 text-sm text-slate-700",children:e.features.map(i=>r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"mt-1 h-1.5 w-1.5 rounded-full bg-sky-500"}),r.jsx("span",{children:i})]},i))}),r.jsxs("div",{className:"mt-5 flex flex-wrap gap-2",children:[r.jsx(B,{onClick:n,children:"Upgrade plan"}),r.jsx(B,{variant:"outline",onClick:a,children:"Downgrade or cancel"}),r.jsx(B,{variant:"ghost",onClick:o,children:"Manage billing"})]})]})},zL=({usage:e,isLoading:t})=>{if(t||!e)return r.jsx("div",{className:"rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading usage data..."})});const n=((a,o)=>!o||o===0?0:Math.min(100,Math.round(a/o*100)))(e.aiCallsThisMonth,e.maxAiCallsPerMonth);return r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Usage this month"}),r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Usage overview"})]})}),r.jsxs("div",{className:"mt-4 space-y-3 text-sm text-slate-700",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{children:"Data subject requests"}),r.jsx("span",{className:"font-semibold text-slate-900",children:e.dsrCountThisMonth})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{children:"Documents"}),r.jsx("span",{className:"font-semibold text-slate-900",children:e.documentsCount})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{children:"Policies"}),r.jsx("span",{className:"font-semibold text-slate-900",children:e.policiesCount})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{children:"AI calls"}),r.jsxs("span",{className:"font-semibold text-slate-900",children:[e.aiCallsThisMonth,e.maxAiCallsPerMonth?` / ${e.maxAiCallsPerMonth}`:""]})]}),e.maxAiCallsPerMonth&&r.jsx("div",{className:"h-2 w-full rounded-full bg-slate-100",children:r.jsx("div",{className:"h-2 rounded-full bg-sky-500",style:{width:`${n}%`}})})]})]})]})},WL={paid:"bg-emerald-50 text-emerald-700 border-emerald-200",pending:"bg-amber-50 text-amber-700 border-amber-200",failed:"bg-rose-50 text-rose-700 border-rose-200"},HL=e=>{const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},qL=(e,t)=>new Intl.NumberFormat(void 0,{style:"currency",currency:t}).format(e),KL=({history:e})=>e.length===0?r.jsx("p",{className:"text-sm text-muted-foreground",children:"No invoices found yet."}):r.jsx("div",{className:"overflow-auto rounded-xl border border-slate-200 bg-white shadow-sm",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b bg-slate-50 text-left text-slate-500",children:[r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Date"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Description"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Amount"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Status"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Actions"})]})}),r.jsx("tbody",{children:e.map(t=>r.jsxs("tr",{className:"border-b last:border-0",children:[r.jsx("td",{className:"py-3 pr-4 text-foreground",children:HL(t.date)}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:t.description}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:qL(t.amount,t.currency)}),r.jsx("td",{className:"py-3 pr-4",children:r.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-semibold ${WL[t.status]}`,children:t.status})}),r.jsx("td",{className:"py-3 pr-4",children:t.invoiceUrl?r.jsx("a",{href:t.invoiceUrl,className:"text-sky-600 hover:underline",target:"_blank",rel:"noreferrer",children:"Download invoice"}):r.jsx("span",{className:"text-slate-400",children:"Not available"})})]},t.id))})]})}),GL=e=>({type:(e==null?void 0:e.type)??"free",name:(e==null?void 0:e.name)??"Plan",pricePerMonth:(e==null?void 0:e.pricePerMonth)??(e==null?void 0:e.price_per_month)??0,currency:(e==null?void 0:e.currency)??"EUR",isTrial:!!((e==null?void 0:e.isTrial)??(e==null?void 0:e.is_trial)??!1),trialDaysLeft:(e==null?void 0:e.trialDaysLeft)??(e==null?void 0:e.trial_days_left)??void 0,features:(e==null?void 0:e.features)??[]}),YL=e=>({dsrCountThisMonth:(e==null?void 0:e.dsrCountThisMonth)??(e==null?void 0:e.dsr_count_this_month)??0,documentsCount:(e==null?void 0:e.documentsCount)??(e==null?void 0:e.documents_count)??0,policiesCount:(e==null?void 0:e.policiesCount)??(e==null?void 0:e.policies_count)??0,aiCallsThisMonth:(e==null?void 0:e.aiCallsThisMonth)??(e==null?void 0:e.ai_calls_this_month)??0,maxDsrsPerMonth:(e==null?void 0:e.maxDsrsPerMonth)??(e==null?void 0:e.max_dsrs_per_month)??void 0,maxAiCallsPerMonth:(e==null?void 0:e.maxAiCallsPerMonth)??(e==null?void 0:e.max_ai_calls_per_month)??void 0}),yu=e=>({id:(e==null?void 0:e.id)??(e==null?void 0:e._id)??"",date:(e==null?void 0:e.date)??(e==null?void 0:e.created_at)??"",amount:(e==null?void 0:e.amount)??0,currency:(e==null?void 0:e.currency)??"EUR",description:(e==null?void 0:e.description)??"",status:(e==null?void 0:e.status)??"paid",invoiceUrl:(e==null?void 0:e.invoiceUrl)??(e==null?void 0:e.invoice_url)??void 0}),XL=e=>{if(Array.isArray(e))return e.map(yu);const t=e;return Array.isArray(t==null?void 0:t.items)?t.items.map(yu):Array.isArray(t==null?void 0:t.invoices)?t.invoices.map(yu):[]};async function QL(){const e=await z.get("/api/billing/plan");return GL(e.data)}async function ZL(){const e=await z.get("/api/billing/usage");return YL(e.data)}async function JL(){const e=await z.get("/api/billing/invoices");return XL(e.data)}async function eI(){var s;const e=await z.post("/api/billing/portal"),t=(s=e==null?void 0:e.data)==null?void 0:s.url;if(t)window.open(t,"_blank");else throw new Error("Billing portal URL not available.")}function tI(){const[e,t]=y.useState(null),[s,n]=y.useState(null),[a,o]=y.useState([]),[i,l]=y.useState(!1),[u,c]=y.useState(!1),d=y.useRef(!0);y.useEffect(()=>()=>{d.current=!1},[]);const f=y.useCallback(async()=>{l(!0),c(!1);try{const[g,b,v]=await Promise.all([QL(),ZL(),JL()]);if(!d.current)return;t(g),n(b),o(v)}catch{d.current&&c(!0)}finally{d.current&&l(!1)}},[]);y.useEffect(()=>{f()},[f]);const m=y.useCallback(async()=>{await eI()},[]);return{currentPlan:e,usage:s,history:a,isLoading:i,isError:u,openPortal:m,refresh:f}}const sI=()=>{const{currentPlan:e,usage:t,history:s,isLoading:n,isError:a,openPortal:o}=tI(),i=async()=>{try{await o()}catch{alert("Unable to open billing portal right now.")}};return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-slate-900",children:"Billing & subscription"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Manage your plan, usage, and invoices."})]}),r.jsx(pc,{title:"Billing overview",description:"Review your current plan, usage, and invoice history. PayPal/checkout integration will be added later."}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsx(BL,{plan:e,isLoading:n,onManageBilling:i}),r.jsx(zL,{usage:t,isLoading:n})]}),a&&r.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 p-4 text-sm text-rose-700",children:"Failed to load billing data. Please try again."}),r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Billing history"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Invoices and payment status."}),r.jsxs("div",{className:"mt-3",children:[n&&r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading billing history..."}),a&&r.jsx("p",{className:"text-sm text-red-600",children:"Failed to load billing history."}),!n&&!a&&r.jsx(KL,{history:s})]})]})]})},nI=()=>{const{user:e,logout:t}=an(),{toast:s}=rn(),[n,a]=y.useState((e==null?void 0:e.name)??""),[o,i]=y.useState((e==null?void 0:e.email)??""),[l,u]=y.useState(""),[c,d]=y.useState(""),[f,m]=y.useState(""),g=w=>{w.preventDefault(),s({title:"Profile Updated",description:"Your profile information has been saved."})},b=w=>{if(w.preventDefault(),c!==f){s({variant:"destructive",title:"Error",description:"New passwords do not match."});return}s({title:"Password Changed",description:"Your password has been updated successfully."}),u(""),d(""),m("")},v=()=>{s({title:"Data Export Requested",description:"Your data export will be prepared and sent to your email."})},x=()=>{window.confirm("Are you sure you want to delete your account? This action cannot be undone.")&&(s({variant:"destructive",title:"Account Deletion Initiated",description:"Your account deletion process has started."}),t())},h=w=>{if(!w)return"AU";const j=w.split(" ");return j.length===1?j[0].substring(0,2).toUpperCase():`${j[0][0].toUpperCase()}${j[j.length-1][0].toUpperCase()}`},p={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}};return r.jsxs("div",{className:"space-y-8",children:[r.jsxs(Ce.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight text-foreground",children:"Account Settings"}),r.jsx("p",{className:"text-md text-muted-foreground",children:"Manage your profile, password, and data preferences."})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Mr,{to:"/app/settings",className:({isActive:w})=>`px-3 py-2 rounded-md text-sm ${w?"bg-slate-200 dark:bg-slate-700 font-semibold":"text-muted-foreground"}`,children:"Profile"}),r.jsx(Mr,{to:"/app/settings/notifications",className:({isActive:w})=>`px-3 py-2 rounded-md text-sm ${w?"bg-slate-200 dark:bg-slate-700 font-semibold":"text-muted-foreground"}`,children:"Notifications"})]}),r.jsx(Ce.div,{variants:p,initial:"hidden",animate:"visible",children:r.jsxs(ne,{className:"bg-card/70 dark:bg-slate-800/70 backdrop-blur-sm border-border/50 shadow-lg",children:[r.jsxs(Le,{children:[r.jsxs(Ie,{className:"flex items-center text-xl",children:[r.jsx(KE,{className:"mr-2 h-6 w-6 text-sky-500"}),"Profile Information"]}),r.jsx(Zt,{children:"Update your personal details."})]}),r.jsx(re,{children:r.jsxs("form",{onSubmit:g,className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[r.jsxs(Xp,{className:"h-20 w-20 border-4 border-primary/30",children:[r.jsx(Qp,{src:e==null?void 0:e.avatarUrl,alt:e==null?void 0:e.name}),r.jsx(Zp,{className:"text-2xl bg-gradient-to-br from-sky-400 to-purple-500 text-white font-semibold",children:h(e==null?void 0:e.name)})]}),r.jsxs(B,{variant:"outline",className:"border-sky-500 text-sky-500 hover:bg-sky-500 hover:text-white",children:[r.jsx(UE,{className:"mr-2 h-4 w-4"})," Change Avatar"]})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(_t,{htmlFor:"name",children:"Full Name"}),r.jsx(dt,{id:"name",value:n,onChange:w=>a(w.target.value),className:"bg-input"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(_t,{htmlFor:"email",children:"Email Address"}),r.jsx(dt,{id:"email",type:"email",value:o,onChange:w=>i(w.target.value),className:"bg-input"})]})]}),r.jsx(B,{type:"submit",className:"bg-gradient-to-r from-sky-500 to-purple-600 hover:from-sky-600 hover:to-purple-700 text-white",children:"Save Profile Changes"})]})})]})}),r.jsx(Ce.div,{variants:p,initial:"hidden",animate:"visible",children:r.jsxs(ne,{className:"bg-card/70 dark:bg-slate-800/70 backdrop-blur-sm border-border/50 shadow-lg",children:[r.jsxs(Le,{children:[r.jsxs(Ie,{className:"flex items-center text-xl",children:[r.jsx(Qv,{className:"mr-2 h-6 w-6 text-sky-500"}),"Change Password"]}),r.jsx(Zt,{children:"Update your account password for better security."})]}),r.jsx(re,{children:r.jsxs("form",{onSubmit:b,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(_t,{htmlFor:"current-password",children:"Current Password"}),r.jsx(dt,{id:"current-password",type:"password",value:l,onChange:w=>u(w.target.value),className:"bg-input"})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(_t,{htmlFor:"new-password",children:"New Password"}),r.jsx(dt,{id:"new-password",type:"password",value:c,onChange:w=>d(w.target.value),className:"bg-input"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(_t,{htmlFor:"confirm-new-password",children:"Confirm New Password"}),r.jsx(dt,{id:"confirm-new-password",type:"password",value:f,onChange:w=>m(w.target.value),className:"bg-input"})]})]}),r.jsx(B,{type:"submit",className:"bg-gradient-to-r from-sky-500 to-purple-600 hover:from-sky-600 hover:to-purple-700 text-white",children:"Change Password"})]})})]})}),r.jsx(Ce.div,{variants:p,initial:"hidden",animate:"visible",children:r.jsxs(ne,{className:"bg-card/70 dark:bg-slate-800/70 backdrop-blur-sm border-border/50 shadow-lg",children:[r.jsxs(Le,{children:[r.jsxs(Ie,{className:"flex items-center text-xl",children:[r.jsx(Vm,{className:"mr-2 h-6 w-6 text-sky-500"}),"Data Management"]}),r.jsx(Zt,{children:"Manage your personal data stored with AURA GDPR."})]}),r.jsxs(re,{className:"space-y-4",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"You have the right to access and export your personal data. You can also request account deletion."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs(B,{onClick:v,variant:"outline",className:"flex-1 border-sky-500 text-sky-500 hover:bg-sky-500 hover:text-white",children:[r.jsx(Vm,{className:"mr-2 h-4 w-4"})," Export My Data"]}),r.jsxs(B,{onClick:x,variant:"destructive",className:"flex-1",children:[r.jsx(qE,{className:"mr-2 h-4 w-4"})," Delete My Account"]})]})]})]})})]})},rI=[{id:"u1",name:"Alice Wonderland",email:"alice@example.com",plan:"Pro",status:"Active",docCount:15,joinDate:"2025-01-15"},{id:"u2",name:"Bob The Builder",email:"bob@example.com",plan:"Free",status:"Active",docCount:3,joinDate:"2025-03-22"},{id:"u3",name:"Charlie Brown",email:"charlie@example.com",plan:"Pro",status:"Inactive",docCount:8,joinDate:"2024-11-05"},{id:"u4",name:"Diana Prince",email:"diana@example.com",plan:"Free",status:"Active",docCount:1,joinDate:"2025-05-10"}],aI=()=>{const{user:e}=an(),[t,s]=P.useState(""),[n]=P.useState(rI);if((e==null?void 0:e.role)!=="Admin")return r.jsx(ep,{to:"/app/dashboard",replace:!0});const a=n.filter(l=>l.name.toLowerCase().includes(t.toLowerCase())||l.email.toLowerCase().includes(t.toLowerCase())),o={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},i={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Ce.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[r.jsxs("h1",{className:"text-3xl font-bold tracking-tight text-foreground flex items-center",children:[r.jsx(ql,{className:"mr-3 h-8 w-8 text-purple-500"})," Admin Panel"]}),r.jsx("p",{className:"text-md text-muted-foreground",children:"Manage users and system settings."})]}),r.jsxs(Ce.div,{variants:i,initial:"hidden",animate:"visible",className:"grid md:grid-cols-3 gap-6",children:[r.jsxs(ne,{className:"bg-card/70 dark:bg-slate-800/70 backdrop-blur-sm border-border/50 shadow-md",children:[r.jsxs(Le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Ie,{className:"text-sm font-medium text-muted-foreground",children:"Total Users"}),r.jsx(Um,{className:"h-5 w-5 text-sky-500"})]}),r.jsx(re,{children:r.jsx("div",{className:"text-3xl font-bold text-sky-500",children:n.length})})]}),r.jsxs(ne,{className:"bg-card/70 dark:bg-slate-800/70 backdrop-blur-sm border-border/50 shadow-md",children:[r.jsxs(Le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Ie,{className:"text-sm font-medium text-muted-foreground",children:"Pro Users"}),r.jsx(Um,{className:"h-5 w-5 text-purple-500"})]}),r.jsx(re,{children:r.jsx("div",{className:"text-3xl font-bold text-purple-500",children:n.filter(l=>l.plan==="Pro").length})})]}),r.jsxs(ne,{className:"bg-card/70 dark:bg-slate-800/70 backdrop-blur-sm border-border/50 shadow-md",children:[r.jsxs(Le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Ie,{className:"text-sm font-medium text-muted-foreground",children:"Total Documents"}),r.jsx(Lr,{className:"h-5 w-5 text-green-500"})]}),r.jsx(re,{children:r.jsx("div",{className:"text-3xl font-bold text-green-500",children:n.reduce((l,u)=>l+u.docCount,0)})})]})]}),r.jsx(Ce.div,{variants:i,initial:"hidden",animate:"visible",children:r.jsxs(ne,{className:"bg-card/70 dark:bg-slate-800/70 backdrop-blur-sm border-border/50 shadow-lg",children:[r.jsxs(Le,{children:[r.jsx(Ie,{className:"text-xl",children:"User Management"}),r.jsx(Zt,{children:"View, filter, and manage user accounts."}),r.jsxs("div",{className:"pt-4 flex gap-4",children:[r.jsxs("div",{className:"relative flex-grow",children:[r.jsx(zE,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),r.jsx(dt,{type:"search",placeholder:"Search users by name or email...",className:"pl-10 w-full bg-input",value:t,onChange:l=>s(l.target.value)})]}),r.jsxs(B,{variant:"outline",className:"border-sky-500 text-sky-500 hover:bg-sky-500 hover:text-white",children:[r.jsx(Yv,{className:"mr-2 h-4 w-4"})," Filter Users"]})]})]}),r.jsxs(re,{children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{className:"text-left text-muted-foreground",children:r.jsxs("tr",{children:[r.jsx("th",{className:"p-2",children:"Name"}),r.jsx("th",{className:"p-2",children:"Email"}),r.jsx("th",{className:"p-2",children:"Plan"}),r.jsx("th",{className:"p-2",children:"Status"}),r.jsx("th",{className:"p-2",children:"Docs"}),r.jsx("th",{className:"p-2",children:"Joined"}),r.jsx("th",{className:"p-2",children:"Actions"})]})}),r.jsx(Ce.tbody,{variants:o,initial:"hidden",animate:"visible",children:a.map(l=>r.jsxs(Ce.tr,{variants:i,className:"border-b border-border/50 hover:bg-slate-100 dark:hover:bg-slate-700/50 transition-colors",children:[r.jsx("td",{className:"p-2 font-medium",children:l.name}),r.jsx("td",{className:"p-2 text-muted-foreground",children:l.email}),r.jsx("td",{className:"p-2",children:r.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${l.plan==="Pro"?"bg-purple-200 text-purple-700 dark:bg-purple-700 dark:text-purple-200":"bg-sky-200 text-sky-700 dark:bg-sky-700 dark:text-sky-200"}`,children:l.plan})}),r.jsx("td",{className:"p-2",children:r.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${l.status==="Active"?"bg-green-200 text-green-700 dark:bg-green-700 dark:text-green-200":"bg-red-200 text-red-700 dark:bg-red-700 dark:text-red-200"}`,children:l.status})}),r.jsx("td",{className:"p-2 text-muted-foreground",children:l.docCount}),r.jsx("td",{className:"p-2 text-muted-foreground",children:l.joinDate}),r.jsx("td",{className:"p-2",children:r.jsx(B,{variant:"ghost",size:"sm",className:"text-red-500 hover:bg-red-100 dark:hover:bg-red-700/50",children:"Deactivate"})})]},l.id))})]})}),a.length===0&&r.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No users match your search criteria."})]})]})})]})},It=({className:e,...t})=>r.jsx("div",{className:Z("animate-pulse rounded-md bg-muted",e),...t}),oI=["open","in_progress","blocked","completed","cancelled"],iI=["low","medium","high","urgent"],lI=["dsr","policy","document","dpia","ropa","incident","toms","general"],cI=({search:e,status:t,priority:s,resource:n,due:a,onSearch:o,onStatusChange:i,onPriorityChange:l,onResourceChange:u,onDueChange:c})=>r.jsxs("div",{className:"flex flex-col gap-3 rounded-xl border border-slate-200 bg-white p-4 shadow-sm md:flex-row md:items-center md:justify-between",children:[r.jsx("input",{type:"text",value:e,onChange:d=>o(d.target.value),placeholder:"Search tasks by title or resource...",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100"}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:t,onChange:d=>i(d.target.value),children:[r.jsx("option",{value:"all",children:"All statuses"}),oI.map(d=>r.jsx("option",{value:d,children:d.replace("_"," ")},d))]}),r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:s,onChange:d=>l(d.target.value),children:[r.jsx("option",{value:"all",children:"All priorities"}),iI.map(d=>r.jsx("option",{value:d,children:d},d))]}),r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:n,onChange:d=>u(d.target.value),children:[r.jsx("option",{value:"all",children:"All resources"}),lI.map(d=>r.jsx("option",{value:d,children:d},d))]}),r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:a,onChange:d=>c(d.target.value),children:[r.jsx("option",{value:"all",children:"All due dates"}),r.jsx("option",{value:"overdue",children:"Overdue"}),r.jsx("option",{value:"today",children:"Due today"}),r.jsx("option",{value:"week",children:"Due this week"})]})]})]}),uI={low:"bg-slate-100 text-slate-700 border-slate-200",medium:"bg-sky-50 text-sky-700 border-sky-200",high:"bg-orange-50 text-orange-700 border-orange-200",urgent:"bg-rose-50 text-rose-700 border-rose-200"},dI={low:"Low",medium:"Medium",high:"High",urgent:"Urgent"},YN=({priority:e})=>r.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-semibold ${uI[e]}`,children:dI[e]}),fI={open:"bg-sky-50 text-sky-700 border-sky-200",in_progress:"bg-amber-50 text-amber-700 border-amber-200",blocked:"bg-orange-50 text-orange-700 border-orange-200",completed:"bg-emerald-50 text-emerald-700 border-emerald-200",cancelled:"bg-slate-100 text-slate-700 border-slate-200"},pI={open:"Open",in_progress:"In progress",blocked:"Blocked",completed:"Completed",cancelled:"Cancelled"},XN=({status:e})=>r.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-semibold ${fI[e]}`,children:pI[e]}),hI=e=>{const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},mI=e=>e.resourceName?`${e.resourceType}: ${e.resourceName}`:e.resourceType,xI=({task:e,onClick:t})=>r.jsxs("tr",{className:"cursor-pointer border-b last:border-0 hover:bg-slate-50 focus-within:bg-slate-50",tabIndex:0,role:"button",onClick:t,onKeyDown:s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),t())},children:[r.jsx("td",{className:"py-3 pr-4 font-semibold text-foreground",children:e.title}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:mI(e)}),r.jsx("td",{className:"py-3 pr-4",children:r.jsx(YN,{priority:e.priority})}),r.jsx("td",{className:"py-3 pr-4",children:r.jsx(XN,{status:e.status})}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:e.assignee}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:hI(e.dueDate)})]}),gI=({tasks:e,onSelect:t,isLoading:s,isError:n})=>s?r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading tasks..."}):n?r.jsx("p",{className:"text-sm text-red-600",children:"Failed to load tasks."}):e.length===0?r.jsx("p",{className:"text-sm text-muted-foreground",children:"No tasks found for the selected filters."}):r.jsx("div",{className:"overflow-auto rounded-lg border border-slate-200 bg-white shadow-sm",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b bg-slate-50 text-left text-slate-500",children:[r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Title"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Resource"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Priority"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Status"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Assignee"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Due date"})]})}),r.jsx("tbody",{children:e.map(a=>r.jsx(xI,{task:a,onClick:()=>t(a)},a.id))})]})}),yI=["open","in_progress","blocked","completed","cancelled"],vI=["low","medium","high","urgent"],bI=["dsr","policy","document","dpia","ropa","incident","toms","general"],wI={dsr:"/app/dsr",policy:"/app/policies",document:"/app/documents",dpia:"/app/dpia",ropa:"/app/ropa",incident:"/app/incidents",toms:"/app/toms"},jI=({task:e,isOpen:t,mode:s,isLoading:n,isSaving:a,onClose:o,onSave:i,onStatusChange:l,onPriorityChange:u})=>{const[c,d]=P.useState(e),[f,m]=P.useState({}),g=P.useRef(null);if(P.useEffect(()=>{t&&(d(e),m({}))},[e,t]),P.useEffect(()=>{var I;if(!t)return;const k=D=>{if(D.key==="Escape"&&o(),D.key==="Tab"&&g.current){const O=g.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(O.length===0)return;const M=O[0],F=O[O.length-1];!D.shiftKey&&document.activeElement===F?(D.preventDefault(),M.focus()):D.shiftKey&&document.activeElement===M&&(D.preventDefault(),F.focus())}};document.addEventListener("keydown",k);const A=(I=g.current)==null?void 0:I.querySelector("input, select, textarea, button");return A==null||A.focus(),()=>document.removeEventListener("keydown",k)},[t,o]),!t||!c&&!n)return null;const b=(s==="create"||s==="edit")&&!n,v=l&&(c==null?void 0:c.id)&&s!=="create",x=u&&(c==null?void 0:c.id)&&s!=="create",h=!!(n||a),p=(k,A)=>{d(I=>I&&{...I,[k]:A})},w=()=>{const k={};return c.title.trim()||(k.title="Title is required."),c.description.trim()||(k.description="Description is required."),c.resourceType||(k.resourceType="Resource type is required."),c.status||(k.status="Status is required."),c.priority||(k.priority="Priority is required."),c.dueDate||(k.dueDate="Due date is required."),m(k),Object.keys(k).length===0},j=async()=>{w()&&await i(c,s==="create"?"create":"edit")},S=async k=>{p("status",k),v&&(c!=null&&c.id)&&await(l==null?void 0:l(c.id,k))},E=async k=>{p("priority",k),x&&(c!=null&&c.id)&&await(u==null?void 0:u(c.id,k))},C=k=>{k.target===k.currentTarget&&o()};if(!c&&n)return r.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/30 backdrop-blur-sm",onMouseDown:C,children:r.jsxs("div",{className:"flex h-full w-full max-w-2xl flex-col overflow-y-auto bg-white shadow-2xl",ref:g,children:[r.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-5 py-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Task"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Loading task..."})]}),r.jsx("button",{type:"button",onClick:o,className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:r.jsx(Ee,{className:"h-5 w-5"})})]}),r.jsx("div",{className:"p-5 text-sm text-slate-600",children:"Loading task..."})]})});const N=c.resourceType&&wI[c.resourceType];return r.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/30 backdrop-blur-sm",onMouseDown:C,children:r.jsxs("div",{className:"flex h-full w-full max-w-2xl flex-col overflow-y-auto bg-white shadow-2xl",ref:g,children:[r.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-5 py-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:s==="create"?"New task":c.title||"Task"}),r.jsx(XN,{status:c.status}),r.jsx(YN,{priority:c.priority})]}),r.jsx("p",{className:"text-sm text-slate-600",children:c.resourceName||c.resourceType})]}),r.jsx("button",{type:"button",onClick:o,className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:r.jsx(Ee,{className:"h-5 w-5"})})]}),n&&c&&r.jsx("div",{className:"px-5 py-2 text-sm text-slate-600",children:"Loading task..."}),r.jsxs("div",{className:"space-y-4 p-5",children:[r.jsxs("div",{className:"space-y-3 rounded-lg border border-slate-200 bg-white p-4",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Title"}),r.jsx("input",{type:"text",value:c.title,onChange:k=>p("title",k.target.value),disabled:!b||h,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),f.title&&r.jsx("p",{className:"text-xs text-rose-600",children:f.title})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Description"}),r.jsx("textarea",{value:c.description,onChange:k=>p("description",k.target.value),disabled:!b||h,className:"min-h-[90px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),f.description&&r.jsx("p",{className:"text-xs text-rose-600",children:f.description})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-3",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Status"}),r.jsx("select",{value:c.status,onChange:k=>S(k.target.value),disabled:!b&&!v||h,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:yI.map(k=>r.jsx("option",{value:k,children:k.replace("_"," ")},k))}),f.status&&r.jsx("p",{className:"text-xs text-rose-600",children:f.status})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Priority"}),r.jsx("select",{value:c.priority,onChange:k=>E(k.target.value),disabled:!b&&!x||h,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:vI.map(k=>r.jsx("option",{value:k,children:k},k))}),f.priority&&r.jsx("p",{className:"text-xs text-rose-600",children:f.priority})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Due date"}),r.jsx("input",{type:"date",value:c.dueDate.slice(0,10),onChange:k=>p("dueDate",k.target.value),disabled:!b||h,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),f.dueDate&&r.jsx("p",{className:"text-xs text-rose-600",children:f.dueDate})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Assignee"}),r.jsx("input",{type:"text",value:c.assignee,onChange:k=>p("assignee",k.target.value),disabled:!b||h,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Resource type"}),r.jsx("select",{value:c.resourceType,onChange:k=>p("resourceType",k.target.value),disabled:!b||h,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:bI.map(k=>r.jsx("option",{value:k,children:k},k))}),f.resourceType&&r.jsx("p",{className:"text-xs text-rose-600",children:f.resourceType})]}),r.jsxs("div",{className:"flex flex-col gap-2 md:flex-row",children:[r.jsx("input",{type:"text",placeholder:"Resource id (optional)",value:c.resourceId||"",onChange:k=>p("resourceId",k.target.value),disabled:!b||h,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),r.jsx("input",{type:"text",placeholder:"Resource name (optional)",value:c.resourceName||"",onChange:k=>p("resourceName",k.target.value),disabled:!b||h,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),N&&r.jsx(Mr,{to:N,className:"text-sm font-semibold text-sky-700 hover:underline",children:"Open related module"})]})]})]}),s!=="create"&&r.jsxs("div",{className:"grid grid-cols-1 gap-3 rounded-lg border border-slate-200 bg-slate-50 p-4 text-sm text-slate-700 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-800",children:"Created"}),r.jsx("p",{children:new Date(c.createdAt).toLocaleString()})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-800",children:"Last updated"}),r.jsx("p",{children:new Date(c.updatedAt).toLocaleString()})]})]})]}),r.jsx("div",{className:"sticky bottom-0 border-t border-slate-200 bg-white p-4",children:r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(B,{variant:"outline",onClick:o,disabled:h,children:"Cancel"}),b&&r.jsx(B,{onClick:j,disabled:h,children:a?"Saving...":s==="create"?"Create task":"Save changes"})]})})]})})},NI=({onNew:e})=>r.jsxs(B,{className:"inline-flex items-center gap-2",onClick:e,children:[r.jsx(Hl,{className:"h-4 w-4"}),"New task"]}),kI=e=>["open","in_progress","blocked","completed","cancelled"].includes(e)?e:"open",SI=e=>["low","medium","high","urgent"].includes(e)?e:"medium",Cn=e=>{const t=(e==null?void 0:e.createdAt)??(e==null?void 0:e.created_at)??new Date().toISOString(),s=(e==null?void 0:e.updatedAt)??(e==null?void 0:e.updated_at)??t;return{id:(e==null?void 0:e.id)??(e==null?void 0:e._id)??"",title:(e==null?void 0:e.title)??"",description:(e==null?void 0:e.description)??"",status:kI(e==null?void 0:e.status),priority:SI(e==null?void 0:e.priority),dueDate:(e==null?void 0:e.dueDate)??(e==null?void 0:e.due_date)??"",createdAt:t,updatedAt:s,assignee:(e==null?void 0:e.assignee)??"",resourceType:(e==null?void 0:e.resourceType)??(e==null?void 0:e.resource_type)??"general",resourceId:(e==null?void 0:e.resourceId)??(e==null?void 0:e.resource_id)??"",resourceName:(e==null?void 0:e.resourceName)??(e==null?void 0:e.resource_name)??""}},CI=e=>{if(Array.isArray(e))return e.map(Cn);const t=e;return Array.isArray(t==null?void 0:t.items)?t.items.map(Cn):Array.isArray(t==null?void 0:t.tasks)?t.tasks.map(Cn):[]};async function EI(){const e=await z.get("/api/tasks");return CI(e.data)}async function PI(e){const t=await z.get(`/api/tasks/${e}`);return Cn(t.data)}async function AI(e){const t=await z.post("/api/tasks",e);return Cn(t.data)}async function TI(e,t){const s=await z.put(`/api/tasks/${e}`,t);return Cn(s.data)}async function RI(e,t){const s=await z.patch(`/api/tasks/${e}`,t);return Cn(s.data)}function DI(){const[e,t]=y.useState([]),[s,n]=y.useState(!1),[a,o]=y.useState(!1),[i,l]=y.useState(!1),[u,c]=y.useState(null),d=y.useRef(!0);y.useEffect(()=>()=>{d.current=!1},[]);const f=y.useCallback(async()=>{n(!0),c(null);try{const x=await EI();d.current&&t(x)}catch(x){d.current&&c((x==null?void 0:x.message)??"Failed to load tasks.")}finally{d.current&&n(!1)}},[]);y.useEffect(()=>{f()},[f]);const m=y.useCallback(async x=>{o(!0);try{const h=await PI(x);return d.current&&t(p=>p.some(j=>j.id===h.id)?p.map(j=>j.id===h.id?h:j):[h,...p]),h}finally{d.current&&o(!1)}},[]),g=y.useCallback(async x=>{l(!0),c(null);try{const h=await AI(x);return d.current&&t(p=>[h,...p]),h}catch(h){throw d.current&&c((h==null?void 0:h.message)??"Failed to create task."),h}finally{d.current&&l(!1)}},[]),b=y.useCallback(async(x,h)=>{l(!0),c(null);try{const p=await TI(x,h);return d.current&&t(w=>w.map(j=>j.id===p.id?p:j)),p}catch(p){throw d.current&&c((p==null?void 0:p.message)??"Failed to update task."),p}finally{d.current&&l(!1)}},[]),v=y.useCallback(async(x,h)=>{l(!0),c(null);try{const p=await RI(x,h);return d.current&&t(w=>w.map(j=>j.id===p.id?p:j)),p}catch(p){throw d.current&&c((p==null?void 0:p.message)??"Failed to update task."),p}finally{d.current&&l(!1)}},[]);return{tasks:e,loading:s,detailLoading:a,saving:i,error:u,refresh:f,fetchOne:m,create:g,update:b,patch:v}}const _I=(e,t)=>{if(t==="all")return!0;const s=new Date(e);if(Number.isNaN(s.getTime()))return!1;const n=new Date,a=Math.floor((s.getTime()-n.getTime())/(1e3*60*60*24));return t==="overdue"?a<0:t==="today"?a===0:t==="week"?a>=0&&a<=7:!0},MI=()=>{const{tasks:e,loading:t,detailLoading:s,saving:n,error:a,refresh:o,fetchOne:i,create:l,update:u,patch:c}=DI(),[d,f]=P.useState(""),[m,g]=P.useState("all"),[b,v]=P.useState("all"),[x,h]=P.useState("all"),[p,w]=P.useState("all"),[j,S]=P.useState(null),[E,C]=P.useState("view"),N=P.useMemo(()=>e.filter(F=>{const V=F.title.toLowerCase().includes(d.toLowerCase())||(F.resourceName||"").toLowerCase().includes(d.toLowerCase()),q=m==="all"?!0:F.status===m,R=b==="all"?!0:F.priority===b,_=x==="all"?!0:F.resourceType===x,L=_I(F.dueDate,p);return V&&q&&R&&_&&L}),[e,d,m,b,x,p]),k=F=>{S(F),C("edit"),F.id&&i(F.id).then(V=>S(V)).catch(()=>{})},A=async(F,V)=>{try{if(V==="create"){const{id:q,...R}=F;await l(R)}else F.id&&await u(F.id,F);await o(),S(null),C("view")}catch{}},I=()=>{const F=new Date().toISOString();S({id:"",title:"",description:"",status:"open",priority:"medium",dueDate:F.slice(0,10),createdAt:F,updatedAt:F,assignee:"",resourceType:"general",resourceId:"",resourceName:""}),C("create")},D=async(F,V)=>{try{await c(F,{status:V}),await o()}catch{}},O=async(F,V)=>{try{await c(F,{priority:V}),await o()}catch{}},M=()=>t?r.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((F,V)=>r.jsx(It,{className:"h-20 w-full rounded-lg bg-slate-100"},V))}):a?r.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 p-4 text-sm text-rose-700",children:r.jsxs("div",{className:"flex items-center justify-between gap-3",children:[r.jsx("p",{children:a}),r.jsx("button",{type:"button",className:"text-xs font-semibold text-rose-800 underline",onClick:()=>o(),children:"Retry"})]})}):N.length===0?r.jsxs("div",{className:"rounded-lg border border-dashed border-slate-300 bg-slate-50 p-6 text-sm text-slate-700",children:[r.jsx("p",{className:"font-semibold text-slate-900",children:"No tasks match the current filters."}),r.jsx("p",{className:"text-slate-600",children:"Adjust filters or create a new task."})]}):r.jsx(gI,{tasks:N,onSelect:k});return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-slate-900",children:"Tasks"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Track and manage your compliance tasks."})]}),r.jsx(NI,{onNew:I})]}),r.jsx(cI,{search:d,status:m,priority:b,resource:x,due:p,onSearch:f,onStatusChange:g,onPriorityChange:v,onResourceChange:h,onDueChange:w}),M(),r.jsx(jI,{task:j,isOpen:!!j,mode:E,onClose:()=>{S(null),C("view")},onSave:A,isLoading:s,isSaving:n,onStatusChange:D,onPriorityChange:O})]})},Do=({title:e,description:t,actions:s})=>r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:e}),t&&r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t})]}),s&&r.jsx("div",{className:"flex items-center gap-2",children:s})]}),LI=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsx(Do,{title:"Projects",description:"Processing activities and GDPR projects.",actions:r.jsxs(B,{size:"sm",className:"bg-gradient-to-r from-sky-500 to-purple-600 text-white",children:[r.jsx(Hl,{className:"h-4 w-4 mr-2"}),"New Project"]})}),r.jsxs(ne,{children:[r.jsxs(Le,{children:[r.jsx(Ie,{children:"Coming soon"}),r.jsx(Zt,{children:"Project list and wizard will be added next."})]}),r.jsx(re,{className:"text-sm text-muted-foreground",children:"This placeholder keeps routing intact while we build the projects module."})]})]}),II=["dsr","policy","document","dpia","ropa","incident","toms","user","tenant","system"],OI=({search:e,dateRange:t,resource:s,severity:n,onSearch:a,onDateRangeChange:o,onResourceChange:i,onSeverityChange:l})=>r.jsxs("div",{className:"flex flex-col gap-3 rounded-xl border border-slate-200 bg-white p-4 shadow-sm md:flex-row md:items-center md:justify-between",children:[r.jsx("input",{type:"text",value:e,onChange:u=>a(u.target.value),placeholder:"Search audit log (action, resource, actor)...",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100"}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:t,onChange:u=>o(u.target.value),children:[r.jsx("option",{value:"24h",children:"Last 24 hours"}),r.jsx("option",{value:"7d",children:"Last 7 days"}),r.jsx("option",{value:"30d",children:"Last 30 days"}),r.jsx("option",{value:"all",children:"All time"})]}),r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:s,onChange:u=>i(u.target.value),children:[r.jsx("option",{value:"all",children:"All resources"}),II.map(u=>r.jsx("option",{value:u,children:u},u))]}),r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:n,onChange:u=>l(u.target.value),children:[r.jsx("option",{value:"all",children:"All severities"}),r.jsx("option",{value:"info",children:"Info"}),r.jsx("option",{value:"warning",children:"Warning"}),r.jsx("option",{value:"critical",children:"Critical"})]})]})]}),FI={info:"bg-sky-50 text-sky-700 border-sky-200",warning:"bg-amber-50 text-amber-700 border-amber-200",critical:"bg-rose-50 text-rose-700 border-rose-200"},QN=({severity:e})=>r.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-semibold ${FI[e]}`,children:e}),$I=e=>{const t=new Date(e),s=Date.now(),n=Math.max(0,s-t.getTime()),a=Math.floor(n/6e4);if(a<1)return"just now";if(a<60)return`${a}m ago`;const o=Math.floor(a/60);if(o<24)return`${o}h ago`;const i=Math.floor(o/24);return i<7?`${i}d ago`:t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},VI=({item:e,onClick:t})=>{const s=e.resourceName?`${e.resourceType}: ${e.resourceName}`:e.resourceType;return r.jsxs("tr",{className:"cursor-pointer border-b last:border-0 hover:bg-slate-50 focus-within:bg-slate-50",tabIndex:0,role:"button",onClick:t,onKeyDown:n=>{(n.key==="Enter"||n.key===" ")&&(n.preventDefault(),t())},children:[r.jsx("td",{className:"py-3 pr-4 text-foreground",children:$I(e.timestamp)}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:e.actor}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:e.action}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:s}),r.jsx("td",{className:"py-3 pr-4",children:r.jsx(QN,{severity:e.severity})})]})},UI=({items:e,onSelect:t,isLoading:s,isError:n})=>s?r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading audit log..."}):n?r.jsx("p",{className:"text-sm text-red-600",children:"Failed to load audit log."}):e.length===0?r.jsx("p",{className:"text-sm text-muted-foreground",children:"No audit events found for the selected filters."}):r.jsx("div",{className:"overflow-auto rounded-lg border border-slate-200 bg-white shadow-sm",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b bg-slate-50 text-left text-slate-500",children:[r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Timestamp"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Actor"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Action"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Resource"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Severity"})]})}),r.jsx("tbody",{children:e.map(a=>r.jsx(VI,{item:a,onClick:()=>t(a)},a.id))})]})}),_0=e=>{if(!e)return"";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},BI=({item:e,isOpen:t,onClose:s})=>{const n=P.useRef(null);if(P.useEffect(()=>{var l;if(!t)return;const o=u=>{if(u.key==="Escape"&&s(),u.key==="Tab"&&n.current){const c=n.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(c.length===0)return;const d=c[0],f=c[c.length-1];!u.shiftKey&&document.activeElement===f?(u.preventDefault(),d.focus()):u.shiftKey&&document.activeElement===d&&(u.preventDefault(),f.focus())}};document.addEventListener("keydown",o);const i=(l=n.current)==null?void 0:l.querySelector("button, [href], input, select, textarea");return i==null||i.focus(),()=>document.removeEventListener("keydown",o)},[t,s]),!t||!e)return null;const a=o=>{o.target===o.currentTarget&&s()};return r.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/30 backdrop-blur-sm",onMouseDown:a,children:r.jsxs("div",{className:"flex h-full w-full max-w-xl flex-col overflow-y-auto bg-white shadow-2xl",ref:n,children:[r.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-5 py-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Audit event"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(QN,{severity:e.severity}),r.jsx("span",{className:"text-sm text-slate-600",children:_0(e.timestamp)})]})]}),r.jsx("button",{type:"button",onClick:s,className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:r.jsx(Ee,{className:"h-5 w-5"})})]}),r.jsxs("div",{className:"space-y-3 p-5 text-sm text-slate-800",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-900",children:"Actor"}),r.jsx("p",{children:e.actor})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-900",children:"Action"}),r.jsx("p",{children:e.action})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-900",children:"Resource"}),r.jsxs("p",{children:[e.resourceType,e.resourceName?` - ${e.resourceName}`:""]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-900",children:"Timestamp"}),r.jsx("p",{children:_0(e.timestamp)})]}),e.ipAddress&&r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-900",children:"IP address"}),r.jsx("p",{children:e.ipAddress})]}),e.userAgent&&r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-900",children:"User agent"}),r.jsx("p",{className:"break-all",children:e.userAgent})]}),e.details&&r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-900",children:"Details"}),r.jsx("pre",{className:"overflow-auto rounded-md bg-slate-50 p-3 text-xs text-slate-800",children:e.details})]})]}),r.jsx("div",{className:"sticky bottom-0 border-t border-slate-200 bg-white p-4",children:r.jsx("div",{className:"flex justify-end",children:r.jsx(B,{variant:"outline",onClick:s,children:"Close"})})})]})})},zI=new Date("2025-05-15T12:00:00Z").getTime(),Ht=e=>new Date(zI-e*24*60*60*1e3).toISOString();function WI(){const[e]=y.useState([{id:"log_001",timestamp:Ht(0),actor:"system",action:"AI audit run completed",resourceType:"system",severity:"info",details:"Overall score 78. Areas reviewed: DSR, policies, DPIA, ROPA, incidents."},{id:"log_002",timestamp:Ht(1),actor:"dpo@aura.test",action:"Created DSR request",resourceType:"dsr",resourceId:"dsr_123",resourceName:"DSR request for Jane Doe",severity:"info",ipAddress:"192.168.1.10"},{id:"log_003",timestamp:Ht(2),actor:"analyst@aura.test",action:"Updated DPIA status to approved",resourceType:"dpia",resourceId:"dpia_002",resourceName:"Employee monitoring DPIA",severity:"warning"},{id:"log_004",timestamp:Ht(3),actor:"security@aura.test",action:"Created incident",resourceType:"incident",resourceId:"inc_003",resourceName:"Unauthorized access attempt",severity:"critical",details:"Incident severity: critical. Status: contained."},{id:"log_005",timestamp:Ht(4),actor:"legal@aura.test",action:"Updated policy",resourceType:"policy",resourceId:"pol_1",resourceName:"Privacy Policy",severity:"info"},{id:"log_006",timestamp:Ht(5),actor:"system",action:"New TOM added",resourceType:"toms",resourceId:"tom_004",resourceName:"Backup & disaster recovery",severity:"info"},{id:"log_007",timestamp:Ht(6),actor:"owner@aura.test",action:"Added ROPA record",resourceType:"ropa",resourceId:"ropa_002",resourceName:"Employee HR processing",severity:"info"},{id:"log_008",timestamp:Ht(7),actor:"system",action:"User login",resourceType:"user",resourceId:"user_123",resourceName:"admin@aura.test",severity:"info",ipAddress:"10.1.0.5",userAgent:"Chrome on Windows"},{id:"log_009",timestamp:Ht(8),actor:"security@aura.test",action:"Updated incident status to resolved",resourceType:"incident",resourceId:"inc_002",resourceName:"Lost laptop with customer data",severity:"warning"},{id:"log_010",timestamp:Ht(9),actor:"system",action:"Document generated via AI",resourceType:"document",resourceId:"doc_009",resourceName:"AI generated DPIA summary",severity:"info",details:"Draft created for review."}]);return{items:e,isLoading:!1,isError:!1}}const HI=e=>{const t=Date.now();return e==="24h"?t-24*60*60*1e3:e==="7d"?t-7*24*60*60*1e3:e==="30d"?t-30*24*60*60*1e3:0},qI=()=>{const{items:e,isLoading:t,isError:s}=WI(),[n,a]=P.useState(""),[o,i]=P.useState("7d"),[l,u]=P.useState("all"),[c,d]=P.useState("all"),[f,m]=P.useState(null),g=P.useMemo(()=>{const v=HI(o);return e.filter(x=>{const h=new Date(x.timestamp).getTime(),p=v===0?!0:h>=v,w=x.action.toLowerCase().includes(n.toLowerCase())||(x.resourceName||"").toLowerCase().includes(n.toLowerCase())||x.actor.toLowerCase().includes(n.toLowerCase()),j=l==="all"?!0:x.resourceType===l,S=c==="all"?!0:x.severity===c;return p&&w&&j&&S})},[e,n,o,l,c]),b=v=>{m(v)};return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-slate-900",children:"Audit log"}),r.jsx("p",{className:"text-sm text-slate-600",children:"See who performed which actions in your tenant, and when."})]}),r.jsx(OI,{search:n,dateRange:o,resource:l,severity:c,onSearch:a,onDateRangeChange:i,onResourceChange:u,onSeverityChange:d}),r.jsx(UI,{items:g,onSelect:b,isLoading:t,isError:s}),r.jsx(BI,{item:f,isOpen:!!f,onClose:()=>m(null)})]})},KI={low:"bg-green-100 dark:bg-green-900/40 hover:bg-green-200 dark:hover:bg-green-800",medium:"bg-amber-100 dark:bg-amber-900/40 hover:bg-amber-200 dark:hover:bg-amber-800",high:"bg-red-100 dark:bg-red-900/40 hover:bg-red-200 dark:hover:bg-red-800"},vu=({label:e,count:t,tone:s,onClick:n})=>r.jsx("button",{onClick:n,className:`w-full rounded-md border border-border px-4 py-6 text-left transition ${KI[s]}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-semibold capitalize",children:e}),r.jsx(oo,{children:t})]})}),GI=({grouped:e,onSelect:t})=>r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(vu,{label:"Low",count:e.low.length,tone:"low",onClick:()=>t("low")}),r.jsx(vu,{label:"Medium",count:e.medium.length,tone:"medium",onClick:()=>t("medium")}),r.jsx(vu,{label:"High",count:e.high.length,tone:"high",onClick:()=>t("high")})]}),YI=({open:e,riskLevel:t,items:s,onClose:n})=>{const a=zn();return r.jsxs(r.Fragment,{children:[e&&r.jsx("div",{className:"fixed inset-0 bg-black/40 z-40",onClick:n}),r.jsxs("div",{className:`fixed top-0 right-0 h-full w-full max-w-3xl bg-background shadow-2xl z-50 transform transition-transform ${e?"translate-x-0":"translate-x-full"}`,children:[r.jsxs("div",{className:"flex items-center justify-between border-b border-border px-4 py-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase text-muted-foreground",children:"Risks"}),r.jsx("h3",{className:"text-xl font-semibold capitalize",children:t?`${t} risk`:"Risks"})]}),r.jsx(B,{variant:"ghost",size:"icon",onClick:n,"aria-label":"Close risk list",children:r.jsx(Ee,{className:"h-5 w-5"})})]}),r.jsx("div",{className:"p-4 space-y-3 overflow-auto h-[calc(100%-56px)]",children:s.length===0?r.jsx("div",{className:"text-sm text-muted-foreground",children:"No items for this risk level."}):s.map(o=>r.jsx(ne,{children:r.jsxs(re,{className:"p-4 flex items-start justify-between gap-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"text-sm font-semibold",children:o.title}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[r.jsx(oo,{variant:"secondary",className:"capitalize",children:o.type}),r.jsx(oo,{className:"capitalize",children:o.risk}),o.source&&r.jsx("span",{children:o.source})]})]}),o.link&&r.jsx(B,{size:"sm",variant:"outline",onClick:()=>{a(o.link),n()},children:"Open"})]})},`${o.type}-${o.id}`))})]})]})},bu=e=>{if(typeof e=="number")return e>=16?"high":e>=9?"medium":"low";const t=(e||"").toString().toLowerCase();return t==="high"||t==="critical"?"high":t==="medium"?"medium":"low"},XI=()=>{const[e,t]=y.useState([]),[s,n]=y.useState(!0),[a,o]=y.useState(null),i=y.useCallback(async()=>{var u,c,d;try{n(!0),o(null);const[f,m,g]=await Promise.all([z.get("/dpia"),z.get("/incidents"),z.get("/projects")]),b=((u=f.data.items)==null?void 0:u.map(h=>({id:h.id,type:"dpia",title:h.title,risk:bu(h.overall_risk),source:`DPIA (${h.overall_risk})`,link:`/app/dpia/${h.id}`})))??[],v=((c=m.data.items)==null?void 0:c.map(h=>{const p=(h.severity||"").toString().toLowerCase(),j=bu(p==="critical"||p==="high"?16:p==="medium"?9:4);return{id:h.id,type:"incident",title:h.title||`Incident ${h.id}`,risk:j,source:`Incident (${h.severity??"unknown"})`,link:"/app/incidents"}}))??[],x=((d=g.data.items)==null?void 0:d.map(h=>({id:h.id,type:"project",title:h.name,risk:bu(h.risk_level),source:`Project (${h.risk_level??"unknown"})`,link:"/app/projects"})))??[];t([...b,...v,...x])}catch(f){o((f==null?void 0:f.message)??"Failed to load risks"),t([])}finally{n(!1)}},[]);y.useEffect(()=>{i()},[i]);const l=y.useMemo(()=>e.reduce((u,c)=>(u[c.risk].push(c),u),{low:[],medium:[],high:[]}),[e]);return{data:e,grouped:l,loading:s,error:a,reload:i}},QI=()=>{const{data:e,grouped:t,loading:s,error:n,reload:a}=XI(),[o,i]=y.useState(null),l=c=>{i(c)},u=o?t[o]:[];return r.jsxs("div",{className:"space-y-6",children:[r.jsx(Do,{title:"Risk Matrix",description:"Aggregate risks across DPIAs, Incidents, and Projects.",actions:r.jsxs(B,{variant:"outline",size:"sm",onClick:a,disabled:s,children:[r.jsx(xp,{className:"h-4 w-4 mr-2"}),"Refresh"]})}),n&&r.jsx(ne,{children:r.jsxs(re,{className:"p-4 text-sm text-destructive flex items-center justify-between",children:[r.jsxs("span",{children:["Failed to load risks: ",n]}),r.jsx(B,{size:"sm",variant:"outline",onClick:a,children:"Retry"})]})}),s?r.jsx(ne,{children:r.jsx(re,{className:"p-4",children:r.jsx(It,{className:"h-24 w-full"})})}):e.length===0?r.jsx(ne,{children:r.jsx(re,{className:"p-6 text-sm text-muted-foreground text-center",children:"No risks found yet."})}):r.jsx(GI,{grouped:t,onSelect:l}),r.jsx(YI,{open:!!o,riskLevel:o,items:u,onClose:()=>i(null)})]})},ZI=({search:e,status:t,risk:s,onSearch:n,onStatusChange:a,onRiskChange:o})=>r.jsxs("div",{className:"flex flex-col gap-3 rounded-xl border border-slate-200 bg-white p-4 shadow-sm md:flex-row md:items-center md:justify-between",children:[r.jsx("input",{type:"text",value:e,onChange:i=>n(i.target.value),placeholder:"Search DPIAs by name or system...",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100"}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:t,onChange:i=>a(i.target.value),children:[r.jsx("option",{value:"all",children:"All statuses"}),r.jsx("option",{value:"draft",children:"Draft"}),r.jsx("option",{value:"in_review",children:"In review"}),r.jsx("option",{value:"approved",children:"Approved"}),r.jsx("option",{value:"rejected",children:"Rejected"}),r.jsx("option",{value:"archived",children:"Archived"})]}),r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:s,onChange:i=>o(i.target.value),children:[r.jsx("option",{value:"all",children:"All risk levels"}),r.jsx("option",{value:"low",children:"Low"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"high",children:"High"})]})]})]}),JI={draft:"bg-slate-100 text-slate-700 border-slate-200",in_review:"bg-amber-50 text-amber-700 border-amber-200",approved:"bg-emerald-50 text-emerald-700 border-emerald-200",rejected:"bg-rose-50 text-rose-700 border-rose-200",archived:"bg-slate-50 text-slate-500 border-slate-200"},eO={draft:"Draft",in_review:"In review",approved:"Approved",rejected:"Rejected",archived:"Archived"},ZN=({status:e})=>r.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-semibold ${JI[e]}`,children:eO[e]}),tO=e=>{const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},sO=({dpia:e,onClick:t})=>r.jsxs("tr",{className:"cursor-pointer border-b last:border-0 hover:bg-slate-50 focus-within:bg-slate-50",tabIndex:0,role:"button",onClick:t,onKeyDown:s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),t())},children:[r.jsx("td",{className:"py-3 pr-4 font-semibold text-foreground",children:e.name}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:e.systemName}),r.jsx("td",{className:"py-3 pr-4",children:r.jsx(ZN,{status:e.status})}),r.jsx("td",{className:"py-3 pr-4 text-foreground capitalize",children:e.risk.level}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:e.owner}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:tO(e.lastUpdated)})]}),nO=({dpias:e,onSelect:t,isLoading:s,isError:n})=>s?r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading DPIAs..."}):n?r.jsx("p",{className:"text-sm text-red-600",children:"Failed to load DPIAs."}):e.length===0?r.jsx("p",{className:"text-sm text-muted-foreground",children:"No DPIAs found for the selected filters."}):r.jsx("div",{className:"overflow-auto rounded-lg border border-slate-200 bg-white shadow-sm",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b bg-slate-50 text-left text-slate-500",children:[r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Name"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"System"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Status"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Risk level"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Owner"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Last updated"})]})}),r.jsx("tbody",{children:e.map(a=>r.jsx(sO,{dpia:a,onClick:()=>t(a)},a.id))})]})}),rO=["draft","in_review","approved","rejected","archived"],aO=(e,t)=>{const s=e*t,n=s<=5?"low":s<=12?"medium":"high";return{likelihood:e,impact:t,overallScore:s,level:n}},oO=({dpia:e,isOpen:t,mode:s,onClose:n,onSave:a,isLoading:o=!1,isSaving:i=!1})=>{const[l,u]=P.useState(e),c=P.useRef(null);if(P.useEffect(()=>{t&&u(e)},[e,t]),P.useEffect(()=>{var h;if(!t)return;const v=p=>{if(p.key==="Escape"&&n(),p.key==="Tab"&&c.current){const w=c.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(w.length===0)return;const j=w[0],S=w[w.length-1];!p.shiftKey&&document.activeElement===S?(p.preventDefault(),j.focus()):p.shiftKey&&document.activeElement===j&&(p.preventDefault(),S.focus())}};document.addEventListener("keydown",v);const x=(h=c.current)==null?void 0:h.querySelector("input, select, textarea, button");return x==null||x.focus(),()=>document.removeEventListener("keydown",v)},[t,n]),!t||!l)return null;const d=s==="create"||s==="edit",f=(v,x)=>{u(h=>h&&{...h,[v]:x})},m=(v,x)=>{u(h=>{if(!h)return h;const p=aO(v==="likelihood"?x:h.risk.likelihood,v==="impact"?x:h.risk.impact);return{...h,risk:p}})},g=()=>{l.name.trim()&&a(l)},b=v=>{v.target===v.currentTarget&&n()};return r.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/30 backdrop-blur-sm",onMouseDown:b,children:r.jsxs("div",{className:"flex h-full w-full max-w-2xl flex-col overflow-y-auto bg-white shadow-2xl",ref:c,children:[r.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-5 py-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:l.name||"Untitled DPIA"}),r.jsx(ZN,{status:l.status})]}),r.jsx("p",{className:"text-sm text-slate-600",children:l.systemName})]}),r.jsx("button",{type:"button",onClick:n,className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:r.jsx(Ee,{className:"h-5 w-5"})})]}),r.jsxs("div",{className:"space-y-4 p-5",children:[o&&r.jsx("p",{className:"text-sm text-slate-500",children:"Loading DPIA details..."}),r.jsxs("div",{className:"space-y-3 rounded-lg border border-slate-200 bg-white p-4",children:[r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Name"}),r.jsx("input",{type:"text",value:l.name,onChange:v=>f("name",v.target.value),disabled:!d||i,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"System name"}),r.jsx("input",{type:"text",value:l.systemName,onChange:v=>f("systemName",v.target.value),disabled:!d||i,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-3",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Owner"}),r.jsx("input",{type:"text",value:l.owner,onChange:v=>f("owner",v.target.value),disabled:!d||i,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Status"}),r.jsx("select",{value:l.status,onChange:v=>f("status",v.target.value),disabled:!d||i,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:rO.map(v=>r.jsx("option",{value:v,children:v.replace("_"," ")},v))})]}),r.jsxs("div",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Risk level"}),r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm font-semibold capitalize text-slate-900",children:[l.risk.level," (",l.risk.overallScore,")"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Purpose"}),r.jsx("textarea",{value:l.purpose,onChange:v=>f("purpose",v.target.value),disabled:!d||i,className:"min-h-[80px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Legal basis"}),r.jsx("textarea",{value:l.legalBasis||"",onChange:v=>f("legalBasis",v.target.value),disabled:!d||i,className:"min-h-[80px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Processing description"}),r.jsx("textarea",{value:l.processingDescription,onChange:v=>f("processingDescription",v.target.value),disabled:!d,className:"min-h-[90px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Data subjects"}),r.jsx("textarea",{value:l.dataSubjects,onChange:v=>f("dataSubjects",v.target.value),disabled:!d||i,className:"min-h-[70px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Data categories"}),r.jsx("textarea",{value:l.dataCategories,onChange:v=>f("dataCategories",v.target.value),disabled:!d||i,className:"min-h-[70px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Recipients"}),r.jsx("textarea",{value:l.recipients||"",onChange:v=>f("recipients",v.target.value),disabled:!d||i,className:"min-h-[60px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Transfers outside EU"}),r.jsx("textarea",{value:l.transfersOutsideEU||"",onChange:v=>f("transfersOutsideEU",v.target.value),disabled:!d||i,className:"min-h-[60px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Mitigation measures"}),r.jsx("textarea",{value:l.mitigationMeasures||"",onChange:v=>f("mitigationMeasures",v.target.value),disabled:!d,className:"min-h-[80px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]})]}),r.jsxs("div",{className:"space-y-3 rounded-lg border border-slate-200 bg-white p-4",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"Risk assessment"}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-3",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Likelihood (1-5)"}),r.jsx("select",{value:l.risk.likelihood,onChange:v=>m("likelihood",Number(v.target.value)),disabled:!d||i,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:[1,2,3,4,5].map(v=>r.jsx("option",{value:v,children:v},v))})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Impact (1-5)"}),r.jsx("select",{value:l.risk.impact,onChange:v=>m("impact",Number(v.target.value)),disabled:!d||i,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:[1,2,3,4,5].map(v=>r.jsx("option",{value:v,children:v},v))})]}),r.jsxs("div",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Overall score"}),r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm font-semibold text-slate-900",children:[l.risk.overallScore," (",l.risk.level,")"]})]})]})]})]}),r.jsx("div",{className:"sticky bottom-0 border-t border-slate-200 bg-white p-4",children:r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[s!=="create"&&l.id&&r.jsx(Jr,{resourceType:"dpia",resourceId:l.id}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(B,{variant:"outline",onClick:n,children:"Cancel"}),d&&r.jsx(B,{onClick:g,disabled:i,children:i?"Saving...":s==="create"?"Create DPIA":"Save changes"})]})]})})]})})},iO=[{name:"Employee monitoring",purpose:"Monitor workstation usage for security and productivity analysis.",processingDescription:"Processing of log-in times, application usage and visited websites for employees."},{name:"Video surveillance",purpose:"Monitor office premises for safety and asset protection.",processingDescription:"Processing of video footage of employees and visitors in office premises."},{name:"New marketing tool",purpose:"Assess processing for targeted marketing campaigns with a new tool.",processingDescription:"Processing of contact details, engagement metrics and website behaviour for marketing."}],lO=({onNewBlank:e,onTemplateSelect:t})=>{const[s,n]=P.useState(!1);return r.jsxs("div",{className:"relative",children:[r.jsxs(B,{className:"inline-flex items-center gap-2",onClick:()=>n(a=>!a),children:[r.jsx(Wl,{className:"h-4 w-4"}),"New DPIA",r.jsx(pp,{className:"h-4 w-4"})]}),s&&r.jsxs("div",{className:"absolute right-0 z-20 mt-2 w-72 rounded-lg border border-slate-200 bg-white shadow-lg",children:[r.jsxs("button",{type:"button",className:"flex w-full items-start gap-2 px-4 py-3 text-left text-sm text-slate-800 hover:bg-slate-50",onClick:()=>{e(),n(!1)},children:[r.jsx("span",{className:"font-semibold",children:"Blank DPIA"}),r.jsx("span",{className:"text-xs text-slate-500",children:"Start from scratch."})]}),r.jsxs("div",{className:"border-t border-slate-200 px-4 py-3",children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"From template"}),r.jsx("div",{className:"mt-2 space-y-2",children:iO.map(a=>r.jsxs("button",{type:"button",className:"flex w-full flex-col items-start rounded-md px-2 py-2 text-left text-sm text-slate-800 hover:bg-slate-50",onClick:()=>{t(a),n(!1)},children:[r.jsx("span",{className:"font-semibold",children:a.name}),r.jsx("span",{className:"text-xs text-slate-500",children:a.purpose})]},a.name))})]})]})]})},En=e=>({...e,id:(e==null?void 0:e.id)??(e==null?void 0:e._id)??(e==null?void 0:e.dpia_id)??"",createdAt:(e==null?void 0:e.createdAt)??(e==null?void 0:e.created_at)??"",lastUpdated:(e==null?void 0:e.lastUpdated)??(e==null?void 0:e.last_updated)??(e==null?void 0:e.updated_at)??(e==null?void 0:e.updatedAt)??"",risk:(e==null?void 0:e.risk)??(e==null?void 0:e.risk_rating)??(e==null?void 0:e.riskRating)??{likelihood:1,impact:1,overallScore:1,level:"low"}}),cO=e=>{if(Array.isArray(e))return e.map(En);const t=e;return Array.isArray(t==null?void 0:t.items)?t.items.map(En):Array.isArray(t==null?void 0:t.dpias)?t.dpias.map(En):[]};async function uO(){const e=await z.get("/api/dpia");return cO(e.data)}async function dO(e){const t=await z.get(`/api/dpia/${e}`);return En(t.data)}async function fO(e){const t=await z.post("/api/dpia",e);return En(t.data)}async function pO(e,t){const s=await z.put(`/api/dpia/${e}`,t);return En(s.data)}async function hO(e,t){const s=await z.patch(`/api/dpia/${e}`,t);return En(s.data)}function mO(){const[e,t]=y.useState([]),[s,n]=y.useState(!1),[a,o]=y.useState(!1),[i,l]=y.useState(!1),[u,c]=y.useState(null),d=y.useRef(!0);y.useEffect(()=>()=>{d.current=!1},[]);const f=y.useCallback(async()=>{n(!0),c(null);try{const x=await uO();d.current&&t(x)}catch(x){d.current&&c((x==null?void 0:x.message)??"Failed to load DPIA items.")}finally{d.current&&n(!1)}},[]);y.useEffect(()=>{f()},[f]);const m=y.useCallback(async x=>{o(!0);try{const h=await dO(x);return d.current&&t(p=>p.map(w=>w.id===h.id?h:w)),h}finally{d.current&&o(!1)}},[]),g=y.useCallback(async x=>{l(!0);try{const h=await fO(x);return d.current&&t(p=>[h,...p]),h}finally{d.current&&l(!1)}},[]),b=y.useCallback(async(x,h)=>{l(!0);try{const p=await pO(x,h);return d.current&&t(w=>w.map(j=>j.id===p.id?p:j)),p}finally{d.current&&l(!1)}},[]),v=y.useCallback(async(x,h)=>{const p=await hO(x,h);return d.current&&t(w=>w.map(j=>j.id===p.id?p:j)),p},[]);return{dpias:e,loading:s,detailLoading:a,saving:i,error:u,refresh:f,fetchOne:m,create:g,update:b,patch:v}}const xO=()=>{const{dpias:e,loading:t,detailLoading:s,saving:n,error:a,refresh:o,create:i,update:l,fetchOne:u}=mO(),[c,d]=P.useState(""),[f,m]=P.useState("all"),[g,b]=P.useState("all"),[v,x]=P.useState(null),[h,p]=P.useState("view"),w=P.useMemo(()=>e.filter(N=>{const k=N.name.toLowerCase().includes(c.toLowerCase())||N.systemName.toLowerCase().includes(c.toLowerCase()),A=f==="all"?!0:N.status===f,I=g==="all"?!0:N.risk.level===g;return k&&A&&I}),[e,c,f,g]),j=N=>{x(N),p("view"),N.id&&u(N.id).then(k=>x(k)).catch(()=>{})},S=async N=>{if(h==="create"){const{id:k,...A}=N;await i(A)}else N.id&&await l(N.id,N);await o(),x(null),p("view")},E=()=>{const N=new Date().toISOString();x({id:`dpia-${Date.now()}`,name:"New DPIA",systemName:"",owner:"You",status:"draft",createdAt:N,lastUpdated:N,purpose:"",legalBasis:"",processingDescription:"",dataSubjects:"",dataCategories:"",recipients:"",transfersOutsideEU:"",mitigationMeasures:"",risk:{likelihood:1,impact:1,overallScore:1,level:"low"}}),p("create")},C=N=>{const k=new Date().toISOString();x({id:`dpia-${Date.now()}`,name:N.name,systemName:N.name,owner:"You",status:"draft",createdAt:k,lastUpdated:k,purpose:N.purpose,legalBasis:"",processingDescription:N.processingDescription,dataSubjects:"",dataCategories:"",recipients:"",transfersOutsideEU:"",mitigationMeasures:"",risk:{likelihood:2,impact:2,overallScore:4,level:"low"}}),p("create")};return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-slate-900",children:"DPIA"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Manage your Data Protection Impact Assessments for high-risk processing activities."})]}),r.jsx(lO,{onNewBlank:E,onTemplateSelect:C})]}),r.jsx(ZI,{search:c,status:f,risk:g,onSearch:d,onStatusChange:m,onRiskChange:b}),r.jsx(nO,{dpias:w,onSelect:j,isLoading:t,isError:!!a}),a&&r.jsx("p",{className:"text-sm text-rose-600",children:a}),r.jsx(oO,{dpia:v,isOpen:!!v,mode:h,onClose:()=>x(null),onSave:S,isLoading:s,isSaving:n})]})},gO=[{value:"access",label:"Access"},{value:"rectification",label:"Rectification"},{value:"erasure",label:"Erasure"},{value:"restriction",label:"Restriction"},{value:"portability",label:"Portability"},{value:"objection",label:"Objection"},{value:"other",label:"Other"}],yO=[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"}],M0=()=>{const e=new Date;return e.setDate(e.getDate()+30),e.toISOString().split("T")[0]??""},vO='button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])',bO=({open:e,onClose:t,onCreate:s})=>{const{toast:n}=rn(),[a,o]=P.useState({type:"access",data_subject:"",email:"",identifier:"",description:"",due_at:M0(),priority:"medium"}),[i,l]=P.useState({}),[u,c]=P.useState(null),[d,f]=P.useState(!1),m=P.useRef(null),g=P.useCallback(()=>{o({type:"access",data_subject:"",email:"",identifier:"",description:"",due_at:M0(),priority:"medium"}),l({}),c(null)},[]);P.useEffect(()=>{e&&g()},[e,g]),P.useEffect(()=>{var j;if(!e)return;const p=S=>{if(S.key==="Escape"){S.preventDefault(),t();return}if(S.key==="Tab"&&m.current){const E=m.current.querySelectorAll(vO);if(E.length===0)return;const C=E[0],N=E[E.length-1],k=document.activeElement;!S.shiftKey&&k===N?(S.preventDefault(),C.focus()):S.shiftKey&&k===C&&(S.preventDefault(),N.focus())}};document.addEventListener("keydown",p);const w=(j=m.current)==null?void 0:j.querySelector("input, select, textarea, button");return w==null||w.focus(),()=>{document.removeEventListener("keydown",p)}},[e,t]);const b=p=>{p.target===p.currentTarget&&t()},v=(p,w)=>{o(j=>({...j,[p]:w})),l(j=>({...j,[p]:void 0}))},x=()=>{const p={};return a.data_subject.trim()||(p.data_subject="Name is required."),a.email.trim()?/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(a.email.trim())||(p.email="Email format is invalid."):p.email="Email is required.",a.type||(p.type="Request type is required."),a.description.trim()||(p.description="Description is required."),a.due_at||(p.due_at="Due date is required."),l(p),Object.keys(p).length===0},h=async p=>{var w;if(p.preventDefault(),!!x()){f(!0),c(null);try{await s({...a,data_subject:a.data_subject.trim(),email:a.email.trim(),identifier:((w=a.identifier)==null?void 0:w.trim())||void 0,description:a.description.trim(),due_at:a.due_at,priority:a.priority||void 0}),n({title:"Data subject request created",description:"The new request has been registered successfully."}),t(),g()}catch(j){c((j==null?void 0:j.message)??"Failed to create data subject request. Please try again.")}finally{f(!1)}}};return e?r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/40 px-4 backdrop-blur-sm",onMouseDown:b,children:r.jsxs("div",{ref:m,role:"dialog","aria-modal":"true","aria-labelledby":"new-dsr-title",className:"relative w-full max-w-2xl rounded-xl bg-white shadow-xl focus:outline-none",onMouseDown:p=>p.stopPropagation(),children:[r.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-6 py-4",children:[r.jsxs("div",{children:[r.jsx("h2",{id:"new-dsr-title",className:"text-lg font-semibold text-slate-900",children:"Create data subject request"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Register a new GDPR data subject request and track its status."})]}),r.jsx("button",{type:"button",onClick:t,className:"rounded-full p-2 text-slate-500 transition hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:r.jsx(Ee,{className:"h-5 w-5"})})]}),r.jsxs("form",{onSubmit:h,className:"space-y-4 px-6 py-5",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsxs("span",{className:"font-medium",children:["Data subject name ",r.jsx("span",{className:"text-rose-600",children:"*"})]}),r.jsx("input",{type:"text",className:"w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-200 disabled:opacity-60",value:a.data_subject,onChange:p=>v("data_subject",p.target.value),disabled:d,required:!0}),i.data_subject&&r.jsx("p",{className:"text-xs text-rose-600",children:i.data_subject})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsxs("span",{className:"font-medium",children:["Email address ",r.jsx("span",{className:"text-rose-600",children:"*"})]}),r.jsx("input",{type:"email",className:"w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-200 disabled:opacity-60",value:a.email,onChange:p=>v("email",p.target.value),disabled:d,required:!0}),i.email&&r.jsx("p",{className:"text-xs text-rose-600",children:i.email})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsxs("span",{className:"font-medium",children:["Request type ",r.jsx("span",{className:"text-rose-600",children:"*"})]}),r.jsx("select",{className:"w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-200 disabled:opacity-60",value:a.type,onChange:p=>v("type",p.target.value),disabled:d,required:!0,children:gO.map(p=>r.jsx("option",{value:p.value,children:p.label},p.value))}),i.type&&r.jsx("p",{className:"text-xs text-rose-600",children:i.type})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Priority"}),r.jsxs("select",{className:"w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-200 disabled:opacity-60",value:a.priority??"",onChange:p=>v("priority",p.target.value||void 0),disabled:d,children:[r.jsx("option",{value:"",children:"Select priority"}),yO.map(p=>r.jsx("option",{value:p.value,children:p.label},p.value))]}),i.priority&&r.jsx("p",{className:"text-xs text-rose-600",children:i.priority})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Identifier / Reference"}),r.jsx("input",{type:"text",className:"w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-200 disabled:opacity-60",value:a.identifier??"",onChange:p=>v("identifier",p.target.value),disabled:d,placeholder:"Customer ID, case number, etc."})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsxs("span",{className:"font-medium",children:["Due date ",r.jsx("span",{className:"text-rose-600",children:"*"})]}),r.jsx("input",{type:"date",className:"w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-200 disabled:opacity-60",value:a.due_at,onChange:p=>v("due_at",p.target.value),disabled:d,required:!0}),i.due_at&&r.jsx("p",{className:"text-xs text-rose-600",children:i.due_at})]})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsxs("span",{className:"font-medium",children:["Description ",r.jsx("span",{className:"text-rose-600",children:"*"})]}),r.jsx("textarea",{className:"min-h-[110px] w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-200 disabled:opacity-60",value:a.description,onChange:p=>v("description",p.target.value),disabled:d,placeholder:"Short description of the request.",required:!0}),i.description&&r.jsx("p",{className:"text-xs text-rose-600",children:i.description})]}),u&&r.jsx("div",{className:"rounded-md border border-rose-200 bg-rose-50 px-3 py-2 text-sm text-rose-700",children:u}),r.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2",children:[r.jsx(B,{type:"button",variant:"outline",onClick:t,disabled:d,children:"Cancel"}),r.jsxs(B,{type:"submit",disabled:d,children:[d&&r.jsx(mp,{className:"mr-2 h-4 w-4 animate-spin"}),d?"Creating...":"Create"]})]})]})]})}):null},L0={received:{label:"Received",classes:"bg-slate-100 text-slate-800 border-slate-200"},identity_required:{label:"Identity required",classes:"bg-amber-50 text-amber-700 border-amber-200"},in_progress:{label:"In progress",classes:"bg-sky-50 text-sky-700 border-sky-200"},waiting_for_information:{label:"Waiting for information",classes:"bg-amber-50 text-amber-700 border-amber-200"},completed:{label:"Completed",classes:"bg-emerald-50 text-emerald-700 border-emerald-200"},rejected:{label:"Rejected",classes:"bg-rose-50 text-rose-700 border-rose-200"}},JN=({status:e})=>{const t=L0[e]??L0.received;return r.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-semibold ${t.classes}`,children:t.label})},I0={received:["identity_required","in_progress"],identity_required:["in_progress"],in_progress:["waiting_for_information","completed","rejected"],waiting_for_information:["in_progress","completed","rejected"],completed:[],rejected:[]},wO={received:"Mark as received",identity_required:"Mark as identity required",in_progress:"Mark as in progress",waiting_for_information:"Mark as waiting for information",completed:"Mark as completed",rejected:"Mark as rejected"},O0=e=>{if(!e)return"N/A";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},jO=e=>{if(!e)return"N/A";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},NO=e=>{if(!e)return{label:"No due date set",tone:"ok"};const t=new Date,s=new Date(e);if(Number.isNaN(s.getTime()))return{label:e,tone:"ok"};const n=s.getTime()-t.getTime(),a=Math.floor(n/(1e3*60*60*24));return a>1?{label:`Due in ${a} days`,tone:a<=7?"soon":"ok"}:a===1?{label:"Due tomorrow",tone:"soon"}:a===0?{label:"Due today",tone:"soon"}:{label:`Overdue by ${Math.abs(a)} days`,tone:"late"}},kO=e=>[{label:"Request created",timestamp:e.createdAt??e.created_at??e.received_at??""},{label:`Status set to ${e.status}`,timestamp:e.updatedAt??e.updated_at??""}].filter(s=>s.timestamp),SO=({dsr:e,isOpen:t,onClose:s,onStatusChange:n,isUpdating:a=!1,error:o,isLoading:i=!1})=>{const l=P.useRef(null);if(P.useEffect(()=>{var g;if(!t)return;const f=b=>{if(b.key==="Escape"&&s(),b.key==="Tab"&&l.current){const v=l.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(v.length===0)return;const x=v[0],h=v[v.length-1];!b.shiftKey&&document.activeElement===h?(b.preventDefault(),x.focus()):b.shiftKey&&document.activeElement===x&&(b.preventDefault(),h.focus())}};document.addEventListener("keydown",f);const m=(g=l.current)==null?void 0:g.querySelector("button, [href], input, select, textarea");return m==null||m.focus(),()=>document.removeEventListener("keydown",f)},[t,s]),!t||!e)return null;const u=NO(e.dueDate??e.due_at??null),c=e.events&&e.events.length>0?e.events:kO(e),d=f=>{f.target===f.currentTarget&&s()};return r.jsx("div",{className:"fixed inset-0 z-40 flex justify-end bg-slate-900/30 backdrop-blur-sm",onMouseDown:d,children:r.jsxs("div",{className:"h-full w-full max-w-xl overflow-y-auto bg-white shadow-2xl",ref:l,children:[r.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-5 py-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:e.data_subject}),r.jsx(JN,{status:e.status})]}),r.jsx("p",{className:"text-sm text-slate-600",children:e.type})]}),r.jsx("button",{type:"button",onClick:s,className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:r.jsx(Ee,{className:"h-5 w-5"})})]}),r.jsxs("div",{className:"space-y-4 p-5",children:[i&&r.jsx("p",{className:"text-sm text-slate-500",children:"Loading request details..."}),r.jsxs("div",{className:"grid gap-3 rounded-lg border border-slate-200 bg-slate-50 p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-700",children:[r.jsx($E,{className:"h-4 w-4 text-slate-500"}),r.jsx("span",{children:e.email||"No email provided"})]}),e.identifier&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-700",children:[r.jsx(ME,{className:"h-4 w-4 text-slate-500"}),r.jsx("span",{children:e.identifier})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-700",children:[r.jsx(Jv,{className:"h-4 w-4 text-slate-500"}),r.jsx("span",{className:"capitalize",children:e.type})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-700",children:[r.jsx(jE,{className:"h-4 w-4 text-slate-500"}),r.jsxs("span",{children:["Created: ",O0(e.createdAt??e.created_at)]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-700",children:[r.jsx(Kv,{className:"h-4 w-4 text-slate-500"}),r.jsxs("span",{children:["Due: ",jO(e.dueDate??e.due_at)," -"," ",r.jsx("span",{className:u.tone==="ok"?"text-emerald-600":u.tone==="soon"?"text-amber-600":"text-rose-600",children:u.label})]})]})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(LE,{className:"h-4 w-4 text-sky-600"}),r.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Details"})]}),r.jsx("p",{className:"mt-2 whitespace-pre-wrap text-sm text-slate-700",children:e.description||"No additional details provided."})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gr,{className:"h-4 w-4 text-sky-600"}),r.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Activity"})]}),r.jsxs("div",{className:"mt-3 space-y-3",children:[c.map(f=>r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"mt-1 h-2 w-2 rounded-full bg-sky-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-slate-900",children:f.label}),r.jsx("p",{className:"text-xs text-slate-500",children:O0(f.timestamp)})]})]},f.timestamp+f.label)),c.length===0&&r.jsx("p",{className:"text-sm text-slate-500",children:"No activity logged."})]})]})]}),r.jsxs("div",{className:"sticky bottom-0 border-t border-slate-200 bg-white p-4",children:[r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.id?r.jsx(Jr,{resourceType:"dsr",resourceId:e.id}):r.jsx("div",{className:"h-9","aria-hidden":!0}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[I0[e.status].length===0&&r.jsx(B,{variant:"outline",disabled:!0,className:"cursor-not-allowed",children:"No further actions"}),I0[e.status].map(f=>r.jsx(B,{variant:"outline",size:"sm",disabled:a||i,onClick:()=>n(f),children:wO[f]||"Update status"},f))]})]}),o&&r.jsx("p",{className:"mt-2 text-sm text-rose-600",children:o})]})]})})},CO=e=>["received","identity_required","in_progress","waiting_for_information","completed","rejected"].includes(e)?e:"received",EO=e=>["access","rectification","erasure","restriction","portability","objection","other"].includes(e)?e:"access",kr=e=>({...e,type:EO(e==null?void 0:e.type),status:CO(e==null?void 0:e.status),dueDate:(e==null?void 0:e.dueDate)??(e==null?void 0:e.due_at)??null,createdAt:(e==null?void 0:e.createdAt)??(e==null?void 0:e.created_at),updatedAt:(e==null?void 0:e.updatedAt)??(e==null?void 0:e.updated_at)}),PO=e=>{if(Array.isArray(e))return e.map(kr);const t=e;return Array.isArray(t==null?void 0:t.items)?t.items.map(kr):Array.isArray(t==null?void 0:t.requests)?t.requests.map(kr):[]};async function AO(){const e=await z.get("/api/dsr");return PO(e.data)}async function TO(e){const t=await z.get(`/api/dsr/${e}`);return kr(t.data)}async function RO(e){const t=await z.post("/api/dsr",e);return kr(t.data)}async function DO(e,t){const s=await z.patch(`/api/dsr/${e}`,{status:t});return kr(s.data)}async function _O(e,t){if(!e)throw new Error("Missing tenant identifier.");await z.post(`/api/public/dsr/${e}`,t)}const MO=()=>{const[e,t]=y.useState([]),[s,n]=y.useState(!1),[a,o]=y.useState(!1),[i,l]=y.useState(null),u=y.useRef(!0);y.useEffect(()=>()=>{u.current=!1},[]);const c=y.useCallback(async()=>{n(!0),l(null);try{const g=await AO();u.current&&t(g)}catch(g){u.current&&(l((g==null?void 0:g.message)??"Failed to load data subject requests."),t([]))}finally{u.current&&n(!1)}},[]);y.useEffect(()=>{c()},[c]);const d=y.useCallback(async g=>{const b=await RO(g);return u.current&&t(v=>[b,...v]),b},[]),f=y.useCallback(async(g,b)=>{const v=await DO(g,b);return u.current&&t(x=>x.map(h=>h.id===v.id?v:h)),v},[]),m=y.useCallback(async g=>{o(!0);try{const b=await TO(g);return u.current&&t(v=>v.map(x=>x.id===b.id?b:x)),b}finally{u.current&&o(!1)}},[]);return{data:e,loading:s,detailLoading:a,error:i,reload:c,create:d,updateStatus:f,fetchDetail:m}},F0=e=>{if(!e)return"N/A";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},wu=e=>e?e.slice(0,1).toUpperCase()+e.slice(1):"N/A",LO=["received","identity_required","in_progress","waiting_for_information"],IO=e=>{if(!e)return"";const t=new Date,s=new Date(e);if(Number.isNaN(s.getTime()))return"";const n=s.getTime()-t.getTime(),a=Math.floor(n/(1e3*60*60*24));return a<0?"text-rose-600":a<=3?"text-amber-600":""},OO=()=>{const{data:e,loading:t,detailLoading:s,error:n,reload:a,create:o,updateStatus:i,fetchDetail:l}=MO(),{toast:u}=rn(),[c,d]=P.useState(!1),[f,m]=P.useState("all"),[g,b]=P.useState(null),[v,x]=P.useState(null),[h,p]=P.useState(!1),w=async N=>{await o(N),await a(),d(!1)},j=P.useMemo(()=>f==="all"?e:f==="completed"?e.filter(N=>N.status==="completed"):f==="rejected"?e.filter(N=>N.status==="rejected"):e.filter(N=>LO.includes(N.status)),[e,f]),S=N=>{b(N),x(null),N.id&&l(N.id).then(k=>b(k)).catch(k=>x((k==null?void 0:k.message)??"Failed to load request details."))},E=async N=>{if(g!=null&&g.id){p(!0),x(null);try{const k=await i(g.id,N);b(k),u({title:"Status updated",description:`Request marked as ${wu(N)}.`})}catch(k){x((k==null?void 0:k.message)??"Failed to update status. Please try again.")}finally{p(!1)}}},C=()=>{b(null),x(null)};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsx(pc,{title:"Data Subject Requests",description:"Track and manage GDPR data subject requests such as access, erasure, rectification, and objection."}),r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Data Subject Requests"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Monitor incoming requests and keep deadlines on track."})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(B,{variant:"outline",size:"sm",onClick:a,disabled:t,children:[r.jsx(xp,{className:"mr-2 h-4 w-4"}),"Refresh"]}),r.jsxs(B,{size:"sm",onClick:()=>d(!0),children:[r.jsx(Hl,{className:"mr-2 h-4 w-4"}),"New request"]})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-white px-3 py-1 text-sm text-slate-700",children:[r.jsx(Yv,{className:"h-4 w-4 text-slate-500"}),"Status"]}),["all","open","completed","rejected"].map(N=>r.jsx("button",{type:"button",className:`rounded-full border px-3 py-1 text-xs font-semibold ${f===N?"border-sky-500 bg-sky-50 text-sky-700":"border-slate-200 bg-white text-slate-700 hover:bg-slate-50"}`,onClick:()=>m(N),children:wu(N)},N))]}),r.jsxs("div",{className:"space-y-3 rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[t&&r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading requests..."}),n&&r.jsx("p",{className:"text-sm text-red-600",children:n}),!t&&!n&&j.length===0&&r.jsx("p",{className:"text-sm text-muted-foreground",children:"No data subject requests yet."}),!t&&j.length>0&&r.jsx("div",{className:"overflow-auto",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b text-left text-slate-500",children:[r.jsx("th",{className:"py-2 pr-4 font-semibold",children:"Type"}),r.jsx("th",{className:"py-2 pr-4 font-semibold",children:"Data subject"}),r.jsx("th",{className:"py-2 pr-4 font-semibold",children:"Email"}),r.jsx("th",{className:"py-2 pr-4 font-semibold",children:"Status"}),r.jsx("th",{className:"py-2 pr-4 font-semibold",children:"Received"}),r.jsx("th",{className:"py-2 pr-4 font-semibold",children:"Due date"}),r.jsx("th",{className:"py-2 pr-4 font-semibold",children:"Identifier"})]})}),r.jsx("tbody",{children:j.map(N=>r.jsxs("tr",{className:"cursor-pointer border-b last:border-0 hover:bg-slate-50 focus-within:bg-slate-50",tabIndex:0,role:"button",onClick:()=>S(N),onKeyDown:k=>{(k.key==="Enter"||k.key===" ")&&(k.preventDefault(),S(N))},children:[r.jsx("td",{className:"py-3 pr-4 font-semibold text-foreground",children:wu(N.type)}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:N.data_subject}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:N.email||"N/A"}),r.jsx("td",{className:"py-3 pr-4",children:r.jsx(JN,{status:N.status})}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:F0(N.received_at??N.createdAt)}),r.jsx("td",{className:`py-3 pr-4 text-foreground ${IO(N.dueDate??N.due_at)}`,children:F0(N.dueDate??N.due_at)}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:N.identifier||""})]},N.id??`${N.data_subject}-${N.due_at??""}`))})]})})]})]}),r.jsx(SO,{dsr:g,isOpen:!!g,onClose:C,onStatusChange:E,isUpdating:h,error:v,isLoading:s}),r.jsx(bO,{open:c,onClose:()=>d(!1),onCreate:async N=>{try{await w(N)}catch(k){throw u({variant:"destructive",title:"Failed to create request",description:(k==null?void 0:k.message)??"Please try again."}),k}}})]})},ju=["access","rectification","erasure","restriction","portability","objection"],FO=()=>{const[e,t]=y.useState(""),[s,n]=y.useState(ju[0]),[a,o]=y.useState(""),[i,l]=y.useState(!1),[u,c]=y.useState(null),[d,f]=y.useState(null),m=async b=>{var v;b.preventDefault(),l(!0),c(null);try{const h=((v=(await z.post("/dsr",{email:e,type:s,description:a})).data)==null?void 0:v.id)??"N/A";f(h)}catch(x){c((x==null?void 0:x.message)??"Failed to submit request")}finally{l(!1)}},g=()=>{t(""),n(ju[0]),o(""),f(null),c(null)};return r.jsxs("div",{className:"space-y-6 max-w-3xl mx-auto p-4",children:[r.jsx(Do,{title:"Data Subject Request Portal",description:"Submit a GDPR request (access, rectification, erasure, restriction, portability, objection)."}),r.jsx(ne,{children:r.jsx(re,{className:"p-6 space-y-4",children:d?r.jsxs("div",{className:"space-y-3",children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Request submitted"}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Your ticket ID is ",r.jsx("span",{className:"font-semibold",children:d}),". We will respond within 30 days."]}),r.jsx(B,{onClick:g,children:"Submit another request"})]}):r.jsxs("form",{className:"space-y-4",onSubmit:m,children:[u&&r.jsxs("div",{className:"text-sm text-destructive",children:["Error: ",u]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Email"}),r.jsx(dt,{type:"email",value:e,onChange:b=>t(b.target.value),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Request type"}),r.jsx("select",{value:s,onChange:b=>n(b.target.value),className:"w-full rounded-md border border-border bg-background px-3 py-2 text-sm",children:ju.map(b=>r.jsx("option",{value:b,children:b},b))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Description"}),r.jsx("textarea",{value:a,onChange:b=>o(b.target.value),className:"w-full rounded-md border border-border bg-background px-3 py-2 text-sm min-h-[120px]",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Attachments"}),r.jsx("input",{type:"file",disabled:!0,className:"text-sm text-muted-foreground"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"File uploads coming soon."})]}),r.jsx(B,{type:"submit",disabled:i,children:i?"Submitting":"Submit request"})]})})})]})},$O={dsr_deadline:"DSR",policy_expiring:"Policy",dpia_required:"DPIA",incident_alert:"Incident",ai_recommendation:"AI",system_health:"System"},VO={dsr_deadline:"bg-amber-50 text-amber-700 border-amber-200",policy_expiring:"bg-sky-50 text-sky-700 border-sky-200",dpia_required:"bg-emerald-50 text-emerald-700 border-emerald-200",incident_alert:"bg-rose-50 text-rose-700 border-rose-200",ai_recommendation:"bg-purple-50 text-purple-700 border-purple-200",system_health:"bg-slate-100 text-slate-700 border-slate-200"},UO=({type:e})=>r.jsx("span",{className:`inline-flex items-center rounded-full border px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide ${VO[e]}`,children:$O[e]}),BO={dsr_deadline:r.jsx(fp,{className:"h-4 w-4 text-amber-600"}),policy_expiring:r.jsx(Gr,{className:"h-4 w-4 text-amber-600"}),dpia_required:r.jsx(ql,{className:"h-4 w-4 text-rose-600"}),incident_alert:r.jsx(Xv,{className:"h-4 w-4 text-rose-600"}),ai_recommendation:r.jsx(ts,{className:"h-4 w-4 text-purple-600"}),system_health:r.jsx(dp,{className:"h-4 w-4 text-sky-600"})},zO={info:"bg-sky-500",warning:"bg-amber-500",critical:"bg-rose-500"},WO=e=>{const t=new Date(e),s=Date.now(),n=Math.max(0,s-t.getTime()),a=Math.floor(n/6e4);if(a<1)return"just now";if(a<60)return`${a}m ago`;const o=Math.floor(a/60);return o<24?`${o}h ago`:`${Math.floor(o/24)}d ago`},HO=({notification:e})=>{const{markAsRead:t}=fc(),s=zn(),n=async()=>{await t(e.id),e.link&&s(e.link)};return r.jsxs("div",{className:`flex cursor-pointer items-start gap-3 rounded-lg border border-slate-200 bg-white px-4 py-3 shadow-sm transition hover:bg-slate-50 focus-within:bg-slate-50 ${e.read?"opacity-90":""}`,tabIndex:0,role:"button",onClick:n,onKeyDown:a=>{(a.key==="Enter"||a.key===" ")&&(a.preventDefault(),n())},children:[r.jsxs("div",{className:"relative",children:[BO[e.type],!e.read&&r.jsx("span",{className:"absolute -right-1 -top-1 h-2 w-2 rounded-full bg-sky-500"})]}),r.jsxs("div",{className:"flex-1 space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(UO,{type:e.type}),r.jsx("span",{className:`h-2 w-2 rounded-full ${zO[e.severity]}`}),r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:e.title})]}),r.jsx("p",{className:"text-sm text-slate-700",children:e.description}),r.jsx("p",{className:"text-xs text-slate-500",children:WO(e.createdAt)})]})]})},qO=({notifications:e})=>e.length===0?r.jsx("p",{className:"text-sm text-muted-foreground",children:"You are all caught up. No notifications to show."}):r.jsx("div",{className:"space-y-3",children:e.map(t=>r.jsx(HO,{notification:t},t.id))}),KO=()=>{const{notifications:e,markAllAsRead:t,isLoading:s,isError:n}=fc();return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-slate-900",children:"Notifications"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Review all system notifications related to your GDPR compliance."})]}),r.jsx(B,{variant:"outline",size:"sm",onClick:t,children:"Mark all as read"})]}),r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:[s&&r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading notifications..."}),n&&r.jsx("p",{className:"text-sm text-red-600",children:"Failed to load notifications."}),!s&&!n&&r.jsx(qO,{notifications:e})]})]})},GO=e=>e>=80?"bg-emerald-50 text-emerald-700 border-emerald-200":e>=60?"bg-amber-50 text-amber-700 border-amber-200":"bg-rose-50 text-rose-700 border-rose-200",YO=e=>{if(!e)return"";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},XO=({overallScore:e,lastRunAt:t})=>r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:[r.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Overall GDPR audit score"}),r.jsxs("div",{className:"mt-2 flex items-end gap-3",children:[r.jsx("p",{className:"text-4xl font-semibold text-slate-900",children:e}),r.jsx("span",{className:`rounded-full border px-3 py-1 text-xs font-semibold ${GO(e)}`,children:e>=80?"Good":e>=60?"Needs attention":"Critical"})]}),r.jsxs("p",{className:"mt-2 text-sm text-slate-600",children:["Latest run: ",YO(t)]})]}),QO={good:"bg-emerald-50 text-emerald-700 border-emerald-200",needs_attention:"bg-amber-50 text-amber-700 border-amber-200",critical:"bg-rose-50 text-rose-700 border-rose-200"},ZO=({area:e})=>r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:e.name}),r.jsxs("p",{className:"text-xs text-slate-500",children:["Recommendations: ",e.recommendationsCount]})]}),r.jsx("span",{className:`rounded-full border px-3 py-1 text-xs font-semibold ${QO[e.status]}`,children:e.status==="good"?"Good":e.status==="critical"?"Critical":"Needs attention"})]}),r.jsxs("div",{className:"mt-3",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm font-semibold text-slate-900",children:[r.jsx("span",{children:"Score"}),r.jsx("span",{children:e.score})]}),r.jsx("div",{className:"mt-2 h-2 w-full rounded-full bg-slate-100",children:r.jsx("div",{className:`h-2 rounded-full ${e.score>=80?"bg-emerald-500":e.score>=60?"bg-amber-500":"bg-rose-500"}`,style:{width:`${e.score}%`}})})]}),r.jsx("p",{className:"mt-3 text-sm text-slate-700",children:e.summary})]}),JO={dsr:"Data subject requests",policies:"Policies",documents:"Documents",dpia:"DPIA",ropa:"ROPA",incidents:"Incidents",security_measures:"Security measures"},eF={low:"bg-slate-100 text-slate-700 border-slate-200",medium:"bg-amber-50 text-amber-700 border-amber-200",high:"bg-rose-50 text-rose-700 border-rose-200"},tF=({recommendations:e})=>e.length===0?r.jsx("p",{className:"text-sm text-muted-foreground",children:"No recommendations. You are all set."}):r.jsx("div",{className:"space-y-3",children:e.map(t=>r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4 shadow-sm",children:[r.jsx("div",{className:"flex items-center justify-between gap-2",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"rounded-full border border-slate-200 bg-slate-50 px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide text-slate-700",children:JO[t.area]}),r.jsxs("span",{className:`rounded-full border px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide ${eF[t.severity]}`,children:[t.severity," priority"]})]})}),r.jsx("p",{className:"mt-2 text-sm font-semibold text-slate-900",children:t.title}),r.jsx("p",{className:"text-sm text-slate-700",children:t.description}),t.estimatedImpact&&r.jsxs("p",{className:"text-xs text-slate-500",children:["Impact: ",t.estimatedImpact]})]},t.id))}),sF=e=>{const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},nF=(e,t)=>{const s=new Date(e),n=new Date(t);return Number.isNaN(s.getTime())||Number.isNaN(n.getTime())?"":`${(Math.max(0,n.getTime()-s.getTime())/1e3).toFixed(1)}s`},rF=({history:e})=>e.length===0?r.jsx("p",{className:"text-sm text-muted-foreground",children:"No audit runs yet."}):r.jsx("div",{className:"overflow-auto rounded-xl border border-slate-200 bg-white shadow-sm",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b bg-slate-50 text-left text-slate-500",children:[r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Date"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Overall score"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Duration"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Recommendations"})]})}),r.jsx("tbody",{children:e.slice(0,8).map(t=>r.jsxs("tr",{className:"border-b last:border-0",children:[r.jsx("td",{className:"py-3 pr-4 text-foreground",children:sF(t.createdAt)}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:t.overallScore}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:nF(t.createdAt,t.completedAt)}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:t.recommendations.length})]},t.id))})]})}),$0=({onRun:e,isRunning:t})=>r.jsxs(B,{onClick:e,disabled:t,className:"inline-flex items-center gap-2",children:[t?r.jsx(mp,{className:"h-4 w-4 animate-spin"}):r.jsx(ts,{className:"h-4 w-4"}),t?"Running audit":"Run AI audit"]}),V0=e=>["dsr","policies","documents","dpia","ropa","incidents","security_measures"].includes(e)?e:"policies",aF=e=>["good","needs_attention","critical"].includes(e)?e:"needs_attention",oF=e=>["low","medium","high"].includes(e)?e:"medium",La=e=>({id:(e==null?void 0:e.id)??(e==null?void 0:e._id)??"",createdAt:(e==null?void 0:e.createdAt)??(e==null?void 0:e.created_at)??"",completedAt:(e==null?void 0:e.completedAt)??(e==null?void 0:e.completed_at)??(e==null?void 0:e.finished_at)??"",overallScore:(e==null?void 0:e.overallScore)??(e==null?void 0:e.score)??0,areas:Array.isArray(e==null?void 0:e.areas)?e.areas.map(t=>({key:V0((t==null?void 0:t.key)??(t==null?void 0:t.id)),name:(t==null?void 0:t.name)??"",score:(t==null?void 0:t.score)??0,status:aF(t==null?void 0:t.status),summary:(t==null?void 0:t.summary)??"",recommendationsCount:(t==null?void 0:t.recommendationsCount)??(t==null?void 0:t.recommendations_count)??0})):[],recommendations:Array.isArray(e==null?void 0:e.recommendations)?e.recommendations.map(t=>({id:(t==null?void 0:t.id)??(t==null?void 0:t._id)??"",area:V0(t==null?void 0:t.area),title:(t==null?void 0:t.title)??"",description:(t==null?void 0:t.description)??"",severity:oF(t==null?void 0:t.severity),estimatedImpact:(t==null?void 0:t.estimatedImpact)??(t==null?void 0:t.estimated_impact)??void 0})):[]}),iF=e=>{if(Array.isArray(e))return e.map(La);const t=e;return Array.isArray(t==null?void 0:t.items)?t.items.map(La):Array.isArray(t==null?void 0:t.history)?t.history.map(La):[]};async function lF(){const e=await z.get("/api/ai/audit/latest");return e.data?La(e.data):null}async function cF(){const e=await z.get("/api/ai/audit/history");return iF(e.data)}async function uF(){const e=await z.post("/api/ai/audit/run");return La(e.data)}function dF(){const[e,t]=y.useState(null),[s,n]=y.useState([]),[a,o]=y.useState(!1),[i,l]=y.useState(!1),[u,c]=y.useState(!1),d=y.useRef(!0);y.useEffect(()=>()=>{d.current=!1},[]);const f=y.useCallback(async()=>{l(!0),c(!1);try{const[g,b]=await Promise.all([lF(),cF()]);if(!d.current)return;g&&t(g),n(b)}catch{d.current&&c(!0)}finally{d.current&&l(!1)}},[]);y.useEffect(()=>{f()},[f]);const m=y.useCallback(async()=>{o(!0),c(!1);try{const g=await uF();if(!d.current)return;t(g),n(b=>[g,...b])}catch{d.current&&c(!0)}finally{d.current&&o(!1)}},[]);return{latestRun:e,history:s,isRunning:a,isLoading:i,isError:u,runAudit:m}}const fF=()=>{const{latestRun:e,history:t,isRunning:s,isLoading:n,isError:a,runAudit:o}=dF();return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-slate-900",children:"AI Audit Engine"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Get an AI-generated overview of your GDPR compliance and prioritized recommendations."})]}),r.jsx($0,{onRun:o,isRunning:s})]}),n&&r.jsxs("div",{className:"space-y-3 rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:[r.jsx(It,{className:"h-6 w-48"}),r.jsx(It,{className:"h-4 w-72"}),r.jsx("div",{className:"grid gap-3 md:grid-cols-3",children:Array.from({length:3}).map((i,l)=>r.jsx(It,{className:"h-24 w-full rounded-xl"},l))})]}),a&&r.jsx("div",{className:"rounded-xl border border-rose-200 bg-rose-50 p-6 text-sm text-rose-700",children:"Failed to load AI audit data. Please try again."}),!n&&!e?r.jsxs("div",{className:"rounded-xl border border-dashed border-slate-300 bg-slate-50 p-6 text-center text-sm text-slate-600",children:[r.jsx("p",{className:"font-semibold text-slate-800",children:"No audit run yet"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Run your first AI audit to see compliance insights."}),r.jsx("div",{className:"mt-4 flex justify-center",children:r.jsx($0,{onRun:o,isRunning:s})})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsx("div",{className:"md:col-span-1",children:r.jsx(XO,{overallScore:e.overallScore,lastRunAt:e.completedAt})}),r.jsxs("div",{className:"md:col-span-2 rounded-xl border border-slate-200 bg-white p-4 shadow-sm text-sm text-slate-700",children:[r.jsx("p",{className:"font-semibold text-slate-900",children:"Latest run"}),r.jsxs("p",{children:["Completed: ",new Date(e.completedAt).toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})]}),r.jsx("p",{className:"text-slate-600",children:"The audit reviews key GDPR areas including DSR handling, policies, DPIA, ROPA, incidents, and security measures."})]})]}),r.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:e.areas.map(i=>r.jsx(ZO,{area:i},i.key))}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{className:"space-y-3 rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"AI recommendations"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Prioritized actions to improve compliance."})]})}),r.jsx(tF,{recommendations:e.recommendations})]}),r.jsxs("div",{className:"space-y-3 rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Recent audit runs"}),r.jsx("p",{className:"text-sm text-slate-600",children:"History of recent AI audits."})]})}),r.jsx(rF,{history:t})]})]})]})]})},pF=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsx(Do,{title:"DSR Portal Settings",description:"Configure public DSR portal options (placeholder)."}),r.jsx(ne,{children:r.jsx(re,{className:"p-4 text-sm text-muted-foreground",children:"Portal settings will be available here. Configure branding, allowed request types, and notification preferences."})})]});function hF(e){const t=y.useRef({value:e,previous:e});return y.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function mF(e){const t=xF(e),s=y.forwardRef((n,a)=>{const{children:o,...i}=n,l=y.Children.toArray(o),u=l.find(yF);if(u){const c=u.props.children,d=l.map(f=>f===u?y.Children.count(c)>1?y.Children.only(null):y.isValidElement(c)?c.props.children:null:f);return r.jsx(t,{...i,ref:a,children:y.isValidElement(c)?y.cloneElement(c,void 0,d):null})}return r.jsx(t,{...i,ref:a,children:o})});return s.displayName=`${e}.Slot`,s}function xF(e){const t=y.forwardRef((s,n)=>{const{children:a,...o}=s;if(y.isValidElement(a)){const i=bF(a),l=vF(o,a.props);return a.type!==y.Fragment&&(l.ref=n?Ul(n,i):i),y.cloneElement(a,l)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var gF=Symbol("radix.slottable");function yF(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===gF}function vF(e,t){const s={...t};for(const n in t){const a=e[n],o=t[n];/^on[A-Z]/.test(n)?a&&o?s[n]=(...l)=>{const u=o(...l);return a(...l),u}:a&&(s[n]=a):n==="style"?s[n]={...a,...o}:n==="className"&&(s[n]=[a,o].filter(Boolean).join(" "))}return{...e,...s}}function bF(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var wF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],e1=wF.reduce((e,t)=>{const s=mF(`Primitive.${t}`),n=y.forwardRef((a,o)=>{const{asChild:i,...l}=a,u=i?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(u,{...l,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),hc="Switch",[jF,sV]=nn(hc),[NF,kF]=jF(hc),t1=y.forwardRef((e,t)=>{const{__scopeSwitch:s,name:n,checked:a,defaultChecked:o,required:i,disabled:l,value:u="on",onCheckedChange:c,form:d,...f}=e,[m,g]=y.useState(null),b=Te(t,w=>g(w)),v=y.useRef(!1),x=m?d||!!m.closest("form"):!0,[h,p]=Bl({prop:a,defaultProp:o??!1,onChange:c,caller:hc});return r.jsxs(NF,{scope:s,checked:h,disabled:l,children:[r.jsx(e1.button,{type:"button",role:"switch","aria-checked":h,"aria-required":i,"data-state":a1(h),"data-disabled":l?"":void 0,disabled:l,value:u,...f,ref:b,onClick:Y(e.onClick,w=>{p(j=>!j),x&&(v.current=w.isPropagationStopped(),v.current||w.stopPropagation())})}),x&&r.jsx(r1,{control:m,bubbles:!v.current,name:n,value:u,checked:h,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});t1.displayName=hc;var s1="SwitchThumb",n1=y.forwardRef((e,t)=>{const{__scopeSwitch:s,...n}=e,a=kF(s1,s);return r.jsx(e1.span,{"data-state":a1(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});n1.displayName=s1;var SF="SwitchBubbleInput",r1=y.forwardRef(({__scopeSwitch:e,control:t,checked:s,bubbles:n=!0,...a},o)=>{const i=y.useRef(null),l=Te(i,o),u=hF(s),c=Aj(t);return y.useEffect(()=>{const d=i.current;if(!d)return;const f=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(f,"checked").set;if(u!==s&&g){const b=new Event("click",{bubbles:n});g.call(d,s),d.dispatchEvent(b)}},[u,s,n]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...a,tabIndex:-1,ref:l,style:{...a.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});r1.displayName=SF;function a1(e){return e?"checked":"unchecked"}var o1=t1,CF=n1;const i1=y.forwardRef(({className:e,...t},s)=>r.jsx(o1,{className:Z("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-muted",e),...t,ref:s,children:r.jsx(CF,{className:Z("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));i1.displayName=o1.displayName;const ha=({label:e,description:t,checked:s,onChange:n})=>r.jsxs("div",{className:"flex items-center justify-between rounded-md border border-border p-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:e}),t&&r.jsx("p",{className:"text-xs text-muted-foreground",children:t})]}),r.jsx(i1,{checked:s,onCheckedChange:n,"aria-label":e})]}),EF=({open:e,onClose:t})=>e?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 bg-black/40 z-40",onClick:t}),r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"w-full max-w-2xl bg-background rounded-lg shadow-2xl border border-border",children:[r.jsxs("div",{className:"flex items-center justify-between border-b border-border px-4 py-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase text-muted-foreground",children:"Preview"}),r.jsx("h3",{className:"text-lg font-semibold",children:"Email preview"})]}),r.jsx(B,{variant:"ghost",size:"icon",onClick:t,"aria-label":"Close preview",children:r.jsx(Ee,{className:"h-5 w-5"})})]}),r.jsx("div",{className:"p-4 space-y-3",children:r.jsxs(ne,{children:[r.jsxs(Le,{children:[r.jsx(Ie,{children:"Your DPIA was approved"}),r.jsx(Zt,{children:"Example notification email"})]}),r.jsxs(re,{className:"text-sm space-y-2",children:[r.jsx("p",{children:"Hello,"}),r.jsx("p",{children:"Your recent DPIA has been reviewed and approved by the DPO."}),r.jsx("p",{children:"You can view the details in your AURA-GDPR dashboard."}),r.jsx("p",{className:"text-muted-foreground text-xs",children:"This is a preview. Actual email content may vary."})]})]})})]})})]}):null,PF={dsr_reminders:!1,incident_alerts:!1,dpia_approvals:!1,task_reminders:!1,system_alerts:!1},AF=()=>{const[e,t]=y.useState(null),[s,n]=y.useState(!0),[a,o]=y.useState(null),[i,l]=y.useState(!1),u=y.useCallback(async()=>{try{n(!0),o(null);const d=await z.get("/settings/notifications");t(d.data)}catch(d){o((d==null?void 0:d.message)??"Failed to load notification settings"),t(PF)}finally{n(!1)}},[]);y.useEffect(()=>{u()},[u]);const c=y.useCallback(async d=>{l(!0),o(null);try{await z.patch("/settings/notifications",d),t(d)}catch(f){throw o((f==null?void 0:f.message)??"Failed to save notification settings"),f}finally{l(!1)}},[]);return{data:e,loading:s,error:a,saving:i,reload:u,saveSettings:c}},TF=()=>{const{data:e,loading:t,error:s,saving:n,reload:a,saveSettings:o}=AF(),[i,l]=y.useState(null),[u,c]=y.useState(!1),{toast:d}=rn();y.useEffect(()=>{e&&l(e)},[e]);const f=(g,b)=>{l(v=>v&&{...v,[g]:b})},m=async()=>{if(i)try{await o(i),d({title:"Settings saved",description:"Notification preferences updated."})}catch(g){d({variant:"destructive",title:"Save failed",description:(g==null?void 0:g.message)??"Unable to save settings."})}};return r.jsxs("div",{className:"space-y-6",children:[r.jsx(Do,{title:"Notification Settings",description:"Configure email alerts for GDPR-critical events.",actions:r.jsxs("div",{className:"flex gap-2",children:[r.jsx(B,{variant:"outline",size:"sm",onClick:()=>c(!0),children:"Preview email"}),r.jsx(B,{variant:"outline",size:"sm",onClick:a,disabled:t,children:"Reload"})]})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Mr,{to:"/app/settings",className:({isActive:g})=>`px-3 py-2 rounded-md text-sm ${g?"bg-slate-200 dark:bg-slate-700 font-semibold":"text-muted-foreground"}`,children:"Profile"}),r.jsx(Mr,{to:"/app/settings/notifications",className:({isActive:g})=>`px-3 py-2 rounded-md text-sm ${g?"bg-slate-200 dark:bg-slate-700 font-semibold":"text-muted-foreground"}`,children:"Notifications"})]}),s&&r.jsx(ne,{children:r.jsxs(re,{className:"p-4 text-sm text-destructive flex items-center justify-between",children:[r.jsxs("span",{children:["Failed to load settings: ",s]}),r.jsx(B,{size:"sm",variant:"outline",onClick:a,children:"Retry"})]})}),t||!i?r.jsx(ne,{children:r.jsxs(re,{className:"p-4 space-y-3",children:[r.jsx(It,{className:"h-10 w-full"}),r.jsx(It,{className:"h-10 w-full"}),r.jsx(It,{className:"h-10 w-full"})]})}):r.jsx(ne,{children:r.jsxs(re,{className:"p-4 space-y-3",children:[r.jsx(ha,{label:"DSR reminders",description:"Email reminders for pending data subject requests.",checked:i.dsr_reminders,onChange:g=>f("dsr_reminders",g)}),r.jsx(ha,{label:"Incident alerts",description:"Alerts for new or updated incidents.",checked:i.incident_alerts,onChange:g=>f("incident_alerts",g)}),r.jsx(ha,{label:"DPIA approvals",description:"Notifications when DPIAs require or receive approval.",checked:i.dpia_approvals,onChange:g=>f("dpia_approvals",g)}),r.jsx(ha,{label:"Task reminders",description:"Reminders for upcoming or overdue tasks.",checked:i.task_reminders,onChange:g=>f("task_reminders",g)}),r.jsx(ha,{label:"System alerts",description:"System-level notifications for platform events.",checked:i.system_alerts,onChange:g=>f("system_alerts",g)}),r.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[r.jsx(B,{variant:"outline",onClick:a,disabled:t,children:"Reset"}),r.jsx(B,{onClick:m,disabled:n,children:n?"Saving":"Save"})]})]})}),r.jsx(EF,{open:u,onClose:()=>c(!1)})]})},wl={draft:"Draft",in_review:"In review",approved:"Approved",published:"Published",archived:"Archived"},fo={privacy_policy:"Privacy Policy",cookie_policy:"Cookie Policy",data_processing_agreement:"Data Processing Agreement",data_retention_policy:"Data Retention Policy",information_security_policy:"Information Security Policy",internal_guideline:"Internal Guideline",other:"Other"},RF=({search:e,status:t,type:s,onSearch:n,onStatusChange:a,onTypeChange:o})=>r.jsxs("div",{className:"flex flex-col gap-3 rounded-xl border border-slate-200 bg-white p-4 shadow-sm md:flex-row md:items-center md:justify-between",children:[r.jsx("input",{type:"text",value:e,onChange:i=>n(i.target.value),placeholder:"Search policies...",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100"}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:t,onChange:i=>a(i.target.value),children:[r.jsx("option",{value:"all",children:"All statuses"}),Object.keys(wl).map(i=>r.jsx("option",{value:i,children:wl[i]},i))]}),r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:s,onChange:i=>o(i.target.value),children:[r.jsx("option",{value:"all",children:"All types"}),Object.keys(fo).map(i=>r.jsx("option",{value:i,children:fo[i]},i))]})]})]}),DF={draft:"bg-slate-100 text-slate-700 border-slate-200",in_review:"bg-amber-50 text-amber-700 border-amber-200",approved:"bg-sky-50 text-sky-700 border-sky-200",published:"bg-emerald-50 text-emerald-700 border-emerald-200",archived:"bg-slate-50 text-slate-500 border-slate-200"},l1=({status:e})=>r.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-semibold ${DF[e]}`,children:wl[e]}),_F=e=>{const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},MF=({policy:e,onClick:t})=>r.jsxs("tr",{className:"cursor-pointer border-b last:border-0 hover:bg-slate-50 focus-within:bg-slate-50",tabIndex:0,role:"button",onClick:t,onKeyDown:s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),t())},children:[r.jsx("td",{className:"py-3 pr-4 font-semibold text-foreground",children:e.name}),r.jsx("td",{className:"py-3 pr-4 text-foreground capitalize",children:e.type.replaceAll("_"," ")}),r.jsx("td",{className:"py-3 pr-4",children:r.jsx(l1,{status:e.status})}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:e.owner}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:_F(e.lastUpdated)})]}),LF=({policies:e,onSelect:t,isLoading:s,isError:n})=>s?r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading policies..."}):n?r.jsx("p",{className:"text-sm text-red-600",children:"Failed to load policies."}):e.length===0?r.jsx("p",{className:"text-sm text-muted-foreground",children:"No policies found for the selected filters."}):r.jsx("div",{className:"overflow-auto rounded-lg border border-slate-200 bg-white shadow-sm",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b bg-slate-50 text-left text-slate-500",children:[r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Name"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Type"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Status"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Owner"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Last updated"})]})}),r.jsx("tbody",{children:e.map(a=>r.jsx(MF,{policy:a,onClick:()=>t(a)},a.id))})]})}),IF=["draft","in_review","approved","published","archived"],OF=["privacy_policy","cookie_policy","data_processing_agreement","data_retention_policy","information_security_policy","internal_guideline","other"],U0=e=>{if(!e)return"N/A";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},FF=({policy:e,isOpen:t,mode:s,onClose:n,onSave:a,onRegenerateAi:o,aiGenerating:i,isLoading:l=!1,isSaving:u=!1})=>{var h;const[c,d]=P.useState(e),f=P.useRef(null);if(P.useEffect(()=>{t&&d(e)},[e,t]),P.useEffect(()=>{var j;if(!t)return;const p=S=>{if(S.key==="Escape"&&n(),S.key==="Tab"&&f.current){const E=f.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(E.length===0)return;const C=E[0],N=E[E.length-1];!S.shiftKey&&document.activeElement===N?(S.preventDefault(),C.focus()):S.shiftKey&&document.activeElement===C&&(S.preventDefault(),N.focus())}};document.addEventListener("keydown",p);const w=(j=f.current)==null?void 0:j.querySelector("input, select, textarea, button");return w==null||w.focus(),()=>document.removeEventListener("keydown",p)},[t,n]),!t||!c)return null;const m=s==="create"||s==="edit",g=(p,w)=>{d(j=>j&&{...j,[p]:w})},b=()=>{c.name.trim()&&a(c)},v=p=>{p.target===p.currentTarget&&n()},x=async()=>{o&&await o({type:c.type,contextDescription:c.summary})};return r.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/30 backdrop-blur-sm",onMouseDown:v,children:r.jsxs("div",{className:"flex h-full w-full max-w-2xl flex-col overflow-y-auto bg-white shadow-2xl",ref:f,children:[r.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-5 py-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:c.name||"Untitled policy"}),r.jsx(l1,{status:c.status})]}),r.jsx("p",{className:"text-sm text-slate-600 capitalize",children:fo[c.type]})]}),r.jsx("button",{type:"button",onClick:n,className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:r.jsx(Ee,{className:"h-5 w-5"})})]}),r.jsxs("div",{className:"space-y-4 p-5",children:[l&&r.jsx("p",{className:"text-sm text-slate-500",children:"Loading policy..."}),l&&r.jsx("p",{className:"text-sm text-slate-500",children:"Loading policy details..."}),r.jsxs("div",{className:"space-y-3 rounded-lg border border-slate-200 bg-white p-4",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Name"}),r.jsx("input",{type:"text",value:c.name,onChange:p=>g("name",p.target.value),disabled:!m||u,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Type"}),r.jsx("select",{value:c.type,onChange:p=>g("type",p.target.value),disabled:!m||u,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:OF.map(p=>r.jsx("option",{value:p,children:fo[p]},p))})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Status"}),r.jsx("select",{value:c.status,onChange:p=>g("status",p.target.value),disabled:!m||u,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:IF.map(p=>r.jsx("option",{value:p,children:wl[p]},p))})]})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Owner"}),r.jsx("input",{type:"text",value:c.owner,onChange:p=>g("owner",p.target.value),disabled:!m||u,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Tags (comma separated)"}),r.jsx("input",{type:"text",value:((h=c.tags)==null?void 0:h.join(", "))||"",onChange:p=>g("tags",p.target.value.split(",").map(w=>w.trim()).filter(Boolean)),disabled:!m||u,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Summary"}),r.jsx("textarea",{value:c.summary||"",onChange:p=>g("summary",p.target.value),disabled:!m||u,className:"min-h-[80px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",placeholder:"Short summary of the policy."})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Content"}),r.jsx("textarea",{value:c.content||"",onChange:p=>g("content",p.target.value),disabled:!m||u,className:"min-h-[200px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",placeholder:"Full policy content."})]}),s==="create"&&r.jsx("p",{className:"text-xs text-slate-500",children:"This is an AI-generated draft. Please review and adapt before publishing."}),o&&r.jsxs(B,{type:"button",variant:"outline",size:"sm",className:"inline-flex items-center gap-2",onClick:x,disabled:i,children:[r.jsx(BE,{className:"h-4 w-4"}),i?"Regenerating...":"Regenerate with AI"]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 rounded-lg border border-slate-200 bg-slate-50 p-4 text-sm text-slate-700 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-800",children:"Created"}),r.jsx("p",{children:U0(c.createdAt)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-800",children:"Last updated"}),r.jsx("p",{children:U0(c.lastUpdated)})]})]})]}),r.jsx("div",{className:"sticky bottom-0 border-t border-slate-200 bg-white p-4",children:r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[s!=="create"&&c.id&&r.jsx(Jr,{resourceType:"policy",resourceId:c.id}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(B,{variant:"outline",onClick:n,children:s==="create"?"Cancel":"Close"}),m&&r.jsx(B,{onClick:b,disabled:i||u,children:s==="create"?"Create policy":"Save changes"})]})]})})]})})},$F=["privacy_policy","cookie_policy","data_processing_agreement","data_retention_policy","information_security_policy","internal_guideline","other"],VF=({onNewBlank:e,onGenerateWithAi:t,aiGenerating:s})=>{const[n,a]=P.useState(!1),[o,i]=P.useState({type:"privacy_policy",contextDescription:""}),l=()=>{t(o),a(!1)};return r.jsxs("div",{className:"relative",children:[r.jsxs(B,{className:"inline-flex items-center gap-2",onClick:()=>a(u=>!u),children:[r.jsx(Wl,{className:"h-4 w-4"}),"New policy",r.jsx(pp,{className:"h-4 w-4"})]}),n&&r.jsxs("div",{className:"absolute right-0 z-20 mt-2 w-72 rounded-lg border border-slate-200 bg-white shadow-lg",children:[r.jsxs("button",{type:"button",className:"flex w-full items-start gap-2 px-4 py-3 text-left text-sm text-slate-800 hover:bg-slate-50",onClick:()=>{e(),a(!1)},children:[r.jsx("span",{className:"font-semibold",children:"Blank policy"}),r.jsx("span",{className:"text-xs text-slate-500",children:"Start from scratch."})]}),r.jsxs("div",{className:"border-t border-slate-200 px-4 py-3",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-slate-800",children:[r.jsx(ts,{className:"h-4 w-4 text-sky-600"}),"Generate with AI"]}),r.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Provide context to draft a policy."}),r.jsxs("div",{className:"mt-3 space-y-2",children:[r.jsx("select",{value:o.type,onChange:u=>i(c=>({...c,type:u.target.value})),className:"w-full rounded-md border border-slate-200 px-2 py-2 text-sm text-slate-800 focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",children:$F.map(u=>r.jsx("option",{value:u,children:fo[u]},u))}),r.jsx("textarea",{value:o.contextDescription,onChange:u=>i(c=>({...c,contextDescription:u.target.value})),placeholder:"Short context (e.g. SaaS company serving EU customers)",className:"w-full rounded-md border border-slate-200 px-2 py-2 text-sm text-slate-800 focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",rows:3}),r.jsx(B,{className:"w-full",onClick:l,disabled:s,children:s?"Generating...":"Generate policy draft"})]})]})]})]})},Pn=e=>({...e,id:(e==null?void 0:e.id)??(e==null?void 0:e._id)??(e==null?void 0:e.policy_id)??"",lastUpdated:(e==null?void 0:e.lastUpdated)??(e==null?void 0:e.last_updated)??(e==null?void 0:e.updated_at)??(e==null?void 0:e.updatedAt)??"",createdAt:(e==null?void 0:e.createdAt)??(e==null?void 0:e.created_at)??"",tags:(e==null?void 0:e.tags)??[]}),UF=e=>{if(Array.isArray(e))return e.map(Pn);const t=e;return Array.isArray(t==null?void 0:t.items)?t.items.map(Pn):Array.isArray(t==null?void 0:t.policies)?t.policies.map(Pn):[]};async function BF(){const e=await z.get("/api/policies");return UF(e.data)}async function zF(e){const t=await z.get(`/api/policies/${e}`);return Pn(t.data)}async function WF(e){const t=await z.post("/api/policies",e);return Pn(t.data)}async function HF(e,t){const s=await z.put(`/api/policies/${e}`,t);return Pn(s.data)}async function qF(e,t){const s=await z.patch(`/api/policies/${e}`,t);return Pn(s.data)}async function B0(){return Promise.resolve({title:"Privacy Policy",summary:"This policy explains how we collect, use, and protect personal data across our services.",content:"This AI-generated policy draft outlines how personal data is collected, used, and protected. It should include sections for Introduction, Data We Collect, Legal Bases, Data Sharing, Data Retention, Data Subject Rights, Security Measures, International Transfers, and Contact Information. Please review and tailor this draft to your organization before publishing."})}function KF(){const[e,t]=y.useState([]),[s,n]=y.useState(!1),[a,o]=y.useState(!1),[i,l]=y.useState(!1),[u,c]=y.useState(null),d=y.useRef(!0);y.useEffect(()=>()=>{d.current=!1},[]);const f=y.useCallback(async()=>{n(!0),c(null);try{const x=await BF();d.current&&t(x)}catch(x){d.current&&c((x==null?void 0:x.message)??"Failed to load policies.")}finally{d.current&&n(!1)}},[]);y.useEffect(()=>{f()},[f]);const m=y.useCallback(async x=>{o(!0);try{const h=await zF(x);return d.current&&t(p=>p.map(w=>w.id===h.id?h:w)),h}finally{d.current&&o(!1)}},[]),g=y.useCallback(async x=>{l(!0);try{const h=await WF(x);return d.current&&t(p=>[h,...p]),h}finally{d.current&&l(!1)}},[]),b=y.useCallback(async(x,h)=>{l(!0);try{const p=await HF(x,h);return d.current&&t(w=>w.map(j=>j.id===p.id?p:j)),p}finally{d.current&&l(!1)}},[]),v=y.useCallback(async(x,h)=>{const p=await qF(x,h);return d.current&&t(w=>w.map(j=>j.id===p.id?p:j)),p},[]);return{policies:e,loading:s,detailLoading:a,saving:i,error:u,refresh:f,fetchOne:m,create:g,update:b,patch:v}}const GF=()=>{const{policies:e,loading:t,detailLoading:s,saving:n,error:a,refresh:o,create:i,update:l,fetchOne:u}=KF(),[c,d]=P.useState(""),[f,m]=P.useState("all"),[g,b]=P.useState("all"),[v,x]=P.useState(null),[h,p]=P.useState("view"),[w,j]=P.useState(!1),[S,E]=P.useState(null),C=P.useMemo(()=>e.filter(O=>{const M=O.name.toLowerCase().includes(c.toLowerCase())||(O.tags||[]).some(q=>q.toLowerCase().includes(c.toLowerCase()))||(O.summary||"").toLowerCase().includes(c.toLowerCase()),F=f==="all"?!0:O.status===f,V=g==="all"?!0:O.type===g;return M&&F&&V}),[e,c,f,g]),N=O=>{x(O),p("view"),O.id&&u(O.id).then(M=>x(M)).catch(()=>{})},k=async O=>{if(h==="create"){const{id:M,...F}=O;await i(F)}else O.id&&await l(O.id,O);await o(),x(null),p("view")},A=()=>{const O=new Date().toISOString();x({id:"",name:"New policy",type:"other",status:"draft",owner:"",lastUpdated:O,createdAt:O,summary:"",content:"",tags:[]}),p("create")},I=async O=>{j(!0),E(O);try{const M=await B0(O),F=new Date().toISOString();x({id:`policy-${Date.now()}`,name:M.title,type:O.type,status:"draft",owner:"You",lastUpdated:F,createdAt:F,summary:M.summary,content:M.content,tags:["ai-draft"]}),p("create")}finally{j(!1)}},D=async O=>{const M=O??S;if(M){j(!0);try{const F=await B0(M);x(V=>V&&{...V,name:F.title,summary:F.summary,content:F.content,tags:Array.from(new Set([...V.tags||[],"ai-draft"]))})}finally{j(!1)}}};return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-slate-900",children:"Policies"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Manage your GDPR-related policies and keep them up to date."})]}),r.jsx(VF,{onNewBlank:A,onGenerateWithAi:I,aiGenerating:w})]}),r.jsx(pc,{title:"Policy center",description:"Centralize policy creation, reviews, and publication. AI-assisted drafts will help you ship faster."}),r.jsx(RF,{search:c,status:f,type:g,onSearch:d,onStatusChange:m,onTypeChange:b}),r.jsx(LF,{policies:C,onSelect:N,isLoading:t,isError:!!a}),a&&r.jsx("p",{className:"text-sm text-rose-600",children:a}),r.jsx(FF,{policy:v,isOpen:!!v,mode:h,onClose:()=>x(null),onSave:k,isLoading:s,isSaving:n,onRegenerateAi:h==="create"?D:void 0,aiGenerating:w})]})},YF=({search:e,severity:t,status:s,onSearch:n,onSeverityChange:a,onStatusChange:o})=>r.jsxs("div",{className:"flex flex-col gap-3 rounded-xl border border-slate-200 bg-white p-4 shadow-sm md:flex-row md:items-center md:justify-between",children:[r.jsx("input",{type:"text",value:e,onChange:i=>n(i.target.value),placeholder:"Search incidents by title or system...",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100"}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:t,onChange:i=>a(i.target.value),children:[r.jsx("option",{value:"all",children:"All severities"}),r.jsx("option",{value:"low",children:"Low"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"high",children:"High"}),r.jsx("option",{value:"critical",children:"Critical"})]}),r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:s,onChange:i=>o(i.target.value),children:[r.jsx("option",{value:"all",children:"All statuses"}),r.jsx("option",{value:"open",children:"Open"}),r.jsx("option",{value:"investigating",children:"Investigating"}),r.jsx("option",{value:"contained",children:"Contained"}),r.jsx("option",{value:"resolved",children:"Resolved"}),r.jsx("option",{value:"closed",children:"Closed"})]})]})]}),XF={open:"bg-sky-50 text-sky-700 border-sky-200",investigating:"bg-amber-50 text-amber-700 border-amber-200",contained:"bg-orange-50 text-orange-700 border-orange-200",resolved:"bg-emerald-50 text-emerald-700 border-emerald-200",closed:"bg-slate-100 text-slate-700 border-slate-200"},QF={open:"Open",investigating:"Investigating",contained:"Contained",resolved:"Resolved",closed:"Closed"},ZF=({status:e})=>r.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-semibold ${XF[e]}`,children:QF[e]}),JF={low:"bg-slate-100 text-slate-700 border-slate-200",medium:"bg-amber-50 text-amber-700 border-amber-200",high:"bg-rose-50 text-rose-700 border-rose-200",critical:"bg-rose-600 text-white border-rose-700"},e6={low:"Low",medium:"Medium",high:"High",critical:"Critical"},t6=({severity:e})=>r.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-semibold ${JF[e]}`,children:e6[e]}),s6=e=>{const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},n6=({incident:e,onClick:t})=>r.jsxs("tr",{className:"cursor-pointer border-b last:border-0 hover:bg-slate-50 focus-within:bg-slate-50",tabIndex:0,role:"button",onClick:t,onKeyDown:s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),t())},children:[r.jsx("td",{className:"py-3 pr-4 font-semibold text-foreground",children:e.title}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:e.systemName}),r.jsx("td",{className:"py-3 pr-4",children:r.jsx(t6,{severity:e.severity})}),r.jsx("td",{className:"py-3 pr-4",children:r.jsx(ZF,{status:e.status})}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:s6(e.lastUpdated)})]}),r6=({incidents:e,onSelect:t,isLoading:s,isError:n})=>s?r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading incidents..."}):n?r.jsx("p",{className:"text-sm text-red-600",children:"Failed to load incidents."}):e.length===0?r.jsx("p",{className:"text-sm text-muted-foreground",children:"No incidents found for the selected filters."}):r.jsx("div",{className:"overflow-auto rounded-lg border border-slate-200 bg-white shadow-sm",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b bg-slate-50 text-left text-slate-500",children:[r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Title"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"System"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Severity"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Status"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Last updated"})]})}),r.jsx("tbody",{children:e.map(a=>r.jsx(n6,{incident:a,onClick:()=>t(a)},a.id))})]})}),a6=["low","medium","high","critical"],o6=["open","investigating","contained","resolved","closed"],i6=({incident:e,isOpen:t,mode:s,isLoading:n,isSaving:a,onClose:o,onSave:i,onStatusChange:l})=>{const[u,c]=P.useState(e),[d,f]=P.useState({}),[m,g]=P.useState({actor:"",action:"",notes:""}),b=P.useRef(null);if(P.useEffect(()=>{t&&(c(e),f({}),g({actor:"",action:"",notes:""}))},[e,t]),P.useEffect(()=>{var I;if(!t)return;const k=D=>{if(D.key==="Escape"&&o(),D.key==="Tab"&&b.current){const O=b.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(O.length===0)return;const M=O[0],F=O[O.length-1];!D.shiftKey&&document.activeElement===F?(D.preventDefault(),M.focus()):D.shiftKey&&document.activeElement===M&&(D.preventDefault(),F.focus())}};document.addEventListener("keydown",k);const A=(I=b.current)==null?void 0:I.querySelector("input, select, textarea, button");return A==null||A.focus(),()=>document.removeEventListener("keydown",k)},[t,o]),!t||!u&&!n)return null;const v=(s==="create"||s==="edit")&&!n,x=l&&(u==null?void 0:u.id)&&s!=="create",h=!!a,p=!!(n||h),w=(k,A)=>{c(I=>I&&{...I,[k]:A})},j=()=>{const k={};return u.title.trim()||(k.title="Title is required."),u.systemName.trim()||(k.systemName="System name is required."),u.description.trim()||(k.description="Description is required."),u.severity||(k.severity="Severity is required."),u.status||(k.status="Status is required."),f(k),Object.keys(k).length===0},S=async()=>{j()&&await i(u,s==="create"?"create":"edit")},E=async k=>{w("status",k),x&&(u!=null&&u.id)&&await(l==null?void 0:l(u.id,k))},C=k=>{k.target===k.currentTarget&&o()},N=()=>{var A;if(!m.actor.trim()||!m.action.trim())return;const k={id:`event-${Date.now()}`,actor:m.actor.trim(),action:m.action.trim(),notes:((A=m.notes)==null?void 0:A.trim())||void 0,timestamp:new Date().toISOString()};c(I=>I&&{...I,timeline:[k,...I.timeline]}),g({actor:"",action:"",notes:""})};return!u&&n?r.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/30 backdrop-blur-sm",onMouseDown:C,children:r.jsxs("div",{className:"flex h-full w-full max-w-2xl flex-col overflow-y-auto bg-white shadow-2xl",ref:b,children:[r.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-5 py-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Incident"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Loading incident..."})]}),r.jsx("button",{type:"button",onClick:o,className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:r.jsx(Ee,{className:"h-5 w-5"})})]}),r.jsx("div",{className:"p-5 text-sm text-slate-600",children:"Loading incident..."})]})}):r.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/30 backdrop-blur-sm",onMouseDown:C,children:r.jsxs("div",{className:"flex h-full w-full max-w-2xl flex-col overflow-y-auto bg-white shadow-2xl",ref:b,children:[r.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-5 py-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:s==="create"?"New incident":u.title||"Incident"}),r.jsx("p",{className:"text-sm text-slate-600",children:u.systemName})]}),r.jsx("button",{type:"button",onClick:o,className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:r.jsx(Ee,{className:"h-5 w-5"})})]}),n&&u&&r.jsx("div",{className:"px-5 py-2 text-sm text-slate-600",children:"Loading incident..."}),r.jsxs("div",{className:"space-y-4 p-5",children:[r.jsxs("div",{className:"space-y-3 rounded-lg border border-slate-200 bg-white p-4",children:[r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Title"}),r.jsx("input",{type:"text",value:u.title,onChange:k=>w("title",k.target.value),disabled:!v||p,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),d.title&&r.jsx("p",{className:"text-xs text-rose-600",children:d.title})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"System"}),r.jsx("input",{type:"text",value:u.systemName,onChange:k=>w("systemName",k.target.value),disabled:!v||p,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),d.systemName&&r.jsx("p",{className:"text-xs text-rose-600",children:d.systemName})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-3",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Severity"}),r.jsx("select",{value:u.severity,onChange:k=>w("severity",k.target.value),disabled:!v||p,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:a6.map(k=>r.jsx("option",{value:k,children:k},k))}),d.severity&&r.jsx("p",{className:"text-xs text-rose-600",children:d.severity})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Status"}),r.jsx("select",{value:u.status,onChange:k=>E(k.target.value),disabled:!v&&!x||p,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:o6.map(k=>r.jsx("option",{value:k,children:k},k))}),d.status&&r.jsx("p",{className:"text-xs text-rose-600",children:d.status})]}),r.jsxs("div",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Detection method"}),r.jsx("input",{type:"text",value:u.detectionMethod,onChange:k=>w("detectionMethod",k.target.value),disabled:!v||p,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Description"}),r.jsx("textarea",{value:u.description,onChange:k=>w("description",k.target.value),disabled:!v||p,className:"min-h-[90px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),d.description&&r.jsx("p",{className:"text-xs text-rose-600",children:d.description})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Affected data"}),r.jsx("textarea",{value:u.affectedData,onChange:k=>w("affectedData",k.target.value),disabled:!v||p,className:"min-h-[70px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Affected subjects"}),r.jsx("textarea",{value:u.affectedSubjects,onChange:k=>w("affectedSubjects",k.target.value),disabled:!v||p,className:"min-h-[70px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]})]})]}),r.jsxs("div",{className:"space-y-3 rounded-lg border border-slate-200 bg-white p-4",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"Timeline"})}),r.jsxs("div",{className:"space-y-3",children:[u.timeline.map(k=>r.jsxs("div",{className:"flex gap-3",children:[r.jsx("div",{className:"mt-1 h-2 w-2 rounded-full bg-sky-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:k.action}),r.jsxs("p",{className:"text-xs text-slate-500",children:[new Date(k.timestamp).toLocaleString()," - ",k.actor]}),k.notes&&r.jsx("p",{className:"text-xs text-slate-600",children:k.notes})]})]},k.id)),u.timeline.length===0&&r.jsx("p",{className:"text-sm text-muted-foreground",children:"No timeline events yet."})]}),v&&r.jsxs("div",{className:"space-y-2 rounded-lg border border-dashed border-slate-200 p-3",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"Add timeline event"}),r.jsxs("div",{className:"grid grid-cols-1 gap-2 md:grid-cols-2",children:[r.jsx("input",{type:"text",placeholder:"Actor",value:m.actor,onChange:k=>g(A=>({...A,actor:k.target.value})),disabled:p,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100"}),r.jsx("input",{type:"text",placeholder:"Action",value:m.action,onChange:k=>g(A=>({...A,action:k.target.value})),disabled:p,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100"})]}),r.jsx("textarea",{placeholder:"Notes (optional)",value:m.notes,onChange:k=>g(A=>({...A,notes:k.target.value})),disabled:p,className:"min-h-[60px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100"}),r.jsx(B,{type:"button",variant:"outline",size:"sm",onClick:N,disabled:p,children:"Add event"})]})]})]}),r.jsx("div",{className:"sticky bottom-0 border-t border-slate-200 bg-white p-4",children:r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[s!=="create"&&u.id&&r.jsx(Jr,{resourceType:"incident",resourceId:u.id}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(B,{variant:"outline",onClick:o,disabled:p,children:"Cancel"}),v&&r.jsx(B,{onClick:S,disabled:p,children:h?"Saving...":s==="create"?"Create incident":"Save changes"})]})]})})]})})},l6=({onNew:e})=>r.jsxs(B,{className:"inline-flex items-center gap-2",onClick:e,children:[r.jsx(Xv,{className:"h-4 w-4"}),"New incident"]}),c6=e=>["low","medium","high","critical"].includes(e)?e:"medium",u6=e=>["open","investigating","contained","resolved","closed"].includes(e)?e:"open",d6=e=>({id:(e==null?void 0:e.id)??(e==null?void 0:e._id)??`timeline-${(e==null?void 0:e.timestamp)??Date.now()}`,timestamp:(e==null?void 0:e.timestamp)??(e==null?void 0:e.time)??(e==null?void 0:e.created_at)??(e==null?void 0:e.createdAt)??new Date().toISOString(),actor:(e==null?void 0:e.actor)??(e==null?void 0:e.user)??"System",action:(e==null?void 0:e.action)??(e==null?void 0:e.activity)??"",notes:(e==null?void 0:e.notes)??(e==null?void 0:e.description)??void 0}),An=e=>{const t=(e==null?void 0:e.createdAt)??(e==null?void 0:e.created_at)??new Date().toISOString(),s=(e==null?void 0:e.lastUpdated)??(e==null?void 0:e.last_updated)??(e==null?void 0:e.updated_at)??(e==null?void 0:e.updatedAt)??t;return{id:(e==null?void 0:e.id)??(e==null?void 0:e._id)??"",title:(e==null?void 0:e.title)??"",systemName:(e==null?void 0:e.systemName)??(e==null?void 0:e.system_name)??"",severity:c6(e==null?void 0:e.severity),status:u6(e==null?void 0:e.status),description:(e==null?void 0:e.description)??"",affectedData:(e==null?void 0:e.affectedData)??(e==null?void 0:e.affected_data)??"",affectedSubjects:(e==null?void 0:e.affectedSubjects)??(e==null?void 0:e.affected_subjects)??"",detectionMethod:(e==null?void 0:e.detectionMethod)??(e==null?void 0:e.detection_method)??"",createdAt:t,lastUpdated:s,timeline:Array.isArray(e==null?void 0:e.timeline)?e.timeline.map(d6):[]}},f6=e=>{if(Array.isArray(e))return e.map(An);const t=e;return Array.isArray(t==null?void 0:t.items)?t.items.map(An):Array.isArray(t==null?void 0:t.incidents)?t.incidents.map(An):[]};async function p6(){const e=await z.get("/api/incidents");return f6(e.data)}async function h6(e){const t=await z.get(`/api/incidents/${e}`);return An(t.data)}async function m6(e){const t=await z.post("/api/incidents",e);return An(t.data)}async function x6(e,t){const s=await z.put(`/api/incidents/${e}`,t);return An(s.data)}async function g6(e,t){const s=await z.patch(`/api/incidents/${e}`,t);return An(s.data)}function y6(){const[e,t]=y.useState([]),[s,n]=y.useState(!1),[a,o]=y.useState(!1),[i,l]=y.useState(!1),[u,c]=y.useState(null),d=y.useRef(!0);y.useEffect(()=>()=>{d.current=!1},[]);const f=y.useCallback(async()=>{n(!0),c(null);try{const x=await p6();d.current&&t(x)}catch(x){d.current&&c((x==null?void 0:x.message)??"Failed to load incidents.")}finally{d.current&&n(!1)}},[]);y.useEffect(()=>{f()},[f]);const m=y.useCallback(async x=>{o(!0);try{const h=await h6(x);return d.current&&t(p=>p.some(j=>j.id===h.id)?p.map(j=>j.id===h.id?h:j):[h,...p]),h}finally{d.current&&o(!1)}},[]),g=y.useCallback(async x=>{l(!0),c(null);try{const h=await m6(x);return d.current&&t(p=>[h,...p]),h}catch(h){throw d.current&&c((h==null?void 0:h.message)??"Failed to create incident."),h}finally{d.current&&l(!1)}},[]),b=y.useCallback(async(x,h)=>{l(!0),c(null);try{const p=await x6(x,h);return d.current&&t(w=>w.map(j=>j.id===p.id?p:j)),p}catch(p){throw d.current&&c((p==null?void 0:p.message)??"Failed to update incident."),p}finally{d.current&&l(!1)}},[]),v=y.useCallback(async(x,h)=>{l(!0),c(null);try{const p=await g6(x,h);return d.current&&t(w=>w.map(j=>j.id===p.id?p:j)),p}catch(p){throw d.current&&c((p==null?void 0:p.message)??"Failed to update incident."),p}finally{d.current&&l(!1)}},[]);return{incidents:e,loading:s,detailLoading:a,saving:i,error:u,refresh:f,fetchOne:m,create:g,update:b,patch:v}}const v6=()=>{const{incidents:e,loading:t,detailLoading:s,saving:n,error:a,refresh:o,fetchOne:i,create:l,update:u,patch:c}=y6(),{markAsRead:d,notifications:f}=fc(),[m,g]=P.useState(""),[b,v]=P.useState("all"),[x,h]=P.useState("all"),[p,w]=P.useState(null),[j,S]=P.useState("view"),E=P.useMemo(()=>e.filter(D=>{const O=D.title.toLowerCase().includes(m.toLowerCase())||D.systemName.toLowerCase().includes(m.toLowerCase()),M=b==="all"?!0:D.severity===b,F=x==="all"?!0:D.status===x;return O&&M&&F}),[e,m,b,x]),C=D=>{w(D),S("edit"),D.id&&i(D.id).then(O=>w(O)).catch(()=>{})},N=async(D,O)=>{try{if(O==="create"){const{id:M,...F}=D;await l(F)}else D.id&&await u(D.id,D);await o(),w(null),S("view")}catch{}},k=()=>{const D=new Date().toISOString();w({id:"",title:"",systemName:"",severity:"medium",status:"open",description:"",affectedData:"",affectedSubjects:"",detectionMethod:"",createdAt:D,lastUpdated:D,timeline:[]}),S("create")},A=async(D,O)=>{try{await c(D,{status:O}),await o()}catch{}};P.useEffect(()=>{f.filter(D=>D.type==="incident_alert"&&!D.read).forEach(D=>d(D.id))},[f,d]);const I=()=>t?r.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((D,O)=>r.jsx(It,{className:"h-20 w-full rounded-lg bg-slate-100"},O))}):a?r.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 p-4 text-sm text-rose-700",children:r.jsxs("div",{className:"flex items-center justify-between gap-3",children:[r.jsx("p",{children:a}),r.jsx("button",{type:"button",className:"text-xs font-semibold text-rose-800 underline",onClick:()=>o(),children:"Retry"})]})}):E.length===0?r.jsxs("div",{className:"rounded-lg border border-dashed border-slate-300 bg-slate-50 p-6 text-sm text-slate-700",children:[r.jsx("p",{className:"font-semibold text-slate-900",children:"No incidents match the current filters."}),r.jsx("p",{className:"text-slate-600",children:"Try adjusting filters or create a new incident to get started."})]}):r.jsx(r6,{incidents:E,onSelect:C});return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-slate-900",children:"Incidents"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Log, investigate and resolve personal data breaches."})]}),r.jsx(l6,{onNew:k})]}),r.jsx(YF,{search:m,severity:b,status:x,onSearch:g,onSeverityChange:v,onStatusChange:h}),I(),r.jsx(i6,{incident:p,isOpen:!!p,mode:j,onClose:()=>{w(null),S("view")},onSave:N,isLoading:s,isSaving:n,onStatusChange:A})]})},b6=["customer_data","employee_data","marketing","website_analytics","it_security","other"],w6=({search:e,category:t,owner:s,owners:n,onSearch:a,onCategoryChange:o,onOwnerChange:i})=>r.jsxs("div",{className:"flex flex-col gap-3 rounded-xl border border-slate-200 bg-white p-4 shadow-sm md:flex-row md:items-center md:justify-between",children:[r.jsx("input",{type:"text",value:e,onChange:l=>a(l.target.value),placeholder:"Search processing activities...",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100"}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:t,onChange:l=>o(l.target.value),children:[r.jsx("option",{value:"all",children:"All categories"}),b6.map(l=>r.jsx("option",{value:l,children:l.replace("_"," ")},l))]}),r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:s,onChange:l=>i(l.target.value==="all"?"all":l.target.value),children:[r.jsx("option",{value:"all",children:"All owners"}),n.map(l=>r.jsx("option",{value:l,children:l},l))]})]})]}),j6=e=>{const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},N6=({record:e,onClick:t})=>r.jsxs("tr",{className:"cursor-pointer border-b last:border-0 hover:bg-slate-50 focus-within:bg-slate-50",tabIndex:0,role:"button",onClick:t,onKeyDown:s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),t())},children:[r.jsx("td",{className:"py-3 pr-4 font-semibold text-foreground",children:e.name}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:e.systemName}),r.jsx("td",{className:"py-3 pr-4 text-foreground capitalize",children:e.processingCategory.replace("_"," ")}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:e.owner}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:e.legalBasis}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:j6(e.lastUpdated)})]}),k6=({records:e,onSelect:t,isLoading:s,isError:n})=>s?r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading records..."}):n?r.jsx("p",{className:"text-sm text-red-600",children:"Failed to load records."}):e.length===0?r.jsx("p",{className:"text-sm text-muted-foreground",children:"No records found for the selected filters."}):r.jsx("div",{className:"overflow-auto rounded-lg border border-slate-200 bg-white shadow-sm",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b bg-slate-50 text-left text-slate-500",children:[r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Name"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"System"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Category"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Owner"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Legal basis"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Last updated"})]})}),r.jsx("tbody",{children:e.map(a=>r.jsx(N6,{record:a,onClick:()=>t(a)},a.id))})]})}),S6=["customer_data","employee_data","marketing","website_analytics","it_security","other"],C6=({record:e,isOpen:t,mode:s,onClose:n,onSave:a,isLoading:o=!1,isSaving:i=!1})=>{const[l,u]=P.useState(e),[c,d]=P.useState({}),f=P.useRef(null);if(P.useEffect(()=>{t&&(u(e),d({}))},[e,t]),P.useEffect(()=>{var w;if(!t)return;const h=j=>{if(j.key==="Escape"&&n(),j.key==="Tab"&&f.current){const S=f.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(S.length===0)return;const E=S[0],C=S[S.length-1];!j.shiftKey&&document.activeElement===C?(j.preventDefault(),E.focus()):j.shiftKey&&document.activeElement===E&&(j.preventDefault(),C.focus())}};document.addEventListener("keydown",h);const p=(w=f.current)==null?void 0:w.querySelector("input, select, textarea, button");return p==null||p.focus(),()=>document.removeEventListener("keydown",h)},[t,n]),!t||!l)return null;const m=s==="create"||s==="edit",g=(h,p)=>{u(w=>w&&{...w,[h]:p})},b=()=>{const h={};return l.name.trim()||(h.name="Name is required."),l.systemName.trim()||(h.systemName="System name is required."),l.purpose.trim()||(h.purpose="Purpose is required."),d(h),Object.keys(h).length===0},v=()=>{b()&&a(l,s==="create"?"create":"edit")},x=h=>{h.target===h.currentTarget&&n()};return r.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/30 backdrop-blur-sm",onMouseDown:x,children:r.jsxs("div",{className:"flex h-full w-full max-w-2xl flex-col overflow-y-auto bg-white shadow-2xl",ref:f,children:[r.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-5 py-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:s==="create"?"New processing activity":l.name||"Processing activity"}),r.jsx("p",{className:"text-sm text-slate-600",children:l.systemName})]}),r.jsx("button",{type:"button",onClick:n,className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:r.jsx(Ee,{className:"h-5 w-5"})})]}),r.jsxs("div",{className:"space-y-4 p-5",children:[o&&r.jsx("p",{className:"text-sm text-slate-500",children:"Loading processing activity..."}),r.jsxs("div",{className:"space-y-3 rounded-lg border border-slate-200 bg-white p-4",children:[r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Name"}),r.jsx("input",{type:"text",value:l.name,onChange:h=>g("name",h.target.value),disabled:!m||i,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),c.name&&r.jsx("p",{className:"text-xs text-rose-600",children:c.name})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"System name"}),r.jsx("input",{type:"text",value:l.systemName,onChange:h=>g("systemName",h.target.value),disabled:!m||i,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),c.systemName&&r.jsx("p",{className:"text-xs text-rose-600",children:c.systemName})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-3",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Owner"}),r.jsx("input",{type:"text",value:l.owner,onChange:h=>g("owner",h.target.value),disabled:!m||i,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Processing category"}),r.jsx("select",{value:l.processingCategory,onChange:h=>g("processingCategory",h.target.value),disabled:!m||i,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:S6.map(h=>r.jsx("option",{value:h,children:h.replace("_"," ")},h))})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Legal basis"}),r.jsx("input",{type:"text",value:l.legalBasis,onChange:h=>g("legalBasis",h.target.value),disabled:!m||i,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Purpose"}),r.jsx("textarea",{value:l.purpose,onChange:h=>g("purpose",h.target.value),disabled:!m,className:"min-h-[70px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),c.purpose&&r.jsx("p",{className:"text-xs text-rose-600",children:c.purpose})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Data subjects"}),r.jsx("textarea",{value:l.dataSubjects,onChange:h=>g("dataSubjects",h.target.value),disabled:!m||i,className:"min-h-[70px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Data categories"}),r.jsx("textarea",{value:l.dataCategories,onChange:h=>g("dataCategories",h.target.value),disabled:!m||i,className:"min-h-[70px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Recipients"}),r.jsx("textarea",{value:l.recipients,onChange:h=>g("recipients",h.target.value),disabled:!m||i,className:"min-h-[60px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Transfers outside EU"}),r.jsx("textarea",{value:l.transfersOutsideEU,onChange:h=>g("transfersOutsideEU",h.target.value),disabled:!m||i,className:"min-h-[60px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Retention period"}),r.jsx("textarea",{value:l.retentionPeriod,onChange:h=>g("retentionPeriod",h.target.value),disabled:!m||i,className:"min-h-[60px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Security measures"}),r.jsx("textarea",{value:l.securityMeasures,onChange:h=>g("securityMeasures",h.target.value),disabled:!m||i,className:"min-h-[60px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]})]}),s!=="create"&&r.jsxs("div",{className:"grid grid-cols-1 gap-3 rounded-lg border border-slate-200 bg-slate-50 p-4 text-sm text-slate-700 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-800",children:"Created"}),r.jsx("p",{children:new Date(l.createdAt).toLocaleString()})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-800",children:"Last updated"}),r.jsx("p",{children:new Date(l.lastUpdated).toLocaleString()})]})]})]})]}),r.jsx("div",{className:"sticky bottom-0 border-t border-slate-200 bg-white p-4",children:r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[s!=="create"&&l.id&&r.jsx(Jr,{resourceType:"ropa",resourceId:l.id}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(B,{variant:"outline",onClick:n,children:"Cancel"}),m&&r.jsx(B,{onClick:v,disabled:i,children:i?"Saving...":s==="create"?"Create record":"Save changes"})]})]})})]})})},E6=({onNew:e})=>r.jsxs(B,{className:"inline-flex items-center gap-2",onClick:e,children:[r.jsx(Wl,{className:"h-4 w-4"}),"New processing activity"]}),Os=e=>({...e,id:(e==null?void 0:e.id)??(e==null?void 0:e._id)??(e==null?void 0:e.ropa_id)??"",createdAt:(e==null?void 0:e.createdAt)??(e==null?void 0:e.created_at)??"",lastUpdated:(e==null?void 0:e.lastUpdated)??(e==null?void 0:e.last_updated)??(e==null?void 0:e.updated_at)??(e==null?void 0:e.updatedAt)??""}),P6=e=>{if(Array.isArray(e))return e.map(Os);const t=e;return Array.isArray(t==null?void 0:t.items)?t.items.map(Os):Array.isArray(t==null?void 0:t.records)?t.records.map(Os):Array.isArray(t==null?void 0:t.ropa)?t.ropa.map(Os):[]};async function A6(){const e=await z.get("/api/ropa");return P6(e.data)}async function T6(e){const t=await z.get(`/api/ropa/${e}`);return Os(t.data)}async function R6(e){const t=await z.post("/api/ropa",e);return Os(t.data)}async function D6(e,t){const s=await z.put(`/api/ropa/${e}`,t);return Os(s.data)}async function _6(e,t){const s=await z.patch(`/api/ropa/${e}`,t);return Os(s.data)}function M6(){const[e,t]=y.useState([]),[s,n]=y.useState(!1),[a,o]=y.useState(!1),[i,l]=y.useState(!1),[u,c]=y.useState(null),d=y.useRef(!0);y.useEffect(()=>()=>{d.current=!1},[]);const f=y.useCallback(async()=>{n(!0),c(null);try{const x=await A6();d.current&&t(x)}catch(x){d.current&&c((x==null?void 0:x.message)??"Failed to load ROPA records.")}finally{d.current&&n(!1)}},[]);y.useEffect(()=>{f()},[f]);const m=y.useCallback(async x=>{o(!0);try{const h=await T6(x);return d.current&&t(p=>p.map(w=>w.id===h.id?h:w)),h}finally{d.current&&o(!1)}},[]),g=y.useCallback(async x=>{l(!0);try{const h=await R6(x);return d.current&&t(p=>[h,...p]),h}finally{d.current&&l(!1)}},[]),b=y.useCallback(async(x,h)=>{l(!0);try{const p=await D6(x,h);return d.current&&t(w=>w.map(j=>j.id===p.id?p:j)),p}finally{d.current&&l(!1)}},[]),v=y.useCallback(async(x,h)=>{const p=await _6(x,h);return d.current&&t(w=>w.map(j=>j.id===p.id?p:j)),p},[]);return{records:e,loading:s,detailLoading:a,saving:i,error:u,refresh:f,fetchOne:m,create:g,update:b,patch:v}}const L6=()=>{const{records:e,loading:t,detailLoading:s,saving:n,error:a,refresh:o,create:i,update:l,fetchOne:u}=M6(),[c,d]=P.useState(""),[f,m]=P.useState("all"),[g,b]=P.useState("all"),[v,x]=P.useState(null),[h,p]=P.useState("view"),w=P.useMemo(()=>Array.from(new Set(e.map(N=>N.owner))),[e]),j=P.useMemo(()=>e.filter(N=>{const k=N.name.toLowerCase().includes(c.toLowerCase())||N.systemName.toLowerCase().includes(c.toLowerCase()),A=f==="all"?!0:N.processingCategory===f,I=g==="all"?!0:N.owner===g;return k&&A&&I}),[e,c,f,g]),S=N=>{x(N),p("view"),N.id&&u(N.id).then(k=>x(k)).catch(()=>{})},E=async(N,k)=>{if(k==="create"){const{id:A,...I}=N;await i(I)}else N.id&&await l(N.id,N);await o(),x(null),p("view")},C=()=>{const N=new Date().toISOString();x({id:"",name:"",systemName:"",owner:"",purpose:"",legalBasis:"",processingCategory:"other",dataSubjects:"",dataCategories:"",recipients:"",transfersOutsideEU:"",retentionPeriod:"",securityMeasures:"",createdAt:N,lastUpdated:N}),p("create")};return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-slate-900",children:"Records of Processing Activities (ROPA)"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Maintain an overview of all personal data processing activities."})]}),r.jsx(E6,{onNew:C})]}),r.jsx(w6,{search:c,category:f,owner:g,owners:w,onSearch:d,onCategoryChange:m,onOwnerChange:b}),r.jsx(k6,{records:j,onSelect:S,isLoading:t,isError:!!a}),a&&r.jsx("p",{className:"text-sm text-rose-600",children:a}),r.jsx(C6,{record:v,isOpen:!!v,mode:h,onClose:()=>x(null),onSave:E,isLoading:s,isSaving:n})]})},I6=["access_control","encryption","logging_monitoring","network_security","backup_recovery","organizational_policies","data_minimization","vendor_management","other"],O6=({search:e,category:t,effectiveness:s,onSearch:n,onCategoryChange:a,onEffectivenessChange:o})=>r.jsxs("div",{className:"flex flex-col gap-3 rounded-xl border border-slate-200 bg-white p-4 shadow-sm md:flex-row md:items-center md:justify-between",children:[r.jsx("input",{type:"text",value:e,onChange:i=>n(i.target.value),placeholder:"Search TOMs...",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100"}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:t,onChange:i=>a(i.target.value),children:[r.jsx("option",{value:"all",children:"All categories"}),I6.map(i=>r.jsx("option",{value:i,children:i.replace("_"," ")},i))]}),r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:s,onChange:i=>o(i.target.value),children:[r.jsx("option",{value:"all",children:"All effectiveness"}),r.jsx("option",{value:"low",children:"Low"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"high",children:"High"})]})]})]}),F6={access_control:"Access control",encryption:"Encryption",logging_monitoring:"Logging & monitoring",network_security:"Network security",backup_recovery:"Backup & recovery",organizational_policies:"Organizational policies",data_minimization:"Data minimization",vendor_management:"Vendor management",other:"Other"},$6={access_control:"bg-slate-100 text-slate-700 border-slate-200",encryption:"bg-emerald-50 text-emerald-700 border-emerald-200",logging_monitoring:"bg-sky-50 text-sky-700 border-sky-200",network_security:"bg-indigo-50 text-indigo-700 border-indigo-200",backup_recovery:"bg-amber-50 text-amber-700 border-amber-200",organizational_policies:"bg-purple-50 text-purple-700 border-purple-200",data_minimization:"bg-teal-50 text-teal-700 border-teal-200",vendor_management:"bg-rose-50 text-rose-700 border-rose-200",other:"bg-slate-100 text-slate-700 border-slate-200"},V6=({category:e})=>r.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-semibold ${$6[e]}`,children:F6[e]}),U6=e=>{const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},B6={low:"text-slate-600",medium:"text-amber-600",high:"text-emerald-700"},z6=({tom:e,onClick:t})=>r.jsxs("tr",{className:"cursor-pointer border-b last:border-0 hover:bg-slate-50 focus-within:bg-slate-50",tabIndex:0,role:"button",onClick:t,onKeyDown:s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),t())},children:[r.jsx("td",{className:"py-3 pr-4 font-semibold text-foreground",children:e.name}),r.jsx("td",{className:"py-3 pr-4",children:r.jsx(V6,{category:e.category})}),r.jsx("td",{className:`py-3 pr-4 font-semibold ${B6[e.effectiveness]}`,children:e.effectiveness}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:e.owner}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:U6(e.lastUpdated)})]}),W6=({toms:e,onSelect:t,isLoading:s,isError:n})=>s?r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading measures..."}):n?r.jsx("p",{className:"text-sm text-red-600",children:"Failed to load measures."}):e.length===0?r.jsx("p",{className:"text-sm text-muted-foreground",children:"No measures found for the selected filters."}):r.jsx("div",{className:"overflow-auto rounded-lg border border-slate-200 bg-white shadow-sm",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b bg-slate-50 text-left text-slate-500",children:[r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Name"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Category"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Effectiveness"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Owner"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Last updated"})]})}),r.jsx("tbody",{children:e.map(a=>r.jsx(z6,{tom:a,onClick:()=>t(a)},a.id))})]})}),H6=["access_control","encryption","logging_monitoring","network_security","backup_recovery","organizational_policies","data_minimization","vendor_management","other"],q6=["low","medium","high"],K6=({tom:e,isOpen:t,mode:s,isLoading:n,isSaving:a,onClose:o,onSave:i})=>{const[l,u]=P.useState(e),[c,d]=P.useState({}),f=P.useRef(null);if(P.useEffect(()=>{t&&(u(e),d({}))},[e,t]),P.useEffect(()=>{var j;if(!t)return;const p=S=>{if(S.key==="Escape"&&o(),S.key==="Tab"&&f.current){const E=f.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(E.length===0)return;const C=E[0],N=E[E.length-1];!S.shiftKey&&document.activeElement===N?(S.preventDefault(),C.focus()):S.shiftKey&&document.activeElement===C&&(S.preventDefault(),N.focus())}};document.addEventListener("keydown",p);const w=(j=f.current)==null?void 0:j.querySelector("input, select, textarea, button");return w==null||w.focus(),()=>document.removeEventListener("keydown",p)},[t,o]),!t||!l&&!n)return null;const m=(s==="create"||s==="edit")&&!n,g=!!(n||a),b=(p,w)=>{u(j=>j&&{...j,[p]:w})},v=()=>{const p={};return l.name.trim()||(p.name="Name is required."),l.category||(p.category="Category is required."),l.description.trim()||(p.description="Description is required."),d(p),Object.keys(p).length===0},x=async()=>{v()&&await i(l,s==="create"?"create":"edit")},h=p=>{p.target===p.currentTarget&&o()};return!l&&n?r.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/30 backdrop-blur-sm",onMouseDown:h,children:r.jsxs("div",{className:"flex h-full w-full max-w-2xl flex-col overflow-y-auto bg-white shadow-2xl",ref:f,children:[r.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-5 py-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Technical measure"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Loading measure..."})]}),r.jsx("button",{type:"button",onClick:o,className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:r.jsx(Ee,{className:"h-5 w-5"})})]}),r.jsx("div",{className:"p-5 text-sm text-slate-600",children:"Loading measure..."})]})}):r.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/30 backdrop-blur-sm",onMouseDown:h,children:r.jsxs("div",{className:"flex h-full w-full max-w-2xl flex-col overflow-y-auto bg-white shadow-2xl",ref:f,children:[r.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-5 py-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:s==="create"?"New TOM":l.name||"Technical measure"}),r.jsx("p",{className:"text-sm text-slate-600",children:l.category.replace("_"," ")})]}),r.jsx("button",{type:"button",onClick:o,className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:r.jsx(Ee,{className:"h-5 w-5"})})]}),n&&l&&r.jsx("div",{className:"px-5 py-2 text-sm text-slate-600",children:"Loading measure..."}),r.jsx("div",{className:"space-y-4 p-5",children:r.jsxs("div",{className:"space-y-3 rounded-lg border border-slate-200 bg-white p-4",children:[r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Name"}),r.jsx("input",{type:"text",value:l.name,onChange:p=>b("name",p.target.value),disabled:!m||g,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),c.name&&r.jsx("p",{className:"text-xs text-rose-600",children:c.name})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Category"}),r.jsx("select",{value:l.category,onChange:p=>b("category",p.target.value),disabled:!m||g,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:H6.map(p=>r.jsx("option",{value:p,children:p.replace("_"," ")},p))}),c.category&&r.jsx("p",{className:"text-xs text-rose-600",children:c.category})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Owner"}),r.jsx("input",{type:"text",value:l.owner,onChange:p=>b("owner",p.target.value),disabled:!m||g,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Effectiveness"}),r.jsx("select",{value:l.effectiveness,onChange:p=>b("effectiveness",p.target.value),disabled:!m||g,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:q6.map(p=>r.jsx("option",{value:p,children:p},p))})]})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Description"}),r.jsx("textarea",{value:l.description,onChange:p=>b("description",p.target.value),disabled:!m||g,className:"min-h-[90px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),c.description&&r.jsx("p",{className:"text-xs text-rose-600",children:c.description})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Implementation"}),r.jsx("textarea",{value:l.implementation,onChange:p=>b("implementation",p.target.value),disabled:!m||g,className:"min-h-[90px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),s!=="create"&&r.jsxs("div",{className:"grid grid-cols-1 gap-3 rounded-lg border border-slate-200 bg-slate-50 p-4 text-sm text-slate-700 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-800",children:"Created"}),r.jsx("p",{children:new Date(l.createdAt).toLocaleString()})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-800",children:"Last updated"}),r.jsx("p",{children:new Date(l.lastUpdated).toLocaleString()})]})]})]})}),r.jsx("div",{className:"sticky bottom-0 border-t border-slate-200 bg-white p-4",children:r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(B,{variant:"outline",onClick:o,disabled:g,children:"Cancel"}),m&&r.jsx(B,{onClick:x,disabled:g,children:a?"Saving...":s==="create"?"Create measure":"Save changes"})]})})]})})},G6=({onNew:e})=>r.jsxs(B,{className:"inline-flex items-center gap-2",onClick:e,children:[r.jsx(so,{className:"h-4 w-4"}),"New TOM"]}),Y6=e=>["access_control","encryption","logging_monitoring","network_security","backup_recovery","organizational_policies","data_minimization","vendor_management","other"].includes(e)?e:"other",X6=e=>["low","medium","high"].includes(e)?e:"medium",Tn=e=>{const t=(e==null?void 0:e.createdAt)??(e==null?void 0:e.created_at)??new Date().toISOString(),s=(e==null?void 0:e.lastUpdated)??(e==null?void 0:e.last_updated)??(e==null?void 0:e.updated_at)??(e==null?void 0:e.updatedAt)??t;return{id:(e==null?void 0:e.id)??(e==null?void 0:e._id)??"",name:(e==null?void 0:e.name)??"",category:Y6(e==null?void 0:e.category),description:(e==null?void 0:e.description)??"",implementation:(e==null?void 0:e.implementation)??"",effectiveness:X6(e==null?void 0:e.effectiveness),owner:(e==null?void 0:e.owner)??"",createdAt:t,lastUpdated:s}},Q6=e=>{if(Array.isArray(e))return e.map(Tn);const t=e;return Array.isArray(t==null?void 0:t.items)?t.items.map(Tn):Array.isArray(t==null?void 0:t.toms)?t.toms.map(Tn):[]};async function Z6(){const e=await z.get("/api/toms");return Q6(e.data)}async function J6(e){const t=await z.get(`/api/toms/${e}`);return Tn(t.data)}async function e7(e){const t=await z.post("/api/toms",e);return Tn(t.data)}async function t7(e,t){const s=await z.put(`/api/toms/${e}`,t);return Tn(s.data)}async function s7(e,t){const s=await z.patch(`/api/toms/${e}`,t);return Tn(s.data)}function n7(){const[e,t]=y.useState([]),[s,n]=y.useState(!1),[a,o]=y.useState(!1),[i,l]=y.useState(!1),[u,c]=y.useState(null),d=y.useRef(!0);y.useEffect(()=>()=>{d.current=!1},[]);const f=y.useCallback(async()=>{n(!0),c(null);try{const x=await Z6();d.current&&t(x)}catch(x){d.current&&c((x==null?void 0:x.message)??"Failed to load TOMs.")}finally{d.current&&n(!1)}},[]);y.useEffect(()=>{f()},[f]);const m=y.useCallback(async x=>{o(!0);try{const h=await J6(x);return d.current&&t(p=>p.some(j=>j.id===h.id)?p.map(j=>j.id===h.id?h:j):[h,...p]),h}finally{d.current&&o(!1)}},[]),g=y.useCallback(async x=>{l(!0),c(null);try{const h=await e7(x);return d.current&&t(p=>[h,...p]),h}catch(h){throw d.current&&c((h==null?void 0:h.message)??"Failed to create TOM."),h}finally{d.current&&l(!1)}},[]),b=y.useCallback(async(x,h)=>{l(!0),c(null);try{const p=await t7(x,h);return d.current&&t(w=>w.map(j=>j.id===p.id?p:j)),p}catch(p){throw d.current&&c((p==null?void 0:p.message)??"Failed to update TOM."),p}finally{d.current&&l(!1)}},[]),v=y.useCallback(async(x,h)=>{l(!0),c(null);try{const p=await s7(x,h);return d.current&&t(w=>w.map(j=>j.id===p.id?p:j)),p}catch(p){throw d.current&&c((p==null?void 0:p.message)??"Failed to update TOM."),p}finally{d.current&&l(!1)}},[]);return{toms:e,loading:s,detailLoading:a,saving:i,error:u,refresh:f,fetchOne:m,create:g,update:b,patch:v}}const r7=()=>{const{toms:e,loading:t,detailLoading:s,saving:n,error:a,refresh:o,fetchOne:i,create:l,update:u}=n7(),[c,d]=P.useState(""),[f,m]=P.useState("all"),[g,b]=P.useState("all"),[v,x]=P.useState(null),[h,p]=P.useState("view"),w=P.useMemo(()=>e.filter(N=>{const k=N.name.toLowerCase().includes(c.toLowerCase()),A=f==="all"?!0:N.category===f,I=g==="all"?!0:N.effectiveness===g;return k&&A&&I}),[e,c,f,g]),j=N=>{x(N),p("edit"),N.id&&i(N.id).then(k=>x(k)).catch(()=>{})},S=async(N,k)=>{try{if(k==="create"){const{id:A,...I}=N;await l(I)}else N.id&&await u(N.id,N);await o(),x(null),p("view")}catch{}},E=()=>{const N=new Date().toISOString();x({id:"",name:"",category:"other",description:"",implementation:"",effectiveness:"medium",owner:"You",createdAt:N,lastUpdated:N}),p("create")},C=()=>t?r.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((N,k)=>r.jsx(It,{className:"h-20 w-full rounded-lg bg-slate-100"},k))}):a?r.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 p-4 text-sm text-rose-700",children:r.jsxs("div",{className:"flex items-center justify-between gap-3",children:[r.jsx("p",{children:a}),r.jsx("button",{type:"button",className:"text-xs font-semibold text-rose-800 underline",onClick:()=>o(),children:"Retry"})]})}):w.length===0?r.jsxs("div",{className:"rounded-lg border border-dashed border-slate-300 bg-slate-50 p-6 text-sm text-slate-700",children:[r.jsx("p",{className:"font-semibold text-slate-900",children:"No measures match the current filters."}),r.jsx("p",{className:"text-slate-600",children:"Try adjusting filters or create a new TOM."})]}):r.jsx(W6,{toms:w,onSelect:j});return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-slate-900",children:"Technical & Organisational Measures (TOMs)"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Document the security measures used to protect personal data."})]}),r.jsx(G6,{onNew:E})]}),r.jsx(O6,{search:c,category:f,effectiveness:g,onSearch:d,onCategoryChange:m,onEffectivenessChange:b}),C(),r.jsx(K6,{tom:v,isOpen:!!v,mode:h,onClose:()=>{x(null),p("view")},onSave:S,isLoading:s,isSaving:n})]})},a7={necessary:"bg-emerald-50 text-emerald-700 border-emerald-200",preferences:"bg-sky-50 text-sky-700 border-sky-200",analytics:"bg-amber-50 text-amber-700 border-amber-200",marketing:"bg-rose-50 text-rose-700 border-rose-200",unclassified:"bg-slate-100 text-slate-700 border-slate-200"},o7={necessary:"Necessary",preferences:"Preferences",analytics:"Analytics",marketing:"Marketing",unclassified:"Unclassified"},i7=({category:e})=>r.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-semibold ${a7[e]}`,children:o7[e]}),l7=e=>{const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},c7=({cookie:e,onClick:t})=>r.jsxs("tr",{className:"cursor-pointer border-b last:border-0 hover:bg-slate-50 focus-within:bg-slate-50",tabIndex:0,role:"button",onClick:t,onKeyDown:s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),t())},children:[r.jsx("td",{className:"py-3 pr-4 font-semibold text-foreground",children:e.name}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:e.domain}),r.jsx("td",{className:"py-3 pr-4",children:r.jsx(i7,{category:e.category})}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:e.duration}),r.jsx("td",{className:"py-3 pr-4 text-foreground capitalize",children:e.type.replace("_","-")}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:e.provider}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:l7(e.lastUpdated)})]}),u7=({cookies:e,onSelect:t,isLoading:s,isError:n})=>s?r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading cookies..."}):n?r.jsx("p",{className:"text-sm text-red-600",children:"Failed to load cookies."}):e.length===0?r.jsx("p",{className:"text-sm text-muted-foreground",children:"No cookies found for the selected filters."}):r.jsx("div",{className:"overflow-auto rounded-lg border border-slate-200 bg-white shadow-sm",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b bg-slate-50 text-left text-slate-500",children:[r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Name"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Domain"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Category"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Duration"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Type"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Provider"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Last updated"})]})}),r.jsx("tbody",{children:e.map(a=>r.jsx(c7,{cookie:a,onClick:()=>t(a)},a.id))})]})}),d7=["necessary","preferences","analytics","marketing","unclassified"],f7=["manual","scanner","imported"],p7=({search:e,category:t,type:s,source:n,onSearch:a,onCategoryChange:o,onTypeChange:i,onSourceChange:l})=>r.jsxs("div",{className:"flex flex-col gap-3 rounded-xl border border-slate-200 bg-white p-4 shadow-sm md:flex-row md:items-center md:justify-between",children:[r.jsx("input",{type:"text",value:e,onChange:u=>a(u.target.value),placeholder:"Search cookies by name or provider...",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100"}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:t,onChange:u=>o(u.target.value),children:[r.jsx("option",{value:"all",children:"All categories"}),d7.map(u=>r.jsx("option",{value:u,children:u},u))]}),r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:s,onChange:u=>i(u.target.value),children:[r.jsx("option",{value:"all",children:"All types"}),r.jsx("option",{value:"first_party",children:"First-party"}),r.jsx("option",{value:"third_party",children:"Third-party"})]}),r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:n,onChange:u=>l(u.target.value),children:[r.jsx("option",{value:"all",children:"All sources"}),f7.map(u=>r.jsx("option",{value:u,children:u},u))]})]})]}),h7=["necessary","preferences","analytics","marketing","unclassified"],m7=["first_party","third_party"],x7=["manual","scanner","imported"],g7=({cookie:e,isOpen:t,mode:s,isLoading:n,isSaving:a,onClose:o,onSave:i,onCategoryChange:l,onTypeChange:u})=>{const[c,d]=P.useState(e),[f,m]=P.useState({}),g=P.useRef(null);if(P.useEffect(()=>{t&&(d(e),m({}))},[e,t]),P.useEffect(()=>{var A;if(!t)return;const N=I=>{if(I.key==="Escape"&&o(),I.key==="Tab"&&g.current){const D=g.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(D.length===0)return;const O=D[0],M=D[D.length-1];!I.shiftKey&&document.activeElement===M?(I.preventDefault(),O.focus()):I.shiftKey&&document.activeElement===O&&(I.preventDefault(),M.focus())}};document.addEventListener("keydown",N);const k=(A=g.current)==null?void 0:A.querySelector("input, select, textarea, button");return k==null||k.focus(),()=>document.removeEventListener("keydown",N)},[t,o]),!t||!c&&!n)return null;const b=(s==="create"||s==="edit")&&!n,v=l&&(c==null?void 0:c.id)&&s!=="create",x=u&&(c==null?void 0:c.id)&&s!=="create",h=!!(n||a),p=(N,k)=>{d(A=>A&&{...A,[N]:k})},w=()=>{const N={};return c.name.trim()||(N.name="Name is required."),c.domain.trim()||(N.domain="Domain is required."),c.purpose.trim()||(N.purpose="Purpose is required."),c.category||(N.category="Category is required."),c.type||(N.type="Type is required."),m(N),Object.keys(N).length===0},j=async()=>{w()&&await i(c,s==="create"?"create":"edit")},S=async N=>{p("category",N),v&&(c!=null&&c.id)&&await(l==null?void 0:l(c.id,N))},E=async N=>{p("type",N),x&&(c!=null&&c.id)&&await(u==null?void 0:u(c.id,N))},C=N=>{N.target===N.currentTarget&&o()};return!c&&n?r.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/30 backdrop-blur-sm",onMouseDown:C,children:r.jsxs("div",{className:"flex h-full w-full max-w-2xl flex-col overflow-y-auto bg-white shadow-2xl",ref:g,children:[r.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-5 py-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Cookie"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Loading cookie..."})]}),r.jsx("button",{type:"button",onClick:o,className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:r.jsx(Ee,{className:"h-5 w-5"})})]}),r.jsx("div",{className:"p-5 text-sm text-slate-600",children:"Loading cookie..."})]})}):r.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/30 backdrop-blur-sm",onMouseDown:C,children:r.jsxs("div",{className:"flex h-full w-full max-w-2xl flex-col overflow-y-auto bg-white shadow-2xl",ref:g,children:[r.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-5 py-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:s==="create"?"New cookie":c.name}),r.jsx("p",{className:"text-sm text-slate-600",children:c.domain})]}),r.jsx("button",{type:"button",onClick:o,className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:r.jsx(Ee,{className:"h-5 w-5"})})]}),n&&c&&r.jsx("div",{className:"px-5 py-2 text-sm text-slate-600",children:"Loading cookie..."}),r.jsx("div",{className:"space-y-4 p-5",children:r.jsxs("div",{className:"space-y-3 rounded-lg border border-slate-200 bg-white p-4",children:[r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Name"}),r.jsx("input",{type:"text",value:c.name,onChange:N=>p("name",N.target.value),disabled:!b||h,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),f.name&&r.jsx("p",{className:"text-xs text-rose-600",children:f.name})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Domain"}),r.jsx("input",{type:"text",value:c.domain,onChange:N=>p("domain",N.target.value),disabled:!b||h,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),f.domain&&r.jsx("p",{className:"text-xs text-rose-600",children:f.domain})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-3",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Category"}),r.jsx("select",{value:c.category,onChange:N=>S(N.target.value),disabled:!b&&!v||h,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:h7.map(N=>r.jsx("option",{value:N,children:N},N))}),f.category&&r.jsx("p",{className:"text-xs text-rose-600",children:f.category})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Type"}),r.jsx("select",{value:c.type,onChange:N=>E(N.target.value),disabled:!b&&!x||h,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:m7.map(N=>r.jsx("option",{value:N,children:N.replace("_"," ")},N))}),f.type&&r.jsx("p",{className:"text-xs text-rose-600",children:f.type})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Source"}),r.jsx("select",{value:c.source,onChange:N=>p("source",N.target.value),disabled:!b||h,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:x7.map(N=>r.jsx("option",{value:N,children:N},N))})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Provider"}),r.jsx("input",{type:"text",value:c.provider,onChange:N=>p("provider",N.target.value),disabled:!b||h,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Duration"}),r.jsx("input",{type:"text",value:c.duration,onChange:N=>p("duration",N.target.value),disabled:!b||h,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",placeholder:"e.g. 2 years"})]})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Purpose"}),r.jsx("textarea",{value:c.purpose,onChange:N=>p("purpose",N.target.value),disabled:!b||h,className:"min-h-[90px] w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),f.purpose&&r.jsx("p",{className:"text-xs text-rose-600",children:f.purpose})]}),s!=="create"&&r.jsxs("div",{className:"grid grid-cols-1 gap-3 rounded-lg border border-slate-200 bg-slate-50 p-4 text-sm text-slate-700 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-800",children:"Created"}),r.jsx("p",{children:new Date(c.createdAt).toLocaleString()})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-800",children:"Last updated"}),r.jsx("p",{children:new Date(c.lastUpdated).toLocaleString()})]})]})]})}),r.jsx("div",{className:"sticky bottom-0 border-t border-slate-200 bg-white p-4",children:r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(B,{variant:"outline",onClick:o,disabled:h,children:"Cancel"}),b&&r.jsx(B,{onClick:j,disabled:h,children:a?"Saving...":s==="create"?"Create cookie":"Save changes"})]})})]})})},y7=({onNew:e})=>r.jsxs(B,{className:"inline-flex items-center gap-2",onClick:e,children:[r.jsx(Hl,{className:"h-4 w-4"}),"New cookie"]}),v7=e=>["necessary","preferences","analytics","marketing","unclassified"].includes(e)?e:"unclassified",b7=e=>["first_party","third_party"].includes(e)?e:"first_party",Rn=e=>{const t=(e==null?void 0:e.createdAt)??(e==null?void 0:e.created_at)??new Date().toISOString(),s=(e==null?void 0:e.lastUpdated)??(e==null?void 0:e.last_updated)??(e==null?void 0:e.updated_at)??(e==null?void 0:e.updatedAt)??t;return{id:(e==null?void 0:e.id)??(e==null?void 0:e._id)??"",name:(e==null?void 0:e.name)??"",domain:(e==null?void 0:e.domain)??"",duration:(e==null?void 0:e.duration)??(e==null?void 0:e.retention)??"",category:v7(e==null?void 0:e.category),purpose:(e==null?void 0:e.purpose)??"",provider:(e==null?void 0:e.provider)??"",type:b7(e==null?void 0:e.type),source:(e==null?void 0:e.source)??"manual",createdAt:t,lastUpdated:s}},w7=e=>{if(Array.isArray(e))return e.map(Rn);const t=e;return Array.isArray(t==null?void 0:t.items)?t.items.map(Rn):Array.isArray(t==null?void 0:t.cookies)?t.cookies.map(Rn):[]};async function j7(){return`
This is a mock AI-generated cookie policy in English.
It will later include your cookie inventory, purposes, categories and retention periods.
Please review and adapt before publishing.
`}async function N7(){const e=await z.get("/api/cookies");return w7(e.data)}async function k7(e){const t=await z.get(`/api/cookies/${e}`);return Rn(t.data)}async function S7(e){const t=await z.post("/api/cookies",e);return Rn(t.data)}async function C7(e,t){const s=await z.put(`/api/cookies/${e}`,t);return Rn(s.data)}async function E7(e,t){const s=await z.patch(`/api/cookies/${e}`,t);return Rn(s.data)}function P7(){const[e,t]=y.useState([]),[s,n]=y.useState(!1),[a,o]=y.useState(!1),[i,l]=y.useState(!1),[u,c]=y.useState(null),d=y.useRef(!0);y.useEffect(()=>()=>{d.current=!1},[]);const f=y.useCallback(async()=>{n(!0),c(null);try{const x=await N7();d.current&&t(x)}catch(x){d.current&&c((x==null?void 0:x.message)??"Failed to load cookies.")}finally{d.current&&n(!1)}},[]);y.useEffect(()=>{f()},[f]);const m=y.useCallback(async x=>{o(!0);try{const h=await k7(x);return d.current&&t(p=>p.some(j=>j.id===h.id)?p.map(j=>j.id===h.id?h:j):[h,...p]),h}finally{d.current&&o(!1)}},[]),g=y.useCallback(async x=>{l(!0),c(null);try{const h=await S7(x);return d.current&&t(p=>[h,...p]),h}catch(h){throw d.current&&c((h==null?void 0:h.message)??"Failed to create cookie."),h}finally{d.current&&l(!1)}},[]),b=y.useCallback(async(x,h)=>{l(!0),c(null);try{const p=await C7(x,h);return d.current&&t(w=>w.map(j=>j.id===p.id?p:j)),p}catch(p){throw d.current&&c((p==null?void 0:p.message)??"Failed to update cookie."),p}finally{d.current&&l(!1)}},[]),v=y.useCallback(async(x,h)=>{l(!0),c(null);try{const p=await E7(x,h);return d.current&&t(w=>w.map(j=>j.id===p.id?p:j)),p}catch(p){throw d.current&&c((p==null?void 0:p.message)??"Failed to update cookie."),p}finally{d.current&&l(!1)}},[]);return{cookies:e,loading:s,detailLoading:a,saving:i,error:u,refresh:f,fetchOne:m,create:g,update:b,patch:v}}const A7=()=>{const{cookies:e,loading:t,detailLoading:s,saving:n,error:a,refresh:o,fetchOne:i,create:l,update:u,patch:c}=P7(),[d,f]=P.useState(""),[m,g]=P.useState("all"),[b,v]=P.useState("all"),[x,h]=P.useState("all"),[p,w]=P.useState(null),[j,S]=P.useState("view"),[E,C]=P.useState(!1),[N,k]=P.useState(""),[A,I]=P.useState(!1),D=P.useMemo(()=>e.filter(L=>{const $=L.name.toLowerCase().includes(d.toLowerCase())||L.provider.toLowerCase().includes(d.toLowerCase()),K=m==="all"?!0:L.category===m,ae=b==="all"?!0:L.type===b,oe=x==="all"?!0:L.source===x;return $&&K&&ae&&oe}),[e,d,m,b,x]),O=L=>{w(L),S("edit"),L.id&&i(L.id).then($=>w($)).catch(()=>{})},M=async(L,$)=>{try{if($==="create"){const{id:K,...ae}=L;await l(ae)}else L.id&&await u(L.id,L);await o(),w(null),S("view")}catch{}},F=()=>{const L=new Date().toISOString();w({id:"",name:"",domain:"",duration:"",category:"unclassified",purpose:"",provider:"",type:"first_party",source:"manual",createdAt:L,lastUpdated:L}),S("create")},V=async(L,$)=>{try{await c(L,{category:$}),await o()}catch{}},q=async(L,$)=>{try{await c(L,{type:$}),await o()}catch{}},R=async()=>{I(!0);const L=await j7();k(L.trim()),C(!0),I(!1)},_=()=>t?r.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((L,$)=>r.jsx(It,{className:"h-20 w-full rounded-lg bg-slate-100"},$))}):a?r.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 p-4 text-sm text-rose-700",children:r.jsxs("div",{className:"flex items-center justify-between gap-3",children:[r.jsx("p",{children:a}),r.jsx("button",{type:"button",className:"text-xs font-semibold text-rose-800 underline",onClick:()=>o(),children:"Retry"})]})}):D.length===0?r.jsxs("div",{className:"rounded-lg border border-dashed border-slate-300 bg-slate-50 p-6 text-sm text-slate-700",children:[r.jsx("p",{className:"font-semibold text-slate-900",children:"No cookies match the current filters."}),r.jsx("p",{className:"text-slate-600",children:"Adjust filters or create a new cookie entry."})]}):r.jsx(u7,{cookies:D,onSelect:O});return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-slate-900",children:"Cookie compliance"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Manage your cookie inventory and prepare your cookie policy."})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(B,{variant:"outline",onClick:R,disabled:A,children:A?"Generating...":"Generate cookie policy (AI)"}),r.jsx(y7,{onNew:F})]})]}),r.jsx(p7,{search:d,category:m,type:b,source:x,onSearch:f,onCategoryChange:g,onTypeChange:v,onSourceChange:h}),_(),r.jsx(g7,{cookie:p,isOpen:!!p,mode:j,onClose:()=>{w(null),S("view")},onSave:M,isLoading:s,isSaving:n,onCategoryChange:V,onTypeChange:q}),E&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/30 backdrop-blur-sm",children:r.jsxs("div",{className:"w-full max-w-2xl rounded-xl border border-slate-200 bg-white p-5 shadow-2xl",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"AI-generated cookie policy"}),r.jsx("p",{className:"text-sm text-slate-600",children:"This is a draft. Review before publishing."})]}),r.jsx("button",{type:"button",onClick:()=>C(!1),className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:"X"})]}),r.jsx("pre",{className:"mt-3 max-h-[400px] overflow-auto rounded-md bg-slate-50 p-3 text-sm text-slate-800 whitespace-pre-wrap",children:N}),r.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[r.jsx(B,{variant:"outline",onClick:()=>{navigator.clipboard.writeText(N)},children:"Copy"}),r.jsx(B,{onClick:()=>C(!1),children:"Close"})]})]})})]})},T7={active:"bg-emerald-50 text-emerald-700 border-emerald-200",disabled:"bg-rose-50 text-rose-700 border-rose-200",pending_invite:"bg-amber-50 text-amber-700 border-amber-200"},R7={active:"Active",disabled:"Disabled",pending_invite:"Pending invite"},c1=({status:e})=>r.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-semibold ${T7[e]}`,children:R7[e]}),D7={owner:"bg-purple-50 text-purple-700 border-purple-200",admin:"bg-sky-50 text-sky-700 border-sky-200",editor:"bg-amber-50 text-amber-700 border-amber-200",viewer:"bg-slate-100 text-slate-700 border-slate-200"},_7={owner:"Owner",admin:"Admin",editor:"Editor",viewer:"Viewer"},u1=({role:e})=>r.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-semibold ${D7[e]}`,children:_7[e]}),M7=e=>{if(!e)return"Never";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},L7=({user:e,onClick:t})=>r.jsxs("tr",{className:"cursor-pointer border-b last:border-0 hover:bg-slate-50 focus-within:bg-slate-50",tabIndex:0,role:"button",onClick:t,onKeyDown:s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),t())},children:[r.jsx("td",{className:"py-3 pr-4 font-semibold text-foreground",children:e.name}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:e.email}),r.jsx("td",{className:"py-3 pr-4",children:r.jsx(u1,{role:e.role})}),r.jsx("td",{className:"py-3 pr-4",children:r.jsx(c1,{status:e.status})}),r.jsx("td",{className:"py-3 pr-4 text-foreground",children:M7(e.lastLogin)})]}),I7=({users:e,onSelect:t,isLoading:s,isError:n})=>s?r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading users..."}):n?r.jsx("p",{className:"text-sm text-red-600",children:"Failed to load users."}):e.length===0?r.jsx("p",{className:"text-sm text-muted-foreground",children:"No users found for the selected filters."}):r.jsx("div",{className:"overflow-auto rounded-lg border border-slate-200 bg-white shadow-sm",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b bg-slate-50 text-left text-slate-500",children:[r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Name"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Email"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Role"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Status"}),r.jsx("th",{className:"py-3 pr-4 font-semibold",children:"Last login"})]})}),r.jsx("tbody",{children:e.map(a=>r.jsx(L7,{user:a,onClick:()=>t(a)},a.id))})]})}),O7=["owner","admin","editor","viewer"],F7=["active","pending_invite","disabled"],$7=({search:e,role:t,status:s,onSearch:n,onRoleChange:a,onStatusChange:o})=>r.jsxs("div",{className:"flex flex-col gap-3 rounded-xl border border-slate-200 bg-white p-4 shadow-sm md:flex-row md:items-center md:justify-between",children:[r.jsx("input",{type:"text",value:e,onChange:i=>n(i.target.value),placeholder:"Search users by name or email...",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100"}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:t,onChange:i=>a(i.target.value),children:[r.jsx("option",{value:"all",children:"All roles"}),O7.map(i=>r.jsx("option",{value:i,children:i},i))]}),r.jsxs("select",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",value:s,onChange:i=>o(i.target.value),children:[r.jsx("option",{value:"all",children:"All statuses"}),F7.map(i=>r.jsx("option",{value:i,children:i.replace("_"," ")},i))]})]})]}),V7=["owner","admin","editor","viewer"],U7=["active","pending_invite","disabled"],B7=({user:e,isOpen:t,mode:s,onClose:n,onSave:a,onPatch:o,isSaving:i})=>{const[l,u]=P.useState(e),[c,d]=P.useState({}),f=P.useRef(null);if(P.useEffect(()=>{t&&(u(e),d({}))},[e,t]),P.useEffect(()=>{var j;if(!t)return;const p=S=>{if(S.key==="Escape"&&n(),S.key==="Tab"&&f.current){const E=f.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(E.length===0)return;const C=E[0],N=E[E.length-1];!S.shiftKey&&document.activeElement===N?(S.preventDefault(),C.focus()):S.shiftKey&&document.activeElement===C&&(S.preventDefault(),N.focus())}};document.addEventListener("keydown",p);const w=(j=f.current)==null?void 0:j.querySelector("input, select, textarea, button");return w==null||w.focus(),()=>document.removeEventListener("keydown",p)},[t,n]),!t||!l)return null;const m=s==="create"||s==="edit",g=!!i,b=(p,w)=>{u(j=>j&&{...j,[p]:w})},v=()=>{const p={};return l.name.trim()||(p.name="Name is required."),l.email.trim()||(p.email="Email is required."),d(p),Object.keys(p).length===0},x=async()=>{v()&&await a(l,s==="create"?"create":"edit")},h=p=>{p.target===p.currentTarget&&n()};return r.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/30 backdrop-blur-sm",onMouseDown:h,children:r.jsxs("div",{className:"flex h-full w-full max-w-2xl flex-col overflow-y-auto bg-white shadow-2xl",ref:f,children:[r.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-5 py-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:s==="create"?"New user":l.name||"User"}),r.jsx(u1,{role:l.role}),r.jsx(c1,{status:l.status})]}),r.jsx("p",{className:"text-sm text-slate-600",children:l.email})]}),r.jsx("button",{type:"button",onClick:n,className:"rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:r.jsx(Ee,{className:"h-5 w-5"})})]}),r.jsx("div",{className:"space-y-4 p-5",children:r.jsxs("div",{className:"space-y-3 rounded-lg border border-slate-200 bg-white p-4",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Name"}),r.jsx("input",{type:"text",value:l.name,onChange:p=>b("name",p.target.value),disabled:!m||g,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),c.name&&r.jsx("p",{className:"text-xs text-rose-600",children:c.name})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Email"}),r.jsx("input",{type:"email",value:l.email,onChange:p=>b("email",p.target.value),disabled:!m||g,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70"}),c.email&&r.jsx("p",{className:"text-xs text-rose-600",children:c.email})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Role"}),r.jsx("select",{value:l.role,onChange:p=>b("role",p.target.value),disabled:!m||g,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:V7.map(p=>r.jsx("option",{value:p,children:p},p))})]}),r.jsxs("label",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Status"}),r.jsx("select",{value:l.status,onChange:p=>b("status",p.target.value),disabled:!m||g,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-70",children:U7.map(p=>r.jsx("option",{value:p,children:p.replace("_"," ")},p))})]})]}),s!=="create"&&r.jsxs("div",{className:"grid grid-cols-1 gap-3 rounded-lg border border-slate-200 bg-slate-50 p-4 text-sm text-slate-700 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-800",children:"Created"}),r.jsx("p",{children:new Date(l.createdAt).toLocaleString()})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-800",children:"Last login"}),r.jsx("p",{children:l.lastLogin?new Date(l.lastLogin).toLocaleString():"Never"})]})]})]})}),r.jsx("div",{className:"sticky bottom-0 border-t border-slate-200 bg-white p-4",children:r.jsxs("div",{className:"flex flex-wrap justify-end gap-2",children:[s!=="create"&&r.jsxs(r.Fragment,{children:[l.status==="active"&&r.jsx(B,{variant:"outline",onClick:async()=>{l.id&&o?(await o(l.id,{status:"disabled"}),n()):b("status","disabled")},disabled:g,className:"border-rose-200 text-rose-700 hover:bg-rose-50",children:"Disable user"}),l.status==="disabled"&&r.jsx(B,{variant:"outline",onClick:async()=>{l.id&&o?(await o(l.id,{status:"active"}),n()):b("status","active")},disabled:g,children:"Enable user"}),l.status==="pending_invite"&&r.jsxs(r.Fragment,{children:[r.jsx(B,{variant:"outline",onClick:async()=>{l.id&&o&&(await o(l.id,{action:"resend_invite"}),n())},disabled:g,children:"Resend invite"}),r.jsx(B,{variant:"outline",onClick:async()=>{l.id&&o&&(await o(l.id,{status:"disabled"}),n())},disabled:g,children:"Cancel invite"})]})]}),r.jsx(B,{variant:"outline",onClick:n,disabled:g,children:"Cancel"}),r.jsx(B,{onClick:x,disabled:g,children:i?"Saving...":s==="create"?"Create user":"Save changes"})]})})]})})},z7=["owner","admin","editor","viewer"],W7=({open:e,onClose:t,onInvite:s,isSubmitting:n})=>{const[a,o]=P.useState(""),[i,l]=P.useState(""),[u,c]=P.useState("viewer"),[d,f]=P.useState({});if(P.useEffect(()=>{e&&(o(""),l(""),c("viewer"),f({}))},[e]),!e)return null;const m=()=>{const b={};return a.trim()||(b.name="Name is required."),i.trim()||(b.email="Email is required."),f(b),Object.keys(b).length===0},g=async()=>{m()&&await s({name:a.trim(),email:i.trim(),role:u})};return r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/30 backdrop-blur-sm",onClick:t,children:r.jsxs("div",{className:"w-full max-w-md rounded-xl border border-slate-200 bg-white p-5 shadow-2xl",onClick:b=>b.stopPropagation(),children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Invite user"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Send an invite to a new user with a selected role."}),r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsxs("div",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("label",{className:"font-medium",children:"Name"}),r.jsx("input",{type:"text",value:a,onChange:b=>o(b.target.value),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100"}),d.name&&r.jsx("p",{className:"text-xs text-rose-600",children:d.name})]}),r.jsxs("div",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("label",{className:"font-medium",children:"Email"}),r.jsx("input",{type:"email",value:i,onChange:b=>l(b.target.value),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100"}),d.email&&r.jsx("p",{className:"text-xs text-rose-600",children:d.email})]}),r.jsxs("div",{className:"space-y-1 text-sm text-slate-700",children:[r.jsx("label",{className:"font-medium",children:"Role"}),r.jsx("select",{value:u,onChange:b=>c(b.target.value),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",children:z7.map(b=>r.jsx("option",{value:b,children:b},b))})]})]}),r.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[r.jsx(B,{variant:"outline",onClick:t,disabled:n,children:"Cancel"}),r.jsx(B,{onClick:g,disabled:n,children:n?"Sending...":"Send invite"})]})]})})},H7=e=>["active","disabled","pending_invite"].includes(e)?e:"active",q7=e=>["owner","admin","editor","viewer"].includes(e)?e:"viewer",Dn=e=>({id:(e==null?void 0:e.id)??(e==null?void 0:e._id)??"",name:(e==null?void 0:e.name)??"",email:(e==null?void 0:e.email)??"",role:q7(e==null?void 0:e.role),status:H7(e==null?void 0:e.status),lastLogin:(e==null?void 0:e.lastLogin)??(e==null?void 0:e.last_login)??(e==null?void 0:e.last_login_at)??void 0,createdAt:(e==null?void 0:e.createdAt)??(e==null?void 0:e.created_at)??"",updatedAt:(e==null?void 0:e.updatedAt)??(e==null?void 0:e.updated_at)??void 0}),K7=e=>{if(Array.isArray(e))return e.map(Dn);const t=e;return Array.isArray(t==null?void 0:t.items)?t.items.map(Dn):Array.isArray(t==null?void 0:t.users)?t.users.map(Dn):[]};async function G7(){const e=await z.get("/api/iam/users");return K7(e.data)}async function Y7(e){const t=await z.get(`/api/iam/users/${e}`);return Dn(t.data)}async function X7(e){const t=await z.post("/api/iam/users/invite",e);return Dn(t.data)}async function Q7(e,t){const s=await z.put(`/api/iam/users/${e}`,t);return Dn(s.data)}async function Z7(e,t){const s=await z.patch(`/api/iam/users/${e}`,t);return Dn(s.data)}function J7(){const[e,t]=y.useState([]),[s,n]=y.useState(!1),[a,o]=y.useState(!1),[i,l]=y.useState(!1),u=y.useRef(!0);y.useEffect(()=>()=>{u.current=!1},[]);const c=y.useCallback(async()=>{n(!0),o(!1);try{const b=await G7();u.current&&t(b)}catch{u.current&&o(!0)}finally{u.current&&n(!1)}},[]);y.useEffect(()=>{c()},[c]);const d=y.useCallback(async b=>Y7(b),[]),f=y.useCallback(async b=>{l(!0);try{const v=await X7(b);return u.current&&t(x=>[v,...x]),v}finally{u.current&&l(!1)}},[]),m=y.useCallback(async(b,v)=>{l(!0);try{const x=await Q7(b,v);return u.current&&t(h=>h.map(p=>p.id===x.id?x:p)),x}finally{u.current&&l(!1)}},[]),g=y.useCallback(async(b,v)=>{l(!0);try{const x=await Z7(b,v);return u.current&&t(h=>h.map(p=>p.id===x.id?x:p)),x}finally{u.current&&l(!1)}},[]);return{users:e,isLoading:s,isError:a,isSaving:i,refresh:c,invite:f,update:m,patch:g,fetchUser:d}}const z0={owner:["All permissions"],admin:["Manage users","Manage all GDPR modules","View billing"],editor:["Edit Documents","Edit Policies","Manage DSR"],viewer:["Read-only access"]},e$=()=>{const{users:e,isLoading:t,isError:s,invite:n,update:a,patch:o,refresh:i,fetchUser:l,isSaving:u}=J7(),[c,d]=P.useState(""),[f,m]=P.useState("all"),[g,b]=P.useState("all"),[v,x]=P.useState(null),[h,p]=P.useState("view"),[w,j]=P.useState(!1),S=P.useMemo(()=>e.filter(k=>{const A=k.name.toLowerCase().includes(c.toLowerCase())||k.email.toLowerCase().includes(c.toLowerCase()),I=f==="all"?!0:k.role===f,D=g==="all"?!0:k.status===g;return A&&I&&D}),[e,c,f,g]),E=k=>{x(k),p("edit"),k.id&&l(k.id).then(A=>x(A)).catch(()=>{})},C=async(k,A)=>{A==="edit"&&k.id&&await a(k.id,k),await i(),x(null),p("view")},N=async k=>{await n(k),await i(),j(!1)};return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-slate-900",children:"Identity & Access Management"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Manage user accounts, roles and permissions."})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx(B,{variant:"outline",onClick:()=>j(!0),children:"Invite user"})})]}),r.jsx($7,{search:c,role:f,status:g,onSearch:d,onRoleChange:m,onStatusChange:b}),s&&r.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 p-4 text-sm text-rose-700",children:"Failed to load users. Please try again."}),r.jsx(I7,{users:S,onSelect:E,isLoading:t,isError:s}),r.jsxs("div",{className:"space-y-3 rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Roles & Permissions"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Overview of default roles and their permissions."}),r.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:Object.keys(z0).map(k=>r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-900 capitalize",children:k}),r.jsx("ul",{className:"mt-2 list-disc space-y-1 pl-4 text-sm text-slate-700",children:z0[k].map(A=>r.jsx("li",{children:A},A))})]},k))})]}),r.jsx(B7,{user:v,isOpen:!!v,mode:h,onClose:()=>x(null),onSave:C,onPatch:async(k,A)=>{await o(k,A),await i()},isSaving:u}),r.jsx(W7,{open:w,onClose:()=>j(!1),onInvite:N,isSubmitting:u})]})},t$=()=>r.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-slate-900 via-sky-900 to-purple-900 text-center p-4",children:[r.jsx(Ce.div,{initial:{opacity:0,y:-50,rotate:-5},animate:{opacity:1,y:0,rotate:0},transition:{type:"spring",stiffness:100,duration:.8},children:r.jsx(Gr,{className:"h-32 w-32 text-yellow-400 mb-8 animate-pulse"})}),r.jsx(Ce.h1,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.5},className:"text-6xl font-extrabold text-slate-100 mb-4",children:"404"}),r.jsx(Ce.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.5},className:"text-2xl text-slate-300 mb-8",children:"Oops! Page Not Found."}),r.jsx(Ce.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.5},className:"text-slate-400 mb-10 max-w-md",children:"The page you're looking for doesn't exist or has been moved. Let's get you back on track."}),r.jsx(Ce.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.8,duration:.5},children:r.jsx(B,{asChild:!0,size:"lg",className:"bg-gradient-to-r from-sky-500 to-purple-600 hover:from-sky-600 hover:to-purple-700 text-white font-semibold py-3 px-8 text-lg",children:r.jsx(_r,{to:"/app/dashboard",children:"Go to Dashboard"})})})]}),s$=e=>e>=80?"bg-emerald-50 text-emerald-700 border-emerald-200":e>=50?"bg-amber-50 text-amber-700 border-amber-200":"bg-rose-50 text-rose-700 border-rose-200",n$=({score:e})=>r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:[r.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Overall security score"}),r.jsxs("div",{className:"mt-2 flex items-end gap-3",children:[r.jsx("p",{className:"text-4xl font-semibold text-slate-900",children:e}),r.jsx("span",{className:`rounded-full border px-3 py-1 text-xs font-semibold ${s$(e)}`,children:e>=80?"Good":e>=50?"Needs attention":"Critical"})]}),r.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Higher scores indicate stronger technical and organisational measures."})]}),r$=({kpi:e})=>{const t=Math.min(100,Math.round(e.value/e.max*100));return r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[r.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:e.label}),r.jsxs("div",{className:"mt-2 flex items-baseline gap-2",children:[r.jsx("p",{className:"text-2xl font-semibold text-slate-900",children:e.value}),r.jsxs("p",{className:"text-xs text-slate-500",children:["/ ",e.max]})]}),r.jsx("div",{className:"mt-2 h-2 w-full rounded-full bg-slate-100",children:r.jsx("div",{className:"h-2 rounded-full bg-sky-500",style:{width:`${t}%`}})})]})},a$={good:"bg-emerald-50 text-emerald-700 border-emerald-200",medium:"bg-amber-50 text-amber-700 border-amber-200",poor:"bg-rose-50 text-rose-700 border-rose-200"},o$=({controls:e})=>r.jsx("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:r.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:e.map(t=>r.jsxs("div",{className:`rounded-lg border p-3 ${a$[t.level]}`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-sm font-semibold",children:t.name}),r.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide",children:t.level})]}),r.jsx("p",{className:"text-xs text-slate-700",children:t.category})]},t.id))})}),i$={active:"bg-emerald-50 text-emerald-700 border-emerald-200",inactive:"bg-amber-50 text-amber-700 border-amber-200",not_configured:"bg-slate-100 text-slate-700 border-slate-200"},l$={active:"Active",inactive:"Inactive",not_configured:"Not configured"},c$=({integration:e})=>r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:e.name}),r.jsx("span",{className:`rounded-full border px-2.5 py-1 text-xs font-semibold ${i$[e.status]}`,children:l$[e.status]})]}),r.jsx("p",{className:"mt-2 text-sm text-slate-700",children:e.description})]}),u$={low:"border-slate-200 text-slate-700 bg-slate-50",medium:"border-amber-200 text-amber-700 bg-amber-50",high:"border-rose-200 text-rose-700 bg-rose-50",critical:"border-rose-300 text-rose-800 bg-rose-50"},d$=({warnings:e})=>e.length===0?r.jsx("p",{className:"text-sm text-muted-foreground",children:"No warnings. Security posture looks good."}):r.jsx("div",{className:"space-y-3",children:e.map(t=>r.jsx("div",{className:`rounded-lg border px-3 py-3 text-sm font-semibold ${u$[t.severity]}`,children:t.message},t.id))}),f$={info:"bg-slate-100 text-slate-700 border-slate-200",warning:"bg-amber-50 text-amber-700 border-amber-200",critical:"bg-rose-50 text-rose-700 border-rose-200"},p$=e=>{const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},h$=({events:e})=>e.length===0?r.jsx("p",{className:"text-sm text-muted-foreground",children:"No recent security events."}):r.jsx("div",{className:"space-y-3",children:e.map(t=>r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-3 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:`rounded-full border px-2.5 py-1 text-[11px] font-semibold uppercase tracking-wide ${f$[t.severity]}`,children:t.severity}),r.jsx("span",{className:"text-xs text-slate-500",children:p$(t.timestamp)})]}),r.jsx("p",{className:"mt-1 text-sm font-semibold text-slate-900",children:t.event}),r.jsxs("p",{className:"text-xs text-slate-600",children:["Source: ",t.source]})]},t.id))});function m$(){const[e]=y.useState(78),[t]=y.useState([{id:"kpi_encryption",label:"Encryption coverage",value:90,max:100},{id:"kpi_access_control",label:"Access control maturity",value:65,max:100},{id:"kpi_backup",label:"Backup integrity",value:80,max:100},{id:"kpi_patch",label:"Patch compliance",value:70,max:100}]),[s]=y.useState([{id:"ctrl_firewall",name:"Firewall configuration",category:"Network",level:"good"},{id:"ctrl_mfa",name:"MFA / 2FA enforcement",category:"Access control",level:"medium"},{id:"ctrl_encryption",name:"Encryption at rest",category:"Encryption",level:"good"},{id:"ctrl_logging",name:"Logging & monitoring",category:"Monitoring",level:"medium"},{id:"ctrl_backup",name:"Backup testing",category:"Resilience",level:"poor"}]),[n]=y.useState([{id:"int_siem",name:"SIEM integration",status:"active",description:"Security events forwarded to SIEM."},{id:"int_sso",name:"SSO / Identity Provider",status:"active",description:"SSO configured for all users."},{id:"int_2fa",name:"2FA enforcement",status:"inactive",description:"2FA not enforced for all users."},{id:"int_vuln",name:"Vulnerability scanner",status:"not_configured",description:"Scanner not yet connected to assets."}]),[a]=y.useState([{id:"warn_1",severity:"high",message:"2FA is not enforced for all users."},{id:"warn_2",severity:"medium",message:"Backups have not been tested in 90 days."}]),[o]=y.useState([{id:"evt_1",timestamp:"2025-05-14T10:00:00Z",event:"User failed login attempt",source:"Identity provider",severity:"warning"},{id:"evt_2",timestamp:"2025-05-14T09:20:00Z",event:"Firewall rule updated",source:"Network firewall",severity:"info"},{id:"evt_3",timestamp:"2025-05-13T18:00:00Z",event:"Backup completed successfully",source:"Backup system",severity:"info"},{id:"evt_4",timestamp:"2025-05-13T16:45:00Z",event:"Unusual login pattern detected",source:"SIEM",severity:"critical"}]);return{score:e,kpis:t,controls:s,integrations:n,warnings:a,events:o,isLoading:!1,isError:!1}}const x$=()=>{const{score:e,kpis:t,controls:s,integrations:n,warnings:a,events:o}=m$();return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-slate-900",children:"Security health"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Overview of your technical and organisational security posture."})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsx("div",{className:"md:col-span-1",children:r.jsx(n$,{score:e})}),r.jsx("div",{className:"md:col-span-2 grid gap-4 sm:grid-cols-2",children:t.map(i=>r.jsx(r$,{kpi:i},i.id))})]}),r.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[r.jsx(o$,{controls:s}),r.jsx("div",{className:"grid gap-3",children:n.map(i=>r.jsx(c$,{integration:i},i.id))})]}),r.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"System warnings"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Actionable items detected by the security engine."}),r.jsx("div",{className:"mt-3",children:r.jsx(d$,{warnings:a})})]}),r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Recent security events"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Latest security signals and activities."}),r.jsx("div",{className:"mt-3",children:r.jsx(h$,{events:o})})]})]})]})},g$=async(e,t)=>{if(!e)throw new Error("Missing tenant identifier.");await _O(e,t)},y$=[{value:"access",label:"Access"},{value:"rectification",label:"Rectification"},{value:"erasure",label:"Erasure"},{value:"restriction",label:"Restriction"},{value:"portability",label:"Portability"},{value:"objection",label:"Objection"},{value:"other",label:"Other"}],W0={fullName:"",email:"",requestType:"access",identifier:"",description:"",confirmAccuracy:!1},v$=({tenantSlug:e,onSuccess:t})=>{const[s,n]=P.useState(W0),[a,o]=P.useState({}),[i,l]=P.useState(null),[u,c]=P.useState(!1),d=(g,b)=>{n(v=>({...v,[g]:b})),o(v=>({...v,[g]:void 0}))},f=()=>{const g={};return s.fullName.trim()||(g.fullName="Full name is required."),s.email.trim()?/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(s.email.trim())||(g.email="Please enter a valid email address."):g.email="Email is required.",s.requestType||(g.requestType="Request type is required."),s.description.trim()||(g.description="Description is required."),o(g),Object.keys(g).length===0},m=async g=>{if(g.preventDefault(),!!f()){c(!0),l(null);try{const b={fullName:s.fullName.trim(),email:s.email.trim(),requestType:s.requestType,identifier:s.identifier.trim()||void 0,description:s.description.trim(),confirmAccuracy:s.confirmAccuracy};await g$(e,b),n(W0),o({}),t()}catch(b){l((b==null?void 0:b.message)??"Failed to submit your request. Please try again.")}finally{c(!1)}}};return r.jsxs("form",{className:"space-y-5",onSubmit:m,children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"text-sm font-medium text-slate-800",children:["Full name ",r.jsx("span",{className:"text-rose-600",children:"*"})]}),r.jsx("input",{type:"text",className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-60",value:s.fullName,onChange:g=>d("fullName",g.target.value),disabled:u,placeholder:"Jane Doe",required:!0}),a.fullName&&r.jsx("p",{className:"text-xs text-rose-600",children:a.fullName})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"text-sm font-medium text-slate-800",children:["Email address ",r.jsx("span",{className:"text-rose-600",children:"*"})]}),r.jsx("input",{type:"email",className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-60",value:s.email,onChange:g=>d("email",g.target.value),disabled:u,placeholder:"name@example.com",required:!0}),a.email&&r.jsx("p",{className:"text-xs text-rose-600",children:a.email})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"text-sm font-medium text-slate-800",children:["Request type ",r.jsx("span",{className:"text-rose-600",children:"*"})]}),r.jsx("select",{className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-60",value:s.requestType,onChange:g=>d("requestType",g.target.value),disabled:u,required:!0,children:y$.map(g=>r.jsx("option",{value:g.value,children:g.label},g.value))}),a.requestType&&r.jsx("p",{className:"text-xs text-rose-600",children:a.requestType})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-slate-800",children:"Identifier / Reference (optional)"}),r.jsx("input",{type:"text",className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-60",value:s.identifier,onChange:g=>d("identifier",g.target.value),disabled:u,placeholder:"Customer ID, case number, etc."}),a.identifier&&r.jsx("p",{className:"text-xs text-rose-600",children:a.identifier})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"text-sm font-medium text-slate-800",children:["Request details ",r.jsx("span",{className:"text-rose-600",children:"*"})]}),r.jsx("textarea",{className:"min-h-[120px] w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-60",value:s.description,onChange:g=>d("description",g.target.value),disabled:u,placeholder:"Describe the request you are making.",required:!0}),a.description&&r.jsx("p",{className:"text-xs text-rose-600",children:a.description})]}),r.jsxs("label",{className:"flex items-start gap-3 text-sm text-slate-700",children:[r.jsx("input",{type:"checkbox",className:"mt-1 h-4 w-4 rounded border-slate-300 text-sky-600 focus:ring-sky-500",checked:s.confirmAccuracy,onChange:g=>d("confirmAccuracy",g.target.checked),disabled:u}),r.jsx("span",{children:"I confirm that the information I have provided is accurate."})]}),i&&r.jsx("div",{className:"rounded-md border border-rose-200 bg-rose-50 px-3 py-2 text-sm text-rose-700",children:i}),r.jsx("div",{className:"flex items-center justify-between rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Qt,{className:"h-4 w-4 text-sky-600"}),r.jsx("span",{children:"Your submission will be securely sent to the data protection team."})]})}),r.jsxs("button",{type:"submit",disabled:u,className:"flex w-full items-center justify-center rounded-lg bg-sky-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-sky-400 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-70",children:[u&&r.jsx(mp,{className:"mr-2 h-4 w-4 animate-spin"}),u?"Submitting...":"Submit request"]})]})},b$=()=>{const{tenantSlug:e}=gS(),[t,s]=P.useState(!1);return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-sky-50 px-4 py-10",children:r.jsxs("div",{className:"mx-auto flex max-w-4xl flex-col items-center gap-8",children:[r.jsxs("div",{className:"flex items-center gap-3 text-slate-800",children:[r.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-sky-600 text-white shadow-sm",children:r.jsx(so,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"AURA-GDPR"}),r.jsx("h1",{className:"text-xl font-semibold text-slate-900",children:"Submit a data subject request"})]})]}),r.jsx("div",{className:"w-full max-w-3xl rounded-2xl border border-slate-200 bg-white p-6 shadow-xl",children:t?r.jsxs("div",{className:"space-y-4 text-center",children:[r.jsx("div",{className:"mx-auto flex h-14 w-14 items-center justify-center rounded-full bg-emerald-50 text-emerald-600",children:r.jsx(so,{className:"h-7 w-7"})}),r.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Your request has been submitted"}),r.jsx("p",{className:"text-sm text-slate-600",children:"We have received your data subject request. You will be contacted via email as soon as your request has been processed."}),r.jsxs("button",{type:"button",onClick:()=>s(!1),className:"inline-flex items-center justify-center gap-2 rounded-lg border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-800 shadow-sm transition hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-sky-400 focus:ring-offset-2",children:[r.jsx(vE,{className:"h-4 w-4"}),"Submit another request"]})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Tell us about your request"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Use this form to submit a GDPR data subject request to the organization. Your request will be handled by the data protection team."})]}),r.jsx(v$,{tenantSlug:e??"",onSuccess:()=>s(!0)})]})}),r.jsx("p",{className:"text-center text-xs text-slate-500",children:"This form is provided by AURA-GDPR. Please avoid sharing sensitive information beyond what is necessary."})]})})},ln="mx-auto w-full max-w-6xl px-4 sm:px-6",w$=()=>r.jsx("section",{className:"bg-gradient-to-b from-white via-slate-50 to-white py-16 sm:py-24",children:r.jsxs("div",{className:ln+" grid gap-12 lg:grid-cols-2 lg:items-center",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-sky-50 px-3 py-1 text-xs font-semibold text-sky-700",children:[r.jsx(ts,{className:"h-4 w-4"}),"Purpose-built for privacy teams"]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h1",{className:"text-4xl font-bold tracking-tight text-slate-900 sm:text-5xl",children:"AI-powered GDPR compliance for modern organizations"}),r.jsx("p",{className:"text-lg text-slate-600",children:"AURA-GDPR helps you manage data subject requests, DPIAs, ROPA, incidents and policies in one place  powered by AI."})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsx(B,{size:"lg",className:"px-6",children:"Start free trial"}),r.jsx(B,{size:"lg",variant:"outline",className:"px-6",children:"Talk to sales"})]}),r.jsx("p",{className:"text-sm text-slate-500",children:"No installation. No credit card required for trial."}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-slate-600 sm:max-w-lg sm:grid-cols-3",children:[r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-3",children:[r.jsx("p",{className:"font-semibold text-slate-900",children:"AI audit-ready"}),r.jsx("p",{className:"text-slate-500",children:"Recommendations and checks."})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-3",children:[r.jsx("p",{className:"font-semibold text-slate-900",children:"Fast onboarding"}),r.jsx("p",{className:"text-slate-500",children:"Invite your team in minutes."})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-3",children:[r.jsx("p",{className:"font-semibold text-slate-900",children:"Secure by design"}),r.jsx("p",{className:"text-slate-500",children:"SSO, audit logs, encryption."})]})]})]}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute -left-6 -top-6 h-16 w-16 rounded-full bg-sky-100 blur-2xl","aria-hidden":!0}),r.jsx("div",{className:"absolute -right-10 bottom-10 h-24 w-24 rounded-full bg-indigo-100 blur-3xl","aria-hidden":!0}),r.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white p-6 shadow-xl shadow-slate-900/5",children:[r.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[r.jsx("div",{className:"h-2 w-8 rounded-full bg-sky-500"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("span",{className:"h-2 w-2 rounded-full bg-slate-300"}),r.jsx("span",{className:"h-2 w-2 rounded-full bg-slate-300"}),r.jsx("span",{className:"h-2 w-2 rounded-full bg-slate-300"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[r.jsxs("div",{className:"rounded-lg bg-slate-50 p-3",children:[r.jsx("p",{className:"text-xs font-semibold text-slate-500",children:"Tasks"}),r.jsx("p",{className:"text-lg font-bold text-slate-900",children:"32"}),r.jsx("p",{className:"text-xs text-slate-500",children:"In progress"})]}),r.jsxs("div",{className:"rounded-lg bg-slate-50 p-3",children:[r.jsx("p",{className:"text-xs font-semibold text-slate-500",children:"Incidents"}),r.jsx("p",{className:"text-lg font-bold text-slate-900",children:"3"}),r.jsx("p",{className:"text-xs text-slate-500",children:"Investigating"})]}),r.jsxs("div",{className:"rounded-lg bg-slate-50 p-3",children:[r.jsx("p",{className:"text-xs font-semibold text-slate-500",children:"DPIAs"}),r.jsx("p",{className:"text-lg font-bold text-slate-900",children:"12"}),r.jsx("p",{className:"text-xs text-slate-500",children:"Draft"})]})]}),r.jsx("div",{className:"rounded-xl border border-dashed border-slate-200 bg-gradient-to-r from-slate-50 to-sky-50 p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(ts,{className:"mt-0.5 h-5 w-5 text-sky-600"}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"AI audit summary"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Your ROPA and TOMs are complete. 2 DPIAs need review. One incident requires stakeholder update."})]})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[r.jsx("p",{className:"text-xs font-semibold text-slate-500",children:"Upcoming deadlines"}),r.jsx("p",{className:"text-sm text-slate-900",children:"DSR response in 36h"}),r.jsx("p",{className:"text-xs text-amber-600",children:"Priority"})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[r.jsx("p",{className:"text-xs font-semibold text-slate-500",children:"Risk alerts"}),r.jsx("p",{className:"text-sm text-slate-900",children:"Vendor DPIA renewal pending"}),r.jsx("p",{className:"text-xs text-slate-500",children:"Low"})]})]})]})]})]})]})}),j$=()=>{const e=["NordicBank","DataCloud","HealthSync","TrustWare","ComplyCo"];return r.jsx("section",{className:"bg-white py-12",children:r.jsxs("div",{className:ln+" space-y-6",children:[r.jsx("p",{className:"text-center text-sm font-semibold uppercase tracking-wide text-slate-500",children:"Trusted by privacy-first teams"}),r.jsx("div",{className:"flex flex-wrap items-center justify-center gap-4 sm:gap-6",children:e.map(t=>r.jsx("div",{className:"flex h-10 min-w-[120px] items-center justify-center rounded-lg border border-slate-200 bg-slate-50 px-4 text-sm font-semibold text-slate-500",children:t},t))})]})})},N$=()=>{const e=[{title:"Data subject requests",icon:qv,description:"Standardized workflows, SLA tracking, and auditable responses for every DSR."},{title:"DPIA & risk assessments",icon:Qt,description:"Collaborative assessments with templates, risk scoring, and mitigation tracking."},{title:"Records of processing (ROPA)",icon:Lr,description:"Keep processing activities up to date with ownership, systems, and purposes."},{title:"Incident management",icon:Qv,description:"Log, investigate, and communicate breaches with timelines and status updates."},{title:"Technical measures (TOMs)",icon:EE,description:"Document and monitor controls like encryption, access, and vendor security."},{title:"AI audit engine",icon:ts,description:"AI-powered findings, policy drafts, and reminders to keep you compliant."}];return r.jsx("section",{className:"bg-slate-50 py-16 sm:py-20",children:r.jsxs("div",{className:ln+" space-y-6",children:[r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx("h2",{className:"text-3xl font-bold text-slate-900 sm:text-4xl",children:"Everything you need for GDPR compliance"}),r.jsx("p",{className:"text-slate-600",children:"Purpose-built modules that stay in sync with your team and regulators."})]}),r.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:e.map(t=>{const s=t.icon;return r.jsxs("div",{className:"flex h-full flex-col rounded-xl border border-slate-200 bg-white p-5 shadow-sm shadow-slate-200/60",children:[r.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-sky-50 text-sky-600",children:r.jsx(s,{className:"h-5 w-5"})}),r.jsx("h3",{className:"mt-4 text-lg font-semibold text-slate-900",children:t.title}),r.jsx("p",{className:"mt-2 text-sm text-slate-600",children:t.description})]},t.title)})})]})})},k$=()=>{const e=[{title:"Connect your organization",description:"Create your tenant, invite teammates, and set roles for data owners and reviewers."},{title:"Document your GDPR landscape",description:"Add ROPA, DPIAs, incidents, TOMs, cookies, and policies with guided templates."},{title:"Let AI support your compliance",description:"Use AI to draft policies, highlight gaps, and surface recommendations automatically."},{title:"Stay on top of deadlines",description:"Tasks, notifications, and reminders keep responses on track and audit-ready."}];return r.jsx("section",{className:"bg-white py-16 sm:py-20",children:r.jsxs("div",{className:ln+" space-y-6",children:[r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx("h2",{className:"text-3xl font-bold text-slate-900 sm:text-4xl",children:"How AURA-GDPR works"}),r.jsx("p",{className:"text-slate-600",children:"A guided flow from onboarding to continuous compliance."})]}),r.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:e.map((t,s)=>r.jsxs("div",{className:"relative flex h-full flex-col rounded-xl border border-slate-200 bg-slate-50 p-5 shadow-sm",children:[r.jsx("div",{className:"mb-3 inline-flex h-9 w-9 items-center justify-center rounded-full bg-sky-600 text-sm font-semibold text-white",children:s+1}),r.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:t.title}),r.jsx("p",{className:"mt-2 text-sm text-slate-600",children:t.description})]},t.title))})]})})},S$=()=>{const e=[{name:"Free",price:"From 0/month",description:"For small teams who want to explore the platform.",bullets:["1 tenant","Core modules with limits","Community support"]},{name:"Pro",price:"From 249/month",description:"For organizations that want full automation.",bullets:["Full access to modules","AI audit and drafting tools","Unlimited users & tasks"],highlighted:!0},{name:"Enterprise",price:"Custom pricing",description:"For large or regulated organizations.",bullets:["SSO & SCIM","Dedicated support team","Custom hosting and controls"]}];return r.jsx("section",{className:"bg-slate-50 py-16 sm:py-20",children:r.jsxs("div",{className:ln+" space-y-6",children:[r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx("h2",{className:"text-3xl font-bold text-slate-900 sm:text-4xl",children:"Simple pricing for serious compliance"}),r.jsx("p",{className:"text-slate-600",children:"Pick a plan that fits your maturity. Upgrade anytime."})]}),r.jsx("div",{className:"grid gap-6 md:grid-cols-3",children:e.map(t=>r.jsxs("div",{className:`flex h-full flex-col rounded-2xl border bg-white p-6 shadow-sm ${t.highlighted?"border-sky-500 shadow-sky-100 ring-2 ring-sky-200":"border-slate-200"}`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:t.name}),t.highlighted&&r.jsx("span",{className:"rounded-full bg-sky-50 px-3 py-1 text-xs font-semibold text-sky-700",children:"Popular"})]}),r.jsx("p",{className:"mt-2 text-sm text-slate-600",children:t.description}),r.jsx("p",{className:"mt-4 text-2xl font-bold text-slate-900",children:t.price}),r.jsx("div",{className:"mt-4 space-y-2 text-sm text-slate-700",children:t.bullets.map(s=>r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(Hv,{className:"mt-0.5 h-4 w-4 text-sky-600"}),r.jsx("span",{children:s})]},s))}),r.jsx("div",{className:"mt-6",children:r.jsx(B,{className:"w-full",variant:t.highlighted?"default":"outline",children:t.name==="Free"?"Get started":"Contact sales"})})]},t.name))})]})})},C$=()=>{const e=[{question:"Do I need a lawyer to use AURA-GDPR?",answer:"AURA-GDPR guides you with templates and AI assistance. You can also collaborate with your legal team."},{question:"Where is my data stored?",answer:"Data is hosted in the EU with encryption in transit and at rest. Enterprise hosting options are available."},{question:"Can I export my data?",answer:"Yes. You can export records, tasks, and reports at any time for audits or backups."},{question:"Is AURA-GDPR suitable for small companies?",answer:"Absolutely. Start with the Free plan, then scale to Pro or Enterprise as your compliance program grows."},{question:"Does AURA-GDPR support deadlines and reminders?",answer:"Tasks, notifications, and timelines keep you on schedule for DSRs, DPIAs, and incident reports."},{question:"How does the AI audit engine work?",answer:"It reviews your inputs, highlights gaps, drafts policies, and recommends actions based on best practices."}];return r.jsx("section",{className:"bg-white py-16 sm:py-20",children:r.jsxs("div",{className:ln+" space-y-6",children:[r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx("h2",{className:"text-3xl font-bold text-slate-900 sm:text-4xl",children:"Frequently asked questions"}),r.jsx("p",{className:"text-slate-600",children:"Answers to common questions about AURA-GDPR."})]}),r.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:e.map(t=>r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-5",children:[r.jsx("p",{className:"text-base font-semibold text-slate-900",children:t.question}),r.jsx("p",{className:"mt-2 text-sm text-slate-600",children:t.answer})]},t.question))})]})})},E$=()=>{const e=new Date().getFullYear();return r.jsxs("footer",{className:"border-t border-slate-200 bg-slate-50 py-12",children:[r.jsxs("div",{className:ln+" grid gap-8 sm:grid-cols-2 lg:grid-cols-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-lg bg-sky-600 text-white",children:"AG"}),r.jsx("p",{className:"text-lg font-semibold text-slate-900",children:"AURA-GDPR"})]}),r.jsx("p",{className:"mt-3 text-sm text-slate-600",children:"GDPR compliance platform to keep your organization aligned, secure, and audit-ready."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-semibold text-slate-900",children:"Product"}),r.jsxs("ul",{className:"mt-3 space-y-2 text-sm text-slate-600",children:[r.jsx("li",{children:"Features"}),r.jsx("li",{children:"Pricing"}),r.jsx("li",{children:"Security"})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-semibold text-slate-900",children:"Company"}),r.jsxs("ul",{className:"mt-3 space-y-2 text-sm text-slate-600",children:[r.jsx("li",{children:"About"}),r.jsx("li",{children:"Contact"})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-semibold text-slate-900",children:"Legal"}),r.jsxs("ul",{className:"mt-3 space-y-2 text-sm text-slate-600",children:[r.jsx("li",{children:r.jsx("a",{href:"#",className:"hover:text-slate-900",children:"Privacy policy"})}),r.jsx("li",{children:r.jsx("a",{href:"#",className:"hover:text-slate-900",children:"Terms"})})]})]})]}),r.jsxs("div",{className:"mt-8 text-center text-xs text-slate-500",children:[" ",e," AURA-GDPR. All rights reserved."]})]})},P$=()=>r.jsxs("div",{className:"min-h-screen bg-white text-slate-900",children:[r.jsx("header",{className:"border-b border-slate-200 bg-white",children:r.jsxs("div",{className:ln+" flex items-center justify-between py-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-sky-600 text-lg font-bold text-white",children:"AG"}),r.jsx("span",{className:"text-xl font-semibold text-slate-900",children:"AURA-GDPR"})]}),r.jsxs("div",{className:"hidden items-center gap-3 sm:flex",children:[r.jsx("a",{href:"/login",className:"text-sm font-semibold text-slate-700 hover:text-slate-900",children:"Log in"}),r.jsx(B,{size:"sm",children:"Start free trial"})]})]})}),r.jsxs("main",{children:[r.jsx(w$,{}),r.jsx(j$,{}),r.jsx(N$,{}),r.jsx(k$,{}),r.jsx(S$,{}),r.jsx(C$,{})]}),r.jsx(E$,{})]}),A$=({children:e})=>{const{isAuthenticated:t}=an();return t?r.jsx(r.Fragment,{children:e}):r.jsx(ep,{to:"/login",replace:!0})},T$=()=>r.jsxs(MS,{children:[r.jsx(te,{path:"/",element:r.jsx(P$,{})}),r.jsx(te,{path:"/dsr-portal",element:r.jsx(FO,{})}),r.jsx(te,{path:"/public/dsr/:tenantSlug",element:r.jsx(b$,{})}),r.jsx(te,{path:"/login",element:r.jsx(r3,{})}),r.jsx(te,{path:"/register",element:r.jsx(a3,{})}),r.jsxs(te,{path:"/app",element:r.jsx(A$,{children:r.jsx(rL,{})}),children:[r.jsx(te,{index:!0,element:r.jsx(ep,{to:"/app/dashboard",replace:!0})}),r.jsx(te,{path:"dashboard",element:r.jsx(vL,{})}),r.jsx(te,{path:"documents",element:r.jsx($L,{})}),r.jsx(te,{path:"ai-assistant",element:r.jsx(VL,{})}),r.jsx(te,{path:"ai-audit",element:r.jsx(fF,{})}),r.jsx(te,{path:"tasks",element:r.jsx(MI,{})}),r.jsx(te,{path:"projects",element:r.jsx(LI,{})}),r.jsx(te,{path:"audit",element:r.jsx(qI,{})}),r.jsx(te,{path:"risk-matrix",element:r.jsx(QI,{})}),r.jsx(te,{path:"dsr",element:r.jsx(OO,{})}),r.jsx(te,{path:"dpia",element:r.jsx(xO,{})}),r.jsx(te,{path:"ropa",element:r.jsx(L6,{})}),r.jsx(te,{path:"cookies",element:r.jsx(A7,{})}),r.jsx(te,{path:"policies",element:r.jsx(GF,{})}),r.jsx(te,{path:"incidents",element:r.jsx(v6,{})}),r.jsx(te,{path:"toms",element:r.jsx(r7,{})}),r.jsx(te,{path:"security-health",element:r.jsx(x$,{})}),r.jsx(te,{path:"notifications",element:r.jsx(KO,{})}),r.jsx(te,{path:"billing",element:r.jsx(sI,{})}),r.jsx(te,{path:"iam",element:r.jsx(e$,{})}),r.jsx(te,{path:"settings",element:r.jsx(nI,{})}),r.jsx(te,{path:"settings/notifications",element:r.jsx(TF,{})}),r.jsx(te,{path:"admin",element:r.jsx(aI,{})}),r.jsx(te,{path:"admin/dsr-portal",element:r.jsx(pF,{})})]}),r.jsx(te,{path:"*",element:r.jsx(t$,{})})]}),R$=()=>r.jsx(BS,{children:r.jsx(nP,{children:r.jsx(IA,{children:r.jsxs(zA,{children:[r.jsx(T$,{}),r.jsx(tP,{})]})})})}),D$=document.getElementById("root");rv(D$).render(r.jsx(P.StrictMode,{children:r.jsx(R$,{})}));
